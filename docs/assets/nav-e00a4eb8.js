import{g as kK,c as lc}from"./_commonjsHelpers-725317a4.js";function bl(i,l){const p=Object.create(null),f=i.split(",");for(let m=0;m<f.length;m++)p[f[m]]=!0;return l?m=>!!p[m.toLowerCase()]:m=>!!p[m]}function lr(i){if(dn(i)){const l={};for(let p=0;p<i.length;p++){const f=i[p],m=As(f)?EK(f):lr(f);if(m)for(const b in m)l[b]=m[b]}return l}else{if(As(i))return i;if(ls(i))return i}}const CK=/;(?![^(]*\))/g,AK=/:([^]+)/,wK=/\/\*.*?\*\//gs;function EK(i){const l={};return i.replace(wK,"").split(CK).forEach(p=>{if(p){const f=p.split(AK);f.length>1&&(l[f[0].trim()]=f[1].trim())}}),l}function Rs(i){let l="";if(As(i))l=i;else if(dn(i))for(let p=0;p<i.length;p++){const f=Rs(i[p]);f&&(l+=f+" ")}else if(ls(i))for(const p in i)i[p]&&(l+=p+" ");return l.trim()}function ss(i){if(!i)return null;let{class:l,style:p}=i;return l&&!As(l)&&(i.class=Rs(l)),p&&(i.style=lr(p)),i}const BK="html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,summary,template,blockquote,iframe,tfoot",SK="svg,animate,animateMotion,animateTransform,circle,clipPath,color-profile,defs,desc,discard,ellipse,feBlend,feColorMatrix,feComponentTransfer,feComposite,feConvolveMatrix,feDiffuseLighting,feDisplacementMap,feDistanceLight,feDropShadow,feFlood,feFuncA,feFuncB,feFuncG,feFuncR,feGaussianBlur,feImage,feMerge,feMergeNode,feMorphology,feOffset,fePointLight,feSpecularLighting,feSpotLight,feTile,feTurbulence,filter,foreignObject,g,hatch,hatchpath,image,line,linearGradient,marker,mask,mesh,meshgradient,meshpatch,meshrow,metadata,mpath,path,pattern,polygon,polyline,radialGradient,rect,set,solidcolor,stop,switch,symbol,text,textPath,title,tspan,unknown,use,view",TK=bl(BK),DK=bl(SK),FK="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",LK=bl(FK);function _C(i){return!!i||i===""}const Sc=i=>As(i)?i:i==null?"":dn(i)||ls(i)&&(i.toString===kC||!An(i.toString))?JSON.stringify(i,vC,2):String(i),vC=(i,l)=>l&&l.__v_isRef?vC(i,l.value):vc(l)?{[`Map(${l.size})`]:[...l.entries()].reduce((p,[f,m])=>(p[`${f} =>`]=m,p),{})}:xC(l)?{[`Set(${l.size})`]:[...l.values()]}:ls(l)&&!dn(l)&&!CC(l)?String(l):l,us=Object.freeze({}),Xu=Object.freeze([]),ti=()=>{},bC=()=>!1,IK=/^on[^a-z]/,rd=i=>IK.test(i),p0=i=>i.startsWith("onUpdate:"),Zs=Object.assign,w8=(i,l)=>{const p=i.indexOf(l);p>-1&&i.splice(p,1)},MK=Object.prototype.hasOwnProperty,Un=(i,l)=>MK.call(i,l),dn=Array.isArray,vc=i=>F0(i)==="[object Map]",xC=i=>F0(i)==="[object Set]",An=i=>typeof i=="function",As=i=>typeof i=="string",E8=i=>typeof i=="symbol",ls=i=>i!==null&&typeof i=="object",B8=i=>ls(i)&&An(i.then)&&An(i.catch),kC=Object.prototype.toString,F0=i=>kC.call(i),S8=i=>F0(i).slice(8,-1),CC=i=>F0(i)==="[object Object]",T8=i=>As(i)&&i!=="NaN"&&i[0]!=="-"&&""+parseInt(i,10)===i,s0=bl(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),RK=bl("bind,cloak,else-if,else,for,html,if,model,on,once,pre,show,slot,text,memo"),L0=i=>{const l=Object.create(null);return p=>l[p]||(l[p]=i(p))},OK=/-(\w)/g,No=L0(i=>i.replace(OK,(l,p)=>p?p.toUpperCase():"")),NK=/\B([A-Z])/g,Sa=L0(i=>i.replace(NK,"-$1").toLowerCase()),Tc=L0(i=>i.charAt(0).toUpperCase()+i.slice(1)),hc=L0(i=>i?`on${Tc(i)}`:""),Hp=(i,l)=>!Object.is(i,l),ll=(i,l)=>{for(let p=0;p<i.length;p++)i[p](l)},d0=(i,l,p)=>{Object.defineProperty(i,l,{configurable:!0,enumerable:!1,value:p})},f0=i=>{const l=parseFloat(i);return isNaN(l)?i:l};let L7;const AC=()=>L7||(L7=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function y0(i,...l){console.warn(`[Vue warn] ${i}`,...l)}let di;class wC{constructor(l=!1){this.detached=l,this.active=!0,this.effects=[],this.cleanups=[],this.parent=di,!l&&di&&(this.index=(di.scopes||(di.scopes=[])).push(this)-1)}run(l){if(this.active){const p=di;try{return di=this,l()}finally{di=p}}else y0("cannot run an inactive effect scope.")}on(){di=this}off(){di=this.parent}stop(l){if(this.active){let p,f;for(p=0,f=this.effects.length;p<f;p++)this.effects[p].stop();for(p=0,f=this.cleanups.length;p<f;p++)this.cleanups[p]();if(this.scopes)for(p=0,f=this.scopes.length;p<f;p++)this.scopes[p].stop(!0);if(!this.detached&&this.parent&&!l){const m=this.parent.scopes.pop();m&&m!==this&&(this.parent.scopes[this.index]=m,m.index=this.index)}this.parent=void 0,this.active=!1}}}function aft(i){return new wC(i)}function PK(i,l=di){l&&l.active&&l.effects.push(i)}function VK(){return di}function $K(i){di?di.cleanups.push(i):y0("onScopeDispose() is called when there is no active effect scope to be associated with.")}const D8=i=>{const l=new Set(i);return l.w=0,l.n=0,l},EC=i=>(i.w&gl)>0,BC=i=>(i.n&gl)>0,YK=({deps:i})=>{if(i.length)for(let l=0;l<i.length;l++)i[l].w|=gl},UK=i=>{const{deps:l}=i;if(l.length){let p=0;for(let f=0;f<l.length;f++){const m=l[f];EC(m)&&!BC(m)?m.delete(i):l[p++]=m,m.w&=~gl,m.n&=~gl}l.length=p}},W2=new WeakMap;let Rp=0,gl=1;const H2=30;let Wr;const bc=Symbol("iterate"),j2=Symbol("Map key iterate");class F8{constructor(l,p=null,f){this.fn=l,this.scheduler=p,this.active=!0,this.deps=[],this.parent=void 0,PK(this,f)}run(){if(!this.active)return this.fn();let l=Wr,p=hl;for(;l;){if(l===this)return;l=l.parent}try{return this.parent=Wr,Wr=this,hl=!0,gl=1<<++Rp,Rp<=H2?YK(this):I7(this),this.fn()}finally{Rp<=H2&&UK(this),gl=1<<--Rp,Wr=this.parent,hl=p,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Wr===this?this.deferStop=!0:this.active&&(I7(this),this.onStop&&this.onStop(),this.active=!1)}}function I7(i){const{deps:l}=i;if(l.length){for(let p=0;p<l.length;p++)l[p].delete(i);l.length=0}}let hl=!0;const SC=[];function Mc(){SC.push(hl),hl=!1}function Rc(){const i=SC.pop();hl=i===void 0?!0:i}function _i(i,l,p){if(hl&&Wr){let f=W2.get(i);f||W2.set(i,f=new Map);let m=f.get(p);m||f.set(p,m=D8()),TC(m,{effect:Wr,target:i,type:l,key:p})}}function TC(i,l){let p=!1;Rp<=H2?BC(i)||(i.n|=gl,p=!EC(i)):p=!i.has(Wr),p&&(i.add(Wr),Wr.deps.push(i),Wr.onTrack&&Wr.onTrack(Object.assign({effect:Wr},l)))}function Ta(i,l,p,f,m,b){const A=W2.get(i);if(!A)return;let B=[];if(l==="clear")B=[...A.values()];else if(p==="length"&&dn(i)){const O=f0(f);A.forEach((w,z)=>{(z==="length"||z>=O)&&B.push(w)})}else switch(p!==void 0&&B.push(A.get(p)),l){case"add":dn(i)?T8(p)&&B.push(A.get("length")):(B.push(A.get(bc)),vc(i)&&B.push(A.get(j2)));break;case"delete":dn(i)||(B.push(A.get(bc)),vc(i)&&B.push(A.get(j2)));break;case"set":vc(i)&&B.push(A.get(bc));break}const F={target:i,type:l,key:p,newValue:f,oldValue:m,oldTarget:b};if(B.length===1)B[0]&&G2(B[0],F);else{const O=[];for(const w of B)w&&O.push(...w);G2(D8(O),F)}}function G2(i,l){const p=dn(i)?i:[...i];for(const f of p)f.computed&&M7(f,l);for(const f of p)f.computed||M7(f,l)}function M7(i,l){(i!==Wr||i.allowRecurse)&&(i.onTrigger&&i.onTrigger(Zs({effect:i},l)),i.scheduler?i.scheduler():i.run())}const zK=bl("__proto__,__v_isRef,__isVue"),DC=new Set(Object.getOwnPropertyNames(Symbol).filter(i=>i!=="arguments"&&i!=="caller").map(i=>Symbol[i]).filter(E8)),WK=I0(),HK=I0(!1,!0),jK=I0(!0),GK=I0(!0,!0),R7=qK();function qK(){const i={};return["includes","indexOf","lastIndexOf"].forEach(l=>{i[l]=function(...p){const f=Rn(this);for(let b=0,A=this.length;b<A;b++)_i(f,"get",b+"");const m=f[l](...p);return m===-1||m===!1?f[l](...p.map(Rn)):m}}),["push","pop","shift","unshift","splice"].forEach(l=>{i[l]=function(...p){Mc();const f=Rn(this)[l].apply(this,p);return Rc(),f}}),i}function I0(i=!1,l=!1){return function(f,m,b){if(m==="__v_isReactive")return!i;if(m==="__v_isReadonly")return i;if(m==="__v_isShallow")return l;if(m==="__v_raw"&&b===(i?l?PC:NC:l?OC:RC).get(f))return f;const A=dn(f);if(!i&&A&&Un(R7,m))return Reflect.get(R7,m,b);const B=Reflect.get(f,m,b);return(E8(m)?DC.has(m):zK(m))||(i||_i(f,"get",m),l)?B:ts(B)?A&&T8(m)?B:B.value:ls(B)?i?yc(B):kr(B):B}}const XK=FC(),KK=FC(!0);function FC(i=!1){return function(p,f,m,b){let A=p[f];if(ml(A)&&ts(A)&&!ts(m))return!1;if(!i&&(!g0(m)&&!ml(m)&&(A=Rn(A),m=Rn(m)),!dn(p)&&ts(A)&&!ts(m)))return A.value=m,!0;const B=dn(p)&&T8(f)?Number(f)<p.length:Un(p,f),F=Reflect.set(p,f,m,b);return p===Rn(b)&&(B?Hp(m,A)&&Ta(p,"set",f,m,A):Ta(p,"add",f,m)),F}}function ZK(i,l){const p=Un(i,l),f=i[l],m=Reflect.deleteProperty(i,l);return m&&p&&Ta(i,"delete",l,void 0,f),m}function QK(i,l){const p=Reflect.has(i,l);return(!E8(l)||!DC.has(l))&&_i(i,"has",l),p}function JK(i){return _i(i,"iterate",dn(i)?"length":bc),Reflect.ownKeys(i)}const LC={get:WK,set:XK,deleteProperty:ZK,has:QK,ownKeys:JK},IC={get:jK,set(i,l){return y0(`Set operation on key "${String(l)}" failed: target is readonly.`,i),!0},deleteProperty(i,l){return y0(`Delete operation on key "${String(l)}" failed: target is readonly.`,i),!0}},tZ=Zs({},LC,{get:HK,set:KK}),eZ=Zs({},IC,{get:GK}),L8=i=>i,M0=i=>Reflect.getPrototypeOf(i);function G1(i,l,p=!1,f=!1){i=i.__v_raw;const m=Rn(i),b=Rn(l);p||(l!==b&&_i(m,"get",l),_i(m,"get",b));const{has:A}=M0(m),B=f?L8:p?M8:jp;if(A.call(m,l))return B(i.get(l));if(A.call(m,b))return B(i.get(b));i!==m&&i.get(l)}function q1(i,l=!1){const p=this.__v_raw,f=Rn(p),m=Rn(i);return l||(i!==m&&_i(f,"has",i),_i(f,"has",m)),i===m?p.has(i):p.has(i)||p.has(m)}function X1(i,l=!1){return i=i.__v_raw,!l&&_i(Rn(i),"iterate",bc),Reflect.get(i,"size",i)}function O7(i){i=Rn(i);const l=Rn(this);return M0(l).has.call(l,i)||(l.add(i),Ta(l,"add",i,i)),this}function N7(i,l){l=Rn(l);const p=Rn(this),{has:f,get:m}=M0(p);let b=f.call(p,i);b?MC(p,f,i):(i=Rn(i),b=f.call(p,i));const A=m.call(p,i);return p.set(i,l),b?Hp(l,A)&&Ta(p,"set",i,l,A):Ta(p,"add",i,l),this}function P7(i){const l=Rn(this),{has:p,get:f}=M0(l);let m=p.call(l,i);m?MC(l,p,i):(i=Rn(i),m=p.call(l,i));const b=f?f.call(l,i):void 0,A=l.delete(i);return m&&Ta(l,"delete",i,void 0,b),A}function V7(){const i=Rn(this),l=i.size!==0,p=vc(i)?new Map(i):new Set(i),f=i.clear();return l&&Ta(i,"clear",void 0,void 0,p),f}function K1(i,l){return function(f,m){const b=this,A=b.__v_raw,B=Rn(A),F=l?L8:i?M8:jp;return!i&&_i(B,"iterate",bc),A.forEach((O,w)=>f.call(m,F(O),F(w),b))}}function Z1(i,l,p){return function(...f){const m=this.__v_raw,b=Rn(m),A=vc(b),B=i==="entries"||i===Symbol.iterator&&A,F=i==="keys"&&A,O=m[i](...f),w=p?L8:l?M8:jp;return!l&&_i(b,"iterate",F?j2:bc),{next(){const{value:z,done:G}=O.next();return G?{value:z,done:G}:{value:B?[w(z[0]),w(z[1])]:w(z),done:G}},[Symbol.iterator](){return this}}}}function sl(i){return function(...l){{const p=l[0]?`on key "${l[0]}" `:"";console.warn(`${Tc(i)} operation ${p}failed: target is readonly.`,Rn(this))}return i==="delete"?!1:this}}function nZ(){const i={get(b){return G1(this,b)},get size(){return X1(this)},has:q1,add:O7,set:N7,delete:P7,clear:V7,forEach:K1(!1,!1)},l={get(b){return G1(this,b,!1,!0)},get size(){return X1(this)},has:q1,add:O7,set:N7,delete:P7,clear:V7,forEach:K1(!1,!0)},p={get(b){return G1(this,b,!0)},get size(){return X1(this,!0)},has(b){return q1.call(this,b,!0)},add:sl("add"),set:sl("set"),delete:sl("delete"),clear:sl("clear"),forEach:K1(!0,!1)},f={get(b){return G1(this,b,!0,!0)},get size(){return X1(this,!0)},has(b){return q1.call(this,b,!0)},add:sl("add"),set:sl("set"),delete:sl("delete"),clear:sl("clear"),forEach:K1(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(b=>{i[b]=Z1(b,!1,!1),p[b]=Z1(b,!0,!1),l[b]=Z1(b,!1,!0),f[b]=Z1(b,!0,!0)}),[i,p,l,f]}const[sZ,rZ,iZ,oZ]=nZ();function R0(i,l){const p=l?i?oZ:iZ:i?rZ:sZ;return(f,m,b)=>m==="__v_isReactive"?!i:m==="__v_isReadonly"?i:m==="__v_raw"?f:Reflect.get(Un(p,m)&&m in f?p:f,m,b)}const aZ={get:R0(!1,!1)},lZ={get:R0(!1,!0)},cZ={get:R0(!0,!1)},uZ={get:R0(!0,!0)};function MC(i,l,p){const f=Rn(p);if(f!==p&&l.call(i,f)){const m=S8(i);console.warn(`Reactive ${m} contains both the raw and reactive versions of the same object${m==="Map"?" as keys":""}, which can lead to inconsistencies. Avoid differentiating between the raw and reactive versions of an object and only use the reactive version if possible.`)}}const RC=new WeakMap,OC=new WeakMap,NC=new WeakMap,PC=new WeakMap;function hZ(i){switch(i){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function pZ(i){return i.__v_skip||!Object.isExtensible(i)?0:hZ(S8(i))}function kr(i){return ml(i)?i:O0(i,!1,LC,aZ,RC)}function dZ(i){return O0(i,!1,tZ,lZ,OC)}function yc(i){return O0(i,!0,IC,cZ,NC)}function Gu(i){return O0(i,!0,eZ,uZ,PC)}function O0(i,l,p,f,m){if(!ls(i))return console.warn(`value cannot be made reactive: ${String(i)}`),i;if(i.__v_raw&&!(l&&i.__v_isReactive))return i;const b=m.get(i);if(b)return b;const A=pZ(i);if(A===0)return i;const B=new Proxy(i,A===2?f:p);return m.set(i,B),B}function xc(i){return ml(i)?xc(i.__v_raw):!!(i&&i.__v_isReactive)}function ml(i){return!!(i&&i.__v_isReadonly)}function g0(i){return!!(i&&i.__v_isShallow)}function m0(i){return xc(i)||ml(i)}function Rn(i){const l=i&&i.__v_raw;return l?Rn(l):i}function I8(i){return d0(i,"__v_skip",!0),i}const jp=i=>ls(i)?kr(i):i,M8=i=>ls(i)?yc(i):i;function R8(i){hl&&Wr&&(i=Rn(i),TC(i.dep||(i.dep=D8()),{target:i,type:"get",key:"value"}))}function O8(i,l){i=Rn(i),i.dep&&G2(i.dep,{target:i,type:"set",key:"value",newValue:l})}function ts(i){return!!(i&&i.__v_isRef===!0)}function Ke(i){return VC(i,!1)}function Po(i){return VC(i,!0)}function VC(i,l){return ts(i)?i:new fZ(i,l)}class fZ{constructor(l,p){this.__v_isShallow=p,this.dep=void 0,this.__v_isRef=!0,this._rawValue=p?l:Rn(l),this._value=p?l:jp(l)}get value(){return R8(this),this._value}set value(l){const p=this.__v_isShallow||g0(l)||ml(l);l=p?l:Rn(l),Hp(l,this._rawValue)&&(this._rawValue=l,this._value=p?l:jp(l),O8(this,l))}}function Ft(i){return ts(i)?i.value:i}const yZ={get:(i,l,p)=>Ft(Reflect.get(i,l,p)),set:(i,l,p,f)=>{const m=i[l];return ts(m)&&!ts(p)?(m.value=p,!0):Reflect.set(i,l,p,f)}};function $C(i){return xc(i)?i:new Proxy(i,yZ)}class gZ{constructor(l){this.dep=void 0,this.__v_isRef=!0;const{get:p,set:f}=l(()=>R8(this),()=>O8(this));this._get=p,this._set=f}get value(){return this._get()}set value(l){this._set(l)}}function YC(i){return new gZ(i)}function mZ(i){m0(i)||console.warn("toRefs() expects a reactive object but received a plain one.");const l=dn(i)?new Array(i.length):{};for(const p in i)l[p]=vZ(i,p);return l}class _Z{constructor(l,p,f){this._object=l,this._key=p,this._defaultValue=f,this.__v_isRef=!0}get value(){const l=this._object[this._key];return l===void 0?this._defaultValue:l}set value(l){this._object[this._key]=l}}function vZ(i,l,p){const f=i[l];return ts(f)?f:new _Z(i,l,p)}var UC;class bZ{constructor(l,p,f,m){this._setter=p,this.dep=void 0,this.__v_isRef=!0,this[UC]=!1,this._dirty=!0,this.effect=new F8(l,()=>{this._dirty||(this._dirty=!0,O8(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!m,this.__v_isReadonly=f}get value(){const l=Rn(this);return R8(l),(l._dirty||!l._cacheable)&&(l._dirty=!1,l._value=l.effect.run()),l._value}set value(l){this._setter(l)}}UC="__v_isReadonly";function zC(i,l,p=!1){let f,m;const b=An(i);b?(f=i,m=()=>{console.warn("Write operation failed: computed value is readonly")}):(f=i.get,m=i.set);const A=new bZ(f,m,b||!m,p);return l&&!p&&(A.effect.onTrack=l.onTrack,A.effect.onTrigger=l.onTrigger),A}const kc=[];function r0(i){kc.push(i)}function i0(){kc.pop()}function ue(i,...l){Mc();const p=kc.length?kc[kc.length-1].component:null,f=p&&p.appContext.config.warnHandler,m=xZ();if(f)Ba(f,p,11,[i+l.join(""),p&&p.proxy,m.map(({vnode:b})=>`at <${j0(p,b.type)}>`).join(`
`),m]);else{const b=[`[Vue warn]: ${i}`,...l];m.length&&b.push(`
`,...kZ(m)),console.warn(...b)}Rc()}function xZ(){let i=kc[kc.length-1];if(!i)return[];const l=[];for(;i;){const p=l[0];p&&p.vnode===i?p.recurseCount++:l.push({vnode:i,recurseCount:0});const f=i.component&&i.component.parent;i=f&&f.vnode}return l}function kZ(i){const l=[];return i.forEach((p,f)=>{l.push(...f===0?[]:[`
`],...CZ(p))}),l}function CZ({vnode:i,recurseCount:l}){const p=l>0?`... (${l} recursive calls)`:"",f=i.component?i.component.parent==null:!1,m=` at <${j0(i.component,i.type,f)}`,b=">"+p;return i.props?[m,...AZ(i.props),b]:[m+b]}function AZ(i){const l=[],p=Object.keys(i);return p.slice(0,3).forEach(f=>{l.push(...WC(f,i[f]))}),p.length>3&&l.push(" ..."),l}function WC(i,l,p){return As(l)?(l=JSON.stringify(l),p?l:[`${i}=${l}`]):typeof l=="number"||typeof l=="boolean"||l==null?p?l:[`${i}=${l}`]:ts(l)?(l=WC(i,Rn(l.value),!0),p?l:[`${i}=Ref<`,l,">"]):An(l)?[`${i}=fn${l.name?`<${l.name}>`:""}`]:(l=Rn(l),p?l:[`${i}=`,l])}const N8={sp:"serverPrefetch hook",bc:"beforeCreate hook",c:"created hook",bm:"beforeMount hook",m:"mounted hook",bu:"beforeUpdate hook",u:"updated",bum:"beforeUnmount hook",um:"unmounted hook",a:"activated hook",da:"deactivated hook",ec:"errorCaptured hook",rtc:"renderTracked hook",rtg:"renderTriggered hook",[0]:"setup function",[1]:"render function",[2]:"watcher getter",[3]:"watcher callback",[4]:"watcher cleanup function",[5]:"native event handler",[6]:"component event handler",[7]:"vnode hook",[8]:"directive hook",[9]:"transition hook",[10]:"app errorHandler",[11]:"app warnHandler",[12]:"ref function",[13]:"async component loader",[14]:"scheduler flush. This is likely a Vue internals bug. Please open an issue at https://new-issue.vuejs.org/?repo=vuejs/core"};function Ba(i,l,p,f){let m;try{m=f?i(...f):i()}catch(b){N0(b,l,p)}return m}function co(i,l,p,f){if(An(i)){const b=Ba(i,l,p,f);return b&&B8(b)&&b.catch(A=>{N0(A,l,p)}),b}const m=[];for(let b=0;b<i.length;b++)m.push(co(i[b],l,p,f));return m}function N0(i,l,p,f=!0){const m=l?l.vnode:null;if(l){let b=l.parent;const A=l.proxy,B=N8[p];for(;b;){const O=b.ec;if(O){for(let w=0;w<O.length;w++)if(O[w](i,A,B)===!1)return}b=b.parent}const F=l.appContext.config.errorHandler;if(F){Ba(F,null,10,[i,A,B]);return}}wZ(i,p,m,f)}function wZ(i,l,p,f=!0){{const m=N8[l];if(p&&r0(p),ue(`Unhandled error${m?` during execution of ${m}`:""}`),p&&i0(),f)throw i;console.error(i)}}let Gp=!1,q2=!1;const Lr=[];let Io=0;const Ku=[];let Lo=null,il=0;const HC=Promise.resolve();let P8=null;const EZ=100;function uo(i){const l=P8||HC;return i?l.then(this?i.bind(this):i):l}function BZ(i){let l=Io+1,p=Lr.length;for(;l<p;){const f=l+p>>>1;qp(Lr[f])<i?l=f+1:p=f}return l}function P0(i){(!Lr.length||!Lr.includes(i,Gp&&i.allowRecurse?Io+1:Io))&&(i.id==null?Lr.push(i):Lr.splice(BZ(i.id),0,i),jC())}function jC(){!Gp&&!q2&&(q2=!0,P8=HC.then(XC))}function SZ(i){const l=Lr.indexOf(i);l>Io&&Lr.splice(l,1)}function GC(i){dn(i)?Ku.push(...i):(!Lo||!Lo.includes(i,i.allowRecurse?il+1:il))&&Ku.push(i),jC()}function $7(i,l=Gp?Io+1:0){for(i=i||new Map;l<Lr.length;l++){const p=Lr[l];if(p&&p.pre){if(V8(i,p))continue;Lr.splice(l,1),l--,p()}}}function qC(i){if(Ku.length){const l=[...new Set(Ku)];if(Ku.length=0,Lo){Lo.push(...l);return}for(Lo=l,i=i||new Map,Lo.sort((p,f)=>qp(p)-qp(f)),il=0;il<Lo.length;il++)V8(i,Lo[il])||Lo[il]();Lo=null,il=0}}const qp=i=>i.id==null?1/0:i.id,TZ=(i,l)=>{const p=qp(i)-qp(l);if(p===0){if(i.pre&&!l.pre)return-1;if(l.pre&&!i.pre)return 1}return p};function XC(i){q2=!1,Gp=!0,i=i||new Map,Lr.sort(TZ);const l=p=>V8(i,p);try{for(Io=0;Io<Lr.length;Io++){const p=Lr[Io];if(p&&p.active!==!1){if(l(p))continue;Ba(p,null,14)}}}finally{Io=0,Lr.length=0,qC(i),Gp=!1,P8=null,(Lr.length||Ku.length)&&XC(i)}}function V8(i,l){if(!i.has(l))i.set(l,1);else{const p=i.get(l);if(p>EZ){const f=l.ownerInstance,m=f&&Zp(f.type);return ue(`Maximum recursive updates exceeded${m?` in component <${m}>`:""}. This means you have a reactive effect that is mutating its own dependencies and thus recursively triggering itself. Possible sources include component template, render function, updated hook or watcher source function.`),!0}else i.set(l,p+1)}}let pl=!1;const Wu=new Set;AC().__VUE_HMR_RUNTIME__={createRecord:S2(KC),rerender:S2(LZ),reload:S2(IZ)};const Dc=new Map;function DZ(i){const l=i.type.__hmrId;let p=Dc.get(l);p||(KC(l,i.type),p=Dc.get(l)),p.instances.add(i)}function FZ(i){Dc.get(i.type.__hmrId).instances.delete(i)}function KC(i,l){return Dc.has(i)?!1:(Dc.set(i,{initialDef:Vp(l),instances:new Set}),!0)}function Vp(i){return SA(i)?i.__vccOpts:i}function LZ(i,l){const p=Dc.get(i);p&&(p.initialDef.render=l,[...p.instances].forEach(f=>{l&&(f.render=l,Vp(f.type).render=l),f.renderCache=[],pl=!0,f.update(),pl=!1}))}function IZ(i,l){const p=Dc.get(i);if(!p)return;l=Vp(l),Y7(p.initialDef,l);const f=[...p.instances];for(const m of f){const b=Vp(m.type);Wu.has(b)||(b!==p.initialDef&&Y7(b,l),Wu.add(b)),m.appContext.optionsCache.delete(m.type),m.ceReload?(Wu.add(b),m.ceReload(l.styles),Wu.delete(b)):m.parent?P0(m.parent.update):m.appContext.reload?m.appContext.reload():typeof window<"u"?window.location.reload():console.warn("[HMR] Root or manually mounted instance modified. Full reload required.")}GC(()=>{for(const m of f)Wu.delete(Vp(m.type))})}function Y7(i,l){Zs(i,l);for(const p in i)p!=="__file"&&!(p in l)&&delete i[p]}function S2(i){return(l,p)=>{try{return i(l,p)}catch(f){console.error(f),console.warn("[HMR] Something went wrong during Vue component hot-reload. Full reload required.")}}}let Mo,Op=[],X2=!1;function id(i,...l){Mo?Mo.emit(i,...l):X2||Op.push({event:i,args:l})}function ZC(i,l){var p,f;Mo=i,Mo?(Mo.enabled=!0,Op.forEach(({event:m,args:b})=>Mo.emit(m,...b)),Op=[]):typeof window<"u"&&window.HTMLElement&&!(!((f=(p=window.navigator)===null||p===void 0?void 0:p.userAgent)===null||f===void 0)&&f.includes("jsdom"))?((l.__VUE_DEVTOOLS_HOOK_REPLAY__=l.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(b=>{ZC(b,l)}),setTimeout(()=>{Mo||(l.__VUE_DEVTOOLS_HOOK_REPLAY__=null,X2=!0,Op=[])},3e3)):(X2=!0,Op=[])}function MZ(i,l){id("app:init",i,l,{Fragment:os,Text:ad,Comment:ei,Static:o0})}function RZ(i){id("app:unmount",i)}const K2=$8("component:added"),QC=$8("component:updated"),OZ=$8("component:removed"),NZ=i=>{Mo&&typeof Mo.cleanupBuffer=="function"&&!Mo.cleanupBuffer(i)&&OZ(i)};function $8(i){return l=>{id(i,l.appContext.app,l.uid,l.parent?l.parent.uid:void 0,l)}}const PZ=JC("perf:start"),VZ=JC("perf:end");function JC(i){return(l,p,f)=>{id(i,l.appContext.app,l.uid,l,p,f)}}function $Z(i,l,p){id("component:emit",i.appContext.app,i,l,p)}function YZ(i,l,...p){if(i.isUnmounted)return;const f=i.vnode.props||us;{const{emitsOptions:w,propsOptions:[z]}=i;if(w)if(!(l in w))(!z||!(hc(l)in z))&&ue(`Component emitted event "${l}" but it is neither declared in the emits option nor as an "${hc(l)}" prop.`);else{const G=w[l];An(G)&&(G(...p)||ue(`Invalid event arguments: event validation failed for event "${l}".`))}}let m=p;const b=l.startsWith("update:"),A=b&&l.slice(7);if(A&&A in f){const w=`${A==="modelValue"?"model":A}Modifiers`,{number:z,trim:G}=f[w]||us;G&&(m=p.map(ot=>As(ot)?ot.trim():ot)),z&&(m=p.map(f0))}$Z(i,l,m);{const w=l.toLowerCase();w!==l&&f[hc(w)]&&ue(`Event "${w}" is emitted in component ${j0(i,i.type)} but the handler is registered for "${l}". Note that HTML attributes are case-insensitive and you cannot use v-on to listen to camelCase events when using in-DOM templates. You should probably use "${Sa(l)}" instead of "${l}".`)}let B,F=f[B=hc(l)]||f[B=hc(No(l))];!F&&b&&(F=f[B=hc(Sa(l))]),F&&co(F,i,6,m);const O=f[B+"Once"];if(O){if(!i.emitted)i.emitted={};else if(i.emitted[B])return;i.emitted[B]=!0,co(O,i,6,m)}}function tA(i,l,p=!1){const f=l.emitsCache,m=f.get(i);if(m!==void 0)return m;const b=i.emits;let A={},B=!1;if(!An(i)){const F=O=>{const w=tA(O,l,!0);w&&(B=!0,Zs(A,w))};!p&&l.mixins.length&&l.mixins.forEach(F),i.extends&&F(i.extends),i.mixins&&i.mixins.forEach(F)}return!b&&!B?(ls(i)&&f.set(i,null),null):(dn(b)?b.forEach(F=>A[F]=null):Zs(A,b),ls(i)&&f.set(i,A),A)}function V0(i,l){return!i||!rd(l)?!1:(l=l.slice(2).replace(/Once$/,""),Un(i,l[0].toLowerCase()+l.slice(1))||Un(i,Sa(l))||Un(i,l))}let ar=null,$0=null;function _0(i){const l=ar;return ar=i,$0=i&&i.type.__scopeId||null,l}function lft(i){$0=i}function cft(){$0=null}function ge(i,l=ar,p){if(!l||i._n)return i;const f=(...m)=>{f._d&&tk(-1);const b=_0(l);let A;try{A=i(...m)}finally{_0(b),f._d&&tk(1)}return QC(l),A};return f._n=!0,f._c=!0,f._d=!0,f}let Z2=!1;function v0(){Z2=!0}function T2(i){const{type:l,vnode:p,proxy:f,withProxy:m,props:b,propsOptions:[A],slots:B,attrs:F,emit:O,render:w,renderCache:z,data:G,setupState:ot,ctx:at,inheritAttrs:At}=i;let St,Kt;const $t=_0(i);Z2=!1;try{if(p.shapeFlag&4){const Fe=m||f;St=oo(w.call(Fe,Fe,z,b,ot,G,at)),Kt=F}else{const Fe=l;F===b&&v0(),St=oo(Fe.length>1?Fe(b,{get attrs(){return v0(),F},slots:B,emit:O}):Fe(b,null)),Kt=l.props?F:zZ(F)}}catch(Fe){Yp.length=0,N0(Fe,i,1),St=le(ei)}let Zt=St,ie;if(St.patchFlag>0&&St.patchFlag&2048&&([Zt,ie]=UZ(St)),Kt&&At!==!1){const Fe=Object.keys(Kt),{shapeFlag:Ae}=Zt;if(Fe.length){if(Ae&7)A&&Fe.some(p0)&&(Kt=WZ(Kt,A)),Zt=Fa(Zt,Kt);else if(!Z2&&Zt.type!==ei){const be=Object.keys(F),qe=[],fn=[];for(let On=0,$n=be.length;On<$n;On++){const ws=be[On];rd(ws)?p0(ws)||qe.push(ws[2].toLowerCase()+ws.slice(3)):fn.push(ws)}fn.length&&ue(`Extraneous non-props attributes (${fn.join(", ")}) were passed to component but could not be automatically inherited because component renders fragment or text root nodes.`),qe.length&&ue(`Extraneous non-emits event listeners (${qe.join(", ")}) were passed to component but could not be automatically inherited because component renders fragment or text root nodes. If the listener is intended to be a component custom event listener only, declare it using the "emits" option.`)}}}return p.dirs&&(U7(Zt)||ue("Runtime directive used on component with non-element root node. The directives will not function as intended."),Zt=Fa(Zt),Zt.dirs=Zt.dirs?Zt.dirs.concat(p.dirs):p.dirs),p.transition&&(U7(Zt)||ue("Component inside <Transition> renders non-element root node that cannot be animated."),Zt.transition=p.transition),ie?ie(Zt):St=Zt,_0($t),St}const UZ=i=>{const l=i.children,p=i.dynamicChildren,f=eA(l);if(!f)return[i,void 0];const m=l.indexOf(f),b=p?p.indexOf(f):-1,A=B=>{l[m]=B,p&&(b>-1?p[b]=B:B.patchFlag>0&&(i.dynamicChildren=[...p,B]))};return[oo(f),A]};function eA(i){let l;for(let p=0;p<i.length;p++){const f=i[p];if(_l(f)){if(f.type!==ei||f.children==="v-if"){if(l)return;l=f}}else return}return l}const zZ=i=>{let l;for(const p in i)(p==="class"||p==="style"||rd(p))&&((l||(l={}))[p]=i[p]);return l},WZ=(i,l)=>{const p={};for(const f in i)(!p0(f)||!(f.slice(9)in l))&&(p[f]=i[f]);return p},U7=i=>i.shapeFlag&7||i.type===ei;function HZ(i,l,p){const{props:f,children:m,component:b}=i,{props:A,children:B,patchFlag:F}=l,O=b.emitsOptions;if((m||B)&&pl||l.dirs||l.transition)return!0;if(p&&F>=0){if(F&1024)return!0;if(F&16)return f?z7(f,A,O):!!A;if(F&8){const w=l.dynamicProps;for(let z=0;z<w.length;z++){const G=w[z];if(A[G]!==f[G]&&!V0(O,G))return!0}}}else return(m||B)&&(!B||!B.$stable)?!0:f===A?!1:f?A?z7(f,A,O):!0:!!A;return!1}function z7(i,l,p){const f=Object.keys(l);if(f.length!==Object.keys(i).length)return!0;for(let m=0;m<f.length;m++){const b=f[m];if(l[b]!==i[b]&&!V0(p,b))return!0}return!1}function jZ({vnode:i,parent:l},p){for(;l&&l.subTree===i;)(i=l.vnode).el=p,l=l.parent}const nA=i=>i.__isSuspense;function GZ(i,l){l&&l.pendingBranch?dn(i)?l.effects.push(...i):l.effects.push(i):GC(i)}function yi(i,l){if(!ir)ue("provide() can only be used inside setup().");else{let p=ir.provides;const f=ir.parent&&ir.parent.provides;f===p&&(p=ir.provides=Object.create(f)),p[i]=l}}function Pe(i,l,p=!1){const f=ir||ar;if(f){const m=f.parent==null?f.vnode.appContext&&f.vnode.appContext.provides:f.parent.provides;if(m&&i in m)return m[i];if(arguments.length>1)return p&&An(l)?l.call(f.proxy):l;ue(`injection "${String(i)}" not found.`)}else ue("inject() can only be used inside setup() or functional components.")}function Da(i,l){return Y8(i,null,l)}const Q1={};function Ds(i,l,p){return An(l)||ue("`watch(fn, options?)` signature has been moved to a separate API. Use `watchEffect(fn, options?)` instead. `watch` now only supports `watch(source, cb, options?) signature."),Y8(i,l,p)}function Y8(i,l,{immediate:p,deep:f,flush:m,onTrack:b,onTrigger:A}=us){l||(p!==void 0&&ue('watch() "immediate" option is only respected when using the watch(source, callback, options?) signature.'),f!==void 0&&ue('watch() "deep" option is only respected when using the watch(source, callback, options?) signature.'));const B=ie=>{ue("Invalid watch source: ",ie,"A watch source can only be a getter/effect function, a ref, a reactive object, or an array of these types.")},F=ir;let O,w=!1,z=!1;if(ts(i)?(O=()=>i.value,w=g0(i)):xc(i)?(O=()=>i,f=!0):dn(i)?(z=!0,w=i.some(ie=>xc(ie)||g0(ie)),O=()=>i.map(ie=>{if(ts(ie))return ie.value;if(xc(ie))return gc(ie);if(An(ie))return Ba(ie,F,2);B(ie)})):An(i)?l?O=()=>Ba(i,F,2):O=()=>{if(!(F&&F.isUnmounted))return G&&G(),co(i,F,3,[ot])}:(O=ti,B(i)),l&&f){const ie=O;O=()=>gc(ie())}let G,ot=ie=>{G=$t.onStop=()=>{Ba(ie,F,4)}},at;if(Kp)if(ot=ti,l?p&&co(l,F,3,[O(),z?[]:void 0,ot]):O(),m==="sync"){const ie=ZQ();at=ie.__watcherHandles||(ie.__watcherHandles=[])}else return ti;let At=z?new Array(i.length).fill(Q1):Q1;const St=()=>{if($t.active)if(l){const ie=$t.run();(f||w||(z?ie.some((Fe,Ae)=>Hp(Fe,At[Ae])):Hp(ie,At)))&&(G&&G(),co(l,F,3,[ie,At===Q1?void 0:z&&At[0]===Q1?[]:At,ot]),At=ie)}else $t.run()};St.allowRecurse=!!l;let Kt;m==="sync"?Kt=St:m==="post"?Kt=()=>xr(St,F&&F.suspense):(St.pre=!0,F&&(St.id=F.uid),Kt=()=>P0(St));const $t=new F8(O,Kt);$t.onTrack=b,$t.onTrigger=A,l?p?St():At=$t.run():m==="post"?xr($t.run.bind($t),F&&F.suspense):$t.run();const Zt=()=>{$t.stop(),F&&F.scope&&w8(F.scope.effects,$t)};return at&&at.push(Zt),Zt}function qZ(i,l,p){const f=this.proxy,m=As(i)?i.includes(".")?sA(f,i):()=>f[i]:i.bind(f,f);let b;An(l)?b=l:(b=l.handler,p=l);const A=ir;th(this);const B=Y8(m,b.bind(f),p);return A?th(A):Ac(),B}function sA(i,l){const p=l.split(".");return()=>{let f=i;for(let m=0;m<p.length&&f;m++)f=f[p[m]];return f}}function gc(i,l){if(!ls(i)||i.__v_skip||(l=l||new Set,l.has(i)))return i;if(l.add(i),ts(i))gc(i.value,l);else if(dn(i))for(let p=0;p<i.length;p++)gc(i[p],l);else if(xC(i)||vc(i))i.forEach(p=>{gc(p,l)});else if(CC(i))for(const p in i)gc(i[p],l);return i}function rA(i,l){i.shapeFlag&6&&i.component?rA(i.component.subTree,l):i.shapeFlag&128?(i.ssContent.transition=l.clone(i.ssContent),i.ssFallback.transition=l.clone(i.ssFallback)):i.transition=l}function ps(i){return An(i)?{setup:i,name:i.name}:i}const Zu=i=>!!i.type.__asyncLoader,U8=i=>i.type.__isKeepAlive,XZ={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(i,{slots:l}){const p=xl(),f=p.ctx;if(!f.renderer)return()=>{const $t=l.default&&l.default();return $t&&$t.length===1?$t[0]:$t};const m=new Map,b=new Set;let A=null;p.__v_cache=m;const B=p.suspense,{renderer:{p:F,m:O,um:w,o:{createElement:z}}}=f,G=z("div");f.activate=($t,Zt,ie,Fe,Ae)=>{const be=$t.component;O($t,Zt,ie,0,B),F(be.vnode,$t,Zt,ie,be,B,Fe,$t.slotScopeIds,Ae),xr(()=>{be.isDeactivated=!1,be.a&&ll(be.a);const qe=$t.props&&$t.props.onVnodeMounted;qe&&Si(qe,be.parent,$t)},B),K2(be)},f.deactivate=$t=>{const Zt=$t.component;O($t,G,null,1,B),xr(()=>{Zt.da&&ll(Zt.da);const ie=$t.props&&$t.props.onVnodeUnmounted;ie&&Si(ie,Zt.parent,$t),Zt.isDeactivated=!0},B),K2(Zt)};function ot($t){D2($t),w($t,p,B,!0)}function at($t){m.forEach((Zt,ie)=>{const Fe=Zp(Zt.type);Fe&&(!$t||!$t(Fe))&&At(ie)})}function At($t){const Zt=m.get($t);!A||Zt.type!==A.type?ot(Zt):A&&D2(A),m.delete($t),b.delete($t)}Ds(()=>[i.include,i.exclude],([$t,Zt])=>{$t&&at(ie=>Np($t,ie)),Zt&&at(ie=>!Np(Zt,ie))},{flush:"post",deep:!0});let St=null;const Kt=()=>{St!=null&&m.set(St,F2(p.subTree))};return U0(Kt),aA(Kt),lA(()=>{m.forEach($t=>{const{subTree:Zt,suspense:ie}=p,Fe=F2(Zt);if($t.type===Fe.type){D2(Fe);const Ae=Fe.component.da;Ae&&xr(Ae,ie);return}ot($t)})}),()=>{if(St=null,!l.default)return null;const $t=l.default(),Zt=$t[0];if($t.length>1)return ue("KeepAlive should contain exactly one component child."),A=null,$t;if(!_l(Zt)||!(Zt.shapeFlag&4)&&!(Zt.shapeFlag&128))return A=null,Zt;let ie=F2(Zt);const Fe=ie.type,Ae=Zp(Zu(ie)?ie.type.__asyncResolved||{}:Fe),{include:be,exclude:qe,max:fn}=i;if(be&&(!Ae||!Np(be,Ae))||qe&&Ae&&Np(qe,Ae))return A=ie,Zt;const On=ie.key==null?Fe:ie.key,$n=m.get(On);return ie.el&&(ie=Fa(ie),Zt.shapeFlag&128&&(Zt.ssContent=ie)),St=On,$n?(ie.el=$n.el,ie.component=$n.component,ie.transition&&rA(ie,ie.transition),ie.shapeFlag|=512,b.delete(On),b.add(On)):(b.add(On),fn&&b.size>parseInt(fn,10)&&At(b.values().next().value)),ie.shapeFlag|=256,A=ie,nA(Zt.type)?Zt:ie}}},iA=XZ;function Np(i,l){return dn(i)?i.some(p=>Np(p,l)):As(i)?i.split(",").includes(l):i.test?i.test(l):!1}function KZ(i,l){oA(i,"a",l)}function ZZ(i,l){oA(i,"da",l)}function oA(i,l,p=ir){const f=i.__wdc||(i.__wdc=()=>{let m=p;for(;m;){if(m.isDeactivated)return;m=m.parent}return i()});if(Y0(l,f,p),p){let m=p.parent;for(;m&&m.parent;)U8(m.parent.vnode)&&QZ(f,l,p,m),m=m.parent}}function QZ(i,l,p,f){const m=Y0(l,i,f,!0);z8(()=>{w8(f[l],m)},p)}function D2(i){i.shapeFlag&=-257,i.shapeFlag&=-513}function F2(i){return i.shapeFlag&128?i.ssContent:i}function Y0(i,l,p=ir,f=!1){if(p){const m=p[i]||(p[i]=[]),b=l.__weh||(l.__weh=(...A)=>{if(p.isUnmounted)return;Mc(),th(p);const B=co(l,p,i,A);return Ac(),Rc(),B});return f?m.unshift(b):m.push(b),b}else{const m=hc(N8[i].replace(/ hook$/,""));ue(`${m} is called when there is no active component instance to be associated with. Lifecycle injection APIs can only be used during execution of setup(). If you are using async setup(), make sure to register lifecycle hooks before the first await statement.`)}}const Ia=i=>(l,p=ir)=>(!Kp||i==="sp")&&Y0(i,(...f)=>l(...f),p),JZ=Ia("bm"),U0=Ia("m"),tQ=Ia("bu"),aA=Ia("u"),lA=Ia("bum"),z8=Ia("um"),eQ=Ia("sp"),nQ=Ia("rtg"),sQ=Ia("rtc");function rQ(i,l=ir){Y0("ec",i,l)}function cA(i){RK(i)&&ue("Do not use built-in directive ids as custom directive id: "+i)}function z0(i,l){const p=ar;if(p===null)return ue("withDirectives can only be used inside render functions."),i;const f=H0(p)||p.proxy,m=i.dirs||(i.dirs=[]);for(let b=0;b<l.length;b++){let[A,B,F,O=us]=l[b];A&&(An(A)&&(A={mounted:A,updated:A}),A.deep&&gc(B),m.push({dir:A,instance:f,value:B,oldValue:void 0,arg:F,modifiers:O}))}return i}function cc(i,l,p,f){const m=i.dirs,b=l&&l.dirs;for(let A=0;A<m.length;A++){const B=m[A];b&&(B.oldValue=b[A].value);let F=B.dir[f];F&&(Mc(),co(F,p,8,[i.el,B,i,l]),Rc())}}const Q2="components",iQ="directives";function W8(i,l){return uA(Q2,i,!0,l)||i}const oQ=Symbol();function W7(i){return uA(iQ,i)}function uA(i,l,p=!0,f=!1){const m=ar||ir;if(m){const b=m.type;if(i===Q2){const B=Zp(b,!1);if(B&&(B===l||B===No(l)||B===Tc(No(l))))return b}const A=H7(m[i]||b[i],l)||H7(m.appContext[i],l);if(!A&&f)return b;if(p&&!A){const B=i===Q2?`
If this is a native custom element, make sure to exclude it from component resolution via compilerOptions.isCustomElement.`:"";ue(`Failed to resolve ${i.slice(0,-1)}: ${l}${B}`)}return A}else ue(`resolve${Tc(i.slice(0,-1))} can only be used in render() or setup().`)}function H7(i,l){return i&&(i[l]||i[No(l)]||i[Tc(No(l))])}function od(i,l,p,f){let m;const b=p&&p[f];if(dn(i)||As(i)){m=new Array(i.length);for(let A=0,B=i.length;A<B;A++)m[A]=l(i[A],A,void 0,b&&b[A])}else if(typeof i=="number"){Number.isInteger(i)||ue(`The v-for range expect an integer value but got ${i}.`),m=new Array(i);for(let A=0;A<i;A++)m[A]=l(A+1,A,void 0,b&&b[A])}else if(ls(i))if(i[Symbol.iterator])m=Array.from(i,(A,B)=>l(A,B,void 0,b&&b[B]));else{const A=Object.keys(i);m=new Array(A.length);for(let B=0,F=A.length;B<F;B++){const O=A[B];m[B]=l(i[O],O,B,b&&b[B])}}else m=[];return p&&(p[f]=m),m}function Vo(i,l,p={},f,m){if(ar.isCE||ar.parent&&Zu(ar.parent)&&ar.parent.isCE)return l!=="default"&&(p.name=l),le("slot",p,f&&f());let b=i[l];b&&b.length>1&&(ue("SSR-optimized slot function detected in a non-SSR-optimized render function. You need to mark this component with $dynamic-slots in the parent template."),b=()=>[]),b&&b._c&&(b._d=!1),Yt();const A=b&&hA(b(p)),B=Xe(os,{key:p.key||A&&A.key||`_${l}`},A||(f?f():[]),A&&i._===1?64:-2);return!m&&B.scopeId&&(B.slotScopeIds=[B.scopeId+"-s"]),b&&b._c&&(b._d=!0),B}function hA(i){return i.some(l=>_l(l)?!(l.type===ei||l.type===os&&!hA(l.children)):!0)?i:null}const J2=i=>i?wA(i)?H0(i)||i.proxy:J2(i.parent):null,Cc=Zs(Object.create(null),{$:i=>i,$el:i=>i.vnode.el,$data:i=>i.data,$props:i=>Gu(i.props),$attrs:i=>Gu(i.attrs),$slots:i=>Gu(i.slots),$refs:i=>Gu(i.refs),$parent:i=>J2(i.parent),$root:i=>J2(i.root),$emit:i=>i.emit,$options:i=>j8(i),$forceUpdate:i=>i.f||(i.f=()=>P0(i.update)),$nextTick:i=>i.n||(i.n=uo.bind(i.proxy)),$watch:i=>qZ.bind(i)}),H8=i=>i==="_"||i==="$",L2=(i,l)=>i!==us&&!i.__isScriptSetup&&Un(i,l),pA={get({_:i},l){const{ctx:p,setupState:f,data:m,props:b,accessCache:A,type:B,appContext:F}=i;if(l==="__isVue")return!0;let O;if(l[0]!=="$"){const ot=A[l];if(ot!==void 0)switch(ot){case 1:return f[l];case 2:return m[l];case 4:return p[l];case 3:return b[l]}else{if(L2(f,l))return A[l]=1,f[l];if(m!==us&&Un(m,l))return A[l]=2,m[l];if((O=i.propsOptions[0])&&Un(O,l))return A[l]=3,b[l];if(p!==us&&Un(p,l))return A[l]=4,p[l];t8&&(A[l]=0)}}const w=Cc[l];let z,G;if(w)return l==="$attrs"&&(_i(i,"get",l),v0()),w(i);if((z=B.__cssModules)&&(z=z[l]))return z;if(p!==us&&Un(p,l))return A[l]=4,p[l];if(G=F.config.globalProperties,Un(G,l))return G[l];ar&&(!As(l)||l.indexOf("__v")!==0)&&(m!==us&&H8(l[0])&&Un(m,l)?ue(`Property ${JSON.stringify(l)} must be accessed via $data because it starts with a reserved character ("$" or "_") and is not proxied on the render context.`):i===ar&&ue(`Property ${JSON.stringify(l)} was accessed during render but is not defined on instance.`))},set({_:i},l,p){const{data:f,setupState:m,ctx:b}=i;return L2(m,l)?(m[l]=p,!0):m.__isScriptSetup&&Un(m,l)?(ue(`Cannot mutate <script setup> binding "${l}" from Options API.`),!1):f!==us&&Un(f,l)?(f[l]=p,!0):Un(i.props,l)?(ue(`Attempting to mutate prop "${l}". Props are readonly.`),!1):l[0]==="$"&&l.slice(1)in i?(ue(`Attempting to mutate public property "${l}". Properties starting with $ are reserved and readonly.`),!1):(l in i.appContext.config.globalProperties?Object.defineProperty(b,l,{enumerable:!0,configurable:!0,value:p}):b[l]=p,!0)},has({_:{data:i,setupState:l,accessCache:p,ctx:f,appContext:m,propsOptions:b}},A){let B;return!!p[A]||i!==us&&Un(i,A)||L2(l,A)||(B=b[0])&&Un(B,A)||Un(f,A)||Un(Cc,A)||Un(m.config.globalProperties,A)},defineProperty(i,l,p){return p.get!=null?i._.accessCache[l]=0:Un(p,"value")&&this.set(i,l,p.value,null),Reflect.defineProperty(i,l,p)}};pA.ownKeys=i=>(ue("Avoid app logic that relies on enumerating keys on a component instance. The keys will be empty in production mode to avoid performance overhead."),Reflect.ownKeys(i));function aQ(i){const l={};return Object.defineProperty(l,"_",{configurable:!0,enumerable:!1,get:()=>i}),Object.keys(Cc).forEach(p=>{Object.defineProperty(l,p,{configurable:!0,enumerable:!1,get:()=>Cc[p](i),set:ti})}),l}function lQ(i){const{ctx:l,propsOptions:[p]}=i;p&&Object.keys(p).forEach(f=>{Object.defineProperty(l,f,{enumerable:!0,configurable:!0,get:()=>i.props[f],set:ti})})}function cQ(i){const{ctx:l,setupState:p}=i;Object.keys(Rn(p)).forEach(f=>{if(!p.__isScriptSetup){if(H8(f[0])){ue(`setup() return property ${JSON.stringify(f)} should not start with "$" or "_" which are reserved prefixes for Vue internals.`);return}Object.defineProperty(l,f,{enumerable:!0,configurable:!0,get:()=>p[f],set:ti})}})}function uQ(){const i=Object.create(null);return(l,p)=>{i[p]?ue(`${l} property "${p}" is already defined in ${i[p]}.`):i[p]=l}}let t8=!0;function hQ(i){const l=j8(i),p=i.proxy,f=i.ctx;t8=!1,l.beforeCreate&&j7(l.beforeCreate,i,"bc");const{data:m,computed:b,methods:A,watch:B,provide:F,inject:O,created:w,beforeMount:z,mounted:G,beforeUpdate:ot,updated:at,activated:At,deactivated:St,beforeDestroy:Kt,beforeUnmount:$t,destroyed:Zt,unmounted:ie,render:Fe,renderTracked:Ae,renderTriggered:be,errorCaptured:qe,serverPrefetch:fn,expose:On,inheritAttrs:$n,components:ws,directives:Js,filters:tr}=l,Kn=uQ();{const[Le]=i.propsOptions;if(Le)for(const nn in Le)Kn("Props",nn)}if(O&&pQ(O,f,Kn,i.appContext.config.unwrapInjectedRef),A)for(const Le in A){const nn=A[Le];An(nn)?(Object.defineProperty(f,Le,{value:nn.bind(p),configurable:!0,enumerable:!0,writable:!0}),Kn("Methods",Le)):ue(`Method "${Le}" has type "${typeof nn}" in the component definition. Did you reference the function correctly?`)}if(m){An(m)||ue("The data option must be a function. Plain object usage is no longer supported.");const Le=m.call(p,p);if(B8(Le)&&ue("data() returned a Promise - note data() cannot be async; If you intend to perform data fetching before component renders, use async setup() + <Suspense>."),!ls(Le))ue("data() should return an object.");else{i.data=kr(Le);for(const nn in Le)Kn("Data",nn),H8(nn[0])||Object.defineProperty(f,nn,{configurable:!0,enumerable:!0,get:()=>Le[nn],set:ti})}}if(t8=!0,b)for(const Le in b){const nn=b[Le],Mn=An(nn)?nn.bind(p,p):An(nn.get)?nn.get.bind(p,p):ti;Mn===ti&&ue(`Computed property "${Le}" has no getter.`);const qn=!An(nn)&&An(nn.set)?nn.set.bind(p):()=>{ue(`Write operation failed: computed property "${Le}" is readonly.`)},gr=re({get:Mn,set:qn});Object.defineProperty(f,Le,{enumerable:!0,configurable:!0,get:()=>gr.value,set:Ys=>gr.value=Ys}),Kn("Computed",Le)}if(B)for(const Le in B)dA(B[Le],f,p,Le);if(F){const Le=An(F)?F.call(p):F;Reflect.ownKeys(Le).forEach(nn=>{yi(nn,Le[nn])})}w&&j7(w,i,"c");function ds(Le,nn){dn(nn)?nn.forEach(Mn=>Le(Mn.bind(p))):nn&&Le(nn.bind(p))}if(ds(JZ,z),ds(U0,G),ds(tQ,ot),ds(aA,at),ds(KZ,At),ds(ZZ,St),ds(rQ,qe),ds(sQ,Ae),ds(nQ,be),ds(lA,$t),ds(z8,ie),ds(eQ,fn),dn(On))if(On.length){const Le=i.exposed||(i.exposed={});On.forEach(nn=>{Object.defineProperty(Le,nn,{get:()=>p[nn],set:Mn=>p[nn]=Mn})})}else i.exposed||(i.exposed={});Fe&&i.render===ti&&(i.render=Fe),$n!=null&&(i.inheritAttrs=$n),ws&&(i.components=ws),Js&&(i.directives=Js)}function pQ(i,l,p=ti,f=!1){dn(i)&&(i=e8(i));for(const m in i){const b=i[m];let A;ls(b)?"default"in b?A=Pe(b.from||m,b.default,!0):A=Pe(b.from||m):A=Pe(b),ts(A)?f?Object.defineProperty(l,m,{enumerable:!0,configurable:!0,get:()=>A.value,set:B=>A.value=B}):(ue(`injected property "${m}" is a ref and will be auto-unwrapped and no longer needs \`.value\` in the next minor release. To opt-in to the new behavior now, set \`app.config.unwrapInjectedRef = true\` (this config is temporary and will not be needed in the future.)`),l[m]=A):l[m]=A,p("Inject",m)}}function j7(i,l,p){co(dn(i)?i.map(f=>f.bind(l.proxy)):i.bind(l.proxy),l,p)}function dA(i,l,p,f){const m=f.includes(".")?sA(p,f):()=>p[f];if(As(i)){const b=l[i];An(b)?Ds(m,b):ue(`Invalid watch handler specified by key "${i}"`,b)}else if(An(i))Ds(m,i.bind(p));else if(ls(i))if(dn(i))i.forEach(b=>dA(b,l,p,f));else{const b=An(i.handler)?i.handler.bind(p):l[i.handler];An(b)?Ds(m,b,i):ue(`Invalid watch handler specified by key "${i.handler}"`,b)}else ue(`Invalid watch option: "${f}"`,i)}function j8(i){const l=i.type,{mixins:p,extends:f}=l,{mixins:m,optionsCache:b,config:{optionMergeStrategies:A}}=i.appContext,B=b.get(l);let F;return B?F=B:!m.length&&!p&&!f?F=l:(F={},m.length&&m.forEach(O=>b0(F,O,A,!0)),b0(F,l,A)),ls(l)&&b.set(l,F),F}function b0(i,l,p,f=!1){const{mixins:m,extends:b}=l;b&&b0(i,b,p,!0),m&&m.forEach(A=>b0(i,A,p,!0));for(const A in l)if(f&&A==="expose")ue('"expose" option is ignored when declared in mixins or extends. It should only be declared in the base component itself.');else{const B=dQ[A]||p&&p[A];i[A]=B?B(i[A],l[A]):l[A]}return i}const dQ={data:G7,props:pc,emits:pc,methods:pc,computed:pc,beforeCreate:Ur,created:Ur,beforeMount:Ur,mounted:Ur,beforeUpdate:Ur,updated:Ur,beforeDestroy:Ur,beforeUnmount:Ur,destroyed:Ur,unmounted:Ur,activated:Ur,deactivated:Ur,errorCaptured:Ur,serverPrefetch:Ur,components:pc,directives:pc,watch:yQ,provide:G7,inject:fQ};function G7(i,l){return l?i?function(){return Zs(An(i)?i.call(this,this):i,An(l)?l.call(this,this):l)}:l:i}function fQ(i,l){return pc(e8(i),e8(l))}function e8(i){if(dn(i)){const l={};for(let p=0;p<i.length;p++)l[i[p]]=i[p];return l}return i}function Ur(i,l){return i?[...new Set([].concat(i,l))]:l}function pc(i,l){return i?Zs(Zs(Object.create(null),i),l):l}function yQ(i,l){if(!i)return l;if(!l)return i;const p=Zs(Object.create(null),i);for(const f in l)p[f]=Ur(i[f],l[f]);return p}function gQ(i,l,p,f=!1){const m={},b={};d0(b,W0,1),i.propsDefaults=Object.create(null),fA(i,l,m,b);for(const A in i.propsOptions[0])A in m||(m[A]=void 0);gA(l||{},m,i),p?i.props=f?m:dZ(m):i.type.props?i.props=m:i.props=b,i.attrs=b}function mQ(i){for(;i;){if(i.type.__hmrId)return!0;i=i.parent}}function _Q(i,l,p,f){const{props:m,attrs:b,vnode:{patchFlag:A}}=i,B=Rn(m),[F]=i.propsOptions;let O=!1;if(!mQ(i)&&(f||A>0)&&!(A&16)){if(A&8){const w=i.vnode.dynamicProps;for(let z=0;z<w.length;z++){let G=w[z];if(V0(i.emitsOptions,G))continue;const ot=l[G];if(F)if(Un(b,G))ot!==b[G]&&(b[G]=ot,O=!0);else{const at=No(G);m[at]=n8(F,B,at,ot,i,!1)}else ot!==b[G]&&(b[G]=ot,O=!0)}}}else{fA(i,l,m,b)&&(O=!0);let w;for(const z in B)(!l||!Un(l,z)&&((w=Sa(z))===z||!Un(l,w)))&&(F?p&&(p[z]!==void 0||p[w]!==void 0)&&(m[z]=n8(F,B,z,void 0,i,!0)):delete m[z]);if(b!==B)for(const z in b)(!l||!Un(l,z))&&(delete b[z],O=!0)}O&&Ta(i,"set","$attrs"),gA(l||{},m,i)}function fA(i,l,p,f){const[m,b]=i.propsOptions;let A=!1,B;if(l)for(let F in l){if(s0(F))continue;const O=l[F];let w;m&&Un(m,w=No(F))?!b||!b.includes(w)?p[w]=O:(B||(B={}))[w]=O:V0(i.emitsOptions,F)||(!(F in f)||O!==f[F])&&(f[F]=O,A=!0)}if(b){const F=Rn(p),O=B||us;for(let w=0;w<b.length;w++){const z=b[w];p[z]=n8(m,F,z,O[z],i,!Un(O,z))}}return A}function n8(i,l,p,f,m,b){const A=i[p];if(A!=null){const B=Un(A,"default");if(B&&f===void 0){const F=A.default;if(A.type!==Function&&An(F)){const{propsDefaults:O}=m;p in O?f=O[p]:(th(m),f=O[p]=F.call(null,l),Ac())}else f=F}A[0]&&(b&&!B?f=!1:A[1]&&(f===""||f===Sa(p))&&(f=!0))}return f}function yA(i,l,p=!1){const f=l.propsCache,m=f.get(i);if(m)return m;const b=i.props,A={},B=[];let F=!1;if(!An(i)){const w=z=>{F=!0;const[G,ot]=yA(z,l,!0);Zs(A,G),ot&&B.push(...ot)};!p&&l.mixins.length&&l.mixins.forEach(w),i.extends&&w(i.extends),i.mixins&&i.mixins.forEach(w)}if(!b&&!F)return ls(i)&&f.set(i,Xu),Xu;if(dn(b))for(let w=0;w<b.length;w++){As(b[w])||ue("props must be strings when using array syntax.",b[w]);const z=No(b[w]);q7(z)&&(A[z]=us)}else if(b){ls(b)||ue("invalid props options",b);for(const w in b){const z=No(w);if(q7(z)){const G=b[w],ot=A[z]=dn(G)||An(G)?{type:G}:Object.assign({},G);if(ot){const at=K7(Boolean,ot.type),At=K7(String,ot.type);ot[0]=at>-1,ot[1]=At<0||at<At,(at>-1||Un(ot,"default"))&&B.push(z)}}}}const O=[A,B];return ls(i)&&f.set(i,O),O}function q7(i){return i[0]!=="$"?!0:(ue(`Invalid prop name: "${i}" is a reserved property.`),!1)}function s8(i){const l=i&&i.toString().match(/^\s*function (\w+)/);return l?l[1]:i===null?"null":""}function X7(i,l){return s8(i)===s8(l)}function K7(i,l){return dn(l)?l.findIndex(p=>X7(p,i)):An(l)&&X7(l,i)?0:-1}function gA(i,l,p){const f=Rn(l),m=p.propsOptions[0];for(const b in m){let A=m[b];A!=null&&vQ(b,f[b],A,!Un(i,b)&&!Un(i,Sa(b)))}}function vQ(i,l,p,f){const{type:m,required:b,validator:A}=p;if(b&&f){ue('Missing required prop: "'+i+'"');return}if(!(l==null&&!p.required)){if(m!=null&&m!==!0){let B=!1;const F=dn(m)?m:[m],O=[];for(let w=0;w<F.length&&!B;w++){const{valid:z,expectedType:G}=xQ(l,F[w]);O.push(G||""),B=z}if(!B){ue(kQ(i,l,O));return}}A&&!A(l)&&ue('Invalid prop: custom validator check failed for prop "'+i+'".')}}const bQ=bl("String,Number,Boolean,Function,Symbol,BigInt");function xQ(i,l){let p;const f=s8(l);if(bQ(f)){const m=typeof i;p=m===f.toLowerCase(),!p&&m==="object"&&(p=i instanceof l)}else f==="Object"?p=ls(i):f==="Array"?p=dn(i):f==="null"?p=i===null:p=i instanceof l;return{valid:p,expectedType:f}}function kQ(i,l,p){let f=`Invalid prop: type check failed for prop "${i}". Expected ${p.map(Tc).join(" | ")}`;const m=p[0],b=S8(l),A=Z7(l,m),B=Z7(l,b);return p.length===1&&Q7(m)&&!CQ(m,b)&&(f+=` with value ${A}`),f+=`, got ${b} `,Q7(b)&&(f+=`with value ${B}.`),f}function Z7(i,l){return l==="String"?`"${i}"`:l==="Number"?`${Number(i)}`:`${i}`}function Q7(i){return["string","number","boolean"].some(p=>i.toLowerCase()===p)}function CQ(...i){return i.some(l=>l.toLowerCase()==="boolean")}const mA=i=>i[0]==="_"||i==="$stable",G8=i=>dn(i)?i.map(oo):[oo(i)],AQ=(i,l,p)=>{if(l._n)return l;const f=ge((...m)=>(ir&&ue(`Slot "${i}" invoked outside of the render function: this will not track dependencies used in the slot. Invoke the slot function inside the render function instead.`),G8(l(...m))),p);return f._c=!1,f},_A=(i,l,p)=>{const f=i._ctx;for(const m in i){if(mA(m))continue;const b=i[m];if(An(b))l[m]=AQ(m,b,f);else if(b!=null){ue(`Non-function value encountered for slot "${m}". Prefer function slots for better performance.`);const A=G8(b);l[m]=()=>A}}},vA=(i,l)=>{U8(i.vnode)||ue("Non-function value encountered for default slot. Prefer function slots for better performance.");const p=G8(l);i.slots.default=()=>p},wQ=(i,l)=>{if(i.vnode.shapeFlag&32){const p=l._;p?(i.slots=Rn(l),d0(l,"_",p)):_A(l,i.slots={})}else i.slots={},l&&vA(i,l);d0(i.slots,W0,1)},EQ=(i,l,p)=>{const{vnode:f,slots:m}=i;let b=!0,A=us;if(f.shapeFlag&32){const B=l._;B?pl?Zs(m,l):p&&B===1?b=!1:(Zs(m,l),!p&&B===1&&delete m._):(b=!l.$stable,_A(l,m)),A=l}else l&&(vA(i,l),A={default:1});if(b)for(const B in m)!mA(B)&&!(B in A)&&delete m[B]};function bA(){return{app:null,config:{isNativeTag:bC,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let BQ=0;function SQ(i,l){return function(f,m=null){An(f)||(f=Object.assign({},f)),m!=null&&!ls(m)&&(ue("root props passed to app.mount() must be an object."),m=null);const b=bA(),A=new Set;let B=!1;const F=b.app={_uid:BQ++,_component:f,_props:m,_container:null,_context:b,_instance:null,version:nk,get config(){return b.config},set config(O){ue("app.config cannot be replaced. Modify individual options instead.")},use(O,...w){return A.has(O)?ue("Plugin has already been applied to target app."):O&&An(O.install)?(A.add(O),O.install(F,...w)):An(O)?(A.add(O),O(F,...w)):ue('A plugin must either be a function or an object with an "install" function.'),F},mixin(O){return b.mixins.includes(O)?ue("Mixin has already been applied to target app"+(O.name?`: ${O.name}`:"")):b.mixins.push(O),F},component(O,w){return o8(O,b.config),w?(b.components[O]&&ue(`Component "${O}" has already been registered in target app.`),b.components[O]=w,F):b.components[O]},directive(O,w){return cA(O),w?(b.directives[O]&&ue(`Directive "${O}" has already been registered in target app.`),b.directives[O]=w,F):b.directives[O]},mount(O,w,z){if(B)ue("App has already been mounted.\nIf you want to remount the same app, move your app creation logic into a factory function and create fresh app instances for each mount - e.g. `const createMyApp = () => createApp(App)`");else{O.__vue_app__&&ue("There is already an app instance mounted on the host container.\n If you want to mount another app on the same host container, you need to unmount the previous app by calling `app.unmount()` first.");const G=le(f,m);return G.appContext=b,b.reload=()=>{i(Fa(G),O,z)},w&&l?l(G,O):i(G,O,z),B=!0,F._container=O,O.__vue_app__=F,F._instance=G.component,MZ(F,nk),H0(G.component)||G.component.proxy}},unmount(){B?(i(null,F._container),F._instance=null,RZ(F),delete F._container.__vue_app__):ue("Cannot unmount an app that is not mounted.")},provide(O,w){return O in b.provides&&ue(`App already provides property with key "${String(O)}". It will be overwritten with the new value.`),b.provides[O]=w,F}};return F}}function r8(i,l,p,f,m=!1){if(dn(i)){i.forEach((G,ot)=>r8(G,l&&(dn(l)?l[ot]:l),p,f,m));return}if(Zu(f)&&!m)return;const b=f.shapeFlag&4?H0(f.component)||f.component.proxy:f.el,A=m?null:b,{i:B,r:F}=i;if(!B){ue("Missing ref owner context. ref cannot be used on hoisted vnodes. A vnode with ref must be created inside the render function.");return}const O=l&&l.r,w=B.refs===us?B.refs={}:B.refs,z=B.setupState;if(O!=null&&O!==F&&(As(O)?(w[O]=null,Un(z,O)&&(z[O]=null)):ts(O)&&(O.value=null)),An(F))Ba(F,B,12,[A,w]);else{const G=As(F),ot=ts(F);if(G||ot){const at=()=>{if(i.f){const At=G?Un(z,F)?z[F]:w[F]:F.value;m?dn(At)&&w8(At,b):dn(At)?At.includes(b)||At.push(b):G?(w[F]=[b],Un(z,F)&&(z[F]=w[F])):(F.value=[b],i.k&&(w[i.k]=F.value))}else G?(w[F]=A,Un(z,F)&&(z[F]=A)):ot?(F.value=A,i.k&&(w[i.k]=A)):ue("Invalid template ref type:",F,`(${typeof F})`)};A?(at.id=-1,xr(at,p)):at()}else ue("Invalid template ref type:",F,`(${typeof F})`)}}let Ep,cl;function xa(i,l){i.appContext.config.performance&&x0()&&cl.mark(`vue-${l}-${i.uid}`),PZ(i,l,x0()?cl.now():Date.now())}function ka(i,l){if(i.appContext.config.performance&&x0()){const p=`vue-${l}-${i.uid}`,f=p+":end";cl.mark(f),cl.measure(`<${j0(i,i.type)}> ${l}`,p,f),cl.clearMarks(p),cl.clearMarks(f)}VZ(i,l,x0()?cl.now():Date.now())}function x0(){return Ep!==void 0||(typeof window<"u"&&window.performance?(Ep=!0,cl=window.performance):Ep=!1),Ep}function TQ(){const i=[];if(i.length){const l=i.length>1;console.warn(`Feature flag${l?"s":""} ${i.join(", ")} ${l?"are":"is"} not explicitly defined. You are running the esm-bundler build of Vue, which expects these compile-time feature flags to be globally injected via the bundler config in order to get better tree-shaking in the production bundle.

For more details, see https://link.vuejs.org/feature-flags.`)}}const xr=GZ;function DQ(i){return FQ(i)}function FQ(i,l){TQ();const p=AC();p.__VUE__=!0,ZC(p.__VUE_DEVTOOLS_GLOBAL_HOOK__,p);const{insert:f,remove:m,patchProp:b,createElement:A,createText:B,createComment:F,setText:O,setElementText:w,parentNode:z,nextSibling:G,setScopeId:ot=ti,insertStaticContent:at}=i,At=(Q,gt,It,se=null,te=null,pe=null,Ce=!1,he=null,_e=pl?!1:!!gt.dynamicChildren)=>{if(Q===gt)return;Q&&!Bp(Q,gt)&&(se=$e(Q),Ar(Q,te,pe,!0),Q=null),gt.patchFlag===-2&&(_e=!1,gt.dynamicChildren=null);const{type:oe,ref:He,shapeFlag:Ve}=gt;switch(oe){case ad:St(Q,gt,It,se);break;case ei:Kt(Q,gt,It,se);break;case o0:Q==null?$t(gt,It,se,Ce):Zt(Q,gt,It,Ce);break;case os:Js(Q,gt,It,se,te,pe,Ce,he,_e);break;default:Ve&1?Ae(Q,gt,It,se,te,pe,Ce,he,_e):Ve&6?tr(Q,gt,It,se,te,pe,Ce,he,_e):Ve&64||Ve&128?oe.process(Q,gt,It,se,te,pe,Ce,he,_e,Pn):ue("Invalid VNode type:",oe,`(${typeof oe})`)}He!=null&&te&&r8(He,Q&&Q.ref,pe,gt||Q,!gt)},St=(Q,gt,It,se)=>{if(Q==null)f(gt.el=B(gt.children),It,se);else{const te=gt.el=Q.el;gt.children!==Q.children&&O(te,gt.children)}},Kt=(Q,gt,It,se)=>{Q==null?f(gt.el=F(gt.children||""),It,se):gt.el=Q.el},$t=(Q,gt,It,se)=>{[Q.el,Q.anchor]=at(Q.children,gt,It,se,Q.el,Q.anchor)},Zt=(Q,gt,It,se)=>{if(gt.children!==Q.children){const te=G(Q.anchor);Fe(Q),[gt.el,gt.anchor]=at(gt.children,It,te,se)}else gt.el=Q.el,gt.anchor=Q.anchor},ie=({el:Q,anchor:gt},It,se)=>{let te;for(;Q&&Q!==gt;)te=G(Q),f(Q,It,se),Q=te;f(gt,It,se)},Fe=({el:Q,anchor:gt})=>{let It;for(;Q&&Q!==gt;)It=G(Q),m(Q),Q=It;m(gt)},Ae=(Q,gt,It,se,te,pe,Ce,he,_e)=>{Ce=Ce||gt.type==="svg",Q==null?be(gt,It,se,te,pe,Ce,he,_e):On(Q,gt,te,pe,Ce,he,_e)},be=(Q,gt,It,se,te,pe,Ce,he)=>{let _e,oe;const{type:He,props:Ve,shapeFlag:Je,transition:bn,dirs:Vn}=Q;if(_e=Q.el=A(Q.type,pe,Ve&&Ve.is,Ve),Je&8?w(_e,Q.children):Je&16&&fn(Q.children,_e,null,se,te,pe&&He!=="foreignObject",Ce,he),Vn&&cc(Q,null,se,"created"),Ve){for(const Qn in Ve)Qn!=="value"&&!s0(Qn)&&b(_e,Qn,null,Ve[Qn],pe,Q.children,se,te,ke);"value"in Ve&&b(_e,"value",null,Ve.value),(oe=Ve.onVnodeBeforeMount)&&Si(oe,se,Q)}qe(_e,Q,Q.scopeId,Ce,se),Object.defineProperty(_e,"__vnode",{value:Q,enumerable:!1}),Object.defineProperty(_e,"__vueParentComponent",{value:se,enumerable:!1}),Vn&&cc(Q,null,se,"beforeMount");const Zn=(!te||te&&!te.pendingBranch)&&bn&&!bn.persisted;Zn&&bn.beforeEnter(_e),f(_e,gt,It),((oe=Ve&&Ve.onVnodeMounted)||Zn||Vn)&&xr(()=>{oe&&Si(oe,se,Q),Zn&&bn.enter(_e),Vn&&cc(Q,null,se,"mounted")},te)},qe=(Q,gt,It,se,te)=>{if(It&&ot(Q,It),se)for(let pe=0;pe<se.length;pe++)ot(Q,se[pe]);if(te){let pe=te.subTree;if(pe.patchFlag>0&&pe.patchFlag&2048&&(pe=eA(pe.children)||pe),gt===pe){const Ce=te.vnode;qe(Q,Ce,Ce.scopeId,Ce.slotScopeIds,te.parent)}}},fn=(Q,gt,It,se,te,pe,Ce,he,_e=0)=>{for(let oe=_e;oe<Q.length;oe++){const He=Q[oe]=he?ol(Q[oe]):oo(Q[oe]);At(null,He,gt,It,se,te,pe,Ce,he)}},On=(Q,gt,It,se,te,pe,Ce)=>{const he=gt.el=Q.el;let{patchFlag:_e,dynamicChildren:oe,dirs:He}=gt;_e|=Q.patchFlag&16;const Ve=Q.props||us,Je=gt.props||us;let bn;It&&uc(It,!1),(bn=Je.onVnodeBeforeUpdate)&&Si(bn,It,gt,Q),He&&cc(gt,Q,It,"beforeUpdate"),It&&uc(It,!0),pl&&(_e=0,Ce=!1,oe=null);const Vn=te&&gt.type!=="foreignObject";if(oe?($n(Q.dynamicChildren,oe,he,It,se,Vn,pe),It&&It.type.__hmrId&&$p(Q,gt)):Ce||Mn(Q,gt,he,null,It,se,Vn,pe,!1),_e>0){if(_e&16)ws(he,gt,Ve,Je,It,se,te);else if(_e&2&&Ve.class!==Je.class&&b(he,"class",null,Je.class,te),_e&4&&b(he,"style",Ve.style,Je.style,te),_e&8){const Zn=gt.dynamicProps;for(let Qn=0;Qn<Zn.length;Qn++){const vs=Zn[Qn],ni=Ve[vs],Ra=Je[vs];(Ra!==ni||vs==="value")&&b(he,vs,ni,Ra,te,Q.children,It,se,ke)}}_e&1&&Q.children!==gt.children&&w(he,gt.children)}else!Ce&&oe==null&&ws(he,gt,Ve,Je,It,se,te);((bn=Je.onVnodeUpdated)||He)&&xr(()=>{bn&&Si(bn,It,gt,Q),He&&cc(gt,Q,It,"updated")},se)},$n=(Q,gt,It,se,te,pe,Ce)=>{for(let he=0;he<gt.length;he++){const _e=Q[he],oe=gt[he],He=_e.el&&(_e.type===os||!Bp(_e,oe)||_e.shapeFlag&70)?z(_e.el):It;At(_e,oe,He,null,se,te,pe,Ce,!0)}},ws=(Q,gt,It,se,te,pe,Ce)=>{if(It!==se){if(It!==us)for(const he in It)!s0(he)&&!(he in se)&&b(Q,he,It[he],null,Ce,gt.children,te,pe,ke);for(const he in se){if(s0(he))continue;const _e=se[he],oe=It[he];_e!==oe&&he!=="value"&&b(Q,he,oe,_e,Ce,gt.children,te,pe,ke)}"value"in se&&b(Q,"value",It.value,se.value)}},Js=(Q,gt,It,se,te,pe,Ce,he,_e)=>{const oe=gt.el=Q?Q.el:B(""),He=gt.anchor=Q?Q.anchor:B("");let{patchFlag:Ve,dynamicChildren:Je,slotScopeIds:bn}=gt;(pl||Ve&2048)&&(Ve=0,_e=!1,Je=null),bn&&(he=he?he.concat(bn):bn),Q==null?(f(oe,It,se),f(He,It,se),fn(gt.children,It,He,te,pe,Ce,he,_e)):Ve>0&&Ve&64&&Je&&Q.dynamicChildren?($n(Q.dynamicChildren,Je,It,te,pe,Ce,he),te&&te.type.__hmrId?$p(Q,gt):(gt.key!=null||te&&gt===te.subTree)&&$p(Q,gt,!0)):Mn(Q,gt,It,He,te,pe,Ce,he,_e)},tr=(Q,gt,It,se,te,pe,Ce,he,_e)=>{gt.slotScopeIds=he,Q==null?gt.shapeFlag&512?te.ctx.activate(gt,It,se,Ce,_e):Kn(gt,It,se,te,pe,Ce,_e):ds(Q,gt,_e)},Kn=(Q,gt,It,se,te,pe,Ce)=>{const he=Q.component=YQ(Q,se,te);if(he.type.__hmrId&&DZ(he),r0(Q),xa(he,"mount"),U8(Q)&&(he.ctx.renderer=Pn),xa(he,"init"),zQ(he),ka(he,"init"),he.asyncDep){if(te&&te.registerDep(he,Le),!Q.el){const _e=he.subTree=le(ei);Kt(null,_e,gt,It)}return}Le(he,Q,gt,It,te,pe,Ce),i0(),ka(he,"mount")},ds=(Q,gt,It)=>{const se=gt.component=Q.component;if(HZ(Q,gt,It))if(se.asyncDep&&!se.asyncResolved){r0(gt),nn(se,gt,It),i0();return}else se.next=gt,SZ(se.update),se.update();else gt.el=Q.el,se.vnode=gt},Le=(Q,gt,It,se,te,pe,Ce)=>{const he=()=>{if(Q.isMounted){let{next:He,bu:Ve,u:Je,parent:bn,vnode:Vn}=Q,Zn=He,Qn;r0(He||Q.vnode),uc(Q,!1),He?(He.el=Vn.el,nn(Q,He,Ce)):He=Vn,Ve&&ll(Ve),(Qn=He.props&&He.props.onVnodeBeforeUpdate)&&Si(Qn,bn,He,Vn),uc(Q,!0),xa(Q,"render");const vs=T2(Q);ka(Q,"render");const ni=Q.subTree;Q.subTree=vs,xa(Q,"patch"),At(ni,vs,z(ni.el),$e(ni),Q,te,pe),ka(Q,"patch"),He.el=vs.el,Zn===null&&jZ(Q,vs.el),Je&&xr(Je,te),(Qn=He.props&&He.props.onVnodeUpdated)&&xr(()=>Si(Qn,bn,He,Vn),te),QC(Q),i0()}else{let He;const{el:Ve,props:Je}=gt,{bm:bn,m:Vn,parent:Zn}=Q,Qn=Zu(gt);if(uc(Q,!1),bn&&ll(bn),!Qn&&(He=Je&&Je.onVnodeBeforeMount)&&Si(He,Zn,gt),uc(Q,!0),Ve&&an){const vs=()=>{xa(Q,"render"),Q.subTree=T2(Q),ka(Q,"render"),xa(Q,"hydrate"),an(Ve,Q.subTree,Q,te,null),ka(Q,"hydrate")};Qn?gt.type.__asyncLoader().then(()=>!Q.isUnmounted&&vs()):vs()}else{xa(Q,"render");const vs=Q.subTree=T2(Q);ka(Q,"render"),xa(Q,"patch"),At(null,vs,It,se,Q,te,pe),ka(Q,"patch"),gt.el=vs.el}if(Vn&&xr(Vn,te),!Qn&&(He=Je&&Je.onVnodeMounted)){const vs=gt;xr(()=>Si(He,Zn,vs),te)}(gt.shapeFlag&256||Zn&&Zu(Zn.vnode)&&Zn.vnode.shapeFlag&256)&&Q.a&&xr(Q.a,te),Q.isMounted=!0,K2(Q),gt=It=se=null}},_e=Q.effect=new F8(he,()=>P0(oe),Q.scope),oe=Q.update=()=>_e.run();oe.id=Q.uid,uc(Q,!0),_e.onTrack=Q.rtc?He=>ll(Q.rtc,He):void 0,_e.onTrigger=Q.rtg?He=>ll(Q.rtg,He):void 0,oe.ownerInstance=Q,oe()},nn=(Q,gt,It)=>{gt.component=Q;const se=Q.vnode.props;Q.vnode=gt,Q.next=null,_Q(Q,gt.props,se,It),EQ(Q,gt.children,It),Mc(),$7(),Rc()},Mn=(Q,gt,It,se,te,pe,Ce,he,_e=!1)=>{const oe=Q&&Q.children,He=Q?Q.shapeFlag:0,Ve=gt.children,{patchFlag:Je,shapeFlag:bn}=gt;if(Je>0){if(Je&128){gr(oe,Ve,It,se,te,pe,Ce,he,_e);return}else if(Je&256){qn(oe,Ve,It,se,te,pe,Ce,he,_e);return}}bn&8?(He&16&&ke(oe,te,pe),Ve!==oe&&w(It,Ve)):He&16?bn&16?gr(oe,Ve,It,se,te,pe,Ce,he,_e):ke(oe,te,pe,!0):(He&8&&w(It,""),bn&16&&fn(Ve,It,se,te,pe,Ce,he,_e))},qn=(Q,gt,It,se,te,pe,Ce,he,_e)=>{Q=Q||Xu,gt=gt||Xu;const oe=Q.length,He=gt.length,Ve=Math.min(oe,He);let Je;for(Je=0;Je<Ve;Je++){const bn=gt[Je]=_e?ol(gt[Je]):oo(gt[Je]);At(Q[Je],bn,It,null,te,pe,Ce,he,_e)}oe>He?ke(Q,te,pe,!0,!1,Ve):fn(gt,It,se,te,pe,Ce,he,_e,Ve)},gr=(Q,gt,It,se,te,pe,Ce,he,_e)=>{let oe=0;const He=gt.length;let Ve=Q.length-1,Je=He-1;for(;oe<=Ve&&oe<=Je;){const bn=Q[oe],Vn=gt[oe]=_e?ol(gt[oe]):oo(gt[oe]);if(Bp(bn,Vn))At(bn,Vn,It,null,te,pe,Ce,he,_e);else break;oe++}for(;oe<=Ve&&oe<=Je;){const bn=Q[Ve],Vn=gt[Je]=_e?ol(gt[Je]):oo(gt[Je]);if(Bp(bn,Vn))At(bn,Vn,It,null,te,pe,Ce,he,_e);else break;Ve--,Je--}if(oe>Ve){if(oe<=Je){const bn=Je+1,Vn=bn<He?gt[bn].el:se;for(;oe<=Je;)At(null,gt[oe]=_e?ol(gt[oe]):oo(gt[oe]),It,Vn,te,pe,Ce,he,_e),oe++}}else if(oe>Je)for(;oe<=Ve;)Ar(Q[oe],te,pe,!0),oe++;else{const bn=oe,Vn=oe,Zn=new Map;for(oe=Vn;oe<=Je;oe++){const mr=gt[oe]=_e?ol(gt[oe]):oo(gt[oe]);mr.key!=null&&(Zn.has(mr.key)&&ue("Duplicate keys found during update:",JSON.stringify(mr.key),"Make sure keys are unique."),Zn.set(mr.key,oe))}let Qn,vs=0;const ni=Je-Vn+1;let Ra=!1,rh=0;const kl=new Array(ni);for(oe=0;oe<ni;oe++)kl[oe]=0;for(oe=bn;oe<=Ve;oe++){const mr=Q[oe];if(vs>=ni){Ar(mr,te,pe,!0);continue}let si;if(mr.key!=null)si=Zn.get(mr.key);else for(Qn=Vn;Qn<=Je;Qn++)if(kl[Qn-Vn]===0&&Bp(mr,gt[Qn])){si=Qn;break}si===void 0?Ar(mr,te,pe,!0):(kl[si-Vn]=oe+1,si>=rh?rh=si:Ra=!0,At(mr,gt[si],It,null,te,pe,Ce,he,_e),vs++)}const Pc=Ra?LQ(kl):Xu;for(Qn=Pc.length-1,oe=ni-1;oe>=0;oe--){const mr=Vn+oe,si=gt[mr],ld=mr+1<He?gt[mr+1].el:se;kl[oe]===0?At(null,si,It,ld,te,pe,Ce,he,_e):Ra&&(Qn<0||oe!==Pc[Qn]?Ys(si,It,ld,2):Qn--)}}},Ys=(Q,gt,It,se,te=null)=>{const{el:pe,type:Ce,transition:he,children:_e,shapeFlag:oe}=Q;if(oe&6){Ys(Q.component.subTree,gt,It,se);return}if(oe&128){Q.suspense.move(gt,It,se);return}if(oe&64){Ce.move(Q,gt,It,Pn);return}if(Ce===os){f(pe,gt,It);for(let Ve=0;Ve<_e.length;Ve++)Ys(_e[Ve],gt,It,se);f(Q.anchor,gt,It);return}if(Ce===o0){ie(Q,gt,It);return}if(se!==2&&oe&1&&he)if(se===0)he.beforeEnter(pe),f(pe,gt,It),xr(()=>he.enter(pe),te);else{const{leave:Ve,delayLeave:Je,afterLeave:bn}=he,Vn=()=>f(pe,gt,It),Zn=()=>{Ve(pe,()=>{Vn(),bn&&bn()})};Je?Je(pe,Vn,Zn):Zn()}else f(pe,gt,It)},Ar=(Q,gt,It,se=!1,te=!1)=>{const{type:pe,props:Ce,ref:he,children:_e,dynamicChildren:oe,shapeFlag:He,patchFlag:Ve,dirs:Je}=Q;if(he!=null&&r8(he,null,It,Q,!0),He&256){gt.ctx.deactivate(Q);return}const bn=He&1&&Je,Vn=!Zu(Q);let Zn;if(Vn&&(Zn=Ce&&Ce.onVnodeBeforeUnmount)&&Si(Zn,gt,Q),He&6)Re(Q.component,It,se);else{if(He&128){Q.suspense.unmount(It,se);return}bn&&cc(Q,null,gt,"beforeUnmount"),He&64?Q.type.remove(Q,gt,It,te,Pn,se):oe&&(pe!==os||Ve>0&&Ve&64)?ke(oe,gt,It,!1,!0):(pe===os&&Ve&384||!te&&He&16)&&ke(_e,gt,It),se&&Fi(Q)}(Vn&&(Zn=Ce&&Ce.onVnodeUnmounted)||bn)&&xr(()=>{Zn&&Si(Zn,gt,Q),bn&&cc(Q,null,gt,"unmounted")},It)},Fi=Q=>{const{type:gt,el:It,anchor:se,transition:te}=Q;if(gt===os){Q.patchFlag>0&&Q.patchFlag&2048&&te&&!te.persisted?Q.children.forEach(Ce=>{Ce.type===ei?m(Ce.el):Fi(Ce)}):zt(It,se);return}if(gt===o0){Fe(Q);return}const pe=()=>{m(It),te&&!te.persisted&&te.afterLeave&&te.afterLeave()};if(Q.shapeFlag&1&&te&&!te.persisted){const{leave:Ce,delayLeave:he}=te,_e=()=>Ce(It,pe);he?he(Q.el,pe,_e):_e()}else pe()},zt=(Q,gt)=>{let It;for(;Q!==gt;)It=G(Q),m(Q),Q=It;m(gt)},Re=(Q,gt,It)=>{Q.type.__hmrId&&FZ(Q);const{bum:se,scope:te,update:pe,subTree:Ce,um:he}=Q;se&&ll(se),te.stop(),pe&&(pe.active=!1,Ar(Ce,Q,gt,It)),he&&xr(he,gt),xr(()=>{Q.isUnmounted=!0},gt),gt&&gt.pendingBranch&&!gt.isUnmounted&&Q.asyncDep&&!Q.asyncResolved&&Q.suspenseId===gt.pendingId&&(gt.deps--,gt.deps===0&&gt.resolve()),NZ(Q)},ke=(Q,gt,It,se=!1,te=!1,pe=0)=>{for(let Ce=pe;Ce<Q.length;Ce++)Ar(Q[Ce],gt,It,se,te)},$e=Q=>Q.shapeFlag&6?$e(Q.component.subTree):Q.shapeFlag&128?Q.suspense.next():G(Q.anchor||Q.el),Ln=(Q,gt,It)=>{Q==null?gt._vnode&&Ar(gt._vnode,null,null,!0):At(gt._vnode||null,Q,gt,null,null,null,It),$7(),qC(),gt._vnode=Q},Pn={p:At,um:Ar,m:Ys,r:Fi,mt:Kn,mc:fn,pc:Mn,pbc:$n,n:$e,o:i};let yn,an;return l&&([yn,an]=l(Pn)),{render:Ln,hydrate:yn,createApp:SQ(Ln,yn)}}function uc({effect:i,update:l},p){i.allowRecurse=l.allowRecurse=p}function $p(i,l,p=!1){const f=i.children,m=l.children;if(dn(f)&&dn(m))for(let b=0;b<f.length;b++){const A=f[b];let B=m[b];B.shapeFlag&1&&!B.dynamicChildren&&((B.patchFlag<=0||B.patchFlag===32)&&(B=m[b]=ol(m[b]),B.el=A.el),p||$p(A,B)),B.type===ad&&(B.el=A.el),B.type===ei&&!B.el&&(B.el=A.el)}}function LQ(i){const l=i.slice(),p=[0];let f,m,b,A,B;const F=i.length;for(f=0;f<F;f++){const O=i[f];if(O!==0){if(m=p[p.length-1],i[m]<O){l[f]=m,p.push(f);continue}for(b=0,A=p.length-1;b<A;)B=b+A>>1,i[p[B]]<O?b=B+1:A=B;O<i[p[b]]&&(b>0&&(l[f]=p[b-1]),p[b]=f)}}for(b=p.length,A=p[b-1];b-- >0;)p[b]=A,A=l[A];return p}const IQ=i=>i.__isTeleport,Qu=i=>i&&(i.disabled||i.disabled===""),J7=i=>typeof SVGElement<"u"&&i instanceof SVGElement,i8=(i,l)=>{const p=i&&i.to;if(As(p))if(l){const f=l(p);return f||ue(`Failed to locate Teleport target with selector "${p}". Note the target element must exist before the component is mounted - i.e. the target cannot be rendered by the component itself, and ideally should be outside of the entire Vue component tree.`),f}else return ue("Current renderer does not support string target for Teleports. (missing querySelector renderer option)"),null;else return!p&&!Qu(i)&&ue(`Invalid Teleport target: ${p}`),p},MQ={__isTeleport:!0,process(i,l,p,f,m,b,A,B,F,O){const{mc:w,pc:z,pbc:G,o:{insert:ot,querySelector:at,createText:At,createComment:St}}=O,Kt=Qu(l.props);let{shapeFlag:$t,children:Zt,dynamicChildren:ie}=l;if(pl&&(F=!1,ie=null),i==null){const Fe=l.el=St("teleport start"),Ae=l.anchor=St("teleport end");ot(Fe,p,f),ot(Ae,p,f);const be=l.target=i8(l.props,at),qe=l.targetAnchor=At("");be?(ot(qe,be),A=A||J7(be)):Kt||ue("Invalid Teleport target on mount:",be,`(${typeof be})`);const fn=(On,$n)=>{$t&16&&w(Zt,On,$n,m,b,A,B,F)};Kt?fn(p,Ae):be&&fn(be,qe)}else{l.el=i.el;const Fe=l.anchor=i.anchor,Ae=l.target=i.target,be=l.targetAnchor=i.targetAnchor,qe=Qu(i.props),fn=qe?p:Ae,On=qe?Fe:be;if(A=A||J7(Ae),ie?(G(i.dynamicChildren,ie,fn,m,b,A,B),$p(i,l,!0)):F||z(i,l,fn,On,m,b,A,B,!1),Kt)qe||J1(l,p,Fe,O,1);else if((l.props&&l.props.to)!==(i.props&&i.props.to)){const $n=l.target=i8(l.props,at);$n?J1(l,$n,null,O,0):ue("Invalid Teleport target on update:",Ae,`(${typeof Ae})`)}else qe&&J1(l,Ae,be,O,1)}xA(l)},remove(i,l,p,f,{um:m,o:{remove:b}},A){const{shapeFlag:B,children:F,anchor:O,targetAnchor:w,target:z,props:G}=i;if(z&&b(w),(A||!Qu(G))&&(b(O),B&16))for(let ot=0;ot<F.length;ot++){const at=F[ot];m(at,l,p,!0,!!at.dynamicChildren)}},move:J1,hydrate:RQ};function J1(i,l,p,{o:{insert:f},m},b=2){b===0&&f(i.targetAnchor,l,p);const{el:A,anchor:B,shapeFlag:F,children:O,props:w}=i,z=b===2;if(z&&f(A,l,p),(!z||Qu(w))&&F&16)for(let G=0;G<O.length;G++)m(O[G],l,p,2);z&&f(B,l,p)}function RQ(i,l,p,f,m,b,{o:{nextSibling:A,parentNode:B,querySelector:F}},O){const w=l.target=i8(l.props,F);if(w){const z=w._lpa||w.firstChild;if(l.shapeFlag&16)if(Qu(l.props))l.anchor=O(A(i),l,B(i),p,f,m,b),l.targetAnchor=z;else{l.anchor=A(i);let G=z;for(;G;)if(G=A(G),G&&G.nodeType===8&&G.data==="teleport anchor"){l.targetAnchor=G,w._lpa=l.targetAnchor&&A(l.targetAnchor);break}O(z,l,w,p,f,m,b)}xA(l)}return l.anchor&&A(l.anchor)}const uft=MQ;function xA(i){const l=i.ctx;if(l&&l.ut){let p=i.children[0].el;for(;p!==i.targetAnchor;)p.nodeType===1&&p.setAttribute("data-v-owner",l.uid),p=p.nextSibling;l.ut()}}const os=Symbol("Fragment"),ad=Symbol("Text"),ei=Symbol("Comment"),o0=Symbol("Static"),Yp=[];let lo=null;function Yt(i=!1){Yp.push(lo=i?null:[])}function OQ(){Yp.pop(),lo=Yp[Yp.length-1]||null}let Xp=1;function tk(i){Xp+=i}function kA(i){return i.dynamicChildren=Xp>0?lo||Xu:null,OQ(),Xp>0&&lo&&lo.push(i),i}function Ne(i,l,p,f,m,b){return kA(n(i,l,p,f,m,b,!0))}function Xe(i,l,p,f,m){return kA(le(i,l,p,f,m,!0))}function _l(i){return i?i.__v_isVNode===!0:!1}function Bp(i,l){return l.shapeFlag&6&&Wu.has(l.type)?(i.shapeFlag&=-257,l.shapeFlag&=-513,!1):i.type===l.type&&i.key===l.key}const NQ=(...i)=>PQ(...i),W0="__vInternal",CA=({key:i})=>i??null,a0=({ref:i,ref_key:l,ref_for:p})=>i!=null?As(i)||ts(i)||An(i)?{i:ar,r:i,k:l,f:!!p}:i:null;function n(i,l=null,p=null,f=0,m=null,b=i===os?0:1,A=!1,B=!1){const F={__v_isVNode:!0,__v_skip:!0,type:i,props:l,key:l&&CA(l),ref:l&&a0(l),scopeId:$0,slotScopeIds:null,children:p,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:b,patchFlag:f,dynamicProps:m,dynamicChildren:null,appContext:null,ctx:ar};return B?(q8(F,p),b&128&&i.normalize(F)):p&&(F.shapeFlag|=As(p)?8:16),F.key!==F.key&&ue("VNode created with invalid key (NaN). VNode type:",F.type),Xp>0&&!A&&lo&&(F.patchFlag>0||b&6)&&F.patchFlag!==32&&lo.push(F),F}const le=NQ;function PQ(i,l=null,p=null,f=0,m=null,b=!1){if((!i||i===oQ)&&(i||ue(`Invalid vnode type when creating vnode: ${i}.`),i=ei),_l(i)){const B=Fa(i,l,!0);return p&&q8(B,p),Xp>0&&!b&&lo&&(B.shapeFlag&6?lo[lo.indexOf(i)]=B:lo.push(B)),B.patchFlag|=-2,B}if(SA(i)&&(i=i.__vccOpts),l){l=es(l);let{class:B,style:F}=l;B&&!As(B)&&(l.class=Rs(B)),ls(F)&&(m0(F)&&!dn(F)&&(F=Zs({},F)),l.style=lr(F))}const A=As(i)?1:nA(i)?128:IQ(i)?64:ls(i)?4:An(i)?2:0;return A&4&&m0(i)&&(i=Rn(i),ue("Vue received a Component which was made a reactive object. This can lead to unnecessary performance overhead, and should be avoided by marking the component with `markRaw` or using `shallowRef` instead of `ref`.",`
Component that was made reactive: `,i)),n(i,l,p,f,m,A,b,!0)}function es(i){return i?m0(i)||W0 in i?Zs({},i):i:null}function Fa(i,l,p=!1){const{props:f,ref:m,patchFlag:b,children:A}=i,B=l?_s(f||{},l):f;return{__v_isVNode:!0,__v_skip:!0,type:i.type,props:B,key:B&&CA(B),ref:l&&l.ref?p&&m?dn(m)?m.concat(a0(l)):[m,a0(l)]:a0(l):m,scopeId:i.scopeId,slotScopeIds:i.slotScopeIds,children:b===-1&&dn(A)?A.map(AA):A,target:i.target,targetAnchor:i.targetAnchor,staticCount:i.staticCount,shapeFlag:i.shapeFlag,patchFlag:l&&i.type!==os?b===-1?16:b|16:b,dynamicProps:i.dynamicProps,dynamicChildren:i.dynamicChildren,appContext:i.appContext,dirs:i.dirs,transition:i.transition,component:i.component,suspense:i.suspense,ssContent:i.ssContent&&Fa(i.ssContent),ssFallback:i.ssFallback&&Fa(i.ssFallback),el:i.el,anchor:i.anchor,ctx:i.ctx}}function AA(i){const l=Fa(i);return dn(i.children)&&(l.children=i.children.map(AA)),l}function E(i=" ",l=0){return le(ad,null,i,l)}function Wn(i="",l=!1){return l?(Yt(),Xe(ei,null,i)):le(ei,null,i)}function oo(i){return i==null||typeof i=="boolean"?le(ei):dn(i)?le(os,null,i.slice()):typeof i=="object"?ol(i):le(ad,null,String(i))}function ol(i){return i.el===null&&i.patchFlag!==-1||i.memo?i:Fa(i)}function q8(i,l){let p=0;const{shapeFlag:f}=i;if(l==null)l=null;else if(dn(l))p=16;else if(typeof l=="object")if(f&65){const m=l.default;m&&(m._c&&(m._d=!1),q8(i,m()),m._c&&(m._d=!0));return}else{p=32;const m=l._;!m&&!(W0 in l)?l._ctx=ar:m===3&&ar&&(ar.slots._===1?l._=1:(l._=2,i.patchFlag|=1024))}else An(l)?(l={default:l,_ctx:ar},p=32):(l=String(l),f&64?(p=16,l=[E(l)]):p=8);i.children=l,i.shapeFlag|=p}function _s(...i){const l={};for(let p=0;p<i.length;p++){const f=i[p];for(const m in f)if(m==="class")l.class!==f.class&&(l.class=Rs([l.class,f.class]));else if(m==="style")l.style=lr([l.style,f.style]);else if(rd(m)){const b=l[m],A=f[m];A&&b!==A&&!(dn(b)&&b.includes(A))&&(l[m]=b?[].concat(b,A):A)}else m!==""&&(l[m]=f[m])}return l}function Si(i,l,p,f=null){co(i,l,7,[p,f])}const VQ=bA();let $Q=0;function YQ(i,l,p){const f=i.type,m=(l?l.appContext:i.appContext)||VQ,b={uid:$Q++,vnode:i,type:f,parent:l,appContext:m,root:null,next:null,subTree:null,effect:null,update:null,scope:new wC(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:l?l.provides:Object.create(m.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:yA(f,m),emitsOptions:tA(f,m),emit:null,emitted:null,propsDefaults:us,inheritAttrs:f.inheritAttrs,ctx:us,data:us,props:us,attrs:us,slots:us,refs:us,setupState:us,setupContext:null,suspense:p,suspenseId:p?p.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return b.ctx=aQ(b),b.root=l?l.root:b,b.emit=YZ.bind(null,b),i.ce&&i.ce(b),b}let ir=null;const xl=()=>ir||ar,th=i=>{ir=i,i.scope.on()},Ac=()=>{ir&&ir.scope.off(),ir=null},UQ=bl("slot,component");function o8(i,l){const p=l.isNativeTag||bC;(UQ(i)||p(i))&&ue("Do not use built-in or reserved HTML elements as component id: "+i)}function wA(i){return i.vnode.shapeFlag&4}let Kp=!1;function zQ(i,l=!1){Kp=l;const{props:p,children:f}=i.vnode,m=wA(i);gQ(i,p,m,l),wQ(i,f);const b=m?WQ(i,l):void 0;return Kp=!1,b}function WQ(i,l){var p;const f=i.type;{if(f.name&&o8(f.name,i.appContext.config),f.components){const b=Object.keys(f.components);for(let A=0;A<b.length;A++)o8(b[A],i.appContext.config)}if(f.directives){const b=Object.keys(f.directives);for(let A=0;A<b.length;A++)cA(b[A])}f.compilerOptions&&HQ()&&ue('"compilerOptions" is only supported when using a build of Vue that includes the runtime compiler. Since you are using a runtime-only build, the options should be passed via your build tool config instead.')}i.accessCache=Object.create(null),i.proxy=I8(new Proxy(i.ctx,pA)),lQ(i);const{setup:m}=f;if(m){const b=i.setupContext=m.length>1?BA(i):null;th(i),Mc();const A=Ba(m,i,0,[Gu(i.props),b]);if(Rc(),Ac(),B8(A)){if(A.then(Ac,Ac),l)return A.then(B=>{ek(i,B,l)}).catch(B=>{N0(B,i,0)});if(i.asyncDep=A,!i.suspense){const B=(p=f.name)!==null&&p!==void 0?p:"Anonymous";ue(`Component <${B}>: setup function returned a promise, but no <Suspense> boundary was found in the parent component tree. A component with async setup() must be nested in a <Suspense> in order to be rendered.`)}}else ek(i,A,l)}else EA(i,l)}function ek(i,l,p){An(l)?i.type.__ssrInlineRender?i.ssrRender=l:i.render=l:ls(l)?(_l(l)&&ue("setup() should not return VNodes directly - return a render function instead."),i.devtoolsRawSetupState=l,i.setupState=$C(l),cQ(i)):l!==void 0&&ue(`setup() should return an object. Received: ${l===null?"null":typeof l}`),EA(i,p)}let a8;const HQ=()=>!a8;function EA(i,l,p){const f=i.type;if(!i.render){if(!l&&a8&&!f.render){const m=f.template||j8(i).template;if(m){xa(i,"compile");const{isCustomElement:b,compilerOptions:A}=i.appContext.config,{delimiters:B,compilerOptions:F}=f,O=Zs(Zs({isCustomElement:b,delimiters:B},A),F);f.render=a8(m,O),ka(i,"compile")}}i.render=f.render||ti}th(i),Mc(),hQ(i),Rc(),Ac(),!f.render&&i.render===ti&&!l&&(f.template?ue('Component provided template option but runtime compilation is not supported in this build of Vue. Configure your bundler to alias "vue" to "vue/dist/vue.esm-bundler.js".'):ue("Component is missing template or render function."))}function jQ(i){return new Proxy(i.attrs,{get(l,p){return v0(),_i(i,"get","$attrs"),l[p]},set(){return ue("setupContext.attrs is readonly."),!1},deleteProperty(){return ue("setupContext.attrs is readonly."),!1}})}function BA(i){const l=f=>{i.exposed&&ue("expose() should be called only once per setup()."),i.exposed=f||{}};let p;return Object.freeze({get attrs(){return p||(p=jQ(i))},get slots(){return Gu(i.slots)},get emit(){return(f,...m)=>i.emit(f,...m)},expose:l})}function H0(i){if(i.exposed)return i.exposeProxy||(i.exposeProxy=new Proxy($C(I8(i.exposed)),{get(l,p){if(p in l)return l[p];if(p in Cc)return Cc[p](i)},has(l,p){return p in l||p in Cc}}))}const GQ=/(?:^|[-_])(\w)/g,qQ=i=>i.replace(GQ,l=>l.toUpperCase()).replace(/[-_]/g,"");function Zp(i,l=!0){return An(i)?i.displayName||i.name:i.name||l&&i.__name}function j0(i,l,p=!1){let f=Zp(l);if(!f&&l.__file){const m=l.__file.match(/([^/\\]+)\.\w+$/);m&&(f=m[1])}if(!f&&i&&i.parent){const m=b=>{for(const A in b)if(b[A]===l)return A};f=m(i.components||i.parent.type.components)||m(i.appContext.components)}return f?qQ(f):p?"App":"Anonymous"}function SA(i){return An(i)&&"__vccOpts"in i}const re=(i,l)=>zC(i,l,Kp);function hft(){return XQ().slots}function XQ(){const i=xl();return i||ue("useContext() called without active instance."),i.setupContext||(i.setupContext=BA(i))}function Fc(i,l,p){const f=arguments.length;return f===2?ls(l)&&!dn(l)?_l(l)?le(i,null,[l]):le(i,l):le(i,null,l):(f>3?p=Array.prototype.slice.call(arguments,2):f===3&&_l(p)&&(p=[p]),le(i,l,p))}const KQ=Symbol("ssrContext"),ZQ=()=>{{const i=Pe(KQ);return i||ue("Server rendering context not provided. Make sure to only call useSSRContext() conditionally in the server build."),i}};function I2(i){return!!(i&&i.__v_isShallow)}function QQ(){if(typeof window>"u")return;const i={style:"color:#3ba776"},l={style:"color:#0b1bc9"},p={style:"color:#b62e24"},f={style:"color:#9d288c"},m={header(z){return ls(z)?z.__isVue?["div",i,"VueInstance"]:ts(z)?["div",{},["span",i,w(z)],"<",B(z.value),">"]:xc(z)?["div",{},["span",i,I2(z)?"ShallowReactive":"Reactive"],"<",B(z),`>${ml(z)?" (readonly)":""}`]:ml(z)?["div",{},["span",i,I2(z)?"ShallowReadonly":"Readonly"],"<",B(z),">"]:null:null},hasBody(z){return z&&z.__isVue},body(z){if(z&&z.__isVue)return["div",{},...b(z.$)]}};function b(z){const G=[];z.type.props&&z.props&&G.push(A("props",Rn(z.props))),z.setupState!==us&&G.push(A("setup",z.setupState)),z.data!==us&&G.push(A("data",Rn(z.data)));const ot=F(z,"computed");ot&&G.push(A("computed",ot));const at=F(z,"inject");return at&&G.push(A("injected",at)),G.push(["div",{},["span",{style:f.style+";opacity:0.66"},"$ (internal): "],["object",{object:z}]]),G}function A(z,G){return G=Zs({},G),Object.keys(G).length?["div",{style:"line-height:1.25em;margin-bottom:0.6em"},["div",{style:"color:#476582"},z],["div",{style:"padding-left:1.25em"},...Object.keys(G).map(ot=>["div",{},["span",f,ot+": "],B(G[ot],!1)])]]:["span",{}]}function B(z,G=!0){return typeof z=="number"?["span",l,z]:typeof z=="string"?["span",p,JSON.stringify(z)]:typeof z=="boolean"?["span",f,z]:ls(z)?["object",{object:G?Rn(z):z}]:["span",p,String(z)]}function F(z,G){const ot=z.type;if(An(ot))return;const at={};for(const At in z.ctx)O(ot,At,G)&&(at[At]=z.ctx[At]);return at}function O(z,G,ot){const at=z[ot];if(dn(at)&&at.includes(G)||ls(at)&&G in at||z.extends&&O(z.extends,G,ot)||z.mixins&&z.mixins.some(At=>O(At,G,ot)))return!0}function w(z){return I2(z)?"ShallowRef":z.effect?"ComputedRef":"Ref"}window.devtoolsFormatters?window.devtoolsFormatters.push(m):window.devtoolsFormatters=[m]}const nk="3.2.45",JQ="http://www.w3.org/2000/svg",dc=typeof document<"u"?document:null,sk=dc&&dc.createElement("template"),tJ={insert:(i,l,p)=>{l.insertBefore(i,p||null)},remove:i=>{const l=i.parentNode;l&&l.removeChild(i)},createElement:(i,l,p,f)=>{const m=l?dc.createElementNS(JQ,i):dc.createElement(i,p?{is:p}:void 0);return i==="select"&&f&&f.multiple!=null&&m.setAttribute("multiple",f.multiple),m},createText:i=>dc.createTextNode(i),createComment:i=>dc.createComment(i),setText:(i,l)=>{i.nodeValue=l},setElementText:(i,l)=>{i.textContent=l},parentNode:i=>i.parentNode,nextSibling:i=>i.nextSibling,querySelector:i=>dc.querySelector(i),setScopeId(i,l){i.setAttribute(l,"")},insertStaticContent(i,l,p,f,m,b){const A=p?p.previousSibling:l.lastChild;if(m&&(m===b||m.nextSibling))for(;l.insertBefore(m.cloneNode(!0),p),!(m===b||!(m=m.nextSibling)););else{sk.innerHTML=f?`<svg>${i}</svg>`:i;const B=sk.content;if(f){const F=B.firstChild;for(;F.firstChild;)B.appendChild(F.firstChild);B.removeChild(F)}l.insertBefore(B,p)}return[A?A.nextSibling:l.firstChild,p?p.previousSibling:l.lastChild]}};function eJ(i,l,p){const f=i._vtc;f&&(l=(l?[l,...f]:[...f]).join(" ")),l==null?i.removeAttribute("class"):p?i.setAttribute("class",l):i.className=l}function nJ(i,l,p){const f=i.style,m=As(p);if(p&&!m){for(const b in p)l8(f,b,p[b]);if(l&&!As(l))for(const b in l)p[b]==null&&l8(f,b,"")}else{const b=f.display;m?l!==p&&(f.cssText=p):l&&i.removeAttribute("style"),"_vod"in i&&(f.display=b)}}const sJ=/[^\\];\s*$/,rk=/\s*!important$/;function l8(i,l,p){if(dn(p))p.forEach(f=>l8(i,l,f));else if(p==null&&(p=""),sJ.test(p)&&ue(`Unexpected semicolon at the end of '${l}' style value: '${p}'`),l.startsWith("--"))i.setProperty(l,p);else{const f=rJ(i,l);rk.test(p)?i.setProperty(Sa(f),p.replace(rk,""),"important"):i[f]=p}}const ik=["Webkit","Moz","ms"],M2={};function rJ(i,l){const p=M2[l];if(p)return p;let f=No(l);if(f!=="filter"&&f in i)return M2[l]=f;f=Tc(f);for(let m=0;m<ik.length;m++){const b=ik[m]+f;if(b in i)return M2[l]=b}return l}const ok="http://www.w3.org/1999/xlink";function iJ(i,l,p,f,m){if(f&&l.startsWith("xlink:"))p==null?i.removeAttributeNS(ok,l.slice(6,l.length)):i.setAttributeNS(ok,l,p);else{const b=LK(l);p==null||b&&!_C(p)?i.removeAttribute(l):i.setAttribute(l,b?"":p)}}function oJ(i,l,p,f,m,b,A){if(l==="innerHTML"||l==="textContent"){f&&A(f,m,b),i[l]=p??"";return}if(l==="value"&&i.tagName!=="PROGRESS"&&!i.tagName.includes("-")){i._value=p;const F=p??"";(i.value!==F||i.tagName==="OPTION")&&(i.value=F),p==null&&i.removeAttribute(l);return}let B=!1;if(p===""||p==null){const F=typeof i[l];F==="boolean"?p=_C(p):p==null&&F==="string"?(p="",B=!0):F==="number"&&(p=0,B=!0)}try{i[l]=p}catch(F){B||ue(`Failed setting prop "${l}" on <${i.tagName.toLowerCase()}>: value ${p} is invalid.`,F)}B&&i.removeAttribute(l)}function Hu(i,l,p,f){i.addEventListener(l,p,f)}function aJ(i,l,p,f){i.removeEventListener(l,p,f)}function lJ(i,l,p,f,m=null){const b=i._vei||(i._vei={}),A=b[l];if(f&&A)A.value=f;else{const[B,F]=cJ(l);if(f){const O=b[l]=pJ(f,m);Hu(i,B,O,F)}else A&&(aJ(i,B,A,F),b[l]=void 0)}}const ak=/(?:Once|Passive|Capture)$/;function cJ(i){let l;if(ak.test(i)){l={};let f;for(;f=i.match(ak);)i=i.slice(0,i.length-f[0].length),l[f[0].toLowerCase()]=!0}return[i[2]===":"?i.slice(3):Sa(i.slice(2)),l]}let R2=0;const uJ=Promise.resolve(),hJ=()=>R2||(uJ.then(()=>R2=0),R2=Date.now());function pJ(i,l){const p=f=>{if(!f._vts)f._vts=Date.now();else if(f._vts<=p.attached)return;co(dJ(f,p.value),l,5,[f])};return p.value=i,p.attached=hJ(),p}function dJ(i,l){if(dn(l)){const p=i.stopImmediatePropagation;return i.stopImmediatePropagation=()=>{p.call(i),i._stopped=!0},l.map(f=>m=>!m._stopped&&f&&f(m))}else return l}const lk=/^on[a-z]/,fJ=(i,l,p,f,m=!1,b,A,B,F)=>{l==="class"?eJ(i,f,m):l==="style"?nJ(i,p,f):rd(l)?p0(l)||lJ(i,l,p,f,A):(l[0]==="."?(l=l.slice(1),!0):l[0]==="^"?(l=l.slice(1),!1):yJ(i,l,f,m))?oJ(i,l,f,b,A,B,F):(l==="true-value"?i._trueValue=f:l==="false-value"&&(i._falseValue=f),iJ(i,l,f,m))};function yJ(i,l,p,f){return f?!!(l==="innerHTML"||l==="textContent"||l in i&&lk.test(l)&&An(p)):l==="spellcheck"||l==="draggable"||l==="translate"||l==="form"||l==="list"&&i.tagName==="INPUT"||l==="type"&&i.tagName==="TEXTAREA"||lk.test(l)&&As(p)?!1:l in i}const ck=i=>{const l=i.props["onUpdate:modelValue"]||!1;return dn(l)?p=>ll(l,p):l};function gJ(i){i.target.composing=!0}function uk(i){const l=i.target;l.composing&&(l.composing=!1,l.dispatchEvent(new Event("input")))}const mJ={created(i,{modifiers:{lazy:l,trim:p,number:f}},m){i._assign=ck(m);const b=f||m.props&&m.props.type==="number";Hu(i,l?"change":"input",A=>{if(A.target.composing)return;let B=i.value;p&&(B=B.trim()),b&&(B=f0(B)),i._assign(B)}),p&&Hu(i,"change",()=>{i.value=i.value.trim()}),l||(Hu(i,"compositionstart",gJ),Hu(i,"compositionend",uk),Hu(i,"change",uk))},mounted(i,{value:l}){i.value=l??""},beforeUpdate(i,{value:l,modifiers:{lazy:p,trim:f,number:m}},b){if(i._assign=ck(b),i.composing||document.activeElement===i&&i.type!=="range"&&(p||f&&i.value.trim()===l||(m||i.type==="number")&&f0(i.value)===l))return;const A=l??"";i.value!==A&&(i.value=A)}},_J={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},hk=(i,l)=>p=>{if(!("key"in p))return;const f=Sa(p.key);if(l.some(m=>m===f||_J[m]===f))return i(p)},TA={beforeMount(i,{value:l},{transition:p}){i._vod=i.style.display==="none"?"":i.style.display,p&&l?p.beforeEnter(i):Sp(i,l)},mounted(i,{value:l},{transition:p}){p&&l&&p.enter(i)},updated(i,{value:l,oldValue:p},{transition:f}){!l!=!p&&(f?l?(f.beforeEnter(i),Sp(i,!0),f.enter(i)):f.leave(i,()=>{Sp(i,!1)}):Sp(i,l))},beforeUnmount(i,{value:l}){Sp(i,l)}};function Sp(i,l){i.style.display=l?i._vod:"none"}const vJ=Zs({patchProp:fJ},tJ);let pk;function bJ(){return pk||(pk=DQ(vJ))}const pft=(...i)=>{const l=bJ().createApp(...i);xJ(l),kJ(l);const{mount:p}=l;return l.mount=f=>{const m=CJ(f);if(!m)return;const b=l._component;!An(b)&&!b.render&&!b.template&&(b.template=m.innerHTML),m.innerHTML="";const A=p(m,!1,m instanceof SVGElement);return m instanceof Element&&(m.removeAttribute("v-cloak"),m.setAttribute("data-v-app","")),A},l};function xJ(i){Object.defineProperty(i.config,"isNativeTag",{value:l=>TK(l)||DK(l),writable:!1})}function kJ(i){{const l=i.config.isCustomElement;Object.defineProperty(i.config,"isCustomElement",{get(){return l},set(){ue("The `isCustomElement` config option is deprecated. Use `compilerOptions.isCustomElement` instead.")}});const p=i.config.compilerOptions,f='The `compilerOptions` config option is only respected when using a build of Vue.js that includes the runtime compiler (aka "full build"). Since you are using the runtime-only build, `compilerOptions` must be passed to `@vue/compiler-dom` in the build setup instead.\n- For vue-loader: pass it via vue-loader\'s `compilerOptions` loader option.\n- For vue-cli: see https://cli.vuejs.org/guide/webpack.html#modifying-options-of-a-loader\n- For vite: pass it via @vitejs/plugin-vue options. See https://github.com/vitejs/vite/tree/main/packages/plugin-vue#example-for-passing-options-to-vuecompiler-dom';Object.defineProperty(i.config,"compilerOptions",{get(){return ue(f),p},set(){ue(f)}})}}function CJ(i){if(As(i)){const l=document.querySelector(i);return l||ue(`Failed to mount app: mount target selector "${i}" returned null.`),l}return window.ShadowRoot&&i instanceof window.ShadowRoot&&i.mode==="closed"&&ue('mounting on a ShadowRoot with `{mode: "closed"}` may lead to unpredictable bugs'),i}function AJ(){QQ()}AJ();const DA=Symbol("v-click-clicks"),FA=Symbol("v-click-clicks-elements"),wJ=Symbol("v-click-clicks-order-map"),LA=Symbol("v-click-clicks-disabled"),IA=Symbol("slidev-slide-scale"),Ze=Symbol("slidev-slidev-context"),EJ=Symbol("slidev-route"),BJ=Symbol("slidev-slide-context"),SJ="slidev-vclick-target",dft="slidev-vclick-hidden",fft="slidev-vclick-fade",yft="slidev-vclick-hidden-explicitly",gft="slidev-vclick-current",mft="slidev-vclick-prior";function TJ(i){return i=i??[],Array.isArray(i)?i:[i]}function DJ(i,l){if(!i)return!1;const p=i.indexOf(l);return p>=0?(i.splice(p,1),!0):!1}function FJ(...i){let l,p,f;i.length===1?(l=0,f=1,[p]=i):[l,p,f=1]=i;const m=[];let b=l;for(;b<p;)m.push(b),b+=f||1;return m}function LJ(i){return i!=null}function IJ(i,l){return Object.fromEntries(Object.entries(i).map(([p,f])=>l(p,f)).filter(LJ))}function dk(i){return Object.keys(i).forEach(l=>i[l]===void 0?delete i[l]:{}),i}const Pp={theme:"default",title:"React State",titleTemplate:"%s - Slidev",addons:[],remoteAssets:!1,monaco:"dev",download:!1,info:`<h2>Slidev Starter Template</h2>
<p>Presentation slides for developers.</p>
<p>Learn more at <a href="https://sli.dev" target="_blank" rel="noopener">Sli.dev</a></p>
`,highlighter:"shiki",lineNumbers:!1,colorSchema:"dark",routerMode:"history",aspectRatio:1.7777777777777777,canvasWidth:980,exportFilename:"",selectable:!1,themeConfig:{},fonts:{sans:['"Lato"',"ui-sans-serif","system-ui","-apple-system","BlinkMacSystemFont",'"Segoe UI"',"Roboto",'"Helvetica Neue"',"Arial",'"Noto Sans"',"sans-serif",'"Apple Color Emoji"','"Segoe UI Emoji"','"Segoe UI Symbol"','"Noto Color Emoji"'],serif:["ui-serif","Georgia","Cambria",'"Times New Roman"',"Times","serif"],mono:['"Fira Code"',"ui-monospace","SFMono-Regular","Menlo","Monaco","Consolas",'"Liberation Mono"','"Courier New"',"monospace"],webfonts:["Lato","Fira Code"],provider:"google",local:["Avenir Next"],italic:!1,weights:["200","400","600"]},favicon:"./logo.svg",drawings:{enabled:!0,persist:!1,presenterOnly:!1,syncAll:!0},plantUmlServer:"https://www.plantuml.com/plantuml",codeCopy:!0,record:"dev",css:"unocss",presenter:!0,htmlAttrs:{}},hs=Pp,dl=hs.aspectRatio??16/9,fl=hs.canvasWidth??980,X8=Math.ceil(fl/dl),K8=re(()=>IJ(hs.themeConfig||{},(i,l)=>[`--slidev-theme-${i}`,l]));function Di(i,l,p){Object.defineProperty(i,l,{value:p,writable:!0,enumerable:!1})}const Oc=kr({page:0,clicks:0});let MJ=[],RJ=[];Di(Oc,"$syncUp",!0);Di(Oc,"$syncDown",!0);Di(Oc,"$paused",!1);Di(Oc,"$onSet",i=>MJ.push(i));Di(Oc,"$onPatch",i=>RJ.push(i));Di(Oc,"$patch",async()=>!1);function MA(i,l,p=!1){const f=[];let m=!1,b=!1,A,B;const F=kr(l);function O(ot){f.push(ot)}function w(ot,at){clearTimeout(A),m=!0,F[ot]=at,A=setTimeout(()=>m=!1,0)}function z(ot){m||(clearTimeout(B),b=!0,Object.entries(ot).forEach(([at,At])=>{F[at]=At}),B=setTimeout(()=>b=!1,0))}function G(ot){let at;p?p&&window.addEventListener("storage",St=>{St&&St.key===ot&&St.newValue&&z(JSON.parse(St.newValue))}):(at=new BroadcastChannel(ot),at.addEventListener("message",St=>z(St.data)));function At(){!p&&at&&!b?at.postMessage(Rn(F)):p&&!b&&window.localStorage.setItem(ot,JSON.stringify(F)),m||f.forEach(St=>St(F))}if(Ds(F,At,{deep:!0}),p){const St=window.localStorage.getItem(ot);St&&z(JSON.parse(St))}}return{init:G,onPatch:O,patch:w,state:F}}const{init:_ft,onPatch:vft,patch:bft,state:O2}=MA(Oc,{page:1,clicks:0}),Nc=kr({});let OJ=[],NJ=[];Di(Nc,"$syncUp",!0);Di(Nc,"$syncDown",!0);Di(Nc,"$paused",!1);Di(Nc,"$onSet",i=>OJ.push(i));Di(Nc,"$onPatch",i=>NJ.push(i));Di(Nc,"$patch",async()=>!1);const{init:xft,onPatch:PJ,patch:RA,state:k0}=MA(Nc,{},!1),VJ="modulepreload",$J=function(i){return"/react-webinar/"+i},fk={},Lc=function(l,p,f){if(!p||p.length===0)return l();const m=document.getElementsByTagName("link");return Promise.all(p.map(b=>{if(b=$J(b),b in fk)return;fk[b]=!0;const A=b.endsWith(".css"),B=A?'[rel="stylesheet"]':"";if(!!f)for(let w=m.length-1;w>=0;w--){const z=m[w];if(z.href===b&&(!A||z.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${b}"]${B}`))return;const O=document.createElement("link");if(O.rel=A?"stylesheet":VJ,A||(O.as="script",O.crossOrigin=""),O.href=b,document.head.appendChild(O),A)return new Promise((w,z)=>{O.addEventListener("load",w),O.addEventListener("error",()=>z(new Error(`Unable to preload CSS for ${b}`)))})})).then(()=>l())};var yk;const ho=typeof window<"u",YJ=i=>typeof i<"u",Qp=i=>typeof i=="function",OA=i=>typeof i=="string",c8=()=>+Date.now(),NA=()=>{};ho&&((yk=window==null?void 0:window.navigator)!=null&&yk.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function gi(i){return typeof i=="function"?i():Ft(i)}function UJ(i,l){function p(...f){return new Promise((m,b)=>{Promise.resolve(i(()=>l.apply(this,f),{fn:l,thisArg:this,args:f})).then(m).catch(b)})}return p}const PA=i=>i();function zJ(i=PA){const l=Ke(!0);function p(){l.value=!1}function f(){l.value=!0}return{isActive:l,pause:p,resume:f,eventFilter:(...b)=>{l.value&&i(...b)}}}function WJ(i){return i}function HJ(i,l){var p;if(typeof i=="number")return i+l;const f=((p=i.match(/^-?[0-9]+\.?[0-9]*/))==null?void 0:p[0])||"",m=i.slice(f.length),b=parseFloat(f)+l;return Number.isNaN(b)?i:b+m}function jJ(i,l){let p,f,m;const b=Ke(!0),A=()=>{b.value=!0,m()};Ds(i,A,{flush:"sync"});const B=Qp(l)?l:l.get,F=Qp(l)?void 0:l.set,O=YC((w,z)=>(f=w,m=z,{get(){return b.value&&(p=B(),b.value=!1),f(),p},set(G){F==null||F(G)}}));return Object.isExtensible(O)&&(O.trigger=A),O}function La(i){return VK()?($K(i),!0):!1}function GJ(i){if(!ts(i))return kr(i);const l=new Proxy({},{get(p,f,m){return Ft(Reflect.get(i.value,f,m))},set(p,f,m){return ts(i.value[f])&&!ts(m)?i.value[f].value=m:i.value[f]=m,!0},deleteProperty(p,f){return Reflect.deleteProperty(i.value,f)},has(p,f){return Reflect.has(i.value,f)},ownKeys(){return Object.keys(i.value)},getOwnPropertyDescriptor(){return{enumerable:!0,configurable:!0}}});return kr(l)}function VA(i){return typeof i=="function"?re(i):Ke(i)}var qJ=Object.defineProperty,XJ=Object.defineProperties,KJ=Object.getOwnPropertyDescriptors,gk=Object.getOwnPropertySymbols,ZJ=Object.prototype.hasOwnProperty,QJ=Object.prototype.propertyIsEnumerable,mk=(i,l,p)=>l in i?qJ(i,l,{enumerable:!0,configurable:!0,writable:!0,value:p}):i[l]=p,JJ=(i,l)=>{for(var p in l||(l={}))ZJ.call(l,p)&&mk(i,p,l[p]);if(gk)for(var p of gk(l))QJ.call(l,p)&&mk(i,p,l[p]);return i},ttt=(i,l)=>XJ(i,KJ(l));function ett(i){if(!ts(i))return mZ(i);const l=Array.isArray(i.value)?new Array(i.value.length):{};for(const p in i.value)l[p]=YC(()=>({get(){return i.value[p]},set(f){if(Array.isArray(i.value)){const m=[...i.value];m[p]=f,i.value=m}else{const m=ttt(JJ({},i.value),{[p]:f});Object.setPrototypeOf(m,i.value),i.value=m}}}));return l}function Z8(i,l=!0){xl()?U0(i):l?i():uo(i)}function ntt(i,l=1e3,p={}){const{immediate:f=!0,immediateCallback:m=!1}=p;let b=null;const A=Ke(!1);function B(){b&&(clearInterval(b),b=null)}function F(){A.value=!1,B()}function O(){Ft(l)<=0||(A.value=!0,m&&i(),B(),b=setInterval(i,gi(l)))}if(f&&ho&&O(),ts(l)||Qp(l)){const w=Ds(l,()=>{A.value&&ho&&O()});La(w)}return La(F),{isActive:A,pause:F,resume:O}}function stt(i,l,p={}){const{immediate:f=!0}=p,m=Ke(!1);let b=null;function A(){b&&(clearTimeout(b),b=null)}function B(){m.value=!1,A()}function F(...O){A(),m.value=!0,b=setTimeout(()=>{m.value=!1,b=null,i(...O)},gi(l))}return f&&(m.value=!0,ho&&F()),La(B),{isPending:m,start:F,stop:B}}function $A(i=!1,l={}){const{truthyValue:p=!0,falsyValue:f=!1}=l,m=ts(i),b=Ke(i);function A(B){if(arguments.length)return b.value=B,b.value;{const F=gi(p);return b.value=b.value===F?gi(f):F,b.value}}return m?A:[b,A]}var _k=Object.getOwnPropertySymbols,rtt=Object.prototype.hasOwnProperty,itt=Object.prototype.propertyIsEnumerable,ott=(i,l)=>{var p={};for(var f in i)rtt.call(i,f)&&l.indexOf(f)<0&&(p[f]=i[f]);if(i!=null&&_k)for(var f of _k(i))l.indexOf(f)<0&&itt.call(i,f)&&(p[f]=i[f]);return p};function att(i,l,p={}){const f=p,{eventFilter:m=PA}=f,b=ott(f,["eventFilter"]);return Ds(i,UJ(m,l),b)}var ltt=Object.defineProperty,ctt=Object.defineProperties,utt=Object.getOwnPropertyDescriptors,C0=Object.getOwnPropertySymbols,YA=Object.prototype.hasOwnProperty,UA=Object.prototype.propertyIsEnumerable,vk=(i,l,p)=>l in i?ltt(i,l,{enumerable:!0,configurable:!0,writable:!0,value:p}):i[l]=p,htt=(i,l)=>{for(var p in l||(l={}))YA.call(l,p)&&vk(i,p,l[p]);if(C0)for(var p of C0(l))UA.call(l,p)&&vk(i,p,l[p]);return i},ptt=(i,l)=>ctt(i,utt(l)),dtt=(i,l)=>{var p={};for(var f in i)YA.call(i,f)&&l.indexOf(f)<0&&(p[f]=i[f]);if(i!=null&&C0)for(var f of C0(i))l.indexOf(f)<0&&UA.call(i,f)&&(p[f]=i[f]);return p};function ftt(i,l,p={}){const f=p,{eventFilter:m}=f,b=dtt(f,["eventFilter"]),{eventFilter:A,pause:B,resume:F,isActive:O}=zJ(m);return{stop:att(i,l,ptt(htt({},b),{eventFilter:A})),pause:B,resume:F,isActive:O}}function ul(i){var l;const p=gi(i);return(l=p==null?void 0:p.$el)!=null?l:p}const jr=ho?window:void 0,zA=ho?window.document:void 0,ytt=ho?window.navigator:void 0;function as(...i){let l,p,f,m;if(OA(i[0])||Array.isArray(i[0])?([p,f,m]=i,l=jr):[l,p,f,m]=i,!l)return NA;Array.isArray(p)||(p=[p]),Array.isArray(f)||(f=[f]);const b=[],A=()=>{b.forEach(w=>w()),b.length=0},B=(w,z,G)=>(w.addEventListener(z,G,m),()=>w.removeEventListener(z,G,m)),F=Ds(()=>ul(l),w=>{A(),w&&b.push(...p.flatMap(z=>f.map(G=>B(w,z,G))))},{immediate:!0,flush:"post"}),O=()=>{F(),A()};return La(O),O}function gtt(i,l,p={}){const{window:f=jr,ignore:m=[],capture:b=!0,detectIframe:A=!1}=p;if(!f)return;let B=!0,F;const O=ot=>m.some(at=>{if(typeof at=="string")return Array.from(f.document.querySelectorAll(at)).some(At=>At===ot.target||ot.composedPath().includes(At));{const At=ul(at);return At&&(ot.target===At||ot.composedPath().includes(At))}}),w=ot=>{f.clearTimeout(F);const at=ul(i);if(!(!at||at===ot.target||ot.composedPath().includes(at))){if(ot.detail===0&&(B=!O(ot)),!B){B=!0;return}l(ot)}},z=[as(f,"click",w,{passive:!0,capture:b}),as(f,"pointerdown",ot=>{const at=ul(i);at&&(B=!ot.composedPath().includes(at)&&!O(ot))},{passive:!0}),as(f,"pointerup",ot=>{if(ot.button===0){const at=ot.composedPath();ot.composedPath=()=>at,F=f.setTimeout(()=>w(ot),50)}},{passive:!0}),A&&as(f,"blur",ot=>{var at;const At=ul(i);((at=f.document.activeElement)==null?void 0:at.tagName)==="IFRAME"&&!(At!=null&&At.contains(f.document.activeElement))&&l(ot)})].filter(Boolean);return()=>z.forEach(ot=>ot())}const mtt=i=>typeof i=="function"?i:typeof i=="string"?l=>l.key===i:Array.isArray(i)?l=>i.includes(l.key):()=>!0;function _tt(...i){let l,p,f={};i.length===3?(l=i[0],p=i[1],f=i[2]):i.length===2?typeof i[1]=="object"?(l=!0,p=i[0],f=i[1]):(l=i[0],p=i[1]):(l=!0,p=i[0]);const{target:m=jr,eventName:b="keydown",passive:A=!1}=f,B=mtt(l);return as(m,b,O=>{B(O)&&p(O)},A)}function vtt(i={}){var l;const{window:p=jr}=i,f=(l=i.document)!=null?l:p==null?void 0:p.document,m=jJ(()=>null,()=>f==null?void 0:f.activeElement);return p&&(as(p,"blur",b=>{b.relatedTarget===null&&m.trigger()},!0),as(p,"focus",m.trigger,!0)),m}function G0(i,l=!1){const p=Ke(),f=()=>p.value=Boolean(i());return f(),Z8(f,l),p}function ju(i,l={}){const{window:p=jr}=l,f=G0(()=>p&&"matchMedia"in p&&typeof p.matchMedia=="function");let m;const b=Ke(!1),A=()=>{m&&("removeEventListener"in m?m.removeEventListener("change",B):m.removeListener(B))},B=()=>{f.value&&(A(),m=p.matchMedia(VA(i).value),b.value=m.matches,"addEventListener"in m?m.addEventListener("change",B):m.addListener(B))};return Da(B),La(()=>A()),b}const btt={sm:640,md:768,lg:1024,xl:1280,"2xl":1536};var xtt=Object.defineProperty,bk=Object.getOwnPropertySymbols,ktt=Object.prototype.hasOwnProperty,Ctt=Object.prototype.propertyIsEnumerable,xk=(i,l,p)=>l in i?xtt(i,l,{enumerable:!0,configurable:!0,writable:!0,value:p}):i[l]=p,Att=(i,l)=>{for(var p in l||(l={}))ktt.call(l,p)&&xk(i,p,l[p]);if(bk)for(var p of bk(l))Ctt.call(l,p)&&xk(i,p,l[p]);return i};function wtt(i,l={}){function p(B,F){let O=i[B];return F!=null&&(O=HJ(O,F)),typeof O=="number"&&(O=`${O}px`),O}const{window:f=jr}=l;function m(B){return f?f.matchMedia(B).matches:!1}const b=B=>ju(`(min-width: ${p(B)})`,l),A=Object.keys(i).reduce((B,F)=>(Object.defineProperty(B,F,{get:()=>b(F),enumerable:!0,configurable:!0}),B),{});return Att({greater(B){return ju(`(min-width: ${p(B,.1)})`,l)},greaterOrEqual:b,smaller(B){return ju(`(max-width: ${p(B,-.1)})`,l)},smallerOrEqual(B){return ju(`(max-width: ${p(B)})`,l)},between(B,F){return ju(`(min-width: ${p(B)}) and (max-width: ${p(F,-.1)})`,l)},isGreater(B){return m(`(min-width: ${p(B,.1)})`)},isGreaterOrEqual(B){return m(`(min-width: ${p(B)})`)},isSmaller(B){return m(`(max-width: ${p(B,-.1)})`)},isSmallerOrEqual(B){return m(`(max-width: ${p(B)})`)},isInBetween(B,F){return m(`(min-width: ${p(B)}) and (max-width: ${p(F,-.1)})`)}},A)}function Ett(i={}){const{navigator:l=ytt,read:p=!1,source:f,copiedDuring:m=1500,legacy:b=!1}=i,A=["copy","cut"],B=G0(()=>l&&"clipboard"in l),F=re(()=>B.value||b),O=Ke(""),w=Ke(!1),z=stt(()=>w.value=!1,m);function G(){B.value?l.clipboard.readText().then(St=>{O.value=St}):O.value=At()}if(F.value&&p)for(const St of A)as(St,G);async function ot(St=gi(f)){F.value&&St!=null&&(B.value?await l.clipboard.writeText(St):at(St),O.value=St,w.value=!0,z.start())}function at(St){const Kt=document.createElement("textarea");Kt.value=St??"",Kt.style.position="absolute",Kt.style.opacity="0",document.body.appendChild(Kt),Kt.select(),document.execCommand("copy"),Kt.remove()}function At(){var St,Kt,$t;return($t=(Kt=(St=document==null?void 0:document.getSelection)==null?void 0:St.call(document))==null?void 0:Kt.toString())!=null?$t:""}return{isSupported:F,text:O,copied:w,copy:ot}}function Btt(i){return JSON.parse(JSON.stringify(i))}const u8=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},h8="__vueuse_ssr_handlers__";u8[h8]=u8[h8]||{};const Stt=u8[h8];function Ttt(i,l){return Stt[i]||l}function Dtt(i){return i==null?"any":i instanceof Set?"set":i instanceof Map?"map":i instanceof Date?"date":typeof i=="boolean"?"boolean":typeof i=="string"?"string":typeof i=="object"?"object":Number.isNaN(i)?"any":"number"}var Ftt=Object.defineProperty,kk=Object.getOwnPropertySymbols,Ltt=Object.prototype.hasOwnProperty,Itt=Object.prototype.propertyIsEnumerable,Ck=(i,l,p)=>l in i?Ftt(i,l,{enumerable:!0,configurable:!0,writable:!0,value:p}):i[l]=p,Ak=(i,l)=>{for(var p in l||(l={}))Ltt.call(l,p)&&Ck(i,p,l[p]);if(kk)for(var p of kk(l))Itt.call(l,p)&&Ck(i,p,l[p]);return i};const Mtt={boolean:{read:i=>i==="true",write:i=>String(i)},object:{read:i=>JSON.parse(i),write:i=>JSON.stringify(i)},number:{read:i=>Number.parseFloat(i),write:i=>String(i)},any:{read:i=>i,write:i=>String(i)},string:{read:i=>i,write:i=>String(i)},map:{read:i=>new Map(JSON.parse(i)),write:i=>JSON.stringify(Array.from(i.entries()))},set:{read:i=>new Set(JSON.parse(i)),write:i=>JSON.stringify(Array.from(i))},date:{read:i=>new Date(i),write:i=>i.toISOString()}};function po(i,l,p,f={}){var m;const{flush:b="pre",deep:A=!0,listenToStorageChanges:B=!0,writeDefaults:F=!0,mergeDefaults:O=!1,shallow:w,window:z=jr,eventFilter:G,onError:ot=be=>{console.error(be)}}=f,at=(w?Po:Ke)(l);if(!p)try{p=Ttt("getDefaultStorage",()=>{var be;return(be=jr)==null?void 0:be.localStorage})()}catch(be){ot(be)}if(!p)return at;const At=gi(l),St=Dtt(At),Kt=(m=f.serializer)!=null?m:Mtt[St],{pause:$t,resume:Zt}=ftt(at,()=>ie(at.value),{flush:b,deep:A,eventFilter:G});return z&&B&&as(z,"storage",Ae),Ae(),at;function ie(be){try{if(be==null)p.removeItem(i);else{const qe=Kt.write(be),fn=p.getItem(i);fn!==qe&&(p.setItem(i,qe),z&&(z==null||z.dispatchEvent(new StorageEvent("storage",{key:i,oldValue:fn,newValue:qe,storageArea:p}))))}}catch(qe){ot(qe)}}function Fe(be){const qe=be?be.newValue:p.getItem(i);if(qe==null)return F&&At!==null&&p.setItem(i,Kt.write(At)),At;if(!be&&O){const fn=Kt.read(qe);return Qp(O)?O(fn,At):St==="object"&&!Array.isArray(fn)?Ak(Ak({},At),fn):fn}else return typeof qe!="string"?qe:Kt.read(qe)}function Ae(be){if(!(be&&be.storageArea!==p)){if(be&&be.key==null){at.value=At;return}if(!(be&&be.key!==i)){$t();try{at.value=Fe(be)}catch(qe){ot(qe)}finally{be?uo(Zt):Zt()}}}}}function Rtt(i){return ju("(prefers-color-scheme: dark)",i)}var Ott=Object.defineProperty,Ntt=Object.defineProperties,Ptt=Object.getOwnPropertyDescriptors,wk=Object.getOwnPropertySymbols,Vtt=Object.prototype.hasOwnProperty,$tt=Object.prototype.propertyIsEnumerable,Ek=(i,l,p)=>l in i?Ott(i,l,{enumerable:!0,configurable:!0,writable:!0,value:p}):i[l]=p,Ytt=(i,l)=>{for(var p in l||(l={}))Vtt.call(l,p)&&Ek(i,p,l[p]);if(wk)for(var p of wk(l))$tt.call(l,p)&&Ek(i,p,l[p]);return i},Utt=(i,l)=>Ntt(i,Ptt(l));function kft(i,l={}){var p,f,m;const b=(p=l.draggingElement)!=null?p:jr,A=(f=l.handle)!=null?f:i,B=Ke((m=gi(l.initialValue))!=null?m:{x:0,y:0}),F=Ke(),O=at=>l.pointerTypes?l.pointerTypes.includes(at.pointerType):!0,w=at=>{gi(l.preventDefault)&&at.preventDefault(),gi(l.stopPropagation)&&at.stopPropagation()},z=at=>{var At;if(!O(at)||gi(l.exact)&&at.target!==gi(i))return;const St=gi(i).getBoundingClientRect(),Kt={x:at.clientX-St.left,y:at.clientY-St.top};((At=l.onStart)==null?void 0:At.call(l,Kt,at))!==!1&&(F.value=Kt,w(at))},G=at=>{var At;O(at)&&F.value&&(B.value={x:at.clientX-F.value.x,y:at.clientY-F.value.y},(At=l.onMove)==null||At.call(l,B.value,at),w(at))},ot=at=>{var At;O(at)&&F.value&&(F.value=void 0,(At=l.onEnd)==null||At.call(l,B.value,at),w(at))};return ho&&(as(A,"pointerdown",z,!0),as(b,"pointermove",G,!0),as(b,"pointerup",ot,!0)),Utt(Ytt({},ett(B)),{position:B,isDragging:re(()=>!!F.value),style:re(()=>`left:${B.value.x}px;top:${B.value.y}px;`)})}var Bk=Object.getOwnPropertySymbols,ztt=Object.prototype.hasOwnProperty,Wtt=Object.prototype.propertyIsEnumerable,Htt=(i,l)=>{var p={};for(var f in i)ztt.call(i,f)&&l.indexOf(f)<0&&(p[f]=i[f]);if(i!=null&&Bk)for(var f of Bk(i))l.indexOf(f)<0&&Wtt.call(i,f)&&(p[f]=i[f]);return p};function jtt(i,l,p={}){const f=p,{window:m=jr}=f,b=Htt(f,["window"]);let A;const B=G0(()=>m&&"ResizeObserver"in m),F=()=>{A&&(A.disconnect(),A=void 0)},O=Ds(()=>ul(i),z=>{F(),B.value&&m&&z&&(A=new ResizeObserver(l),A.observe(z,b))},{immediate:!0,flush:"post"}),w=()=>{F(),O()};return La(w),{isSupported:B,stop:w}}function Gtt(i,l={}){const{immediate:p=!0,window:f=jr}=l,m=Ke(!1);let b=0,A=null;function B(w){if(!m.value||!f)return;const z=w-b;i({delta:z,timestamp:w}),b=w,A=f.requestAnimationFrame(B)}function F(){!m.value&&f&&(m.value=!0,A=f.requestAnimationFrame(B))}function O(){m.value=!1,A!=null&&f&&(f.cancelAnimationFrame(A),A=null)}return p&&F(),La(O),{isActive:m,pause:O,resume:F}}function qtt(i,l={width:0,height:0},p={}){const{box:f="content-box"}=p,m=Ke(l.width),b=Ke(l.height);return jtt(i,([A])=>{const B=f==="border-box"?A.borderBoxSize:f==="content-box"?A.contentBoxSize:A.devicePixelContentBoxSize;B?(m.value=B.reduce((F,{inlineSize:O})=>F+O,0),b.value=B.reduce((F,{blockSize:O})=>F+O,0)):(m.value=A.contentRect.width,b.value=A.contentRect.height)},p),Ds(()=>ul(i),A=>{m.value=A?l.width:0,b.value=A?l.height:0}),{width:m,height:b}}const Sk=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]];function Xtt(i,l={}){const{document:p=zA,autoExit:f=!1}=l,m=i||(p==null?void 0:p.querySelector("html")),b=Ke(!1);let A=Sk[0];const B=G0(()=>{if(p){for(const At of Sk)if(At[1]in p)return A=At,!0}else return!1;return!1}),[F,O,w,,z]=A;async function G(){B.value&&(p!=null&&p[w]&&await p[O](),b.value=!1)}async function ot(){if(!B.value)return;await G();const At=ul(m);At&&(await At[F](),b.value=!0)}async function at(){b.value?await G():await ot()}return p&&as(p,z,()=>{b.value=!!(p!=null&&p[w])},!1),f&&La(G),{isSupported:B,isFullscreen:b,enter:ot,exit:G,toggle:at}}const Ktt={ctrl:"control",command:"meta",cmd:"meta",option:"alt",up:"arrowup",down:"arrowdown",left:"arrowleft",right:"arrowright"};function Ztt(i={}){const{reactive:l=!1,target:p=jr,aliasMap:f=Ktt,passive:m=!0,onEventFired:b=NA}=i,A=kr(new Set),B={toJSON(){return{}},current:A},F=l?kr(B):B,O=new Set,w=new Set;function z(At,St){At in F&&(l?F[At]=St:F[At].value=St)}function G(){A.clear();for(const At of w)z(At,!1)}function ot(At,St){var Kt,$t;const Zt=(Kt=At.key)==null?void 0:Kt.toLowerCase(),Fe=[($t=At.code)==null?void 0:$t.toLowerCase(),Zt].filter(Boolean);Zt&&(St?A.add(Zt):A.delete(Zt));for(const Ae of Fe)w.add(Ae),z(Ae,St);Zt==="meta"&&!St?(O.forEach(Ae=>{A.delete(Ae),z(Ae,!1)}),O.clear()):typeof At.getModifierState=="function"&&At.getModifierState("Meta")&&St&&[...A,...Fe].forEach(Ae=>O.add(Ae))}as(p,"keydown",At=>(ot(At,!0),b(At)),{passive:m}),as(p,"keyup",At=>(ot(At,!1),b(At)),{passive:m}),as("blur",G,{passive:!0}),as("focus",G,{passive:!0});const at=new Proxy(F,{get(At,St,Kt){if(typeof St!="string")return Reflect.get(At,St,Kt);if(St=St.toLowerCase(),St in f&&(St=f[St]),!(St in F))if(/[+_-]/.test(St)){const Zt=St.split(/[+_-]/g).map(ie=>ie.trim());F[St]=re(()=>Zt.every(ie=>Ft(at[ie])))}else F[St]=Ke(!1);const $t=Reflect.get(At,St,Kt);return l?Ft($t):$t}});return at}function Cft(i={}){const{type:l="page",touch:p=!0,resetOnTouchEnds:f=!1,initialValue:m={x:0,y:0},window:b=jr,eventFilter:A}=i,B=Ke(m.x),F=Ke(m.y),O=Ke(null),w=At=>{l==="page"?(B.value=At.pageX,F.value=At.pageY):l==="client"?(B.value=At.clientX,F.value=At.clientY):l==="movement"&&(B.value=At.movementX,F.value=At.movementY),O.value="mouse"},z=()=>{B.value=m.x,F.value=m.y},G=At=>{if(At.touches.length>0){const St=At.touches[0];l==="page"?(B.value=St.pageX,F.value=St.pageY):l==="client"&&(B.value=St.clientX,F.value=St.clientY),O.value="touch"}},ot=At=>A===void 0?w(At):A(()=>w(At),{}),at=At=>A===void 0?G(At):A(()=>G(At),{});return b&&(as(b,"mousemove",ot,{passive:!0}),as(b,"dragover",ot,{passive:!0}),p&&l!=="movement"&&(as(b,"touchstart",at,{passive:!0}),as(b,"touchmove",at,{passive:!0}),f&&as(b,"touchend",z,{passive:!0}))),{x:B,y:F,sourceType:O}}var Ea;(function(i){i.UP="UP",i.RIGHT="RIGHT",i.DOWN="DOWN",i.LEFT="LEFT",i.NONE="NONE"})(Ea||(Ea={}));function Qtt(i,l={}){const p=VA(i),{threshold:f=50,onSwipe:m,onSwipeEnd:b,onSwipeStart:A}=l,B=kr({x:0,y:0}),F=(Ae,be)=>{B.x=Ae,B.y=be},O=kr({x:0,y:0}),w=(Ae,be)=>{O.x=Ae,O.y=be},z=re(()=>B.x-O.x),G=re(()=>B.y-O.y),{max:ot,abs:at}=Math,At=re(()=>ot(at(z.value),at(G.value))>=f),St=Ke(!1),Kt=Ke(!1),$t=re(()=>At.value?at(z.value)>at(G.value)?z.value>0?Ea.LEFT:Ea.RIGHT:G.value>0?Ea.UP:Ea.DOWN:Ea.NONE),Zt=Ae=>{var be,qe,fn;const On=Ae.buttons===0,$n=Ae.buttons===1;return(fn=(qe=(be=l.pointerTypes)==null?void 0:be.includes(Ae.pointerType))!=null?qe:On||$n)!=null?fn:!0},ie=[as(i,"pointerdown",Ae=>{var be,qe;if(!Zt(Ae))return;Kt.value=!0,(qe=(be=p.value)==null?void 0:be.style)==null||qe.setProperty("touch-action","none");const fn=Ae.target;fn==null||fn.setPointerCapture(Ae.pointerId);const{clientX:On,clientY:$n}=Ae;F(On,$n),w(On,$n),A==null||A(Ae)}),as(i,"pointermove",Ae=>{if(!Zt(Ae)||!Kt.value)return;const{clientX:be,clientY:qe}=Ae;w(be,qe),!St.value&&At.value&&(St.value=!0),St.value&&(m==null||m(Ae))}),as(i,"pointerup",Ae=>{var be,qe;Zt(Ae)&&(St.value&&(b==null||b(Ae,$t.value)),Kt.value=!1,St.value=!1,(qe=(be=p.value)==null?void 0:be.style)==null||qe.setProperty("touch-action","initial"))})],Fe=()=>ie.forEach(Ae=>Ae());return{isSwiping:yc(St),direction:yc($t),posStart:yc(B),posEnd:yc(O),distanceX:z,distanceY:G,stop:Fe}}let Jtt=0;function Aft(i,l={}){const p=Ke(!1),{document:f=zA,immediate:m=!0,manual:b=!1,id:A=`vueuse_styletag_${++Jtt}`}=l,B=Ke(i);let F=()=>{};const O=()=>{if(!f)return;const z=f.getElementById(A)||f.createElement("style");z.isConnected||(z.type="text/css",z.id=A,l.media&&(z.media=l.media),f.head.appendChild(z)),!p.value&&(F=Ds(B,G=>{z.textContent=G},{immediate:!0}),p.value=!0)},w=()=>{!f||!p.value||(F(),f.head.removeChild(f.getElementById(A)),p.value=!1)};return m&&!b&&Z8(O),b||La(w),{id:A,css:B,unload:w,load:O,isLoaded:yc(p)}}var tet=Object.defineProperty,Tk=Object.getOwnPropertySymbols,eet=Object.prototype.hasOwnProperty,net=Object.prototype.propertyIsEnumerable,Dk=(i,l,p)=>l in i?tet(i,l,{enumerable:!0,configurable:!0,writable:!0,value:p}):i[l]=p,set=(i,l)=>{for(var p in l||(l={}))eet.call(l,p)&&Dk(i,p,l[p]);if(Tk)for(var p of Tk(l))net.call(l,p)&&Dk(i,p,l[p]);return i};function wft(i={}){const{controls:l=!1,offset:p=0,immediate:f=!0,interval:m="requestAnimationFrame",callback:b}=i,A=Ke(c8()+p),B=()=>A.value=c8()+p,F=b?()=>{B(),b(A.value)}:B,O=m==="requestAnimationFrame"?Gtt(F,{immediate:f}):ntt(F,m,{immediate:f});return l?set({timestamp:A},O):A}var ret=Object.defineProperty,Fk=Object.getOwnPropertySymbols,iet=Object.prototype.hasOwnProperty,oet=Object.prototype.propertyIsEnumerable,Lk=(i,l,p)=>l in i?ret(i,l,{enumerable:!0,configurable:!0,writable:!0,value:p}):i[l]=p,aet=(i,l)=>{for(var p in l||(l={}))iet.call(l,p)&&Lk(i,p,l[p]);if(Fk)for(var p of Fk(l))oet.call(l,p)&&Lk(i,p,l[p]);return i};const cet={easeInSine:[.12,0,.39,0],easeOutSine:[.61,1,.88,1],easeInOutSine:[.37,0,.63,1],easeInQuad:[.11,0,.5,0],easeOutQuad:[.5,1,.89,1],easeInOutQuad:[.45,0,.55,1],easeInCubic:[.32,0,.67,0],easeOutCubic:[.33,1,.68,1],easeInOutCubic:[.65,0,.35,1],easeInQuart:[.5,0,.75,0],easeOutQuart:[.25,1,.5,1],easeInOutQuart:[.76,0,.24,1],easeInQuint:[.64,0,.78,0],easeOutQuint:[.22,1,.36,1],easeInOutQuint:[.83,0,.17,1],easeInExpo:[.7,0,.84,0],easeOutExpo:[.16,1,.3,1],easeInOutExpo:[.87,0,.13,1],easeInCirc:[.55,0,1,.45],easeOutCirc:[0,.55,.45,1],easeInOutCirc:[.85,0,.15,1],easeInBack:[.36,0,.66,-.56],easeOutBack:[.34,1.56,.64,1],easeInOutBack:[.68,-.6,.32,1.6]};aet({linear:WJ},cet);function Ro(i,l,p,f={}){var m,b,A;const{clone:B=!1,passive:F=!1,eventName:O,deep:w=!1,defaultValue:z}=f,G=xl(),ot=p||(G==null?void 0:G.emit)||((m=G==null?void 0:G.$emit)==null?void 0:m.bind(G))||((A=(b=G==null?void 0:G.proxy)==null?void 0:b.$emit)==null?void 0:A.bind(G==null?void 0:G.proxy));let at=O;l||(l="modelValue"),at=O||at||`update:${l.toString()}`;const At=Kt=>B?Qp(B)?B(Kt):Btt(Kt):Kt,St=()=>YJ(i[l])?At(i[l]):z;if(F){const Kt=St(),$t=Ke(Kt);return Ds(()=>i[l],Zt=>$t.value=At(Zt)),Ds($t,Zt=>{(Zt!==i[l]||w)&&ot(at,Zt)},{deep:w}),$t}else return re({get(){return St()},set(Kt){ot(at,Kt)}})}function Eft({window:i=jr}={}){if(!i)return Ke(!1);const l=Ke(i.document.hasFocus());return as(i,"blur",()=>{l.value=!1}),as(i,"focus",()=>{l.value=!0}),l}function uet(i={}){const{window:l=jr,initialWidth:p=1/0,initialHeight:f=1/0,listenOrientation:m=!0,includeScrollbar:b=!0}=i,A=Ke(p),B=Ke(f),F=()=>{l&&(b?(A.value=l.innerWidth,B.value=l.innerHeight):(A.value=l.document.documentElement.clientWidth,B.value=l.document.documentElement.clientHeight))};return F(),Z8(F),as("resize",F,{passive:!0}),m&&as("orientationchange",F,{passive:!0}),{width:A,height:B}}function het(){return WA().__VUE_DEVTOOLS_GLOBAL_HOOK__}function WA(){return typeof navigator<"u"&&typeof window<"u"?window:typeof global<"u"?global:{}}const pet=typeof Proxy=="function",det="devtools-plugin:setup",fet="plugin:settings:set";let $u,p8;function yet(){var i;return $u!==void 0||(typeof window<"u"&&window.performance?($u=!0,p8=window.performance):typeof global<"u"&&(!((i=global.perf_hooks)===null||i===void 0)&&i.performance)?($u=!0,p8=global.perf_hooks.performance):$u=!1),$u}function get(){return yet()?p8.now():Date.now()}class met{constructor(l,p){this.target=null,this.targetQueue=[],this.onQueue=[],this.plugin=l,this.hook=p;const f={};if(l.settings)for(const A in l.settings){const B=l.settings[A];f[A]=B.defaultValue}const m=`__vue-devtools-plugin-settings__${l.id}`;let b=Object.assign({},f);try{const A=localStorage.getItem(m),B=JSON.parse(A);Object.assign(b,B)}catch{}this.fallbacks={getSettings(){return b},setSettings(A){try{localStorage.setItem(m,JSON.stringify(A))}catch{}b=A},now(){return get()}},p&&p.on(fet,(A,B)=>{A===this.plugin.id&&this.fallbacks.setSettings(B)}),this.proxiedOn=new Proxy({},{get:(A,B)=>this.target?this.target.on[B]:(...F)=>{this.onQueue.push({method:B,args:F})}}),this.proxiedTarget=new Proxy({},{get:(A,B)=>this.target?this.target[B]:B==="on"?this.proxiedOn:Object.keys(this.fallbacks).includes(B)?(...F)=>(this.targetQueue.push({method:B,args:F,resolve:()=>{}}),this.fallbacks[B](...F)):(...F)=>new Promise(O=>{this.targetQueue.push({method:B,args:F,resolve:O})})})}async setRealTarget(l){this.target=l;for(const p of this.onQueue)this.target.on[p.method](...p.args);for(const p of this.targetQueue)p.resolve(await this.target[p.method](...p.args))}}function _et(i,l){const p=i,f=WA(),m=het(),b=pet&&p.enableEarlyProxy;if(m&&(f.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__||!b))m.emit(det,i,l);else{const A=b?new met(p,m):null;(f.__VUE_DEVTOOLS_PLUGINS__=f.__VUE_DEVTOOLS_PLUGINS__||[]).push({pluginDescriptor:p,setupFn:l,proxy:A}),A&&l(A.proxiedTarget)}}/*!
  * vue-router v4.1.6
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */const Aa=typeof window<"u";function vet(i){return i.__esModule||i[Symbol.toStringTag]==="Module"}const ns=Object.assign;function N2(i,l){const p={};for(const f in l){const m=l[f];p[f]=vi(m)?m.map(i):i(m)}return p}const Up=()=>{},vi=Array.isArray;function jn(i){const l=Array.from(arguments).slice(1);console.warn.apply(console,["[Vue Router warn]: "+i].concat(l))}const bet=/\/$/,xet=i=>i.replace(bet,"");function P2(i,l,p="/"){let f,m={},b="",A="";const B=l.indexOf("#");let F=l.indexOf("?");return B<F&&B>=0&&(F=-1),F>-1&&(f=l.slice(0,F),b=l.slice(F+1,B>-1?B:l.length),m=i(b)),B>-1&&(f=f||l.slice(0,B),A=l.slice(B,l.length)),f=Aet(f??l,p),{fullPath:f+(b&&"?")+b+A,path:f,query:m,hash:A}}function ket(i,l){const p=l.query?i(l.query):"";return l.path+(p&&"?")+p+(l.hash||"")}function Ik(i,l){return!l||!i.toLowerCase().startsWith(l.toLowerCase())?i:i.slice(l.length)||"/"}function Mk(i,l,p){const f=l.matched.length-1,m=p.matched.length-1;return f>-1&&f===m&&vl(l.matched[f],p.matched[m])&&HA(l.params,p.params)&&i(l.query)===i(p.query)&&l.hash===p.hash}function vl(i,l){return(i.aliasOf||i)===(l.aliasOf||l)}function HA(i,l){if(Object.keys(i).length!==Object.keys(l).length)return!1;for(const p in i)if(!Cet(i[p],l[p]))return!1;return!0}function Cet(i,l){return vi(i)?Rk(i,l):vi(l)?Rk(l,i):i===l}function Rk(i,l){return vi(l)?i.length===l.length&&i.every((p,f)=>p===l[f]):i.length===1&&i[0]===l}function Aet(i,l){if(i.startsWith("/"))return i;if(!l.startsWith("/"))return jn(`Cannot resolve a relative location without an absolute path. Trying to resolve "${i}" from "${l}". It should look like "/${l}".`),i;if(!i)return l;const p=l.split("/"),f=i.split("/");let m=p.length-1,b,A;for(b=0;b<f.length;b++)if(A=f[b],A!==".")if(A==="..")m>1&&m--;else break;return p.slice(0,m).join("/")+"/"+f.slice(b-(b===f.length?1:0)).join("/")}var Jp;(function(i){i.pop="pop",i.push="push"})(Jp||(Jp={}));var zp;(function(i){i.back="back",i.forward="forward",i.unknown=""})(zp||(zp={}));function wet(i){if(!i)if(Aa){const l=document.querySelector("base");i=l&&l.getAttribute("href")||"/",i=i.replace(/^\w+:\/\/[^\/]+/,"")}else i="/";return i[0]!=="/"&&i[0]!=="#"&&(i="/"+i),xet(i)}const Eet=/^[^#]+#/;function Bet(i,l){return i.replace(Eet,"#")+l}function Tet(i,l){const p=document.documentElement.getBoundingClientRect(),f=i.getBoundingClientRect();return{behavior:l.behavior,left:f.left-p.left-(l.left||0),top:f.top-p.top-(l.top||0)}}const q0=()=>({left:window.pageXOffset,top:window.pageYOffset});function Det(i){let l;if("el"in i){const p=i.el,f=typeof p=="string"&&p.startsWith("#");if(typeof i.el=="string"&&(!f||!document.getElementById(i.el.slice(1))))try{const b=document.querySelector(i.el);if(f&&b){jn(`The selector "${i.el}" should be passed as "el: document.querySelector('${i.el}')" because it starts with "#".`);return}}catch{jn(`The selector "${i.el}" is invalid. If you are using an id selector, make sure to escape it. You can find more information about escaping characters in selectors at https://mathiasbynens.be/notes/css-escapes or use CSS.escape (https://developer.mozilla.org/en-US/docs/Web/API/CSS/escape).`);return}const m=typeof p=="string"?f?document.getElementById(p.slice(1)):document.querySelector(p):p;if(!m){jn(`Couldn't find element using selector "${i.el}" returned by scrollBehavior.`);return}l=Tet(m,i)}else l=i;"scrollBehavior"in document.documentElement.style?window.scrollTo(l):window.scrollTo(l.left!=null?l.left:window.pageXOffset,l.top!=null?l.top:window.pageYOffset)}function Ok(i,l){return(history.state?history.state.position-l:-1)+i}const d8=new Map;function Fet(i,l){d8.set(i,l)}function Let(i){const l=d8.get(i);return d8.delete(i),l}let Iet=()=>location.protocol+"//"+location.host;function jA(i,l){const{pathname:p,search:f,hash:m}=l,b=i.indexOf("#");if(b>-1){let B=m.includes(i.slice(b))?i.slice(b).length:1,F=m.slice(B);return F[0]!=="/"&&(F="/"+F),Ik(F,"")}return Ik(p,i)+f+m}function Met(i,l,p,f){let m=[],b=[],A=null;const B=({state:G})=>{const ot=jA(i,location),at=p.value,At=l.value;let St=0;if(G){if(p.value=ot,l.value=G,A&&A===at){A=null;return}St=At?G.position-At.position:0}else f(ot);m.forEach(Kt=>{Kt(p.value,at,{delta:St,type:Jp.pop,direction:St?St>0?zp.forward:zp.back:zp.unknown})})};function F(){A=p.value}function O(G){m.push(G);const ot=()=>{const at=m.indexOf(G);at>-1&&m.splice(at,1)};return b.push(ot),ot}function w(){const{history:G}=window;G.state&&G.replaceState(ns({},G.state,{scroll:q0()}),"")}function z(){for(const G of b)G();b=[],window.removeEventListener("popstate",B),window.removeEventListener("beforeunload",w)}return window.addEventListener("popstate",B),window.addEventListener("beforeunload",w),{pauseListeners:F,listen:O,destroy:z}}function Nk(i,l,p,f=!1,m=!1){return{back:i,current:l,forward:p,replaced:f,position:window.history.length,scroll:m?q0():null}}function Ret(i){const{history:l,location:p}=window,f={value:jA(i,p)},m={value:l.state};m.value||b(f.value,{back:null,current:f.value,forward:null,position:l.length-1,replaced:!0,scroll:null},!0);function b(F,O,w){const z=i.indexOf("#"),G=z>-1?(p.host&&document.querySelector("base")?i:i.slice(z))+F:Iet()+i+F;try{l[w?"replaceState":"pushState"](O,"",G),m.value=O}catch(ot){jn("Error with push/replace State",ot),p[w?"replace":"assign"](G)}}function A(F,O){const w=ns({},l.state,Nk(m.value.back,F,m.value.forward,!0),O,{position:m.value.position});b(F,w,!0),f.value=F}function B(F,O){const w=ns({},m.value,l.state,{forward:F,scroll:q0()});l.state||jn(`history.state seems to have been manually replaced without preserving the necessary values. Make sure to preserve existing history state if you are manually calling history.replaceState:

history.replaceState(history.state, '', url)

You can find more information at https://next.router.vuejs.org/guide/migration/#usage-of-history-state.`),b(w.current,w,!0);const z=ns({},Nk(f.value,F,null),{position:w.position+1},O);b(F,z,!1),f.value=F}return{location:f,state:m,push:B,replace:A}}function Oet(i){i=wet(i);const l=Ret(i),p=Met(i,l.state,l.location,l.replace);function f(b,A=!0){A||p.pauseListeners(),history.go(b)}const m=ns({location:"",base:i,go:f,createHref:Bet.bind(null,i)},l,p);return Object.defineProperty(m,"location",{enumerable:!0,get:()=>l.location.value}),Object.defineProperty(m,"state",{enumerable:!0,get:()=>l.state.value}),m}function Net(i){return typeof i=="string"||i&&typeof i=="object"}function GA(i){return typeof i=="string"||typeof i=="symbol"}const rl={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},qA=Symbol("navigation failure");var Pk;(function(i){i[i.aborted=4]="aborted",i[i.cancelled=8]="cancelled",i[i.duplicated=16]="duplicated"})(Pk||(Pk={}));const Pet={[1]({location:i,currentLocation:l}){return`No match for
 ${JSON.stringify(i)}${l?`
while being at
`+JSON.stringify(l):""}`},[2]({from:i,to:l}){return`Redirected from "${i.fullPath}" to "${$et(l)}" via a navigation guard.`},[4]({from:i,to:l}){return`Navigation aborted from "${i.fullPath}" to "${l.fullPath}" via a navigation guard.`},[8]({from:i,to:l}){return`Navigation cancelled from "${i.fullPath}" to "${l.fullPath}" with a new navigation.`},[16]({from:i,to:l}){return`Avoided redundant navigation to current location: "${i.fullPath}".`}};function eh(i,l){return ns(new Error(Pet[i](l)),{type:i,[qA]:!0},l)}function ba(i,l){return i instanceof Error&&qA in i&&(l==null||!!(i.type&l))}const Vet=["params","query","hash"];function $et(i){if(typeof i=="string")return i;if("path"in i)return i.path;const l={};for(const p of Vet)p in i&&(l[p]=i[p]);return JSON.stringify(l,null,2)}const Vk="[^/]+?",Yet={sensitive:!1,strict:!1,start:!0,end:!0},Uet=/[.+*?^${}()[\]/\\]/g;function zet(i,l){const p=ns({},Yet,l),f=[];let m=p.start?"^":"";const b=[];for(const O of i){const w=O.length?[]:[90];p.strict&&!O.length&&(m+="/");for(let z=0;z<O.length;z++){const G=O[z];let ot=40+(p.sensitive?.25:0);if(G.type===0)z||(m+="/"),m+=G.value.replace(Uet,"\\$&"),ot+=40;else if(G.type===1){const{value:at,repeatable:At,optional:St,regexp:Kt}=G;b.push({name:at,repeatable:At,optional:St});const $t=Kt||Vk;if($t!==Vk){ot+=10;try{new RegExp(`(${$t})`)}catch(ie){throw new Error(`Invalid custom RegExp for param "${at}" (${$t}): `+ie.message)}}let Zt=At?`((?:${$t})(?:/(?:${$t}))*)`:`(${$t})`;z||(Zt=St&&O.length<2?`(?:/${Zt})`:"/"+Zt),St&&(Zt+="?"),m+=Zt,ot+=20,St&&(ot+=-8),At&&(ot+=-20),$t===".*"&&(ot+=-50)}w.push(ot)}f.push(w)}if(p.strict&&p.end){const O=f.length-1;f[O][f[O].length-1]+=.7000000000000001}p.strict||(m+="/?"),p.end?m+="$":p.strict&&(m+="(?:/|$)");const A=new RegExp(m,p.sensitive?"":"i");function B(O){const w=O.match(A),z={};if(!w)return null;for(let G=1;G<w.length;G++){const ot=w[G]||"",at=b[G-1];z[at.name]=ot&&at.repeatable?ot.split("/"):ot}return z}function F(O){let w="",z=!1;for(const G of i){(!z||!w.endsWith("/"))&&(w+="/"),z=!1;for(const ot of G)if(ot.type===0)w+=ot.value;else if(ot.type===1){const{value:at,repeatable:At,optional:St}=ot,Kt=at in O?O[at]:"";if(vi(Kt)&&!At)throw new Error(`Provided param "${at}" is an array but it is not repeatable (* or + modifiers)`);const $t=vi(Kt)?Kt.join("/"):Kt;if(!$t)if(St)G.length<2&&(w.endsWith("/")?w=w.slice(0,-1):z=!0);else throw new Error(`Missing required param "${at}"`);w+=$t}}return w||"/"}return{re:A,score:f,keys:b,parse:B,stringify:F}}function Wet(i,l){let p=0;for(;p<i.length&&p<l.length;){const f=l[p]-i[p];if(f)return f;p++}return i.length<l.length?i.length===1&&i[0]===40+40?-1:1:i.length>l.length?l.length===1&&l[0]===40+40?1:-1:0}function Het(i,l){let p=0;const f=i.score,m=l.score;for(;p<f.length&&p<m.length;){const b=Wet(f[p],m[p]);if(b)return b;p++}if(Math.abs(m.length-f.length)===1){if($k(f))return 1;if($k(m))return-1}return m.length-f.length}function $k(i){const l=i[i.length-1];return i.length>0&&l[l.length-1]<0}const jet={type:0,value:""},Get=/[a-zA-Z0-9_]/;function qet(i){if(!i)return[[]];if(i==="/")return[[jet]];if(!i.startsWith("/"))throw new Error(`Route paths should start with a "/": "${i}" should be "/${i}".`);function l(ot){throw new Error(`ERR (${p})/"${O}": ${ot}`)}let p=0,f=p;const m=[];let b;function A(){b&&m.push(b),b=[]}let B=0,F,O="",w="";function z(){O&&(p===0?b.push({type:0,value:O}):p===1||p===2||p===3?(b.length>1&&(F==="*"||F==="+")&&l(`A repeatable param (${O}) must be alone in its segment. eg: '/:ids+.`),b.push({type:1,value:O,regexp:w,repeatable:F==="*"||F==="+",optional:F==="*"||F==="?"})):l("Invalid state to consume buffer"),O="")}function G(){O+=F}for(;B<i.length;){if(F=i[B++],F==="\\"&&p!==2){f=p,p=4;continue}switch(p){case 0:F==="/"?(O&&z(),A()):F===":"?(z(),p=1):G();break;case 4:G(),p=f;break;case 1:F==="("?p=2:Get.test(F)?G():(z(),p=0,F!=="*"&&F!=="?"&&F!=="+"&&B--);break;case 2:F===")"?w[w.length-1]=="\\"?w=w.slice(0,-1)+F:p=3:w+=F;break;case 3:z(),p=0,F!=="*"&&F!=="?"&&F!=="+"&&B--,w="";break;default:l("Unknown state");break}}return p===2&&l(`Unfinished custom RegExp for param "${O}"`),z(),A(),m}function Xet(i,l,p){const f=zet(qet(i.path),p);{const b=new Set;for(const A of f.keys)b.has(A.name)&&jn(`Found duplicated params with name "${A.name}" for path "${i.path}". Only the last one will be available on "$route.params".`),b.add(A.name)}const m=ns(f,{record:i,parent:l,children:[],alias:[]});return l&&!m.record.aliasOf==!l.record.aliasOf&&l.children.push(m),m}function Ket(i,l){const p=[],f=new Map;l=zk({strict:!1,end:!0,sensitive:!1},l);function m(w){return f.get(w)}function b(w,z,G){const ot=!G,at=Zet(w);ent(at,z),at.aliasOf=G&&G.record;const At=zk(l,w),St=[at];if("alias"in w){const Zt=typeof w.alias=="string"?[w.alias]:w.alias;for(const ie of Zt)St.push(ns({},at,{components:G?G.record.components:at.components,path:ie,aliasOf:G?G.record:at}))}let Kt,$t;for(const Zt of St){const{path:ie}=Zt;if(z&&ie[0]!=="/"){const Fe=z.record.path,Ae=Fe[Fe.length-1]==="/"?"":"/";Zt.path=z.record.path+(ie&&Ae+ie)}if(Zt.path==="*")throw new Error(`Catch all routes ("*") must now be defined using a param with a custom regexp.
See more at https://next.router.vuejs.org/guide/migration/#removed-star-or-catch-all-routes.`);if(Kt=Xet(Zt,z,At),z&&ie[0]==="/"&&nnt(Kt,z),G?(G.alias.push(Kt),tnt(G,Kt)):($t=$t||Kt,$t!==Kt&&$t.alias.push(Kt),ot&&w.name&&!Uk(Kt)&&A(w.name)),at.children){const Fe=at.children;for(let Ae=0;Ae<Fe.length;Ae++)b(Fe[Ae],Kt,G&&G.children[Ae])}G=G||Kt,(Kt.record.components&&Object.keys(Kt.record.components).length||Kt.record.name||Kt.record.redirect)&&F(Kt)}return $t?()=>{A($t)}:Up}function A(w){if(GA(w)){const z=f.get(w);z&&(f.delete(w),p.splice(p.indexOf(z),1),z.children.forEach(A),z.alias.forEach(A))}else{const z=p.indexOf(w);z>-1&&(p.splice(z,1),w.record.name&&f.delete(w.record.name),w.children.forEach(A),w.alias.forEach(A))}}function B(){return p}function F(w){let z=0;for(;z<p.length&&Het(w,p[z])>=0&&(w.record.path!==p[z].record.path||!XA(w,p[z]));)z++;p.splice(z,0,w),w.record.name&&!Uk(w)&&f.set(w.record.name,w)}function O(w,z){let G,ot={},at,At;if("name"in w&&w.name){if(G=f.get(w.name),!G)throw eh(1,{location:w});{const $t=Object.keys(w.params||{}).filter(Zt=>!G.keys.find(ie=>ie.name===Zt));$t.length&&jn(`Discarded invalid param(s) "${$t.join('", "')}" when navigating. See https://github.com/vuejs/router/blob/main/packages/router/CHANGELOG.md#414-2022-08-22 for more details.`)}At=G.record.name,ot=ns(Yk(z.params,G.keys.filter($t=>!$t.optional).map($t=>$t.name)),w.params&&Yk(w.params,G.keys.map($t=>$t.name))),at=G.stringify(ot)}else if("path"in w)at=w.path,at.startsWith("/")||jn(`The Matcher cannot resolve relative paths but received "${at}". Unless you directly called \`matcher.resolve("${at}")\`, this is probably a bug in vue-router. Please open an issue at https://new-issue.vuejs.org/?repo=vuejs/router.`),G=p.find($t=>$t.re.test(at)),G&&(ot=G.parse(at),At=G.record.name);else{if(G=z.name?f.get(z.name):p.find($t=>$t.re.test(z.path)),!G)throw eh(1,{location:w,currentLocation:z});At=G.record.name,ot=ns({},z.params,w.params),at=G.stringify(ot)}const St=[];let Kt=G;for(;Kt;)St.unshift(Kt.record),Kt=Kt.parent;return{name:At,path:at,params:ot,matched:St,meta:Jet(St)}}return i.forEach(w=>b(w)),{addRoute:b,resolve:O,removeRoute:A,getRoutes:B,getRecordMatcher:m}}function Yk(i,l){const p={};for(const f of l)f in i&&(p[f]=i[f]);return p}function Zet(i){return{path:i.path,redirect:i.redirect,name:i.name,meta:i.meta||{},aliasOf:void 0,beforeEnter:i.beforeEnter,props:Qet(i),children:i.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in i?i.components||null:i.component&&{default:i.component}}}function Qet(i){const l={},p=i.props||!1;if("component"in i)l.default=p;else for(const f in i.components)l[f]=typeof p=="boolean"?p:p[f];return l}function Uk(i){for(;i;){if(i.record.aliasOf)return!0;i=i.parent}return!1}function Jet(i){return i.reduce((l,p)=>ns(l,p.meta),{})}function zk(i,l){const p={};for(const f in i)p[f]=f in l?l[f]:i[f];return p}function f8(i,l){return i.name===l.name&&i.optional===l.optional&&i.repeatable===l.repeatable}function tnt(i,l){for(const p of i.keys)if(!p.optional&&!l.keys.find(f8.bind(null,p)))return jn(`Alias "${l.record.path}" and the original record: "${i.record.path}" must have the exact same param named "${p.name}"`);for(const p of l.keys)if(!p.optional&&!i.keys.find(f8.bind(null,p)))return jn(`Alias "${l.record.path}" and the original record: "${i.record.path}" must have the exact same param named "${p.name}"`)}function ent(i,l){l&&l.record.name&&!i.name&&!i.path&&jn(`The route named "${String(l.record.name)}" has a child without a name and an empty path. Using that name won't render the empty path child so you probably want to move the name to the child instead. If this is intentional, add a name to the child route to remove the warning.`)}function nnt(i,l){for(const p of l.keys)if(!i.keys.find(f8.bind(null,p)))return jn(`Absolute path "${i.record.path}" must have the exact same param named "${p.name}" as its parent "${l.record.path}".`)}function XA(i,l){return l.children.some(p=>p===i||XA(i,p))}const KA=/#/g,snt=/&/g,rnt=/\//g,int=/=/g,ont=/\?/g,ZA=/\+/g,ant=/%5B/g,lnt=/%5D/g,QA=/%5E/g,cnt=/%60/g,JA=/%7B/g,unt=/%7C/g,tw=/%7D/g,hnt=/%20/g;function Q8(i){return encodeURI(""+i).replace(unt,"|").replace(ant,"[").replace(lnt,"]")}function pnt(i){return Q8(i).replace(JA,"{").replace(tw,"}").replace(QA,"^")}function y8(i){return Q8(i).replace(ZA,"%2B").replace(hnt,"+").replace(KA,"%23").replace(snt,"%26").replace(cnt,"`").replace(JA,"{").replace(tw,"}").replace(QA,"^")}function dnt(i){return y8(i).replace(int,"%3D")}function fnt(i){return Q8(i).replace(KA,"%23").replace(ont,"%3F")}function ynt(i){return i==null?"":fnt(i).replace(rnt,"%2F")}function td(i){try{return decodeURIComponent(""+i)}catch{jn(`Error decoding "${i}". Using original value`)}return""+i}function gnt(i){const l={};if(i===""||i==="?")return l;const f=(i[0]==="?"?i.slice(1):i).split("&");for(let m=0;m<f.length;++m){const b=f[m].replace(ZA," "),A=b.indexOf("="),B=td(A<0?b:b.slice(0,A)),F=A<0?null:td(b.slice(A+1));if(B in l){let O=l[B];vi(O)||(O=l[B]=[O]),O.push(F)}else l[B]=F}return l}function Wk(i){let l="";for(let p in i){const f=i[p];if(p=dnt(p),f==null){f!==void 0&&(l+=(l.length?"&":"")+p);continue}(vi(f)?f.map(b=>b&&y8(b)):[f&&y8(f)]).forEach(b=>{b!==void 0&&(l+=(l.length?"&":"")+p,b!=null&&(l+="="+b))})}return l}function mnt(i){const l={};for(const p in i){const f=i[p];f!==void 0&&(l[p]=vi(f)?f.map(m=>m==null?null:""+m):f==null?f:""+f)}return l}const _nt=Symbol("router view location matched"),Hk=Symbol("router view depth"),J8=Symbol("router"),ew=Symbol("route location"),g8=Symbol("router view location");function Tp(){let i=[];function l(f){return i.push(f),()=>{const m=i.indexOf(f);m>-1&&i.splice(m,1)}}function p(){i=[]}return{add:l,list:()=>i,reset:p}}function al(i,l,p,f,m){const b=f&&(f.enterCallbacks[m]=f.enterCallbacks[m]||[]);return()=>new Promise((A,B)=>{const F=z=>{z===!1?B(eh(4,{from:p,to:l})):z instanceof Error?B(z):Net(z)?B(eh(2,{from:l,to:z})):(b&&f.enterCallbacks[m]===b&&typeof z=="function"&&b.push(z),A())},O=i.call(f&&f.instances[m],l,p,vnt(F,l,p));let w=Promise.resolve(O);if(i.length<3&&(w=w.then(F)),i.length>2){const z=`The "next" callback was never called inside of ${i.name?'"'+i.name+'"':""}:
${i.toString()}
. If you are returning a value instead of calling "next", make sure to remove the "next" parameter from your function.`;if(typeof O=="object"&&"then"in O)w=w.then(G=>F._called?G:(jn(z),Promise.reject(new Error("Invalid navigation guard"))));else if(O!==void 0&&!F._called){jn(z),B(new Error("Invalid navigation guard"));return}}w.catch(z=>B(z))})}function vnt(i,l,p){let f=0;return function(){f++===1&&jn(`The "next" callback was called more than once in one navigation guard when going from "${p.fullPath}" to "${l.fullPath}". It should be called exactly one time in each navigation guard. This will fail in production.`),i._called=!0,f===1&&i.apply(null,arguments)}}function V2(i,l,p,f){const m=[];for(const b of i){!b.components&&!b.children.length&&jn(`Record with path "${b.path}" is either missing a "component(s)" or "children" property.`);for(const A in b.components){let B=b.components[A];{if(!B||typeof B!="object"&&typeof B!="function")throw jn(`Component "${A}" in record with path "${b.path}" is not a valid component. Received "${String(B)}".`),new Error("Invalid route component");if("then"in B){jn(`Component "${A}" in record with path "${b.path}" is a Promise instead of a function that returns a Promise. Did you write "import('./MyPage.vue')" instead of "() => import('./MyPage.vue')" ? This will break in production if not fixed.`);const F=B;B=()=>F}else B.__asyncLoader&&!B.__warnedDefineAsync&&(B.__warnedDefineAsync=!0,jn(`Component "${A}" in record with path "${b.path}" is defined using "defineAsyncComponent()". Write "() => import('./MyPage.vue')" instead of "defineAsyncComponent(() => import('./MyPage.vue'))".`))}if(!(l!=="beforeRouteEnter"&&!b.instances[A]))if(bnt(B)){const O=(B.__vccOpts||B)[l];O&&m.push(al(O,p,f,b,A))}else{let F=B();"catch"in F||(jn(`Component "${A}" in record with path "${b.path}" is a function that does not return a Promise. If you were passing a functional component, make sure to add a "displayName" to the component. This will break in production if not fixed.`),F=Promise.resolve(F)),m.push(()=>F.then(O=>{if(!O)return Promise.reject(new Error(`Couldn't resolve component "${A}" at "${b.path}"`));const w=vet(O)?O.default:O;b.components[A]=w;const G=(w.__vccOpts||w)[l];return G&&al(G,p,f,b,A)()}))}}}return m}function bnt(i){return typeof i=="object"||"displayName"in i||"props"in i||"__vccOpts"in i}function jk(i){const l=Pe(J8),p=Pe(ew),f=re(()=>l.resolve(Ft(i.to))),m=re(()=>{const{matched:F}=f.value,{length:O}=F,w=F[O-1],z=p.matched;if(!w||!z.length)return-1;const G=z.findIndex(vl.bind(null,w));if(G>-1)return G;const ot=Gk(F[O-2]);return O>1&&Gk(w)===ot&&z[z.length-1].path!==ot?z.findIndex(vl.bind(null,F[O-2])):G}),b=re(()=>m.value>-1&&Ant(p.params,f.value.params)),A=re(()=>m.value>-1&&m.value===p.matched.length-1&&HA(p.params,f.value.params));function B(F={}){return Cnt(F)?l[Ft(i.replace)?"replace":"push"](Ft(i.to)).catch(Up):Promise.resolve()}if(Aa){const F=xl();if(F){const O={route:f.value,isActive:b.value,isExactActive:A.value};F.__vrl_devtools=F.__vrl_devtools||[],F.__vrl_devtools.push(O),Da(()=>{O.route=f.value,O.isActive=b.value,O.isExactActive=A.value},{flush:"post"})}}return{route:f,href:re(()=>f.value.href),isActive:b,isExactActive:A,navigate:B}}const xnt=ps({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:jk,setup(i,{slots:l}){const p=kr(jk(i)),{options:f}=Pe(J8),m=re(()=>({[qk(i.activeClass,f.linkActiveClass,"router-link-active")]:p.isActive,[qk(i.exactActiveClass,f.linkExactActiveClass,"router-link-exact-active")]:p.isExactActive}));return()=>{const b=l.default&&l.default(p);return i.custom?b:Fc("a",{"aria-current":p.isExactActive?i.ariaCurrentValue:null,href:p.href,onClick:p.navigate,class:m.value},b)}}}),knt=xnt;function Cnt(i){if(!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)&&!i.defaultPrevented&&!(i.button!==void 0&&i.button!==0)){if(i.currentTarget&&i.currentTarget.getAttribute){const l=i.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(l))return}return i.preventDefault&&i.preventDefault(),!0}}function Ant(i,l){for(const p in l){const f=l[p],m=i[p];if(typeof f=="string"){if(f!==m)return!1}else if(!vi(m)||m.length!==f.length||f.some((b,A)=>b!==m[A]))return!1}return!0}function Gk(i){return i?i.aliasOf?i.aliasOf.path:i.path:""}const qk=(i,l,p)=>i??l??p,wnt=ps({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(i,{attrs:l,slots:p}){Bnt();const f=Pe(g8),m=re(()=>i.route||f.value),b=Pe(Hk,0),A=re(()=>{let O=Ft(b);const{matched:w}=m.value;let z;for(;(z=w[O])&&!z.components;)O++;return O}),B=re(()=>m.value.matched[A.value]);yi(Hk,re(()=>A.value+1)),yi(_nt,B),yi(g8,m);const F=Ke();return Ds(()=>[F.value,B.value,i.name],([O,w,z],[G,ot,at])=>{w&&(w.instances[z]=O,ot&&ot!==w&&O&&O===G&&(w.leaveGuards.size||(w.leaveGuards=ot.leaveGuards),w.updateGuards.size||(w.updateGuards=ot.updateGuards))),O&&w&&(!ot||!vl(w,ot)||!G)&&(w.enterCallbacks[z]||[]).forEach(At=>At(O))},{flush:"post"}),()=>{const O=m.value,w=i.name,z=B.value,G=z&&z.components[w];if(!G)return Xk(p.default,{Component:G,route:O});const ot=z.props[w],at=ot?ot===!0?O.params:typeof ot=="function"?ot(O):ot:null,St=Fc(G,ns({},at,l,{onVnodeUnmounted:Kt=>{Kt.component.isUnmounted&&(z.instances[w]=null)},ref:F}));if(Aa&&St.ref){const Kt={depth:A.value,name:z.name,path:z.path,meta:z.meta};(vi(St.ref)?St.ref.map(Zt=>Zt.i):[St.ref.i]).forEach(Zt=>{Zt.__vrv_devtools=Kt})}return Xk(p.default,{Component:St,route:O})||St}}});function Xk(i,l){if(!i)return null;const p=i(l);return p.length===1?p[0]:p}const Ent=wnt;function Bnt(){const i=xl(),l=i.parent&&i.parent.type.name;if(l&&(l==="KeepAlive"||l.includes("Transition"))){const p=l==="KeepAlive"?"keep-alive":"transition";jn(`<router-view> can no longer be used directly inside <transition> or <keep-alive>.
Use slot props instead:

<router-view v-slot="{ Component }">
  <${p}>
    <component :is="Component" />
  </${p}>
</router-view>`)}}function Dp(i,l){const p=ns({},i,{matched:i.matched.map(f=>Ont(f,["instances","children","aliasOf"]))});return{_custom:{type:null,readOnly:!0,display:i.fullPath,tooltip:l,value:p}}}function t0(i){return{_custom:{display:i}}}let Snt=0;function Tnt(i,l,p){if(l.__hasDevtools)return;l.__hasDevtools=!0;const f=Snt++;_et({id:"org.vuejs.router"+(f?"."+f:""),label:"Vue Router",packageName:"vue-router",homepage:"https://router.vuejs.org",logo:"https://router.vuejs.org/logo.png",componentStateTypes:["Routing"],app:i},m=>{typeof m.now!="function"&&console.warn("[Vue Router]: You seem to be using an outdated version of Vue Devtools. Are you still using the Beta release instead of the stable one? You can find the links at https://devtools.vuejs.org/guide/installation.html."),m.on.inspectComponent((w,z)=>{w.instanceData&&w.instanceData.state.push({type:"Routing",key:"$route",editable:!1,value:Dp(l.currentRoute.value,"Current Route")})}),m.on.visitComponentTree(({treeNode:w,componentInstance:z})=>{if(z.__vrv_devtools){const G=z.__vrv_devtools;w.tags.push({label:(G.name?`${G.name.toString()}: `:"")+G.path,textColor:0,tooltip:"This component is rendered by &lt;router-view&gt;",backgroundColor:nw})}vi(z.__vrl_devtools)&&(z.__devtoolsApi=m,z.__vrl_devtools.forEach(G=>{let ot=iw,at="";G.isExactActive?(ot=rw,at="This is exactly active"):G.isActive&&(ot=sw,at="This link is active"),w.tags.push({label:G.route.path,textColor:0,tooltip:at,backgroundColor:ot})}))}),Ds(l.currentRoute,()=>{F(),m.notifyComponentUpdate(),m.sendInspectorTree(B),m.sendInspectorState(B)});const b="router:navigations:"+f;m.addTimelineLayer({id:b,label:`Router${f?" "+f:""} Navigations`,color:4237508}),l.onError((w,z)=>{m.addTimelineEvent({layerId:b,event:{title:"Error during Navigation",subtitle:z.fullPath,logType:"error",time:m.now(),data:{error:w},groupId:z.meta.__navigationId}})});let A=0;l.beforeEach((w,z)=>{const G={guard:t0("beforeEach"),from:Dp(z,"Current Location during this navigation"),to:Dp(w,"Target location")};Object.defineProperty(w.meta,"__navigationId",{value:A++}),m.addTimelineEvent({layerId:b,event:{time:m.now(),title:"Start of navigation",subtitle:w.fullPath,data:G,groupId:w.meta.__navigationId}})}),l.afterEach((w,z,G)=>{const ot={guard:t0("afterEach")};G?(ot.failure={_custom:{type:Error,readOnly:!0,display:G?G.message:"",tooltip:"Navigation Failure",value:G}},ot.status=t0("")):ot.status=t0(""),ot.from=Dp(z,"Current Location during this navigation"),ot.to=Dp(w,"Target location"),m.addTimelineEvent({layerId:b,event:{title:"End of navigation",subtitle:w.fullPath,time:m.now(),data:ot,logType:G?"warning":"default",groupId:w.meta.__navigationId}})});const B="router-inspector:"+f;m.addInspector({id:B,label:"Routes"+(f?" "+f:""),icon:"book",treeFilterPlaceholder:"Search routes"});function F(){if(!O)return;const w=O;let z=p.getRoutes().filter(G=>!G.parent);z.forEach(lw),w.filter&&(z=z.filter(G=>m8(G,w.filter.toLowerCase()))),z.forEach(G=>aw(G,l.currentRoute.value)),w.rootNodes=z.map(ow)}let O;m.on.getInspectorTree(w=>{O=w,w.app===i&&w.inspectorId===B&&F()}),m.on.getInspectorState(w=>{if(w.app===i&&w.inspectorId===B){const G=p.getRoutes().find(ot=>ot.record.__vd_id===w.nodeId);G&&(w.state={options:Fnt(G)})}}),m.sendInspectorTree(B),m.sendInspectorState(B)})}function Dnt(i){return i.optional?i.repeatable?"*":"?":i.repeatable?"+":""}function Fnt(i){const{record:l}=i,p=[{editable:!1,key:"path",value:l.path}];return l.name!=null&&p.push({editable:!1,key:"name",value:l.name}),p.push({editable:!1,key:"regexp",value:i.re}),i.keys.length&&p.push({editable:!1,key:"keys",value:{_custom:{type:null,readOnly:!0,display:i.keys.map(f=>`${f.name}${Dnt(f)}`).join(" "),tooltip:"Param keys",value:i.keys}}}),l.redirect!=null&&p.push({editable:!1,key:"redirect",value:l.redirect}),i.alias.length&&p.push({editable:!1,key:"aliases",value:i.alias.map(f=>f.record.path)}),Object.keys(i.record.meta).length&&p.push({editable:!1,key:"meta",value:i.record.meta}),p.push({key:"score",editable:!1,value:{_custom:{type:null,readOnly:!0,display:i.score.map(f=>f.join(", ")).join(" | "),tooltip:"Score used to sort routes",value:i.score}}}),p}const nw=15485081,sw=2450411,rw=8702998,Lnt=2282478,iw=16486972,Int=6710886;function ow(i){const l=[],{record:p}=i;p.name!=null&&l.push({label:String(p.name),textColor:0,backgroundColor:Lnt}),p.aliasOf&&l.push({label:"alias",textColor:0,backgroundColor:iw}),i.__vd_match&&l.push({label:"matches",textColor:0,backgroundColor:nw}),i.__vd_exactActive&&l.push({label:"exact",textColor:0,backgroundColor:rw}),i.__vd_active&&l.push({label:"active",textColor:0,backgroundColor:sw}),p.redirect&&l.push({label:typeof p.redirect=="string"?`redirect: ${p.redirect}`:"redirects",textColor:16777215,backgroundColor:Int});let f=p.__vd_id;return f==null&&(f=String(Mnt++),p.__vd_id=f),{id:f,label:p.path,tags:l,children:i.children.map(ow)}}let Mnt=0;const Rnt=/^\/(.*)\/([a-z]*)$/;function aw(i,l){const p=l.matched.length&&vl(l.matched[l.matched.length-1],i.record);i.__vd_exactActive=i.__vd_active=p,p||(i.__vd_active=l.matched.some(f=>vl(f,i.record))),i.children.forEach(f=>aw(f,l))}function lw(i){i.__vd_match=!1,i.children.forEach(lw)}function m8(i,l){const p=String(i.re).match(Rnt);if(i.__vd_match=!1,!p||p.length<3)return!1;if(new RegExp(p[1].replace(/\$$/,""),p[2]).test(l))return i.children.forEach(A=>m8(A,l)),i.record.path!=="/"||l==="/"?(i.__vd_match=i.re.test(l),!0):!1;const m=i.record.path.toLowerCase(),b=td(m);return!l.startsWith("/")&&(b.includes(l)||m.includes(l))||b.startsWith(l)||m.startsWith(l)||i.record.name&&String(i.record.name).includes(l)?!0:i.children.some(A=>m8(A,l))}function Ont(i,l){const p={};for(const f in i)l.includes(f)||(p[f]=i[f]);return p}function Nnt(i){const l=Ket(i.routes,i),p=i.parseQuery||gnt,f=i.stringifyQuery||Wk,m=i.history;if(!m)throw new Error('Provide the "history" option when calling "createRouter()": https://next.router.vuejs.org/api/#history.');const b=Tp(),A=Tp(),B=Tp(),F=Po(rl);let O=rl;Aa&&i.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const w=N2.bind(null,zt=>""+zt),z=N2.bind(null,ynt),G=N2.bind(null,td);function ot(zt,Re){let ke,$e;return GA(zt)?(ke=l.getRecordMatcher(zt),$e=Re):$e=zt,l.addRoute($e,ke)}function at(zt){const Re=l.getRecordMatcher(zt);Re?l.removeRoute(Re):jn(`Cannot remove non-existent route "${String(zt)}"`)}function At(){return l.getRoutes().map(zt=>zt.record)}function St(zt){return!!l.getRecordMatcher(zt)}function Kt(zt,Re){if(Re=ns({},Re||F.value),typeof zt=="string"){const an=P2(p,zt,Re.path),Q=l.resolve({path:an.path},Re),gt=m.createHref(an.fullPath);return gt.startsWith("//")?jn(`Location "${zt}" resolved to "${gt}". A resolved location cannot start with multiple slashes.`):Q.matched.length||jn(`No match found for location with path "${zt}"`),ns(an,Q,{params:G(Q.params),hash:td(an.hash),redirectedFrom:void 0,href:gt})}let ke;if("path"in zt)"params"in zt&&!("name"in zt)&&Object.keys(zt.params).length&&jn(`Path "${zt.path}" was passed with params but they will be ignored. Use a named route alongside params instead.`),ke=ns({},zt,{path:P2(p,zt.path,Re.path).path});else{const an=ns({},zt.params);for(const Q in an)an[Q]==null&&delete an[Q];ke=ns({},zt,{params:z(zt.params)}),Re.params=z(Re.params)}const $e=l.resolve(ke,Re),Ln=zt.hash||"";Ln&&!Ln.startsWith("#")&&jn(`A \`hash\` should always start with the character "#". Replace "${Ln}" with "#${Ln}".`),$e.params=w(G($e.params));const Pn=ket(f,ns({},zt,{hash:pnt(Ln),path:$e.path})),yn=m.createHref(Pn);return yn.startsWith("//")?jn(`Location "${zt}" resolved to "${yn}". A resolved location cannot start with multiple slashes.`):$e.matched.length||jn(`No match found for location with path "${"path"in zt?zt.path:zt}"`),ns({fullPath:Pn,hash:Ln,query:f===Wk?mnt(zt.query):zt.query||{}},$e,{redirectedFrom:void 0,href:yn})}function $t(zt){return typeof zt=="string"?P2(p,zt,F.value.path):ns({},zt)}function Zt(zt,Re){if(O!==zt)return eh(8,{from:Re,to:zt})}function ie(zt){return be(zt)}function Fe(zt){return ie(ns($t(zt),{replace:!0}))}function Ae(zt){const Re=zt.matched[zt.matched.length-1];if(Re&&Re.redirect){const{redirect:ke}=Re;let $e=typeof ke=="function"?ke(zt):ke;if(typeof $e=="string"&&($e=$e.includes("?")||$e.includes("#")?$e=$t($e):{path:$e},$e.params={}),!("path"in $e)&&!("name"in $e))throw jn(`Invalid redirect found:
${JSON.stringify($e,null,2)}
 when navigating to "${zt.fullPath}". A redirect must contain a name or path. This will break in production.`),new Error("Invalid redirect");return ns({query:zt.query,hash:zt.hash,params:"path"in $e?{}:zt.params},$e)}}function be(zt,Re){const ke=O=Kt(zt),$e=F.value,Ln=zt.state,Pn=zt.force,yn=zt.replace===!0,an=Ae(ke);if(an)return be(ns($t(an),{state:typeof an=="object"?ns({},Ln,an.state):Ln,force:Pn,replace:yn}),Re||ke);const Q=ke;Q.redirectedFrom=Re;let gt;return!Pn&&Mk(f,$e,ke)&&(gt=eh(16,{to:Q,from:$e}),qn($e,$e,!0,!1)),(gt?Promise.resolve(gt):fn(Q,$e)).catch(It=>ba(It)?ba(It,2)?It:Mn(It):Le(It,Q,$e)).then(It=>{if(It){if(ba(It,2))return Mk(f,Kt(It.to),Q)&&Re&&(Re._count=Re._count?Re._count+1:1)>10?(jn(`Detected an infinite redirection in a navigation guard when going from "${$e.fullPath}" to "${Q.fullPath}". Aborting to avoid a Stack Overflow. This will break in production if not fixed.`),Promise.reject(new Error("Infinite redirect in navigation guard"))):be(ns({replace:yn},$t(It.to),{state:typeof It.to=="object"?ns({},Ln,It.to.state):Ln,force:Pn}),Re||Q)}else It=$n(Q,$e,!0,yn,Ln);return On(Q,$e,It),It})}function qe(zt,Re){const ke=Zt(zt,Re);return ke?Promise.reject(ke):Promise.resolve()}function fn(zt,Re){let ke;const[$e,Ln,Pn]=Pnt(zt,Re);ke=V2($e.reverse(),"beforeRouteLeave",zt,Re);for(const an of $e)an.leaveGuards.forEach(Q=>{ke.push(al(Q,zt,Re))});const yn=qe.bind(null,zt,Re);return ke.push(yn),Yu(ke).then(()=>{ke=[];for(const an of b.list())ke.push(al(an,zt,Re));return ke.push(yn),Yu(ke)}).then(()=>{ke=V2(Ln,"beforeRouteUpdate",zt,Re);for(const an of Ln)an.updateGuards.forEach(Q=>{ke.push(al(Q,zt,Re))});return ke.push(yn),Yu(ke)}).then(()=>{ke=[];for(const an of zt.matched)if(an.beforeEnter&&!Re.matched.includes(an))if(vi(an.beforeEnter))for(const Q of an.beforeEnter)ke.push(al(Q,zt,Re));else ke.push(al(an.beforeEnter,zt,Re));return ke.push(yn),Yu(ke)}).then(()=>(zt.matched.forEach(an=>an.enterCallbacks={}),ke=V2(Pn,"beforeRouteEnter",zt,Re),ke.push(yn),Yu(ke))).then(()=>{ke=[];for(const an of A.list())ke.push(al(an,zt,Re));return ke.push(yn),Yu(ke)}).catch(an=>ba(an,8)?an:Promise.reject(an))}function On(zt,Re,ke){for(const $e of B.list())$e(zt,Re,ke)}function $n(zt,Re,ke,$e,Ln){const Pn=Zt(zt,Re);if(Pn)return Pn;const yn=Re===rl,an=Aa?history.state:{};ke&&($e||yn?m.replace(zt.fullPath,ns({scroll:yn&&an&&an.scroll},Ln)):m.push(zt.fullPath,Ln)),F.value=zt,qn(zt,Re,ke,yn),Mn()}let ws;function Js(){ws||(ws=m.listen((zt,Re,ke)=>{if(!Fi.listening)return;const $e=Kt(zt),Ln=Ae($e);if(Ln){be(ns(Ln,{replace:!0}),$e).catch(Up);return}O=$e;const Pn=F.value;Aa&&Fet(Ok(Pn.fullPath,ke.delta),q0()),fn($e,Pn).catch(yn=>ba(yn,12)?yn:ba(yn,2)?(be(yn.to,$e).then(an=>{ba(an,20)&&!ke.delta&&ke.type===Jp.pop&&m.go(-1,!1)}).catch(Up),Promise.reject()):(ke.delta&&m.go(-ke.delta,!1),Le(yn,$e,Pn))).then(yn=>{yn=yn||$n($e,Pn,!1),yn&&(ke.delta&&!ba(yn,8)?m.go(-ke.delta,!1):ke.type===Jp.pop&&ba(yn,20)&&m.go(-1,!1)),On($e,Pn,yn)}).catch(Up)}))}let tr=Tp(),Kn=Tp(),ds;function Le(zt,Re,ke){Mn(zt);const $e=Kn.list();return $e.length?$e.forEach(Ln=>Ln(zt,Re,ke)):(jn("uncaught error during route navigation:"),console.error(zt)),Promise.reject(zt)}function nn(){return ds&&F.value!==rl?Promise.resolve():new Promise((zt,Re)=>{tr.add([zt,Re])})}function Mn(zt){return ds||(ds=!zt,Js(),tr.list().forEach(([Re,ke])=>zt?ke(zt):Re()),tr.reset()),zt}function qn(zt,Re,ke,$e){const{scrollBehavior:Ln}=i;if(!Aa||!Ln)return Promise.resolve();const Pn=!ke&&Let(Ok(zt.fullPath,0))||($e||!ke)&&history.state&&history.state.scroll||null;return uo().then(()=>Ln(zt,Re,Pn)).then(yn=>yn&&Det(yn)).catch(yn=>Le(yn,zt,Re))}const gr=zt=>m.go(zt);let Ys;const Ar=new Set,Fi={currentRoute:F,listening:!0,addRoute:ot,removeRoute:at,hasRoute:St,getRoutes:At,resolve:Kt,options:i,push:ie,replace:Fe,go:gr,back:()=>gr(-1),forward:()=>gr(1),beforeEach:b.add,beforeResolve:A.add,afterEach:B.add,onError:Kn.add,isReady:nn,install(zt){const Re=this;zt.component("RouterLink",knt),zt.component("RouterView",Ent),zt.config.globalProperties.$router=Re,Object.defineProperty(zt.config.globalProperties,"$route",{enumerable:!0,get:()=>Ft(F)}),Aa&&!Ys&&F.value===rl&&(Ys=!0,ie(m.location).catch(Ln=>{jn("Unexpected error when starting the router:",Ln)}));const ke={};for(const Ln in rl)ke[Ln]=re(()=>F.value[Ln]);zt.provide(J8,Re),zt.provide(ew,kr(ke)),zt.provide(g8,F);const $e=zt.unmount;Ar.add(zt),zt.unmount=function(){Ar.delete(zt),Ar.size<1&&(O=rl,ws&&ws(),ws=null,F.value=rl,Ys=!1,ds=!1),$e()},Aa&&Tnt(zt,Re,l)}};return Fi}function Yu(i){return i.reduce((l,p)=>l.then(()=>p()),Promise.resolve())}function Pnt(i,l){const p=[],f=[],m=[],b=Math.max(l.matched.length,i.matched.length);for(let A=0;A<b;A++){const B=l.matched[A];B&&(i.matched.find(O=>vl(O,B))?f.push(B):p.push(B));const F=i.matched[A];F&&(l.matched.find(O=>vl(O,F))||m.push(F))}return[p,f,m]}const $2=Ke(!1),Wp=Ke(!1),qu=Ke(!1),Vnt=Ke(!0),_8=wtt({xs:460,...btt}),wc=uet(),cw=Ztt(),$nt=re(()=>wc.height.value-wc.width.value/dl>180),uw=Xtt(ho?document.body:null),Ju=vtt(),Ynt=re(()=>{var i,l;return["INPUT","TEXTAREA"].includes(((i=Ju.value)==null?void 0:i.tagName)||"")||((l=Ju.value)==null?void 0:l.classList.contains("CodeMirror-code"))}),Unt=re(()=>{var i;return["BUTTON","A"].includes(((i=Ju.value)==null?void 0:i.tagName)||"")});po("slidev-camera","default");po("slidev-mic","default");const l0=po("slidev-scale",0),zr=po("slidev-show-overview",!1),Y2=po("slidev-presenter-cursor",!0),Kk=po("slidev-show-editor",!1);po("slidev-editor-width",ho?window.innerWidth*.4:100);const hw=$A(zr);function Zk(i,l,p,f=m=>m){return i*f(.5-l*(.5-p))}function znt(i){return[-i[0],-i[1]]}function io(i,l){return[i[0]+l[0],i[1]+l[1]]}function Ti(i,l){return[i[0]-l[0],i[1]-l[1]]}function ro(i,l){return[i[0]*l,i[1]*l]}function Wnt(i,l){return[i[0]/l,i[1]/l]}function Fp(i){return[i[1],-i[0]]}function Qk(i,l){return i[0]*l[0]+i[1]*l[1]}function Hnt(i,l){return i[0]===l[0]&&i[1]===l[1]}function jnt(i){return Math.hypot(i[0],i[1])}function Gnt(i){return i[0]*i[0]+i[1]*i[1]}function Jk(i,l){return Gnt(Ti(i,l))}function pw(i){return Wnt(i,jnt(i))}function qnt(i,l){return Math.hypot(i[1]-l[1],i[0]-l[0])}function Lp(i,l,p){let f=Math.sin(p),m=Math.cos(p),b=i[0]-l[0],A=i[1]-l[1],B=b*m-A*f,F=b*f+A*m;return[B+l[0],F+l[1]]}function v8(i,l,p){return io(i,ro(Ti(l,i),p))}function tC(i,l,p){return io(i,ro(l,p))}var{min:Uu,PI:Xnt}=Math,eC=.275,Ip=Xnt+1e-4;function Knt(i,l={}){let{size:p=16,smoothing:f=.5,thinning:m=.5,simulatePressure:b=!0,easing:A=Le=>Le,start:B={},end:F={},last:O=!1}=l,{cap:w=!0,easing:z=Le=>Le*(2-Le)}=B,{cap:G=!0,easing:ot=Le=>--Le*Le*Le+1}=F;if(i.length===0||p<=0)return[];let at=i[i.length-1].runningLength,At=B.taper===!1?0:B.taper===!0?Math.max(p,at):B.taper,St=F.taper===!1?0:F.taper===!0?Math.max(p,at):F.taper,Kt=Math.pow(p*f,2),$t=[],Zt=[],ie=i.slice(0,10).reduce((Le,nn)=>{let Mn=nn.pressure;if(b){let qn=Uu(1,nn.distance/p),gr=Uu(1,1-qn);Mn=Uu(1,Le+(gr-Le)*(qn*eC))}return(Le+Mn)/2},i[0].pressure),Fe=Zk(p,m,i[i.length-1].pressure,A),Ae,be=i[0].vector,qe=i[0].point,fn=qe,On=qe,$n=fn,ws=!1;for(let Le=0;Le<i.length;Le++){let{pressure:nn}=i[Le],{point:Mn,vector:qn,distance:gr,runningLength:Ys}=i[Le];if(Le<i.length-1&&at-Ys<3)continue;if(m){if(b){let Pn=Uu(1,gr/p),yn=Uu(1,1-Pn);nn=Uu(1,ie+(yn-ie)*(Pn*eC))}Fe=Zk(p,m,nn,A)}else Fe=p/2;Ae===void 0&&(Ae=Fe);let Ar=Ys<At?z(Ys/At):1,Fi=at-Ys<St?ot((at-Ys)/St):1;Fe=Math.max(.01,Fe*Math.min(Ar,Fi));let zt=(Le<i.length-1?i[Le+1]:i[Le]).vector,Re=Le<i.length-1?Qk(qn,zt):1,ke=Qk(qn,be)<0&&!ws,$e=Re!==null&&Re<0;if(ke||$e){let Pn=ro(Fp(be),Fe);for(let yn=1/13,an=0;an<=1;an+=yn)On=Lp(Ti(Mn,Pn),Mn,Ip*an),$t.push(On),$n=Lp(io(Mn,Pn),Mn,Ip*-an),Zt.push($n);qe=On,fn=$n,$e&&(ws=!0);continue}if(ws=!1,Le===i.length-1){let Pn=ro(Fp(qn),Fe);$t.push(Ti(Mn,Pn)),Zt.push(io(Mn,Pn));continue}let Ln=ro(Fp(v8(zt,qn,Re)),Fe);On=Ti(Mn,Ln),(Le<=1||Jk(qe,On)>Kt)&&($t.push(On),qe=On),$n=io(Mn,Ln),(Le<=1||Jk(fn,$n)>Kt)&&(Zt.push($n),fn=$n),ie=nn,be=qn}let Js=i[0].point.slice(0,2),tr=i.length>1?i[i.length-1].point.slice(0,2):io(i[0].point,[1,1]),Kn=[],ds=[];if(i.length===1){if(!(At||St)||O){let Le=tC(Js,pw(Fp(Ti(Js,tr))),-(Ae||Fe)),nn=[];for(let Mn=1/13,qn=Mn;qn<=1;qn+=Mn)nn.push(Lp(Le,Js,Ip*2*qn));return nn}}else{if(!(At||St&&i.length===1))if(w)for(let nn=1/13,Mn=nn;Mn<=1;Mn+=nn){let qn=Lp(Zt[0],Js,Ip*Mn);Kn.push(qn)}else{let nn=Ti($t[0],Zt[0]),Mn=ro(nn,.5),qn=ro(nn,.51);Kn.push(Ti(Js,Mn),Ti(Js,qn),io(Js,qn),io(Js,Mn))}let Le=Fp(znt(i[i.length-1].vector));if(St||At&&i.length===1)ds.push(tr);else if(G){let nn=tC(tr,Le,Fe);for(let Mn=1/29,qn=Mn;qn<1;qn+=Mn)ds.push(Lp(nn,tr,Ip*3*qn))}else ds.push(io(tr,ro(Le,Fe)),io(tr,ro(Le,Fe*.99)),Ti(tr,ro(Le,Fe*.99)),Ti(tr,ro(Le,Fe)))}return $t.concat(ds,Zt.reverse(),Kn)}function Znt(i,l={}){var p;let{streamline:f=.5,size:m=16,last:b=!1}=l;if(i.length===0)return[];let A=.15+(1-f)*.85,B=Array.isArray(i[0])?i:i.map(({x:ot,y:at,pressure:At=.5})=>[ot,at,At]);if(B.length===2){let ot=B[1];B=B.slice(0,-1);for(let at=1;at<5;at++)B.push(v8(B[0],ot,at/4))}B.length===1&&(B=[...B,[...io(B[0],[1,1]),...B[0].slice(2)]]);let F=[{point:[B[0][0],B[0][1]],pressure:B[0][2]>=0?B[0][2]:.25,vector:[1,1],distance:0,runningLength:0}],O=!1,w=0,z=F[0],G=B.length-1;for(let ot=1;ot<B.length;ot++){let at=b&&ot===G?B[ot].slice(0,2):v8(z.point,B[ot],A);if(Hnt(z.point,at))continue;let At=qnt(at,z.point);if(w+=At,ot<G&&!O){if(w<m)continue;O=!0}z={point:at,pressure:B[ot][2]>=0?B[ot][2]:.5,vector:pw(Ti(z.point,at)),distance:At,runningLength:w},F.push(z)}return F[0].vector=((p=F[1])==null?void 0:p.vector)||[0,0],F}function Qnt(i,l={}){return Knt(Znt(i,l),l)}var Jnt=()=>({events:{},emit(i,...l){let p=this.events[i]||[];for(let f=0,m=p.length;f<m;f++)p[f](...l)},on(i,l){var p;return(p=this.events[i])!=null&&p.push(l)||(this.events[i]=[l]),()=>{var f;this.events[i]=(f=this.events[i])==null?void 0:f.filter(m=>l!==m)}}});function A0(i,l){return i-l}function tst(i){return i<0?-1:1}function w0(i){return[Math.abs(i),tst(i)]}function dw(){const i=()=>((1+Math.random())*65536|0).toString(16).substring(1);return`${i()+i()}-${i()}-${i()}-${i()}-${i()}${i()}${i()}`}var est=2,wa=est,sh=class{constructor(i){this.drauu=i,this.event=void 0,this.point=void 0,this.start=void 0,this.el=null}onSelected(i){}onUnselected(){}onStart(i){}onMove(i){return!1}onEnd(i){}get brush(){return this.drauu.brush}get shiftPressed(){return this.drauu.shiftPressed}get altPressed(){return this.drauu.altPressed}get svgElement(){return this.drauu.el}getMousePosition(i){var l;const p=this.drauu.el,f=this.drauu.options.coordinateScale??1;if(this.drauu.options.coordinateTransform===!1){const m=this.drauu.el.getBoundingClientRect();return{x:(i.pageX-m.left)*f,y:(i.pageY-m.top)*f,pressure:i.pressure}}else{const m=this.drauu.svgPoint;m.x=i.clientX,m.y=i.clientY;const b=m.matrixTransform((l=p.getScreenCTM())==null?void 0:l.inverse());return{x:b.x*f,y:b.y*f,pressure:i.pressure}}}createElement(i,l){const p=document.createElementNS("http://www.w3.org/2000/svg",i),f=l?{...this.brush,...l}:this.brush;return p.setAttribute("fill",f.fill??"transparent"),p.setAttribute("stroke",f.color),p.setAttribute("stroke-width",f.size.toString()),p.setAttribute("stroke-linecap","round"),f.dasharray&&p.setAttribute("stroke-dasharray",f.dasharray),p}attr(i,l){this.el.setAttribute(i,typeof l=="string"?l:l.toFixed(wa))}_setEvent(i){this.event=i,this.point=this.getMousePosition(i)}_eventDown(i){return this._setEvent(i),this.start=this.point,this.onStart(this.point)}_eventMove(i){return this._setEvent(i),this.onMove(this.point)}_eventUp(i){return this._setEvent(i),this.onEnd(this.point)}},nst=class extends sh{constructor(){super(...arguments),this.points=[]}onStart(i){return this.el=document.createElementNS("http://www.w3.org/2000/svg","path"),this.points=[i],this.attr("fill",this.brush.color),this.attr("d",this.getSvgData(this.points)),this.el}onMove(i){return this.el||this.onStart(i),this.points[this.points.length-1]!==i&&this.points.push(i),this.attr("d",this.getSvgData(this.points)),!0}onEnd(){const i=this.el;return this.el=null,!!i}getSvgData(i){const l=Qnt(i,{size:this.brush.size*2,thinning:.9,simulatePressure:!1,start:{taper:5},end:{taper:5},...this.brush.stylusOptions});if(!l.length)return"";const p=l.reduce((f,[m,b],A,B)=>{const[F,O]=B[(A+1)%B.length];return f.push(m,b,(m+F)/2,(b+O)/2),f},["M",...l[0],"Q"]);return p.push("Z"),p.map(f=>typeof f=="number"?f.toFixed(2):f).join(" ")}},sst=class extends sh{onStart(i){return this.el=this.createElement("ellipse"),this.attr("cx",i.x),this.attr("cy",i.y),this.el}onMove(i){if(!this.el||!this.start)return!1;let[l,p]=w0(i.x-this.start.x),[f,m]=w0(i.y-this.start.y);if(this.shiftPressed){const b=Math.min(l,f);l=b,f=b}if(this.altPressed)this.attr("cx",this.start.x),this.attr("cy",this.start.y),this.attr("rx",l),this.attr("ry",f);else{const[b,A]=[this.start.x,this.start.x+l*p].sort(A0),[B,F]=[this.start.y,this.start.y+f*m].sort(A0);this.attr("cx",(b+A)/2),this.attr("cy",(B+F)/2),this.attr("rx",(A-b)/2),this.attr("ry",(F-B)/2)}return!0}onEnd(){const i=this.el;return this.el=null,!(!i||!i.getTotalLength())}};function fw(i,l){const p=document.createElementNS("http://www.w3.org/2000/svg","defs"),f=document.createElementNS("http://www.w3.org/2000/svg","marker"),m=document.createElementNS("http://www.w3.org/2000/svg","path");return m.setAttribute("fill",l),f.setAttribute("id",i),f.setAttribute("viewBox","0 -5 10 10"),f.setAttribute("refX","5"),f.setAttribute("refY","0"),f.setAttribute("markerWidth","4"),f.setAttribute("markerHeight","4"),f.setAttribute("orient","auto"),m.setAttribute("d","M0,-5L10,0L0,5"),f.appendChild(m),p.appendChild(f),p}var rst=class extends sh{onStart(i){if(this.el=this.createElement("line",{fill:"transparent"}),this.attr("x1",i.x),this.attr("y1",i.y),this.attr("x2",i.x),this.attr("y2",i.y),this.brush.arrowEnd){const l=dw(),p=document.createElementNS("http://www.w3.org/2000/svg","g");return p.append(fw(l,this.brush.color)),p.append(this.el),this.attr("marker-end",`url(#${l})`),p}return this.el}onMove(i){if(!this.el)return!1;let{x:l,y:p}=i;if(this.shiftPressed){const f=i.x-this.start.x,m=i.y-this.start.y;if(m!==0){let b=f/m;b=Math.round(b),Math.abs(b)<=1?(l=this.start.x+m*b,p=this.start.y+m):(l=this.start.x+f,p=this.start.y)}}return this.altPressed?(this.attr("x1",this.start.x*2-l),this.attr("y1",this.start.y*2-p),this.attr("x2",l),this.attr("y2",p)):(this.attr("x1",this.start.x),this.attr("y1",this.start.y),this.attr("x2",l),this.attr("y2",p)),!0}onEnd(){const i=this.el;return this.el=null,!(!i||i.getTotalLength()<5)}},ist=class extends sh{onStart(i){return this.el=this.createElement("rect"),this.brush.cornerRadius&&(this.attr("rx",this.brush.cornerRadius),this.attr("ry",this.brush.cornerRadius)),this.attr("x",i.x),this.attr("y",i.y),this.el}onMove(i){if(!this.el||!this.start)return!1;let[l,p]=w0(i.x-this.start.x),[f,m]=w0(i.y-this.start.y);if(this.shiftPressed){const b=Math.min(l,f);l=b,f=b}if(this.altPressed)this.attr("x",this.start.x-l),this.attr("y",this.start.y-f),this.attr("width",l*2),this.attr("height",f*2);else{const[b,A]=[this.start.x,this.start.x+l*p].sort(A0),[B,F]=[this.start.y,this.start.y+f*m].sort(A0);this.attr("x",b),this.attr("y",B),this.attr("width",A-b),this.attr("height",F-B)}return!0}onEnd(){const i=this.el;return this.el=null,!(!i||!i.getTotalLength())}};function ost(i,l){const p=i.x-l.x,f=i.y-l.y;return p*p+f*f}function ast(i,l,p){let f=l.x,m=l.y,b=p.x-f,A=p.y-m;if(b!==0||A!==0){const B=((i.x-f)*b+(i.y-m)*A)/(b*b+A*A);B>1?(f=p.x,m=p.y):B>0&&(f+=b*B,m+=A*B)}return b=i.x-f,A=i.y-m,b*b+A*A}function lst(i,l){let p=i[0];const f=[p];let m;for(let b=1,A=i.length;b<A;b++)m=i[b],ost(m,p)>l&&(f.push(m),p=m);return p!==m&&m&&f.push(m),f}function b8(i,l,p,f,m){let b=f,A=0;for(let B=l+1;B<p;B++){const F=ast(i[B],i[l],i[p]);F>b&&(A=B,b=F)}b>f&&(A-l>1&&b8(i,l,A,f,m),m.push(i[A]),p-A>1&&b8(i,A,p,f,m))}function cst(i,l){const p=i.length-1,f=[i[0]];return b8(i,0,p,l,f),f.push(i[p]),f}function nC(i,l,p=!1){if(i.length<=2)return i;const f=l!==void 0?l*l:1;return i=p?i:lst(i,f),i=cst(i,f),i}var ust=class extends sh{constructor(){super(...arguments),this.points=[],this.count=0}onStart(i){if(this.el=this.createElement("path",{fill:"transparent"}),this.points=[i],this.brush.arrowEnd){this.arrowId=dw();const l=fw(this.arrowId,this.brush.color);this.el.appendChild(l)}return this.el}onMove(i){return this.el||this.onStart(i),this.points[this.points.length-1]!==i&&(this.points.push(i),this.count+=1),this.count>5&&(this.points=nC(this.points,1,!0),this.count=0),this.attr("d",rC(this.points)),!0}onEnd(){const i=this.el;return this.el=null,!(!i||(i.setAttribute("d",rC(nC(this.points,1,!0))),!i.getTotalLength()))}};function hst(i,l){const p=l.x-i.x,f=l.y-i.y;return{length:Math.sqrt(p**2+f**2),angle:Math.atan2(f,p)}}function sC(i,l,p,f){const m=l||i,b=p||i,A=.2,B=hst(m,b),F=B.angle+(f?Math.PI:0),O=B.length*A,w=i.x+Math.cos(F)*O,z=i.y+Math.sin(F)*O;return{x:w,y:z}}function pst(i,l,p){const f=sC(p[l-1],p[l-2],i),m=sC(i,p[l-1],p[l+1],!0);return`C ${f.x.toFixed(wa)},${f.y.toFixed(wa)} ${m.x.toFixed(wa)},${m.y.toFixed(wa)} ${i.x.toFixed(wa)},${i.y.toFixed(wa)}`}function rC(i){return i.reduce((l,p,f,m)=>f===0?`M ${p.x.toFixed(wa)},${p.y.toFixed(wa)}`:`${l} ${pst(p,f,m)}`,"")}var dst=class extends sh{constructor(){super(...arguments),this.pathSubFactor=20,this.pathFragments=[]}onSelected(i){const l=(p,f)=>{if(p&&p.length)for(let m=0;m<p.length;m++){const b=p[m];if(b.getTotalLength){const A=b.getTotalLength();for(let B=0;B<this.pathSubFactor;B++){const F=b.getPointAtLength(A*B/this.pathSubFactor),O=b.getPointAtLength(A*(B+1)/this.pathSubFactor);this.pathFragments.push({x1:F.x,x2:O.x,y1:F.y,y2:O.y,segment:B,element:f||b})}}else b.children&&l(b.children,b)}};i&&l(i.children)}onUnselected(){this.pathFragments=[]}onStart(i){this.svgPointPrevious=this.svgElement.createSVGPoint(),this.svgPointPrevious.x=i.x,this.svgPointPrevious.y=i.y}onMove(i){this.svgPointCurrent=this.svgElement.createSVGPoint(),this.svgPointCurrent.x=i.x,this.svgPointCurrent.y=i.y;const l=this.checkAndEraseElement();return this.svgPointPrevious=this.svgPointCurrent,l}onEnd(){return this.svgPointPrevious=void 0,this.svgPointCurrent=void 0,!0}checkAndEraseElement(){const i=[];if(this.pathFragments.length)for(let l=0;l<this.pathFragments.length;l++){const p=this.pathFragments[l],f={x1:this.svgPointPrevious.x,x2:this.svgPointCurrent.x,y1:this.svgPointPrevious.y,y2:this.svgPointCurrent.y};this.lineLineIntersect(p,f)&&(p.element.remove(),i.push(l))}return i.length&&(this.pathFragments=this.pathFragments.filter((l,p)=>!i.includes(p))),i.length>0}lineLineIntersect(i,l){const p=i.x1,f=i.x2,m=l.x1,b=l.x2,A=i.y1,B=i.y2,F=l.y1,O=l.y2,w=(p-f)*(F-O)-(A-B)*(m-b),z=(p*B-A*f)*(m-b)-(p-f)*(m*O-F*b),G=(p*B-A*f)*(F-O)-(A-B)*(m*O-F*b),ot=(at,At,St)=>at>=At&&at<=St?!0:at>=St&&at<=At;if(w===0)return!1;{const at={x:z/w,y:G/w};return ot(at.x,p,f)&&ot(at.y,A,B)&&ot(at.x,m,b)&&ot(at.y,F,O)}}};function fst(i){return{draw:new ust(i),stylus:new nst(i),line:new rst(i),rectangle:new ist(i),ellipse:new sst(i),eraseLine:new dst(i)}}var yst=class{constructor(i={}){this.options=i,this.el=null,this.svgPoint=null,this.eventEl=null,this.shiftPressed=!1,this.altPressed=!1,this.drawing=!1,this._emitter=Jnt(),this._models=fst(this),this._undoStack=[],this._disposables=[],this.options.brush||(this.options.brush={color:"black",size:3,mode:"stylus"}),i.el&&this.mount(i.el,i.eventTarget)}get model(){return this._models[this.mode]}get mounted(){return!!this.el}get mode(){return this.options.brush.mode||"stylus"}set mode(i){this._models[this.mode].onUnselected(),this.options.brush.mode=i,this.model.onSelected(this.el)}get brush(){return this.options.brush}set brush(i){this.options.brush=i}resolveSelector(i){return typeof i=="string"?document.querySelector(i):i||null}mount(i,l){if(this.el)throw new Error("[drauu] already mounted, unmount previous target first");if(this.el=this.resolveSelector(i),!this.el)throw new Error("[drauu] target element not found");if(this.el.tagName.toLocaleLowerCase()!=="svg")throw new Error("[drauu] can only mount to a SVG element");if(!this.el.createSVGPoint)throw new Error("[drauu] SVG element must be create by document.createElementNS('http://www.w3.org/2000/svg', 'svg')");this.svgPoint=this.el.createSVGPoint();const p=this.resolveSelector(l)||this.el,f=this.eventStart.bind(this),m=this.eventMove.bind(this),b=this.eventEnd.bind(this),A=this.eventKeyboard.bind(this);p.addEventListener("pointerdown",f,{passive:!1}),window.addEventListener("pointermove",m,{passive:!1}),window.addEventListener("pointerup",b,{passive:!1}),window.addEventListener("pointercancel",b,{passive:!1}),window.addEventListener("keydown",A,!1),window.addEventListener("keyup",A,!1),this._disposables.push(()=>{p.removeEventListener("pointerdown",f),window.removeEventListener("pointermove",m),window.removeEventListener("pointerup",b),window.removeEventListener("pointercancel",b),window.removeEventListener("keydown",A,!1),window.removeEventListener("keyup",A,!1)}),this._emitter.emit("mounted")}unmount(){this._disposables.forEach(i=>i()),this._disposables.length=0,this.el=null,this._emitter.emit("unmounted")}on(i,l){return this._emitter.on(i,l)}undo(){const i=this.el;return i.lastElementChild?(this._undoStack.push(i.lastElementChild.cloneNode(!0)),i.lastElementChild.remove(),this._emitter.emit("changed"),!0):!1}redo(){return this._undoStack.length?(this.el.appendChild(this._undoStack.pop()),this._emitter.emit("changed"),!0):!1}canRedo(){return!!this._undoStack.length}canUndo(){var i;return!!((i=this.el)!=null&&i.lastElementChild)}eventMove(i){!this.acceptsInput(i)||!this.drawing||this.model._eventMove(i)&&(i.stopPropagation(),i.preventDefault(),this._emitter.emit("changed"))}eventStart(i){this.acceptsInput(i)&&(i.stopPropagation(),i.preventDefault(),this._currentNode&&this.cancel(),this.drawing=!0,this._emitter.emit("start"),this._currentNode=this.model._eventDown(i),this._currentNode&&this.mode!=="eraseLine"&&this.el.appendChild(this._currentNode),this._emitter.emit("changed"))}eventEnd(i){if(!this.acceptsInput(i)||!this.drawing)return;const l=this.model._eventUp(i);l?(l instanceof Element&&l!==this._currentNode&&(this._currentNode=l),this.commit()):this.cancel(),this.drawing=!1,this._emitter.emit("end"),this._emitter.emit("changed")}acceptsInput(i){return!this.options.acceptsInputTypes||this.options.acceptsInputTypes.includes(i.pointerType)}eventKeyboard(i){this.shiftPressed===i.shiftKey&&this.altPressed===i.altKey||(this.shiftPressed=i.shiftKey,this.altPressed=i.altKey,this.model.point&&this.model.onMove(this.model.point)&&this._emitter.emit("changed"))}commit(){this._undoStack.length=0;const i=this._currentNode;this._currentNode=void 0,this._emitter.emit("committed",i)}clear(){this._undoStack.length=0,this.cancel(),this.el.innerHTML="",this._emitter.emit("changed")}cancel(){this._currentNode&&(this.el.removeChild(this._currentNode),this._currentNode=void 0,this._emitter.emit("canceled"))}dump(){return this.el.innerHTML}load(i){this.clear(),this.el.innerHTML=i}};function gst(i){return new yst(i)}const x8=["#ff595e","#ffca3a","#8ac926","#1982c4","#6a4c93","#ffffff","#000000"],Oo=po("slidev-drawing-enabled",!1),Bft=po("slidev-drawing-pinned",!1),mst=Ke(!1),_st=Ke(!1),vst=Ke(!1),ed=Ke(!1),mc=GJ(po("slidev-drawing-brush",{color:x8[0],size:4,mode:"stylus"})),iC=Ke("stylus"),yw=re(()=>hs.drawings.syncAll||ao.value);let nd=!1;const Mp=re({get(){return iC.value},set(i){iC.value=i,i==="arrow"?(mc.mode="line",mc.arrowEnd=!0):(mc.mode=i,mc.arrowEnd=!1)}}),bst=kr({brush:mc,acceptsInputTypes:re(()=>Oo.value&&(!hs.drawings.presenterOnly||ao.value)?void 0:["pen"]),coordinateTransform:!1}),Hr=I8(gst(bst));function xst(){Hr.clear(),yw.value&&RA(yr.value,"")}function gw(){var i;_st.value=Hr.canRedo(),mst.value=Hr.canUndo(),vst.value=!!((i=Hr.el)!=null&&i.children.length)}function kst(i){nd=!0;const l=k0[i||yr.value];l!=null?Hr.load(l):Hr.clear(),nd=!1}Hr.on("changed",()=>{if(gw(),!nd){const i=Hr.dump(),l=yr.value;(k0[l]||"")!==i&&yw.value&&RA(l,Hr.dump())}});PJ(i=>{nd=!0,i[yr.value]!=null&&Hr.load(i[yr.value]||""),nd=!1,gw()});uo(()=>{Ds(yr,()=>{Hr.mounted&&kst()},{immediate:!0})});Hr.on("start",()=>ed.value=!0);Hr.on("end",()=>ed.value=!1);window.addEventListener("keydown",i=>{if(!Oo.value)return;const l=!i.ctrlKey&&!i.altKey&&!i.shiftKey&&!i.metaKey;let p=!0;i.code==="KeyZ"&&(i.ctrlKey||i.metaKey)?i.shiftKey?Hr.redo():Hr.undo():i.code==="Escape"?Oo.value=!1:i.code==="KeyL"&&l?Mp.value="line":i.code==="KeyA"&&l?Mp.value="arrow":i.code==="KeyS"&&l?Mp.value="stylus":i.code==="KeyR"&&l?Mp.value="rectangle":i.code==="KeyE"&&l?Mp.value="ellipse":i.code==="KeyC"&&l?xst():i.code.startsWith("Digit")&&l&&+i.code[5]<=x8.length?mc.color=x8[+i.code[5]-1]:p=!1,p&&(i.preventDefault(),i.stopPropagation())},!1);var oC;const Cst=typeof window<"u";Cst&&((oC=window==null?void 0:window.navigator)!=null&&oC.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function mw(i){return typeof i=="function"?i():Ft(i)}function rr(...i){return re(()=>i.every(l=>mw(l)))}function pi(i){return re(()=>!mw(i))}const aC=Rtt(),U2=po("slidev-color-schema","auto"),k8=re(()=>hs.colorSchema!=="auto"),X0=re({get(){return k8.value?hs.colorSchema==="dark":U2.value==="auto"?aC.value:U2.value==="dark"},set(i){k8.value||(U2.value=i===aC.value?"auto":i?"dark":"light")}}),_w=$A(X0);ho&&Ds(X0,i=>{const l=document.querySelector("html");l.classList.toggle("dark",i),l.classList.toggle("light",!i)},{immediate:!0});const c0=Ke(1),u0=re(()=>or.length-1),mi=Ke(0),t5=Ke(0);function Ast(){mi.value>c0.value&&(mi.value-=1)}function wst(){mi.value<u0.value&&(mi.value+=1)}function Est(){if(mi.value>c0.value){let i=mi.value-t5.value;i<c0.value&&(i=c0.value),mi.value=i}}function Bst(){if(mi.value<u0.value){let i=mi.value+t5.value;i>u0.value&&(i=u0.value),mi.value=i}}function Sst(){const{escape:i,space:l,shift:p,left:f,right:m,up:b,down:A,enter:B,d:F,g:O,o:w}=cw;let z=[{name:"next_space",key:rr(l,pi(p)),fn:Ec,autoRepeat:!0},{name:"prev_space",key:rr(l,p),fn:Bc,autoRepeat:!0},{name:"next_right",key:rr(m,pi(p),pi(zr)),fn:Ec,autoRepeat:!0},{name:"prev_left",key:rr(f,pi(p),pi(zr)),fn:Bc,autoRepeat:!0},{name:"next_page_key",key:"pageDown",fn:Ec,autoRepeat:!0},{name:"prev_page_key",key:"pageUp",fn:Bc,autoRepeat:!0},{name:"next_down",key:rr(A,pi(zr)),fn:T0,autoRepeat:!0},{name:"prev_up",key:rr(b,pi(zr)),fn:()=>D0(!1),autoRepeat:!0},{name:"next_shift",key:rr(m,p),fn:T0,autoRepeat:!0},{name:"prev_shift",key:rr(f,p),fn:()=>D0(!1),autoRepeat:!0},{name:"toggle_dark",key:rr(F,pi(Oo)),fn:_w},{name:"toggle_overview",key:rr(w,pi(Oo)),fn:hw},{name:"hide_overview",key:rr(i,pi(Oo)),fn:()=>zr.value=!1},{name:"goto",key:rr(O,pi(Oo)),fn:()=>qu.value=!qu.value},{name:"next_overview",key:rr(m,zr),fn:wst},{name:"prev_overview",key:rr(f,zr),fn:Ast},{name:"up_overview",key:rr(b,zr),fn:Est},{name:"down_overview",key:rr(A,zr),fn:Bst},{name:"goto_from_overview",key:rr(B,zr),fn:()=>{nh(mi.value),zr.value=!1}}];const G=new Set(z.map(at=>at.name));if(z.filter(at=>at.name&&G.has(at.name)).length===0){const at=["========== WARNING ==========","defineShortcutsSetup did not return any of the base shortcuts.","See https://sli.dev/custom/config-shortcuts.html for migration.",'If it is intentional, return at least one shortcut with one of the base names (e.g. name:"goto").'].join(`

`);alert(at),console.warn(at)}return z}const vw=rr(pi(Ynt),pi(Unt),Vnt);function Tst(i,l,p=!1){typeof i=="string"&&(i=cw[i]);const f=rr(i,vw);let m=0,b;const A=()=>{if(clearTimeout(b),!f.value){m=0;return}p&&(b=setTimeout(A,Math.max(1e3-m*250,150)),m++),l()};return Ds(f,A,{flush:"sync"})}function Dst(i,l){return _tt(i,p=>{vw.value&&(p.repeat||l())})}function Fst(){const i=Sst();new Map(i.map(p=>[p.key,p])).forEach(p=>{p.fn&&Tst(p.key,p.fn,p.autoRepeat)}),Dst("f",()=>uw.toggle())}const Lst={class:"slidev-icon",viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},Ist=n("path",{fill:"currentColor",d:"M24 9.4L22.6 8L16 14.6L9.4 8L8 9.4l6.6 6.6L8 22.6L9.4 24l6.6-6.6l6.6 6.6l1.4-1.4l-6.6-6.6L24 9.4z"},null,-1),Mst=[Ist];function Rst(i,l){return Yt(),Ne("svg",Lst,Mst)}const Ost={name:"carbon-close",render:Rst};function e5(i){var p,f;const l=(f=(p=i==null?void 0:i.meta)==null?void 0:p.slide)==null?void 0:f.no;return l!=null?`slidev-page-${l}`:""}const Nst=ps({__name:"SlideContainer",props:{width:{type:Number},meta:{default:()=>({})},scale:{type:[Number,String]}},setup(i){const l=i;Pe(Ze);const p=Ke(),f=qtt(p),m=re(()=>l.width?l.width:f.width.value),b=re(()=>l.width?l.width/dl:f.height.value);l.width&&Da(()=>{p.value&&(p.value.style.width=`${m.value}px`,p.value.style.height=`${b.value}px`)});const A=re(()=>m.value/b.value),B=re(()=>l.scale?l.scale:A.value<dl?m.value/fl:b.value*dl/fl),F=re(()=>({height:`${X8}px`,width:`${fl}px`,transform:`translate(-50%, -50%) scale(${B.value})`})),O=re(()=>({"select-none":!hs.selectable,"slidev-code-line-numbers":hs.lineNumbers}));return yi(IA,B),(w,z)=>(Yt(),Ne("div",{id:"slide-container",ref_key:"root",ref:p,class:Rs(Ft(O))},[n("div",{id:"slide-content",style:lr(Ft(F))},[Vo(w.$slots,"default")],4),Vo(w.$slots,"controls")],2))}});const Qe=(i,l)=>{const p=i.__vccOpts||i;for(const[f,m]of l)p[f]=m;return p},bw=Qe(Nst,[["__file","/Users/jedrzejsadowski/projects/bright/react-state-presentation/node_modules/@slidev/client/internals/SlideContainer.vue"]]),n5=ps({props:{clicks:{type:[Number,String],default:0},clicksElements:{type:Array,default:()=>[]},clicksOrderMap:{type:Map,default:()=>new Map},clicksDisabled:{type:Boolean,default:!1},context:{type:String,default:"main"},is:{type:Object,default:void 0},route:{type:Object,default:void 0}},setup(i,{emit:l}){const p=Ro(i,"clicks",l),f=Ro(i,"clicksElements",l),m=Ro(i,"clicksDisabled",l),b=Ro(i,"clicksOrderMap",l);f.value.length=0,yi(EJ,i.route),yi(BJ,i.context),yi(DA,p),yi(LA,m),yi(FA,f),yi(wJ,b)},render(){var i,l;return this.$props.is?Fc(this.$props.is):(l=(i=this.$slots)==null?void 0:i.default)==null?void 0:l.call(i)}}),Pst=["innerHTML"],Vst=ps({__name:"DrawingPreview",props:{page:{type:Number,required:!0}},setup(i){return Pe(Ze),(l,p)=>Ft(k0)[i.page]?(Yt(),Ne("svg",{key:0,ref:"svg",class:"w-full h-full absolute top-0 pointer-events-none",innerHTML:Ft(k0)[i.page]},null,8,Pst)):Wn("v-if",!0)}}),xw=Qe(Vst,[["__file","/Users/jedrzejsadowski/projects/bright/react-state-presentation/node_modules/@slidev/client/internals/DrawingPreview.vue"]]),$st=Object.freeze(Object.defineProperty({__proto__:null,default:xw},Symbol.toStringTag,{value:"Module"})),Yst={class:"slides-overview bg-main !bg-opacity-75 p-16 overflow-y-auto"},Ust=["onClick"],zst=ps({__name:"SlidesOverview",props:{modelValue:{type:Boolean,required:!0}},emits:[],setup(i,{emit:l}){const p=i;Pe(Ze);const f=Ro(p,"modelValue",l);function m(){f.value=!1}function b(ot){nh(ot),m()}function A(ot){return ot===mi.value}const B=_8.smaller("xs"),F=_8.smaller("sm"),O=4*16*2,w=2*16,z=re(()=>B.value?wc.width.value-O:F.value?(wc.width.value-O-w)/2:300),G=re(()=>Math.floor((wc.width.value-O)/(z.value+w)));return Da(()=>{mi.value=yr.value,t5.value=G.value}),(ot,at)=>{const At=Ost;return Yt(),Ne(os,null,[z0(n("div",Yst,[n("div",{class:"grid gap-y-4 gap-x-8 w-full",style:lr(`grid-template-columns: repeat(auto-fit,minmax(${Ft(z)}px,1fr))`)},[(Yt(!0),Ne(os,null,od(Ft(or).slice(0,-1),(St,Kt)=>(Yt(),Ne("div",{key:St.path,class:"relative"},[n("div",{class:Rs(["inline-block border rounded border-opacity-50 overflow-hidden bg-main hover:border-$slidev-theme-primary",{"border-$slidev-theme-primary":A(Kt+1),"border-gray-400":!A(Kt+1)}]),style:lr(Ft(K8)),onClick:$t=>b(+St.path)},[(Yt(),Xe(bw,{key:St.path,width:Ft(z),"clicks-disabled":!0,class:"pointer-events-none"},{default:ge(()=>[le(Ft(n5),{is:St==null?void 0:St.component,"clicks-disabled":!0,class:Rs(Ft(e5)(St)),route:St,context:"overview"},null,8,["is","class","route"]),le(xw,{page:+St.path},null,8,["page"])]),_:2},1032,["width"]))],14,Ust),n("div",{class:"absolute top-0 opacity-50",style:lr(`left: ${Ft(z)+5}px`)},Sc(Kt+1),5)]))),128))],4)],512),[[TA,Ft(f)]]),Ft(f)?(Yt(),Ne("button",{key:0,class:"fixed text-2xl top-4 right-4 icon-btn text-gray-400",onClick:m},[le(At)])):Wn("v-if",!0)],64)}}});const Wst=Qe(zst,[["__file","/Users/jedrzejsadowski/projects/bright/react-state-presentation/node_modules/@slidev/client/internals/SlidesOverview.vue"]]),Hst="/react-webinar/assets/logo-b72bde5d.png",jst={key:0,class:"fixed top-0 bottom-0 left-0 right-0 grid z-20"},Gst=ps({__name:"Modal",props:{modelValue:{default:!1},class:{default:""}},emits:["modelValue"],setup(i,{emit:l}){const p=i;Pe(Ze);const f=Ro(p,"modelValue",l);function m(){f.value=!1}return(b,A)=>(Yt(),Xe(iA,null,[Ft(f)?(Yt(),Ne("div",jst,[n("div",{bg:"black opacity-80",class:"absolute top-0 bottom-0 left-0 right-0 -z-1",onClick:A[0]||(A[0]=B=>m())}),n("div",{class:Rs(["m-auto rounded-md bg-main shadow",p.class]),"dark:border":"~ gray-400 opacity-10"},[Vo(b.$slots,"default")],2)])):Wn("v-if",!0)],1024))}}),qst=Qe(Gst,[["__file","/Users/jedrzejsadowski/projects/bright/react-state-presentation/node_modules/@slidev/client/internals/Modal.vue"]]),Xst={class:"slidev-info-dialog slidev-layout flex flex-col gap-4 text-base"},Kst=["innerHTML"],Zst=n("a",{href:"https://github.com/slidevjs/slidev",target:"_blank",class:"!opacity-100 !border-none !text-current"},[n("div",{class:"flex gap-1 children:my-auto"},[n("div",{class:"opacity-50 text-sm mr-2"},"Powered by"),n("img",{class:"w-5 h-5",src:Hst,alt:"Slidev"}),n("div",{style:{color:"#2082A6"}},[n("b",null,"Sli"),E("dev ")])])],-1),Qst=ps({__name:"InfoDialog",props:{modelValue:{default:!1}},emits:["modelValue"],setup(i,{emit:l}){const p=i;Pe(Ze);const f=Ro(p,"modelValue",l),m=re(()=>typeof hs.info=="string");return(b,A)=>(Yt(),Xe(qst,{modelValue:Ft(f),"onUpdate:modelValue":A[0]||(A[0]=B=>ts(f)?f.value=B:null),class:"px-6 py-4"},{default:ge(()=>[n("div",Xst,[Ft(m)?(Yt(),Ne("div",{key:0,class:"mb-4",innerHTML:Ft(hs).info},null,8,Kst)):Wn("v-if",!0),Zst])]),_:1},8,["modelValue"]))}});const Jst=Qe(Qst,[["__file","/Users/jedrzejsadowski/projects/bright/react-state-presentation/node_modules/@slidev/client/internals/InfoDialog.vue"]]),trt=["disabled","onKeydown"],ert=ps({__name:"Goto",setup(i){Pe(Ze);const l=Ke(),p=Ke(""),f=re(()=>{if(p.value.startsWith("/"))return!!or.find(A=>A.path===p.value.substring(1));{const A=+p.value;return!isNaN(A)&&A>0&&A<=Mw.value}});function m(){f.value&&(p.value.startsWith("/")?nh(p.value.substring(1)):nh(+p.value)),b()}function b(){qu.value=!1}return Ds(qu,async A=>{var B,F;A?(await uo(),p.value="",(B=l.value)==null||B.focus()):(F=l.value)==null||F.blur()}),Ds(p,A=>{A.match(/^[^0-9/]/)&&(p.value=p.value.substring(1))}),(A,B)=>(Yt(),Ne("div",{id:"slidev-goto-dialog",class:Rs(["fixed right-5 bg-main transform transition-all",Ft(qu)?"top-5":"-top-20"]),shadow:"~",p:"x-4 y-2",border:"~ transparent rounded dark:gray-400 dark:opacity-25"},[z0(n("input",{ref_key:"input",ref:l,"onUpdate:modelValue":B[0]||(B[0]=F=>p.value=F),type:"text",disabled:!Ft(qu),class:Rs(["outline-none bg-transparent",{"text-red-400":!Ft(f)&&p.value}]),placeholder:"Goto...",onKeydown:[hk(m,["enter"]),hk(b,["escape"])],onBlur:b},null,42,trt),[[mJ,p.value]])],2))}}),nrt=Qe(ert,[["__file","/Users/jedrzejsadowski/projects/bright/react-state-presentation/node_modules/@slidev/client/internals/Goto.vue"]]),srt=ps({__name:"Controls",setup(i){Pe(Ze);const l=Po(),p=Po();return(f,m)=>(Yt(),Ne(os,null,[le(Wst,{modelValue:Ft(zr),"onUpdate:modelValue":m[0]||(m[0]=b=>ts(zr)?zr.value=b:null)},null,8,["modelValue"]),le(nrt),Ft(l)?(Yt(),Xe(Ft(l),{key:0})):Wn("v-if",!0),Ft(p)?(Yt(),Xe(Ft(p),{key:1,modelValue:Ft($2),"onUpdate:modelValue":m[1]||(m[1]=b=>ts($2)?$2.value=b:null)},null,8,["modelValue"])):Wn("v-if",!0),Ft(hs).info?(Yt(),Xe(Jst,{key:2,modelValue:Ft(Wp),"onUpdate:modelValue":m[2]||(m[2]=b=>ts(Wp)?Wp.value=b:null)},null,8,["modelValue"])):Wn("v-if",!0)],64))}}),rrt=Qe(srt,[["__file","/Users/jedrzejsadowski/projects/bright/react-state-presentation/node_modules/@slidev/client/internals/Controls.vue"]]),irt={class:"slidev-icon",viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},ort=n("path",{fill:"currentColor",d:"M30 8h-4.1c-.5-2.3-2.5-4-4.9-4s-4.4 1.7-4.9 4H2v2h14.1c.5 2.3 2.5 4 4.9 4s4.4-1.7 4.9-4H30V8zm-9 4c-1.7 0-3-1.3-3-3s1.3-3 3-3s3 1.3 3 3s-1.3 3-3 3zM2 24h4.1c.5 2.3 2.5 4 4.9 4s4.4-1.7 4.9-4H30v-2H15.9c-.5-2.3-2.5-4-4.9-4s-4.4 1.7-4.9 4H2v2zm9-4c1.7 0 3 1.3 3 3s-1.3 3-3 3s-3-1.3-3-3s1.3-3 3-3z"},null,-1),art=[ort];function lrt(i,l){return Yt(),Ne("svg",irt,art)}const crt={name:"carbon-settings-adjust",render:lrt},urt={class:"slidev-icon",viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},hrt=n("path",{fill:"currentColor",d:"M17 22v-8h-4v2h2v6h-3v2h8v-2h-3zM16 8a1.5 1.5 0 1 0 1.5 1.5A1.5 1.5 0 0 0 16 8z"},null,-1),prt=n("path",{fill:"currentColor",d:"M16 30a14 14 0 1 1 14-14a14 14 0 0 1-14 14Zm0-26a12 12 0 1 0 12 12A12 12 0 0 0 16 4Z"},null,-1),drt=[hrt,prt];function frt(i,l){return Yt(),Ne("svg",urt,drt)}const yrt={name:"carbon-information",render:frt},grt={class:"slidev-icon",viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},mrt=n("path",{fill:"currentColor",d:"M26 24v4H6v-4H4v4a2 2 0 0 0 2 2h20a2 2 0 0 0 2-2v-4zm0-10l-1.41-1.41L17 20.17V2h-2v18.17l-7.59-7.58L6 14l10 10l10-10z"},null,-1),_rt=[mrt];function vrt(i,l){return Yt(),Ne("svg",grt,_rt)}const brt={name:"carbon-download",render:vrt},xrt={class:"slidev-icon",viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},krt=n("path",{fill:"currentColor",d:"M29.415 19L27.7 17.285A2.97 2.97 0 0 0 28 16a3 3 0 1 0-3 3a2.97 2.97 0 0 0 1.286-.3L28 20.414V28h-6v-3a7.008 7.008 0 0 0-7-7H9a7.008 7.008 0 0 0-7 7v5h28v-9.586A1.988 1.988 0 0 0 29.415 19ZM4 25a5.006 5.006 0 0 1 5-5h6a5.006 5.006 0 0 1 5 5v3H4Z"},null,-1),Crt=n("path",{fill:"currentColor",d:"M12 4a5 5 0 1 1-5 5a5 5 0 0 1 5-5m0-2a7 7 0 1 0 7 7a7 7 0 0 0-7-7Z"},null,-1),Art=[krt,Crt];function wrt(i,l){return Yt(),Ne("svg",xrt,Art)}const Ert={name:"carbon-user-speaker",render:wrt},Brt={class:"slidev-icon",viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},Srt=n("path",{fill:"currentColor",d:"M15 10h2v8h-2zm5 4h2v4h-2zm-10-2h2v6h-2z"},null,-1),Trt=n("path",{fill:"currentColor",d:"M25 4h-8V2h-2v2H7a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h8v6h-4v2h10v-2h-4v-6h8a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2Zm0 16H7V6h18Z"},null,-1),Drt=[Srt,Trt];function Frt(i,l){return Yt(),Ne("svg",Brt,Drt)}const Lrt={name:"carbon-presentation-file",render:Frt},Irt={class:"slidev-icon",viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},Mrt=n("path",{fill:"currentColor",d:"M27.307 6.107L30 3.414L28.586 2l-2.693 2.693L24.8 3.6a1.933 1.933 0 0 0-2.8 0l-18 18V28h6.4l18-18a1.933 1.933 0 0 0 0-2.8ZM9.6 26H6v-3.6L23.4 5L27 8.6ZM9 11.586L16.586 4L18 5.414L10.414 13z"},null,-1),Rrt=[Mrt];function Ort(i,l){return Yt(),Ne("svg",Irt,Rrt)}const Nrt={name:"carbon-pen",render:Ort},Prt={class:"slidev-icon",viewBox:"0 0 256 256",width:"1.2em",height:"1.2em"},Vrt=n("path",{fill:"currentColor",d:"m38.2 48.5l58.2 155.2a8 8 0 0 0 15-.1l23.3-64.1a8.1 8.1 0 0 1 4.8-4.8l64.1-23.3a8 8 0 0 0 .1-15L48.5 38.2a8 8 0 0 0-10.3 10.3Z",opacity:".2"},null,-1),$rt=n("path",{fill:"currentColor",d:"m150.5 139.2l55.9-20.3a16 16 0 0 0 .1-30L51.3 30.7a16 16 0 0 0-20.6 20.6l58.2 155.2a15.9 15.9 0 0 0 15 10.4h.1a15.9 15.9 0 0 0 14.9-10.5l20.3-55.9l63.1 63.2a8.5 8.5 0 0 0 5.7 2.3a8.3 8.3 0 0 0 5.7-2.3a8.1 8.1 0 0 0 0-11.4Zm-46.6 61.7L45.7 45.7l155.2 58.2l-64.1 23.3a15.7 15.7 0 0 0-9.6 9.6Z"},null,-1),Yrt=[Vrt,$rt];function Urt(i,l){return Yt(),Ne("svg",Prt,Yrt)}const zrt={name:"ph-cursor-duotone",render:Urt},Wrt={class:"slidev-icon",viewBox:"0 0 256 256",width:"1.2em",height:"1.2em"},Hrt=n("path",{fill:"currentColor",d:"M213.7 202.3a8.1 8.1 0 0 1 0 11.4a8.3 8.3 0 0 1-5.7 2.3a8.5 8.5 0 0 1-5.7-2.3l-63.1-63.2l-20.3 55.9a15.9 15.9 0 0 1-14.9 10.5h-.1a15.9 15.9 0 0 1-15-10.4L30.7 51.3a16 16 0 0 1 20.6-20.6l155.2 58.2a16 16 0 0 1-.1 30l-55.9 20.3Z"},null,-1),jrt=[Hrt];function Grt(i,l){return Yt(),Ne("svg",Wrt,jrt)}const kw={name:"ph-cursor-fill",render:Grt},qrt={class:"slidev-icon",viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},Xrt=n("path",{fill:"currentColor",d:"M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6ZM5.394 6.813L6.81 5.399l3.505 3.506L8.9 10.319zM2 15.005h5v2H2zm3.394 10.193L8.9 21.692l1.414 1.414l-3.505 3.506zM15 25.005h2v5h-2zm6.687-1.9l1.414-1.414l3.506 3.506l-1.414 1.414zm3.313-8.1h5v2h-5zm-3.313-6.101l3.506-3.506l1.414 1.414l-3.506 3.506zM15 2.005h2v5h-2z"},null,-1),Krt=[Xrt];function Zrt(i,l){return Yt(),Ne("svg",qrt,Krt)}const Qrt={name:"carbon-sun",render:Zrt},Jrt={class:"slidev-icon",viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},tit=n("path",{fill:"currentColor",d:"M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3Z"},null,-1),eit=[tit];function nit(i,l){return Yt(),Ne("svg",Jrt,eit)}const sit={name:"carbon-moon",render:nit},rit={class:"slidev-icon",viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},iit=n("path",{fill:"currentColor",d:"M8 4v4H4V4Zm2-2H2v8h8Zm8 2v4h-4V4Zm2-2h-8v8h8Zm8 2v4h-4V4Zm2-2h-8v8h8ZM8 14v4H4v-4Zm2-2H2v8h8Zm8 2v4h-4v-4Zm2-2h-8v8h8Zm8 2v4h-4v-4Zm2-2h-8v8h8ZM8 24v4H4v-4Zm2-2H2v8h8Zm8 2v4h-4v-4Zm2-2h-8v8h8Zm8 2v4h-4v-4Zm2-2h-8v8h8Z"},null,-1),oit=[iit];function ait(i,l){return Yt(),Ne("svg",rit,oit)}const lit={name:"carbon-apps",render:ait},cit={class:"slidev-icon",viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},uit=n("path",{fill:"currentColor",d:"m18 6l-1.43 1.393L24.15 15H4v2h20.15l-7.58 7.573L18 26l10-10L18 6z"},null,-1),hit=[uit];function pit(i,l){return Yt(),Ne("svg",cit,hit)}const dit={name:"carbon-arrow-right",render:pit},fit={class:"slidev-icon",viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},yit=n("path",{fill:"currentColor",d:"m14 26l1.41-1.41L7.83 17H28v-2H7.83l7.58-7.59L14 6L4 16l10 10z"},null,-1),git=[yit];function mit(i,l){return Yt(),Ne("svg",fit,git)}const _it={name:"carbon-arrow-left",render:mit},vit={class:"slidev-icon",viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},bit=n("path",{fill:"currentColor",d:"M20 2v2h6.586L18 12.582L19.414 14L28 5.414V12h2V2H20zm-6 17.416L12.592 18L4 26.586V20H2v10h10v-2H5.414L14 19.416z"},null,-1),xit=[bit];function kit(i,l){return Yt(),Ne("svg",vit,xit)}const Cit={name:"carbon-maximize",render:kit},Ait={class:"slidev-icon",viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},wit=n("path",{fill:"currentColor",d:"M4 18v2h6.586L2 28.582L3.414 30L12 21.414V28h2V18H4zM30 3.416L28.592 2L20 10.586V4h-2v10h10v-2h-6.586L30 3.416z"},null,-1),Eit=[wit];function Bit(i,l){return Yt(),Ne("svg",Ait,Eit)}const Sit={name:"carbon-minimize",render:Bit},Tit={class:"slidev-icon",viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},Dit=n("path",{fill:"currentColor",d:"m13 24l-9-9l1.414-1.414L13 21.171L26.586 7.586L28 9L13 24z"},null,-1),Fit=[Dit];function Lit(i,l){return Yt(),Ne("svg",Tit,Fit)}const Iit={name:"carbon-checkmark",render:Lit},Mit={class:"select-list"},Rit={class:"title"},Oit={class:"items"},Nit=["onClick"],Pit=ps({__name:"SelectList",props:{modelValue:{type:[Object,String,Number]},title:{type:String},items:{type:Array}},setup(i,{emit:l}){const p=i;Pe(Ze);const f=Ro(p,"modelValue",l,{passive:!0});return(m,b)=>{const A=Iit;return Yt(),Ne("div",Mit,[n("div",Rit,Sc(i.title),1),n("div",Oit,[(Yt(!0),Ne(os,null,od(i.items,B=>(Yt(),Ne("div",{key:B.value,class:Rs(["item",{active:Ft(f)===B.value}]),onClick:()=>{var F;f.value=B.value,(F=B.onClick)==null||F.call(B)}},[le(A,{class:Rs(["text-green-500",{"opacity-0":Ft(f)!==B.value}])},null,8,["class"]),E(" "+Sc(B.display||B.value),1)],10,Nit))),128))])])}}});const Vit=Qe(Pit,[["__scopeId","data-v-3f89fa11"],["__file","/Users/jedrzejsadowski/projects/bright/react-state-presentation/node_modules/@slidev/client/internals/SelectList.vue"]]),$it={class:"text-sm"},Yit=ps({__name:"Settings",setup(i){Pe(Ze);const l=[{display:"Fit",value:0},{display:"1:1",value:1}];return(p,f)=>(Yt(),Ne("div",$it,[le(Vit,{modelValue:Ft(l0),"onUpdate:modelValue":f[0]||(f[0]=m=>ts(l0)?l0.value=m:null),title:"Scale",items:l},null,8,["modelValue"])]))}}),Uit=Qe(Yit,[["__file","/Users/jedrzejsadowski/projects/bright/react-state-presentation/node_modules/@slidev/client/internals/Settings.vue"]]),zit={key:0,class:"rounded-md bg-main shadow absolute bottom-10 left-0 z-20","dark:border":"~ gray-400 opacity-10"},Wit=ps({__name:"MenuButton",props:{modelValue:{default:!1},disabled:{default:!1}},setup(i,{emit:l}){const p=i;Pe(Ze);const f=Ro(p,"modelValue",l,{passive:!0}),m=Ke();return gtt(m,()=>{f.value=!1}),(b,A)=>(Yt(),Ne("div",{ref_key:"el",ref:m,class:"flex relative"},[n("button",{class:Rs({disabled:i.disabled}),onClick:A[0]||(A[0]=B=>f.value=!Ft(f))},[Vo(b.$slots,"button",{class:Rs({disabled:i.disabled})})],2),(Yt(),Xe(iA,null,[Ft(f)?(Yt(),Ne("div",zit,[Vo(b.$slots,"menu")])):Wn("v-if",!0)],1024))],512))}}),Hit=Qe(Wit,[["__file","/Users/jedrzejsadowski/projects/bright/react-state-presentation/node_modules/@slidev/client/internals/MenuButton.vue"]]),jit={class:"w-1px opacity-10 bg-current m-1 lg:m-2"},Git={__name:"VerticalDivider",setup(i){return Pe(Ze),(l,p)=>(Yt(),Ne("div",jit))}},e0=Qe(Git,[["__file","/Users/jedrzejsadowski/projects/bright/react-state-presentation/node_modules/@slidev/client/internals/VerticalDivider.vue"]]),qit={render(){return[]}},Xit={class:"icon-btn"},Kit={class:"h-40px flex",p:"l-1 t-0.5 r-2",text:"sm leading-2"},Zit={class:"my-auto"},Qit={class:"opacity-50"},Jit=ps({__name:"NavControls",props:{persist:{default:!1}},setup(i){const l=i;Pe(Ze);const p=_8.smaller("md"),{isFullscreen:f,toggle:m}=uw,b=re(()=>A8.value?`?password=${A8.value}`:""),A=re(()=>`/presenter/${yr.value}${b.value}`),B=re(()=>`/${yr.value}${b.value}`),F=Ke(),O=()=>{F.value&&Ju.value&&F.value.contains(Ju.value)&&Ju.value.blur()},w=re(()=>l.persist?"text-$slidev-controls-foreground bg-transparent":"rounded-md bg-main shadow dark:border dark:border-gray-400 dark:border-opacity-10"),z=Po(),G=Po();return Lc(()=>import("./DrawingControls-98b9d7b2.js"),["assets/DrawingControls-98b9d7b2.js","assets/_commonjsHelpers-725317a4.js"]).then(ot=>G.value=ot.default),(ot,at)=>{const At=Sit,St=Cit,Kt=_it,$t=dit,Zt=lit,ie=sit,Fe=Qrt,Ae=kw,be=zrt,qe=Nrt,fn=Lrt,On=W8("RouterLink"),$n=Ert,ws=brt,Js=yrt,tr=crt;return Yt(),Ne("nav",{ref_key:"root",ref:F,class:"flex flex-col"},[n("div",{class:Rs(["flex flex-wrap-reverse text-xl gap-0.5 p-1 lg:gap-1 lg:p-2",Ft(w)]),onMouseleave:O},[Ft(Ca)?Wn("v-if",!0):(Yt(),Ne("button",{key:0,class:"icon-btn",onClick:at[0]||(at[0]=(...Kn)=>Ft(m)&&Ft(m)(...Kn))},[Ft(f)?(Yt(),Xe(At,{key:0})):(Yt(),Xe(St,{key:1}))])),n("button",{class:Rs(["icon-btn",{disabled:!Ft(Sht)}]),onClick:at[1]||(at[1]=(...Kn)=>Ft(Bc)&&Ft(Bc)(...Kn))},[le(Kt)],2),n("button",{class:Rs(["icon-btn",{disabled:!Ft(Bht)}]),title:"Next",onClick:at[2]||(at[2]=(...Kn)=>Ft(Ec)&&Ft(Ec)(...Kn))},[le($t)],2),Ft(Ca)?Wn("v-if",!0):(Yt(),Ne("button",{key:1,class:"icon-btn",title:"Slides overview",onClick:at[3]||(at[3]=Kn=>Ft(hw)())},[le(Zt)])),Ft(k8)?Wn("v-if",!0):(Yt(),Ne("button",{key:2,class:"icon-btn",title:"Toggle dark mode",onClick:at[4]||(at[4]=Kn=>Ft(_w)())},[Ft(X0)?(Yt(),Xe(ie,{key:0})):(Yt(),Xe(Fe,{key:1}))])),le(e0),Ft(Ca)?Wn("v-if",!0):(Yt(),Ne(os,{key:3},[!Ft(ao)&&!Ft(p)&&Ft(z)?(Yt(),Ne(os,{key:0},[le(Ft(z)),le(e0)],64)):Wn("v-if",!0),Ft(ao)?(Yt(),Ne("button",{key:1,class:"icon-btn",title:"Show presenter cursor",onClick:at[5]||(at[5]=Kn=>Y2.value=!Ft(Y2))},[Ft(Y2)?(Yt(),Xe(Ae,{key:0})):(Yt(),Xe(be,{key:1,class:"opacity-50"}))])):Wn("v-if",!0)],64)),(!Ft(hs).drawings.presenterOnly||Ft(ao))&&!Ft(Ca)?(Yt(),Ne(os,{key:4},[n("button",{class:"icon-btn relative",title:"Drawing",onClick:at[6]||(at[6]=Kn=>Oo.value=!Ft(Oo))},[le(qe),Ft(Oo)?(Yt(),Ne("div",{key:0,class:"absolute left-1 right-1 bottom-0 h-0.7 rounded-full",style:lr({background:Ft(mc).color})},null,4)):Wn("v-if",!0)]),le(e0)],64)):Wn("v-if",!0),Ft(Ca)?Wn("v-if",!0):(Yt(),Ne(os,{key:5},[Ft(ao)?(Yt(),Xe(On,{key:0,to:Ft(B),class:"icon-btn",title:"Play Mode"},{default:ge(()=>[le(fn)]),_:1},8,["to"])):Wn("v-if",!0),Ft(Aht)?(Yt(),Xe(On,{key:1,to:Ft(A),class:"icon-btn",title:"Presenter Mode"},{default:ge(()=>[le($n)]),_:1},8,["to"])):Wn("v-if",!0),Wn("v-if",!0)],64)),(Yt(),Ne(os,{key:6},[Ft(hs).download?(Yt(),Ne("button",{key:0,class:"icon-btn",onClick:at[8]||(at[8]=(...Kn)=>Ft(mC)&&Ft(mC)(...Kn))},[le(ws)])):Wn("v-if",!0)],64)),!Ft(ao)&&Ft(hs).info&&!Ft(Ca)?(Yt(),Ne("button",{key:7,class:"icon-btn",onClick:at[9]||(at[9]=Kn=>Wp.value=!Ft(Wp))},[le(Js)])):Wn("v-if",!0),!Ft(ao)&&!Ft(Ca)?(Yt(),Xe(Hit,{key:8},{button:ge(()=>[n("button",Xit,[le(tr)])]),menu:ge(()=>[le(Uit)]),_:1})):Wn("v-if",!0),Ft(Ca)?Wn("v-if",!0):(Yt(),Xe(e0,{key:9})),n("div",Kit,[n("div",Zit,[E(Sc(Ft(yr))+" ",1),n("span",Qit,"/ "+Sc(Ft(Mw)),1)])]),le(Ft(qit))],34)],512)}}}),tot=Qe(Jit,[["__file","/Users/jedrzejsadowski/projects/bright/react-state-presentation/node_modules/@slidev/client/internals/NavControls.vue"]]),Cw={render(){return[]}},eot="/react-webinar/assets/logo_white-93bc3895.svg",not={class:"abs-tl m-3",src:eot,width:"24",height:"24"},sot={__name:"global-bottom",setup(i){return Pe(Ze),(l,p)=>(Yt(),Ne("img",not))}},rot=Qe(sot,[["__file","/Users/jedrzejsadowski/projects/bright/react-state-presentation/global-bottom.vue"]]),Aw={render(){return[Fc(rot)]}},iot={key:0,class:"absolute top-0 left-0 right-0 bottom-0 pointer-events-none text-xl"},oot=ps({__name:"PresenterMouse",setup(i){return Pe(Ze),(l,p)=>{const f=kw;return Ft(O2).cursor?(Yt(),Ne("div",iot,[le(f,{class:"absolute",style:lr({left:`${Ft(O2).cursor.x}%`,top:`${Ft(O2).cursor.y}%`})},null,8,["style"])])):Wn("v-if",!0)}}}),aot=Qe(oot,[["__file","/Users/jedrzejsadowski/projects/bright/react-state-presentation/node_modules/@slidev/client/internals/PresenterMouse.vue"]]),lot=ps({__name:"SlidesShow",props:{context:{type:String,required:!0}},setup(i){Pe(Ze),Ds(fi,()=>{var p,f;(p=fi.value)!=null&&p.meta&&fi.value.meta.preload!==!1&&(fi.value.meta.__preloaded=!0),(f=z2.value)!=null&&f.meta&&z2.value.meta.preload!==!1&&(z2.value.meta.__preloaded=!0)},{immediate:!0});const l=Po();return Lc(()=>import("./DrawingLayer-66c93542.js"),["assets/DrawingLayer-66c93542.js","assets/_commonjsHelpers-725317a4.js"]).then(p=>l.value=p.default),(p,f)=>(Yt(),Ne(os,null,[Wn(" Global Bottom "),le(Ft(Aw)),Wn(" Slides "),(Yt(!0),Ne(os,null,od(Ft(or),m=>{var b,A;return Yt(),Ne(os,{key:m.path},[(b=m.meta)!=null&&b.__preloaded||m===Ft(fi)?z0((Yt(),Xe(Ft(n5),{key:0,is:m==null?void 0:m.component,clicks:m===Ft(fi)?Ft(Ic):0,"clicks-elements":((A=m.meta)==null?void 0:A.__clicksElements)||[],"clicks-disabled":!1,class:Rs(Ft(e5)(m)),route:m,context:i.context},null,8,["is","clicks","clicks-elements","class","route","context"])),[[TA,m===Ft(fi)]]):Wn("v-if",!0)],64)}),128)),Wn(" Global Top "),le(Ft(Cw)),Ft(l)?(Yt(),Xe(Ft(l),{key:0})):Wn("v-if",!0),Ft(ao)?Wn("v-if",!0):(Yt(),Xe(aot,{key:1}))],64))}}),cot=Qe(lot,[["__file","/Users/jedrzejsadowski/projects/bright/react-state-presentation/node_modules/@slidev/client/internals/SlidesShow.vue"]]),uot=ps({__name:"Play",setup(i){Pe(Ze),Fst();const l=Ke();function p(b){var A;Kk.value||((A=b.target)==null?void 0:A.id)==="slide-container"&&(b.screenX/window.innerWidth>.6?Ec():Bc())}Fht(l);const f=re(()=>$nt.value||Kk.value);Po();const m=Po();return Lc(()=>import("./DrawingControls-98b9d7b2.js"),["assets/DrawingControls-98b9d7b2.js","assets/_commonjsHelpers-725317a4.js"]).then(b=>m.value=b.default),(b,A)=>(Yt(),Ne(os,null,[n("div",{id:"page-root",ref_key:"root",ref:l,class:"grid grid-cols-[1fr_max-content]",style:lr(Ft(K8))},[le(bw,{class:"w-full h-full",style:lr({background:"var(--slidev-slide-container-background, black)"}),width:Ft(a5)?Ft(wc).width.value:void 0,scale:Ft(l0),onPointerdown:p},{default:ge(()=>[le(cot,{context:"slide"})]),controls:ge(()=>[n("div",{class:Rs(["absolute bottom-0 left-0 transition duration-300 opacity-0 hover:opacity-100",[Ft(f)?"opacity-100 right-0":"opacity-0 p-2",Ft(ed)?"pointer-events-none":""]])},[le(tot,{class:"m-auto",persist:Ft(f)},null,8,["persist"])],2),!Ft(hs).drawings.presenterOnly&&!Ft(Ca)&&Ft(m)?(Yt(),Xe(Ft(m),{key:0,class:"ml-0"})):Wn("v-if",!0)]),_:1},8,["style","width","scale"]),Wn("v-if",!0)],4),le(rrt)],64))}}),hot=Qe(uot,[["__file","/Users/jedrzejsadowski/projects/bright/react-state-presentation/node_modules/@slidev/client/internals/Play.vue"]]);/*! js-yaml 4.1.0 https://github.com/nodeca/js-yaml @license MIT */function ww(i){return typeof i>"u"||i===null}function pot(i){return typeof i=="object"&&i!==null}function dot(i){return Array.isArray(i)?i:ww(i)?[]:[i]}function fot(i,l){var p,f,m,b;if(l)for(b=Object.keys(l),p=0,f=b.length;p<f;p+=1)m=b[p],i[m]=l[m];return i}function yot(i,l){var p="",f;for(f=0;f<l;f+=1)p+=i;return p}function got(i){return i===0&&Number.NEGATIVE_INFINITY===1/i}var mot=ww,_ot=pot,vot=dot,bot=yot,xot=got,kot=fot,s5={isNothing:mot,isObject:_ot,toArray:vot,repeat:bot,isNegativeZero:xot,extend:kot};function Ew(i,l){var p="",f=i.reason||"(unknown reason)";return i.mark?(i.mark.name&&(p+='in "'+i.mark.name+'" '),p+="("+(i.mark.line+1)+":"+(i.mark.column+1)+")",!l&&i.mark.snippet&&(p+=`

`+i.mark.snippet),f+" "+p):f}function sd(i,l){Error.call(this),this.name="YAMLException",this.reason=i,this.mark=l,this.message=Ew(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}sd.prototype=Object.create(Error.prototype);sd.prototype.constructor=sd;sd.prototype.toString=function(l){return this.name+": "+Ew(this,l)};var fc=sd,Cot=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],Aot=["scalar","sequence","mapping"];function wot(i){var l={};return i!==null&&Object.keys(i).forEach(function(p){i[p].forEach(function(f){l[String(f)]=p})}),l}function Eot(i,l){if(l=l||{},Object.keys(l).forEach(function(p){if(Cot.indexOf(p)===-1)throw new fc('Unknown option "'+p+'" is met in definition of "'+i+'" YAML type.')}),this.options=l,this.tag=i,this.kind=l.kind||null,this.resolve=l.resolve||function(){return!0},this.construct=l.construct||function(p){return p},this.instanceOf=l.instanceOf||null,this.predicate=l.predicate||null,this.represent=l.represent||null,this.representName=l.representName||null,this.defaultStyle=l.defaultStyle||null,this.multi=l.multi||!1,this.styleAliases=wot(l.styleAliases||null),Aot.indexOf(this.kind)===-1)throw new fc('Unknown kind "'+this.kind+'" is specified for "'+i+'" YAML type.')}var Ir=Eot;function lC(i,l){var p=[];return i[l].forEach(function(f){var m=p.length;p.forEach(function(b,A){b.tag===f.tag&&b.kind===f.kind&&b.multi===f.multi&&(m=A)}),p[m]=f}),p}function Bot(){var i={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},l,p;function f(m){m.multi?(i.multi[m.kind].push(m),i.multi.fallback.push(m)):i[m.kind][m.tag]=i.fallback[m.tag]=m}for(l=0,p=arguments.length;l<p;l+=1)arguments[l].forEach(f);return i}function C8(i){return this.extend(i)}C8.prototype.extend=function(l){var p=[],f=[];if(l instanceof Ir)f.push(l);else if(Array.isArray(l))f=f.concat(l);else if(l&&(Array.isArray(l.implicit)||Array.isArray(l.explicit)))l.implicit&&(p=p.concat(l.implicit)),l.explicit&&(f=f.concat(l.explicit));else throw new fc("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");p.forEach(function(b){if(!(b instanceof Ir))throw new fc("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(b.loadKind&&b.loadKind!=="scalar")throw new fc("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(b.multi)throw new fc("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),f.forEach(function(b){if(!(b instanceof Ir))throw new fc("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var m=Object.create(C8.prototype);return m.implicit=(this.implicit||[]).concat(p),m.explicit=(this.explicit||[]).concat(f),m.compiledImplicit=lC(m,"implicit"),m.compiledExplicit=lC(m,"explicit"),m.compiledTypeMap=Bot(m.compiledImplicit,m.compiledExplicit),m};var Sot=C8,Tot=new Ir("tag:yaml.org,2002:str",{kind:"scalar",construct:function(i){return i!==null?i:""}}),Dot=new Ir("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(i){return i!==null?i:[]}}),Fot=new Ir("tag:yaml.org,2002:map",{kind:"mapping",construct:function(i){return i!==null?i:{}}}),Lot=new Sot({explicit:[Tot,Dot,Fot]});function Iot(i){if(i===null)return!0;var l=i.length;return l===1&&i==="~"||l===4&&(i==="null"||i==="Null"||i==="NULL")}function Mot(){return null}function Rot(i){return i===null}var Oot=new Ir("tag:yaml.org,2002:null",{kind:"scalar",resolve:Iot,construct:Mot,predicate:Rot,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"});function Not(i){if(i===null)return!1;var l=i.length;return l===4&&(i==="true"||i==="True"||i==="TRUE")||l===5&&(i==="false"||i==="False"||i==="FALSE")}function Pot(i){return i==="true"||i==="True"||i==="TRUE"}function Vot(i){return Object.prototype.toString.call(i)==="[object Boolean]"}var $ot=new Ir("tag:yaml.org,2002:bool",{kind:"scalar",resolve:Not,construct:Pot,predicate:Vot,represent:{lowercase:function(i){return i?"true":"false"},uppercase:function(i){return i?"TRUE":"FALSE"},camelcase:function(i){return i?"True":"False"}},defaultStyle:"lowercase"});function Yot(i){return 48<=i&&i<=57||65<=i&&i<=70||97<=i&&i<=102}function Uot(i){return 48<=i&&i<=55}function zot(i){return 48<=i&&i<=57}function Wot(i){if(i===null)return!1;var l=i.length,p=0,f=!1,m;if(!l)return!1;if(m=i[p],(m==="-"||m==="+")&&(m=i[++p]),m==="0"){if(p+1===l)return!0;if(m=i[++p],m==="b"){for(p++;p<l;p++)if(m=i[p],m!=="_"){if(m!=="0"&&m!=="1")return!1;f=!0}return f&&m!=="_"}if(m==="x"){for(p++;p<l;p++)if(m=i[p],m!=="_"){if(!Yot(i.charCodeAt(p)))return!1;f=!0}return f&&m!=="_"}if(m==="o"){for(p++;p<l;p++)if(m=i[p],m!=="_"){if(!Uot(i.charCodeAt(p)))return!1;f=!0}return f&&m!=="_"}}if(m==="_")return!1;for(;p<l;p++)if(m=i[p],m!=="_"){if(!zot(i.charCodeAt(p)))return!1;f=!0}return!(!f||m==="_")}function Hot(i){var l=i,p=1,f;if(l.indexOf("_")!==-1&&(l=l.replace(/_/g,"")),f=l[0],(f==="-"||f==="+")&&(f==="-"&&(p=-1),l=l.slice(1),f=l[0]),l==="0")return 0;if(f==="0"){if(l[1]==="b")return p*parseInt(l.slice(2),2);if(l[1]==="x")return p*parseInt(l.slice(2),16);if(l[1]==="o")return p*parseInt(l.slice(2),8)}return p*parseInt(l,10)}function jot(i){return Object.prototype.toString.call(i)==="[object Number]"&&i%1===0&&!s5.isNegativeZero(i)}var Got=new Ir("tag:yaml.org,2002:int",{kind:"scalar",resolve:Wot,construct:Hot,predicate:jot,represent:{binary:function(i){return i>=0?"0b"+i.toString(2):"-0b"+i.toString(2).slice(1)},octal:function(i){return i>=0?"0o"+i.toString(8):"-0o"+i.toString(8).slice(1)},decimal:function(i){return i.toString(10)},hexadecimal:function(i){return i>=0?"0x"+i.toString(16).toUpperCase():"-0x"+i.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),qot=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function Xot(i){return!(i===null||!qot.test(i)||i[i.length-1]==="_")}function Kot(i){var l,p;return l=i.replace(/_/g,"").toLowerCase(),p=l[0]==="-"?-1:1,"+-".indexOf(l[0])>=0&&(l=l.slice(1)),l===".inf"?p===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:l===".nan"?NaN:p*parseFloat(l,10)}var Zot=/^[-+]?[0-9]+e/;function Qot(i,l){var p;if(isNaN(i))switch(l){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===i)switch(l){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===i)switch(l){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(s5.isNegativeZero(i))return"-0.0";return p=i.toString(10),Zot.test(p)?p.replace("e",".e"):p}function Jot(i){return Object.prototype.toString.call(i)==="[object Number]"&&(i%1!==0||s5.isNegativeZero(i))}var tat=new Ir("tag:yaml.org,2002:float",{kind:"scalar",resolve:Xot,construct:Kot,predicate:Jot,represent:Qot,defaultStyle:"lowercase"}),eat=Lot.extend({implicit:[Oot,$ot,Got,tat]}),nat=eat,Bw=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),Sw=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function sat(i){return i===null?!1:Bw.exec(i)!==null||Sw.exec(i)!==null}function rat(i){var l,p,f,m,b,A,B,F=0,O=null,w,z,G;if(l=Bw.exec(i),l===null&&(l=Sw.exec(i)),l===null)throw new Error("Date resolve error");if(p=+l[1],f=+l[2]-1,m=+l[3],!l[4])return new Date(Date.UTC(p,f,m));if(b=+l[4],A=+l[5],B=+l[6],l[7]){for(F=l[7].slice(0,3);F.length<3;)F+="0";F=+F}return l[9]&&(w=+l[10],z=+(l[11]||0),O=(w*60+z)*6e4,l[9]==="-"&&(O=-O)),G=new Date(Date.UTC(p,f,m,b,A,B,F)),O&&G.setTime(G.getTime()-O),G}function iat(i){return i.toISOString()}var oat=new Ir("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:sat,construct:rat,instanceOf:Date,represent:iat});function aat(i){return i==="<<"||i===null}var lat=new Ir("tag:yaml.org,2002:merge",{kind:"scalar",resolve:aat}),r5=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function cat(i){if(i===null)return!1;var l,p,f=0,m=i.length,b=r5;for(p=0;p<m;p++)if(l=b.indexOf(i.charAt(p)),!(l>64)){if(l<0)return!1;f+=6}return f%8===0}function uat(i){var l,p,f=i.replace(/[\r\n=]/g,""),m=f.length,b=r5,A=0,B=[];for(l=0;l<m;l++)l%4===0&&l&&(B.push(A>>16&255),B.push(A>>8&255),B.push(A&255)),A=A<<6|b.indexOf(f.charAt(l));return p=m%4*6,p===0?(B.push(A>>16&255),B.push(A>>8&255),B.push(A&255)):p===18?(B.push(A>>10&255),B.push(A>>2&255)):p===12&&B.push(A>>4&255),new Uint8Array(B)}function hat(i){var l="",p=0,f,m,b=i.length,A=r5;for(f=0;f<b;f++)f%3===0&&f&&(l+=A[p>>18&63],l+=A[p>>12&63],l+=A[p>>6&63],l+=A[p&63]),p=(p<<8)+i[f];return m=b%3,m===0?(l+=A[p>>18&63],l+=A[p>>12&63],l+=A[p>>6&63],l+=A[p&63]):m===2?(l+=A[p>>10&63],l+=A[p>>4&63],l+=A[p<<2&63],l+=A[64]):m===1&&(l+=A[p>>2&63],l+=A[p<<4&63],l+=A[64],l+=A[64]),l}function pat(i){return Object.prototype.toString.call(i)==="[object Uint8Array]"}var dat=new Ir("tag:yaml.org,2002:binary",{kind:"scalar",resolve:cat,construct:uat,predicate:pat,represent:hat}),fat=Object.prototype.hasOwnProperty,yat=Object.prototype.toString;function gat(i){if(i===null)return!0;var l=[],p,f,m,b,A,B=i;for(p=0,f=B.length;p<f;p+=1){if(m=B[p],A=!1,yat.call(m)!=="[object Object]")return!1;for(b in m)if(fat.call(m,b))if(!A)A=!0;else return!1;if(!A)return!1;if(l.indexOf(b)===-1)l.push(b);else return!1}return!0}function mat(i){return i!==null?i:[]}var _at=new Ir("tag:yaml.org,2002:omap",{kind:"sequence",resolve:gat,construct:mat}),vat=Object.prototype.toString;function bat(i){if(i===null)return!0;var l,p,f,m,b,A=i;for(b=new Array(A.length),l=0,p=A.length;l<p;l+=1){if(f=A[l],vat.call(f)!=="[object Object]"||(m=Object.keys(f),m.length!==1))return!1;b[l]=[m[0],f[m[0]]]}return!0}function xat(i){if(i===null)return[];var l,p,f,m,b,A=i;for(b=new Array(A.length),l=0,p=A.length;l<p;l+=1)f=A[l],m=Object.keys(f),b[l]=[m[0],f[m[0]]];return b}var kat=new Ir("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:bat,construct:xat}),Cat=Object.prototype.hasOwnProperty;function Aat(i){if(i===null)return!0;var l,p=i;for(l in p)if(Cat.call(p,l)&&p[l]!==null)return!1;return!0}function wat(i){return i!==null?i:{}}var Eat=new Ir("tag:yaml.org,2002:set",{kind:"mapping",resolve:Aat,construct:wat});nat.extend({implicit:[oat,lat],explicit:[dat,_at,kat,Eat]});function cC(i){return i===48?"\0":i===97?"\x07":i===98?"\b":i===116||i===9?"	":i===110?`
`:i===118?"\v":i===102?"\f":i===114?"\r":i===101?"\x1B":i===32?" ":i===34?'"':i===47?"/":i===92?"\\":i===78?"":i===95?"":i===76?"\u2028":i===80?"\u2029":""}var Bat=new Array(256),Sat=new Array(256);for(var zu=0;zu<256;zu++)Bat[zu]=cC(zu)?1:0,Sat[zu]=cC(zu);function Tat(i){return Array.from(new Set(i))}function uC(...i){let l,p,f;i.length===1?(l=0,f=1,[p]=i):[l,p,f=1]=i;const m=[];let b=l;for(;b<p;)m.push(b),b+=f||1;return m}function Tw(i,l){if(!l||l==="all"||l==="*")return uC(1,i+1);const p=[];for(const f of l.split(/[,;]/g))if(!f.includes("-"))p.push(+f);else{const[m,b]=f.split("-",2);p.push(...uC(+m,b?+b+1:i+1))}return Tat(p).filter(f=>f<=i).sort((f,m)=>f-m)}function Dat(i){const l=re(()=>i.value.path),p=re(()=>or.length-1),f=re(()=>parseInt(l.value.split(/\//g).slice(-1)[0])||1),m=re(()=>l5(f.value)),b=re(()=>or.find(G=>G.path===`${f.value}`)),A=re(()=>{var G,ot,at;return(at=(ot=(G=b.value)==null?void 0:G.meta)==null?void 0:ot.slide)==null?void 0:at.id}),B=re(()=>{var G,ot;return((ot=(G=b.value)==null?void 0:G.meta)==null?void 0:ot.layout)||(f.value===1?"cover":"default")}),F=re(()=>or.find(G=>G.path===`${Math.min(or.length,f.value+1)}`)),O=re(()=>or.filter(G=>{var ot,at;return(at=(ot=G.meta)==null?void 0:ot.slide)==null?void 0:at.title}).reduce((G,ot)=>(c5(G,ot),G),[])),w=re(()=>u5(O.value,b.value)),z=re(()=>h5(w.value));return{route:i,path:l,total:p,currentPage:f,currentPath:m,currentRoute:b,currentSlideId:A,currentLayout:B,nextRoute:F,rawTree:O,treeWithActiveStatuses:w,tree:z}}function Fat(i,l,p){const f=Ke(0);uo(()=>{yl.afterEach(async()=>{await uo(),f.value+=1})});const m=re(()=>{var F,O;return f.value,((O=(F=l.value)==null?void 0:F.meta)==null?void 0:O.__clicksElements)||[]}),b=re(()=>{var F,O;return+(((O=(F=l.value)==null?void 0:F.meta)==null?void 0:O.clicks)??m.value.length)}),A=re(()=>p.value<or.length-1||i.value<b.value),B=re(()=>p.value>1||i.value>0);return{clicks:i,clicksElements:m,clicksTotal:b,hasNext:A,hasPrev:B}}const Lat=["id"],Iat=ps({__name:"PrintSlideClick",props:{clicks:{type:Number,required:!0},clicksElements:{type:Array,required:!1},nav:{type:null,required:!0},route:{type:null,required:!0}},emits:["update:clicksElements"],setup(i,{emit:l}){const p=i,f=Ro(p,"clicksElements",l),m=re(()=>({height:`${X8}px`,width:`${fl}px`})),b=Po();Lc(()=>Promise.resolve().then(()=>$st),void 0).then(O=>b.value=O.default);const A=re(()=>p.clicks),B=Fat(A,p.nav.currentRoute,p.nav.currentPage),F=re(()=>`${p.route.path.toString().padStart(3,"0")}-${(A.value+1).toString().padStart(2,"0")}`);return yi(Ze,kr({nav:{...p.nav,...B},configs:hs,themeConfigs:re(()=>hs.themeConfig)})),(O,w)=>{var z;return Yt(),Ne("div",{id:Ft(F),class:"slide-container",style:lr(Ft(m))},[le(Ft(Aw)),le(Ft(n5),{is:(z=i.route)==null?void 0:z.component,"clicks-elements":Ft(f),"onUpdate:clicks-elements":w[0]||(w[0]=G=>ts(f)?f.value=G:null),clicks:Ft(A),"clicks-disabled":!1,class:Rs(Ft(e5)(i.route)),route:i.route},null,8,["is","clicks-elements","clicks","class","route"]),Ft(b)?(Yt(),Xe(Ft(b),{key:0,page:+i.route.path},null,8,["page"])):Wn("v-if",!0),le(Ft(Cw))],12,Lat)}}}),hC=Qe(Iat,[["__file","/Users/jedrzejsadowski/projects/bright/react-state-presentation/node_modules/@slidev/client/internals/PrintSlideClick.vue"]]),Mat=ps({__name:"PrintSlide",props:{route:{type:null,required:!0}},setup(i){var b;const l=i;Pe(Ze);const p=kr(((b=l.route.meta)==null?void 0:b.__clicksElements)||[]),f=re(()=>l.route),m=Dat(f);return(A,B)=>(Yt(),Ne(os,null,[le(hC,{"clicks-elements":p,"onUpdate:clicks-elements":B[0]||(B[0]=F=>p=F),clicks:0,nav:Ft(m),route:Ft(f)},null,8,["clicks-elements","nav","route"]),Ft(Iw)?Wn("v-if",!0):(Yt(!0),Ne(os,{key:0},od(p.length,F=>(Yt(),Xe(hC,{key:F,clicks:F,nav:Ft(m),route:Ft(f)},null,8,["clicks","nav","route"]))),128))],64))}}),Rat=Qe(Mat,[["__file","/Users/jedrzejsadowski/projects/bright/react-state-presentation/node_modules/@slidev/client/internals/PrintSlide.vue"]]),Oat={id:"print-content"},Nat=ps({__name:"PrintContainer",props:{width:{type:Number,required:!0}},setup(i){const l=i;Pe(Ze);const p=re(()=>l.width),f=re(()=>l.width/dl),m=re(()=>p.value/f.value),b=re(()=>m.value<dl?p.value/fl:f.value*dl/fl);let A=or.slice(0,-1);$o.value.query.range&&(A=Tw(A.length,$o.value.query.range).map(O=>A[O-1]));const B=re(()=>({"select-none":!hs.selectable,"slidev-code-line-numbers":hs.lineNumbers}));return yi(IA,b),(F,O)=>(Yt(),Ne("div",{id:"print-container",class:Rs(Ft(B))},[n("div",Oat,[(Yt(!0),Ne(os,null,od(Ft(A),w=>(Yt(),Xe(Rat,{key:w.path,route:w},null,8,["route"]))),128))]),Vo(F.$slots,"controls")],2))}});const Pat=Qe(Nat,[["__file","/Users/jedrzejsadowski/projects/bright/react-state-presentation/node_modules/@slidev/client/internals/PrintContainer.vue"]]),Vat=ps({__name:"Print",setup(i){Pe(Ze);function l(p,{slots:f}){if(f.default)return Fc("style",f.default())}return Da(()=>{a5?document.body.parentNode.classList.add("print"):document.body.parentNode.classList.remove("print")}),(p,f)=>(Yt(),Ne(os,null,[le(l,null,{default:ge(()=>[E(" @page { size: "+Sc(Ft(fl))+"px "+Sc(Ft(X8))+"px; margin: 0px; } ",1)]),_:1}),n("div",{id:"page-root",class:"grid grid-cols-[1fr_max-content]",style:lr(Ft(K8))},[le(Pat,{class:"w-full h-full",style:lr({background:"var(--slidev-slide-container-background, black)"}),width:Ft(wc).width.value},null,8,["style","width"])],4)],64))}});const $at=Qe(Vat,[["__file","/Users/jedrzejsadowski/projects/bright/react-state-presentation/node_modules/@slidev/client/internals/Print.vue"]]);const Yat={class:"slidev-layout end"},Uat={__name:"end",setup(i){return Pe(Ze),(l,p)=>(Yt(),Ne("div",Yat," END "))}},zat=Qe(Uat,[["__scopeId","data-v-e532b98d"],["__file","/Users/jedrzejsadowski/projects/bright/react-state-presentation/node_modules/@slidev/client/layouts/end.vue"]]);function pC(i){return i.startsWith("/")?"/react-webinar"+i.slice(1):i}function Wat(i,l=!1){const p=i&&["#","rgb","hsl"].some(m=>i.indexOf(m)===0),f={background:p?i:void 0,color:i&&!p?"white":void 0,backgroundImage:p?void 0:i?l?`linear-gradient(#0005, #0008), url(${pC(i)})`:`url("${pC(i)}")`:void 0,backgroundRepeat:"no-repeat",backgroundPosition:"center",backgroundSize:"cover"};return f.background||delete f.background,f}const Hat={class:"my-auto w-full"},jat=ps({__name:"cover",props:{background:{default:""}},setup(i){const l=i;Pe(Ze);const p=re(()=>Wat(l.background,!0));return(f,m)=>(Yt(),Ne("div",{class:"slidev-layout cover",style:lr(Ft(p))},[n("div",Hat,[Vo(f.$slots,"default")])],4))}}),Gat=Qe(jat,[["__file","/Users/jedrzejsadowski/projects/bright/react-state-presentation/node_modules/@slidev/theme-default/layouts/cover.vue"]]),qat=n("h1",null,"React State",-1),Xat=n("h3",null,[E("lets "),n("em",null,"understand"),E(" it better")],-1),Kat={__name:"1",setup(i){const l={theme:"default",favicon:"./logo.svg",highlighter:"shiki",lineNumbers:!1,info:`## Slidev Starter Template
Presentation slides for developers.

Learn more at [Sli.dev](https://sli.dev)
`,drawings:{persist:!1},css:"unocss",colorSchema:"dark",fonts:{sans:"Lato"}};return Pe(Ze),(p,f)=>(Yt(),Xe(Gat,ss(es(l)),{default:ge(()=>[qat,Xat]),_:1},16))}},Zat=Qe(Kat,[["__file","/@slidev/slides/1.md"]]),Qat={class:"slidev-layout default"},Jat={__name:"default",setup(i){return Pe(Ze),(l,p)=>(Yt(),Ne("div",Qat,[Vo(l.$slots,"default")]))}},Qs=Qe(Jat,[["__file","/Users/jedrzejsadowski/projects/bright/react-state-presentation/node_modules/@slidev/client/layouts/default.vue"]]),tlt=n("h1",null,"Agenda:",-1),elt=n("ul",null,[n("li",null,"Why keep state in React"),n("li",null,[E("State hooks "),n("ul",null,[n("li",null,"useState"),n("li",null,"useReducer")])]),n("li",null,[E("What "),n("em",null,"asynchronous"),E(" can mean")]),n("li",null,[E("When does React "),n("em",null,"actually"),E(" update")]),n("li",null,[E("Concurrent mode "),n("ul",null,[n("li",null,"External state & tearing")])])],-1),nlt={__name:"2",setup(i){const l={};return Pe(Ze),(p,f)=>(Yt(),Xe(Qs,ss(es(l)),{default:ge(()=>[tlt,elt]),_:1},16))}},slt=Qe(nlt,[["__file","/@slidev/slides/2.md"]]),fo=ps({props:{every:{type:Number,default:1},at:{type:[Number,String],default:null},hide:{type:Boolean,default:!1},fade:{type:Boolean,default:!1}},render(){var b,A;const i=W7("click"),l=W7("after"),p=(B,F,O)=>z0(B,[[F,this.at!=null?+this.at+O:null,"",{hide:this.hide,fade:this.fade}]]);let f=(A=(b=this.$slots).default)==null?void 0:A.call(b);if(!f)return;f=TJ(f);const m=B=>B.map((F,O)=>_l(F)?p(Fc(F),O%this.every===0?i:l,Math.floor(O/this.every)):F);return f.length===1&&["ul","ol"].includes(f[0].type)&&Array.isArray(f[0].children)?Fc(f[0],{},[m(f[0].children)]):m(f)}}),rlt=n("h1",null,"Why keep state in React?",-1),ilt=n("ul",null,[n("li",null,[E("Its the only way of telling React to re-render "),n("ul",null,[n("li",null,[E("Class components used to have a "),n("code",null,"forceUpdate"),E(" method")]),n("li",null,"It can be simulated in stateless components by using state")])]),n("li",null,[E("It allows for "),n("em",null,"concurrent mode"),E(" patterns")]),n("li",null,[E("It helps performance "),n("ul",null,[n("li",null,"React only re-renders the subtree affected"),n("li",null,"React automatically batches updates"),n("li",null,[E("State updates are "),n("em",null,"asynchronous")])])])],-1),olt={__name:"3",setup(i){const l={};return Pe(Ze),(p,f)=>{const m=fo;return Yt(),Xe(Qs,ss(es(l)),{default:ge(()=>[rlt,le(m,null,{default:ge(()=>[ilt]),_:1})]),_:1},16)}}},alt=Qe(olt,[["__file","/@slidev/slides/3.md"]]),Yo=ps({props:{at:{type:[Number,String],default:null},hide:{type:Boolean,default:!1},fade:{type:Boolean,default:!1}},render(){return le(fo,{every:99999,at:this.at,hide:this.hide,fade:this.fade},{default:this.$slots.default})}}),llt={class:"slidev-icon",viewBox:"0 0 256 256",width:"1.2em",height:"1.2em"},clt=n("path",{fill:"currentColor",d:"M200 32h-36.3a47.8 47.8 0 0 0-71.4 0H56a16 16 0 0 0-16 16v168a16 16 0 0 0 16 16h144a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16Zm-72 0a32.1 32.1 0 0 1 32 32H96a32.1 32.1 0 0 1 32-32Zm72 184H56V48h26.8A47.2 47.2 0 0 0 80 64v8a8 8 0 0 0 8 8h80a8 8 0 0 0 8-8v-8a47.2 47.2 0 0 0-2.8-16H200Z"},null,-1),ult=[clt];function hlt(i,l){return Yt(),Ne("svg",llt,ult)}const plt={name:"ph-clipboard",render:hlt},dlt={class:"slidev-icon",viewBox:"0 0 256 256",width:"1.2em",height:"1.2em"},flt=n("path",{fill:"currentColor",d:"M177.8 98.5a8 8 0 0 1-.3 11.3l-58.6 56a8.1 8.1 0 0 1-5.6 2.2a7.9 7.9 0 0 1-5.5-2.2l-29.3-28a8 8 0 1 1 11-11.6l23.8 22.7l53.2-50.7a8 8 0 0 1 11.3.3ZM232 128A104 104 0 1 1 128 24a104.2 104.2 0 0 1 104 104Zm-16 0a88 88 0 1 0-88 88a88.1 88.1 0 0 0 88-88Z"},null,-1),ylt=[flt];function glt(i,l){return Yt(),Ne("svg",dlt,ylt)}const mlt={name:"ph-check-circle",render:glt},_lt=["title"],vlt=ps({__name:"CodeBlockWrapper",props:{ranges:{default:()=>[]},at:{type:Number,default:void 0},maxHeight:{type:String,default:void 0}},setup(i){const l=i;Pe(Ze);const p=Pe(DA),f=Pe(FA),m=Pe(LA);function b(z=5){const G=[],ot="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",at=ot.length;for(let At=0;At<z;At++)G.push(ot.charAt(Math.floor(Math.random()*at)));return G.join("")}const A=Ke(),B=xl();U0(()=>{const z=l.at==null?f==null?void 0:f.value.length:l.at,G=re(()=>m!=null&&m.value?l.ranges.length-1:Math.min(Math.max(0,((p==null?void 0:p.value)||0)-(z||0)),l.ranges.length-1)),ot=re(()=>l.ranges[G.value]||"");if(l.ranges.length>=2&&!(m!=null&&m.value)){const at=b(),At=FJ(l.ranges.length-1).map(St=>at+St);f!=null&&f.value&&(f.value.push(...At),z8(()=>At.forEach(St=>DJ(f.value,St)),B))}Da(()=>{if(!A.value)return;const At=A.value.querySelector(".shiki-dark")?Array.from(A.value.querySelectorAll(".shiki")):[A.value];for(const St of At){const Kt=Array.from(St.querySelectorAll(".line")),$t=Tw(Kt.length,ot.value);if(Kt.forEach((Zt,ie)=>{const Fe=$t.includes(ie+1);Zt.classList.toggle(SJ,!0),Zt.classList.toggle("highlighted",Fe),Zt.classList.toggle("dishonored",!Fe)}),l.maxHeight){const Zt=St.querySelector(".line.highlighted");Zt&&Zt.scrollIntoView({behavior:"smooth",block:"center"})}}})});const{copied:F,copy:O}=Ett();function w(){var G,ot;const z=(ot=(G=A.value)==null?void 0:G.querySelector(".slidev-code"))==null?void 0:ot.textContent;z&&O(z)}return(z,G)=>{const ot=mlt,at=plt;return Yt(),Ne("div",{ref_key:"el",ref:A,class:"slidev-code-wrapper relative group",style:lr({"max-height":l.maxHeight,"overflow-y":l.maxHeight?"scroll":void 0})},[Vo(z.$slots,"default"),Ft(hs).codeCopy?(Yt(),Ne("button",{key:0,class:"slidev-code-copy absolute top-0 right-0 transition opacity-0 group-hover:opacity-20 hover:!opacity-100",title:Ft(F)?"Copied":"Copy",onClick:G[0]||(G[0]=At=>w())},[Ft(F)?(Yt(),Xe(ot,{key:0,class:"p-2 w-8 h-8"})):(Yt(),Xe(at,{key:1,class:"p-2 w-8 h-8"}))],8,_lt)):Wn("v-if",!0)],4)}}}),Cr=Qe(vlt,[["__file","/Users/jedrzejsadowski/projects/bright/react-state-presentation/node_modules/@slidev/client/builtin/CodeBlockWrapper.vue"]]),blt=n("h1",null,"useState",-1),xlt=n("pre",{class:"shiki-container"},[n("pre",{class:"slidev-code shiki shiki-dark Vitesse Dark",style:{"background-color":"#121212"}},[n("code",null,[n("span",{class:"line"},[n("span",{style:{color:"#4D9375"}},"import"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#858585"}},"{"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#B8A965"}},"useState"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#858585"}},"}"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#4D9375"}},"from"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#C98A7D"}},"'react'"),n("span",{style:{color:"#858585"}},";")]),E(`
`),n("span",{class:"line"}),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#CB7676"}},"const"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#A1B567"}},"Component"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#CB7676"}},"="),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#858585"}},"()"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#CB7676"}},"=>"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#858585"}},"{")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#DBD7CA"}},"  "),n("span",{style:{color:"#CB7676"}},"const"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#858585"}},"["),n("span",{style:{color:"#D4976C"}},"state"),n("span",{style:{color:"#858585"}},","),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#D4976C"}},"setState"),n("span",{style:{color:"#858585"}},"]"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#CB7676"}},"="),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#A1B567"}},"useState"),n("span",{style:{color:"#858585"}},"("),n("span",{style:{color:"#B8A965"}},"initial"),n("span",{style:{color:"#858585"}},");")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#DBD7CA"}},"  "),n("span",{style:{color:"#4D9375"}},"return"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#858585"}},"<"),n("span",{style:{color:"#429988"}},"div"),n("span",{style:{color:"#858585"}},">{"),n("span",{style:{color:"#B8A965"}},"state"),n("span",{style:{color:"#858585"}},"}</"),n("span",{style:{color:"#429988"}},"div"),n("span",{style:{color:"#858585"}},">")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#858585"}},"}")])])]),n("pre",{class:"slidev-code shiki shiki-light Vitesse Light",style:{"background-color":"#ffffff"}},[n("code",null,[n("span",{class:"line"},[n("span",{style:{color:"#1C6B48"}},"import"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#8E8F8B"}},"{"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#8C862B"}},"useState"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#8E8F8B"}},"}"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#1C6B48"}},"from"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#B56959"}},"'react'"),n("span",{style:{color:"#8E8F8B"}},";")]),E(`
`),n("span",{class:"line"}),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#AB5959"}},"const"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#6C7834"}},"Component"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#AB5959"}},"="),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#8E8F8B"}},"()"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#AB5959"}},"=>"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#8E8F8B"}},"{")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#393A34"}},"  "),n("span",{style:{color:"#AB5959"}},"const"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#8E8F8B"}},"["),n("span",{style:{color:"#A65E2B"}},"state"),n("span",{style:{color:"#8E8F8B"}},","),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#A65E2B"}},"setState"),n("span",{style:{color:"#8E8F8B"}},"]"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#AB5959"}},"="),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#6C7834"}},"useState"),n("span",{style:{color:"#8E8F8B"}},"("),n("span",{style:{color:"#8C862B"}},"initial"),n("span",{style:{color:"#8E8F8B"}},");")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#393A34"}},"  "),n("span",{style:{color:"#1C6B48"}},"return"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#8E8F8B"}},"<"),n("span",{style:{color:"#2F8A89"}},"div"),n("span",{style:{color:"#8E8F8B"}},">{"),n("span",{style:{color:"#8C862B"}},"state"),n("span",{style:{color:"#8E8F8B"}},"}</"),n("span",{style:{color:"#2F8A89"}},"div"),n("span",{style:{color:"#8E8F8B"}},">")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#8E8F8B"}},"}")])])])],-1),klt=n("h2",null,"Initialization",-1),Clt=n("ul",null,[n("li",null,[n("code",null,"initial"),E(" can be a value or an initialization function")])],-1),Alt=n("pre",{class:"shiki-container"},[n("pre",{class:"slidev-code shiki shiki-dark Vitesse Dark",style:{"background-color":"#121212"}},[n("code",null,[n("span",{class:"line"},[n("span",{style:{color:"#DBD7CA"}},"  "),n("span",{style:{color:"#A1B567"}},"useState"),n("span",{style:{color:"#858585"}},"("),n("span",{style:{color:"#6394BF"}},"0"),n("span",{style:{color:"#858585"}},")")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#DBD7CA"}},"  "),n("span",{style:{color:"#A1B567"}},"useState"),n("span",{style:{color:"#858585"}},"(()"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#CB7676"}},"=>"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#6394BF"}},"0"),n("span",{style:{color:"#858585"}},")")])])]),n("pre",{class:"slidev-code shiki shiki-light Vitesse Light",style:{"background-color":"#ffffff"}},[n("code",null,[n("span",{class:"line"},[n("span",{style:{color:"#393A34"}},"  "),n("span",{style:{color:"#6C7834"}},"useState"),n("span",{style:{color:"#8E8F8B"}},"("),n("span",{style:{color:"#296AA3"}},"0"),n("span",{style:{color:"#8E8F8B"}},")")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#393A34"}},"  "),n("span",{style:{color:"#6C7834"}},"useState"),n("span",{style:{color:"#8E8F8B"}},"(()"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#AB5959"}},"=>"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#296AA3"}},"0"),n("span",{style:{color:"#8E8F8B"}},")")])])])],-1),wlt=n("ul",null,[n("li",null,"important to remember when storing a function")],-1),Elt=n("pre",{class:"shiki-container"},[n("pre",{class:"slidev-code shiki shiki-dark Vitesse Dark",style:{"background-color":"#121212"}},[n("code",null,[n("span",{class:"line"},[n("span",{style:{color:"#DBD7CA"}},"  "),n("span",{style:{color:"#A1B567"}},"useState"),n("span",{style:{color:"#858585"}},"("),n("span",{style:{color:"#B8A965"}},"func"),n("span",{style:{color:"#858585"}},")"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#758575"}},"// this will store whatever func returns")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#DBD7CA"}},"  "),n("span",{style:{color:"#A1B567"}},"useState"),n("span",{style:{color:"#858585"}},"(()"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#CB7676"}},"=>"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#B8A965"}},"func"),n("span",{style:{color:"#858585"}},")"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#758575"}},"// this will store func")])])]),n("pre",{class:"slidev-code shiki shiki-light Vitesse Light",style:{"background-color":"#ffffff"}},[n("code",null,[n("span",{class:"line"},[n("span",{style:{color:"#393A34"}},"  "),n("span",{style:{color:"#6C7834"}},"useState"),n("span",{style:{color:"#8E8F8B"}},"("),n("span",{style:{color:"#8C862B"}},"func"),n("span",{style:{color:"#8E8F8B"}},")"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#A0ADA0"}},"// this will store whatever func returns")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#393A34"}},"  "),n("span",{style:{color:"#6C7834"}},"useState"),n("span",{style:{color:"#8E8F8B"}},"(()"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#AB5959"}},"=>"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#8C862B"}},"func"),n("span",{style:{color:"#8E8F8B"}},")"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#A0ADA0"}},"// this will store func")])])])],-1),Blt={__name:"4",setup(i){const l={};return Pe(Ze),(p,f)=>{const m=Cr,b=Yo;return Yt(),Xe(Qs,ss(es(l)),{default:ge(()=>[blt,le(m,_s({},{ranges:[""]}),{default:ge(()=>[xlt]),_:1},16),le(b,null,{default:ge(()=>[klt]),_:1}),le(b,null,{default:ge(()=>[Clt,le(m,_s({},{ranges:["1","2","all"]}),{default:ge(()=>[Alt]),_:1},16)]),_:1}),le(b,null,{default:ge(()=>[wlt,le(m,_s({},{ranges:["1","2","all"]}),{default:ge(()=>[Elt]),_:1},16)]),_:1})]),_:1},16)}}},Slt=Qe(Blt,[["__file","/@slidev/slides/4.md"]]),Tlt=n("h1",null,"useState",-1),Dlt=n("pre",{class:"shiki-container"},[n("pre",{class:"slidev-code shiki shiki-dark Vitesse Dark",style:{"background-color":"#121212"}},[n("code",null,[n("span",{class:"line"},[n("span",{style:{color:"#4D9375"}},"import"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#858585"}},"{"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#B8A965"}},"useState"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#858585"}},"}"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#4D9375"}},"from"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#C98A7D"}},"'react'"),n("span",{style:{color:"#858585"}},";")]),E(`
`),n("span",{class:"line"}),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#CB7676"}},"const"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#A1B567"}},"Component"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#CB7676"}},"="),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#858585"}},"()"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#CB7676"}},"=>"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#858585"}},"{")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#DBD7CA"}},"  "),n("span",{style:{color:"#CB7676"}},"const"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#858585"}},"["),n("span",{style:{color:"#D4976C"}},"state"),n("span",{style:{color:"#858585"}},","),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#D4976C"}},"setState"),n("span",{style:{color:"#858585"}},"]"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#CB7676"}},"="),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#A1B567"}},"useState"),n("span",{style:{color:"#858585"}},"("),n("span",{style:{color:"#B8A965"}},"initial"),n("span",{style:{color:"#858585"}},");")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#DBD7CA"}},"  "),n("span",{style:{color:"#4D9375"}},"return"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#858585"}},"<"),n("span",{style:{color:"#429988"}},"div"),n("span",{style:{color:"#858585"}},">{"),n("span",{style:{color:"#B8A965"}},"state"),n("span",{style:{color:"#858585"}},"}</"),n("span",{style:{color:"#429988"}},"div"),n("span",{style:{color:"#858585"}},">")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#858585"}},"}")])])]),n("pre",{class:"slidev-code shiki shiki-light Vitesse Light",style:{"background-color":"#ffffff"}},[n("code",null,[n("span",{class:"line"},[n("span",{style:{color:"#1C6B48"}},"import"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#8E8F8B"}},"{"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#8C862B"}},"useState"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#8E8F8B"}},"}"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#1C6B48"}},"from"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#B56959"}},"'react'"),n("span",{style:{color:"#8E8F8B"}},";")]),E(`
`),n("span",{class:"line"}),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#AB5959"}},"const"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#6C7834"}},"Component"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#AB5959"}},"="),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#8E8F8B"}},"()"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#AB5959"}},"=>"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#8E8F8B"}},"{")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#393A34"}},"  "),n("span",{style:{color:"#AB5959"}},"const"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#8E8F8B"}},"["),n("span",{style:{color:"#A65E2B"}},"state"),n("span",{style:{color:"#8E8F8B"}},","),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#A65E2B"}},"setState"),n("span",{style:{color:"#8E8F8B"}},"]"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#AB5959"}},"="),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#6C7834"}},"useState"),n("span",{style:{color:"#8E8F8B"}},"("),n("span",{style:{color:"#8C862B"}},"initial"),n("span",{style:{color:"#8E8F8B"}},");")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#393A34"}},"  "),n("span",{style:{color:"#1C6B48"}},"return"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#8E8F8B"}},"<"),n("span",{style:{color:"#2F8A89"}},"div"),n("span",{style:{color:"#8E8F8B"}},">{"),n("span",{style:{color:"#8C862B"}},"state"),n("span",{style:{color:"#8E8F8B"}},"}</"),n("span",{style:{color:"#2F8A89"}},"div"),n("span",{style:{color:"#8E8F8B"}},">")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#8E8F8B"}},"}")])])])],-1),Flt=n("h2",null,"Updating",-1),Llt=n("ul",null,[n("li",null,"update can be either a value or a function")],-1),Ilt=n("pre",{class:"shiki-container"},[n("pre",{class:"slidev-code shiki shiki-dark Vitesse Dark",style:{"background-color":"#121212"}},[n("code",null,[n("span",{class:"line"},[n("span",{style:{color:"#DBD7CA"}},"  "),n("span",{style:{color:"#A1B567"}},"setState"),n("span",{style:{color:"#858585"}},"("),n("span",{style:{color:"#6394BF"}},"0"),n("span",{style:{color:"#858585"}},")")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#DBD7CA"}},"  "),n("span",{style:{color:"#A1B567"}},"setState"),n("span",{style:{color:"#858585"}},"(("),n("span",{style:{color:"#B8A965"}},"current"),n("span",{style:{color:"#858585"}},")"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#CB7676"}},"=>"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#6394BF"}},"0"),n("span",{style:{color:"#858585"}},")")])])]),n("pre",{class:"slidev-code shiki shiki-light Vitesse Light",style:{"background-color":"#ffffff"}},[n("code",null,[n("span",{class:"line"},[n("span",{style:{color:"#393A34"}},"  "),n("span",{style:{color:"#6C7834"}},"setState"),n("span",{style:{color:"#8E8F8B"}},"("),n("span",{style:{color:"#296AA3"}},"0"),n("span",{style:{color:"#8E8F8B"}},")")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#393A34"}},"  "),n("span",{style:{color:"#6C7834"}},"setState"),n("span",{style:{color:"#8E8F8B"}},"(("),n("span",{style:{color:"#8C862B"}},"current"),n("span",{style:{color:"#8E8F8B"}},")"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#AB5959"}},"=>"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#296AA3"}},"0"),n("span",{style:{color:"#8E8F8B"}},")")])])])],-1),Mlt=n("ul",null,[n("li",null,[n("p",null,"if the next state is derived from the previous one, prefer the latter form")]),n("li",null,[n("p",null,[E("if you want to store a function you "),n("em",null,"must"),E(" use the latter form")])]),n("li",null,[n("p",null,[E("state is only updated if the new one is "),n("em",null,"different"),E(" (Using "),n("code",null,"Object.is"),E(" to compare)")])])],-1),Rlt={__name:"5",setup(i){const l={};return Pe(Ze),(p,f)=>{const m=Cr,b=Yo,A=fo;return Yt(),Xe(Qs,ss(es(l)),{default:ge(()=>[Tlt,le(m,_s({},{ranges:[""]}),{default:ge(()=>[Dlt]),_:1},16),Flt,le(b,null,{default:ge(()=>[Llt,le(m,_s({},{ranges:["1","2","all"]}),{default:ge(()=>[Ilt]),_:1},16)]),_:1}),le(A,null,{default:ge(()=>[Mlt]),_:1})]),_:1},16)}}},Olt=Qe(Rlt,[["__file","/@slidev/slides/5.md"]]),Nlt="/react-webinar/assets/scooby-5e654165.png",Plt=n("h2",null,[E("useState is only "),n("em",null,"syntactic sugar"),E(" for useReducer")],-1),Vlt=n("img",{class:"p-4 mx-auto my-auto h-inherit",src:Nlt},null,-1),$lt={__name:"6",setup(i){const l={};return Pe(Ze),(p,f)=>(Yt(),Xe(Qs,ss(es(l)),{default:ge(()=>[Plt,Vlt]),_:1},16))}},Ylt=Qe($lt,[["__file","/@slidev/slides/6.md"]]),Ult=n("h1",null,"useReducer",-1),zlt=n("pre",{class:"shiki-container"},[n("pre",{class:"slidev-code shiki shiki-dark Vitesse Dark",style:{"background-color":"#121212"}},[n("code",null,[n("span",{class:"line"},[n("span",{style:{color:"#4D9375"}},"import"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#858585"}},"{"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#B8A965"}},"useReducer"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#858585"}},"}"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#4D9375"}},"from"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#C98A7D"}},"'react'"),n("span",{style:{color:"#858585"}},";")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#4D9375"}},"import"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#B8A965"}},"reducer"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#4D9375"}},"from"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#C98A7D"}},"'./reducer'"),n("span",{style:{color:"#858585"}},";")]),E(`
`),n("span",{class:"line"}),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#CB7676"}},"const"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#A1B567"}},"Component"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#CB7676"}},"="),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#858585"}},"()"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#CB7676"}},"=>"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#858585"}},"{")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#DBD7CA"}},"  "),n("span",{style:{color:"#CB7676"}},"const"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#858585"}},"["),n("span",{style:{color:"#D4976C"}},"state"),n("span",{style:{color:"#858585"}},","),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#D4976C"}},"dispatch"),n("span",{style:{color:"#858585"}},"]"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#CB7676"}},"="),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#A1B567"}},"useReducer"),n("span",{style:{color:"#858585"}},"("),n("span",{style:{color:"#B8A965"}},"reducer"),n("span",{style:{color:"#858585"}},","),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#B8A965"}},"initialValue"),n("span",{style:{color:"#858585"}},","),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#B8A965"}},"initializer"),n("span",{style:{color:"#858585"}},");")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#DBD7CA"}},"  "),n("span",{style:{color:"#4D9375"}},"return"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#858585"}},"<"),n("span",{style:{color:"#429988"}},"div"),n("span",{style:{color:"#858585"}},">{"),n("span",{style:{color:"#B8A965"}},"state"),n("span",{style:{color:"#858585"}},"}</"),n("span",{style:{color:"#429988"}},"div"),n("span",{style:{color:"#858585"}},">")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#858585"}},"}")])])]),n("pre",{class:"slidev-code shiki shiki-light Vitesse Light",style:{"background-color":"#ffffff"}},[n("code",null,[n("span",{class:"line"},[n("span",{style:{color:"#1C6B48"}},"import"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#8E8F8B"}},"{"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#8C862B"}},"useReducer"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#8E8F8B"}},"}"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#1C6B48"}},"from"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#B56959"}},"'react'"),n("span",{style:{color:"#8E8F8B"}},";")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#1C6B48"}},"import"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#8C862B"}},"reducer"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#1C6B48"}},"from"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#B56959"}},"'./reducer'"),n("span",{style:{color:"#8E8F8B"}},";")]),E(`
`),n("span",{class:"line"}),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#AB5959"}},"const"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#6C7834"}},"Component"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#AB5959"}},"="),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#8E8F8B"}},"()"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#AB5959"}},"=>"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#8E8F8B"}},"{")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#393A34"}},"  "),n("span",{style:{color:"#AB5959"}},"const"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#8E8F8B"}},"["),n("span",{style:{color:"#A65E2B"}},"state"),n("span",{style:{color:"#8E8F8B"}},","),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#A65E2B"}},"dispatch"),n("span",{style:{color:"#8E8F8B"}},"]"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#AB5959"}},"="),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#6C7834"}},"useReducer"),n("span",{style:{color:"#8E8F8B"}},"("),n("span",{style:{color:"#8C862B"}},"reducer"),n("span",{style:{color:"#8E8F8B"}},","),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#8C862B"}},"initialValue"),n("span",{style:{color:"#8E8F8B"}},","),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#8C862B"}},"initializer"),n("span",{style:{color:"#8E8F8B"}},");")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#393A34"}},"  "),n("span",{style:{color:"#1C6B48"}},"return"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#8E8F8B"}},"<"),n("span",{style:{color:"#2F8A89"}},"div"),n("span",{style:{color:"#8E8F8B"}},">{"),n("span",{style:{color:"#8C862B"}},"state"),n("span",{style:{color:"#8E8F8B"}},"}</"),n("span",{style:{color:"#2F8A89"}},"div"),n("span",{style:{color:"#8E8F8B"}},">")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#8E8F8B"}},"}")])])])],-1),Wlt=n("h2",null,"Initialization",-1),Hlt=n("ul",null,[n("li",null,[n("p",null,[n("code",null,"initialValue"),E(" is used "),n("em",null,"as-is"),E(", even if its a function, unlike "),n("code",null,"useState")])]),n("li",null,[n("p",null,[E("if you need initialization logic, use the "),n("code",null,"initializer"),E(", which is a 3rd, "),n("em",null,"optional"),E(" argument")]),n("ul",null,[n("li",null,[E("it is called with the "),n("code",null,"initialValue")]),n("li",null,[E("the returned value will be used as the initial state "),n("em",null,"instead")])])]),n("li",null,[n("p",null,[n("code",null,"reducer"),E(" is a function with the following signature")]),n("pre",{class:"shiki-container"},[n("pre",{class:"slidev-code shiki shiki-dark Vitesse Dark",style:{"background-color":"#121212"}},[n("code",null,[n("span",{class:"line"},[n("span",{style:{color:"#CB7676"}},"type"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#A1B567"}},"Reducer"),n("span",{style:{color:"#858585"}},"<"),n("span",{style:{color:"#A1B567"}},"State"),n("span",{style:{color:"#858585"}},","),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#A1B567"}},"Action"),n("span",{style:{color:"#858585"}},">"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#CB7676"}},"="),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#858585"}},"("),n("span",{style:{color:"#B8A965"}},"prevState"),n("span",{style:{color:"#CB7676"}},":"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#A1B567"}},"State"),n("span",{style:{color:"#858585"}},","),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#B8A965"}},"action"),n("span",{style:{color:"#CB7676"}},":"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#A1B567"}},"Action"),n("span",{style:{color:"#858585"}},")"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#CB7676"}},"=>"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#A1B567"}},"State")])])]),n("pre",{class:"slidev-code shiki shiki-light Vitesse Light",style:{"background-color":"#ffffff"}},[n("code",null,[n("span",{class:"line"},[n("span",{style:{color:"#AB5959"}},"type"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#6C7834"}},"Reducer"),n("span",{style:{color:"#8E8F8B"}},"<"),n("span",{style:{color:"#6C7834"}},"State"),n("span",{style:{color:"#8E8F8B"}},","),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#6C7834"}},"Action"),n("span",{style:{color:"#8E8F8B"}},">"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#AB5959"}},"="),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#8E8F8B"}},"("),n("span",{style:{color:"#8C862B"}},"prevState"),n("span",{style:{color:"#AB5959"}},":"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#6C7834"}},"State"),n("span",{style:{color:"#8E8F8B"}},","),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#8C862B"}},"action"),n("span",{style:{color:"#AB5959"}},":"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#6C7834"}},"Action"),n("span",{style:{color:"#8E8F8B"}},")"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#AB5959"}},"=>"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#6C7834"}},"State")])])])])])],-1),jlt={__name:"7",setup(i){const l={};return Pe(Ze),(p,f)=>{const m=Cr,b=Yo,A=fo;return Yt(),Xe(Qs,ss(es(l)),{default:ge(()=>[Ult,le(m,_s({},{ranges:[""]}),{default:ge(()=>[zlt]),_:1},16),le(b,null,{default:ge(()=>[Wlt]),_:1}),le(A,null,{default:ge(()=>[Hlt]),_:1})]),_:1},16)}}},Glt=Qe(jlt,[["__file","/@slidev/slides/7.md"]]),qlt=n("h1",null,"useReducer",-1),Xlt=n("pre",{class:"shiki-container"},[n("pre",{class:"slidev-code shiki shiki-dark Vitesse Dark",style:{"background-color":"#121212"}},[n("code",null,[n("span",{class:"line"},[n("span",{style:{color:"#4D9375"}},"import"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#858585"}},"{"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#B8A965"}},"useReducer"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#858585"}},"}"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#4D9375"}},"from"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#C98A7D"}},"'react'"),n("span",{style:{color:"#858585"}},";")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#4D9375"}},"import"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#B8A965"}},"reducer"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#4D9375"}},"from"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#C98A7D"}},"'./reducer'"),n("span",{style:{color:"#858585"}},";")]),E(`
`),n("span",{class:"line"}),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#CB7676"}},"const"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#A1B567"}},"Component"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#CB7676"}},"="),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#858585"}},"()"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#CB7676"}},"=>"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#858585"}},"{")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#DBD7CA"}},"  "),n("span",{style:{color:"#CB7676"}},"const"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#858585"}},"["),n("span",{style:{color:"#D4976C"}},"state"),n("span",{style:{color:"#858585"}},","),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#D4976C"}},"dispatch"),n("span",{style:{color:"#858585"}},"]"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#CB7676"}},"="),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#A1B567"}},"useReducer"),n("span",{style:{color:"#858585"}},"("),n("span",{style:{color:"#B8A965"}},"reducer"),n("span",{style:{color:"#858585"}},","),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#B8A965"}},"initialValue"),n("span",{style:{color:"#858585"}},","),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#B8A965"}},"initializer"),n("span",{style:{color:"#858585"}},");")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#DBD7CA"}},"  "),n("span",{style:{color:"#4D9375"}},"return"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#858585"}},"<"),n("span",{style:{color:"#429988"}},"div"),n("span",{style:{color:"#858585"}},">{"),n("span",{style:{color:"#B8A965"}},"state"),n("span",{style:{color:"#858585"}},"}</"),n("span",{style:{color:"#429988"}},"div"),n("span",{style:{color:"#858585"}},">")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#858585"}},"}")])])]),n("pre",{class:"slidev-code shiki shiki-light Vitesse Light",style:{"background-color":"#ffffff"}},[n("code",null,[n("span",{class:"line"},[n("span",{style:{color:"#1C6B48"}},"import"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#8E8F8B"}},"{"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#8C862B"}},"useReducer"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#8E8F8B"}},"}"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#1C6B48"}},"from"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#B56959"}},"'react'"),n("span",{style:{color:"#8E8F8B"}},";")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#1C6B48"}},"import"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#8C862B"}},"reducer"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#1C6B48"}},"from"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#B56959"}},"'./reducer'"),n("span",{style:{color:"#8E8F8B"}},";")]),E(`
`),n("span",{class:"line"}),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#AB5959"}},"const"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#6C7834"}},"Component"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#AB5959"}},"="),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#8E8F8B"}},"()"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#AB5959"}},"=>"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#8E8F8B"}},"{")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#393A34"}},"  "),n("span",{style:{color:"#AB5959"}},"const"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#8E8F8B"}},"["),n("span",{style:{color:"#A65E2B"}},"state"),n("span",{style:{color:"#8E8F8B"}},","),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#A65E2B"}},"dispatch"),n("span",{style:{color:"#8E8F8B"}},"]"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#AB5959"}},"="),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#6C7834"}},"useReducer"),n("span",{style:{color:"#8E8F8B"}},"("),n("span",{style:{color:"#8C862B"}},"reducer"),n("span",{style:{color:"#8E8F8B"}},","),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#8C862B"}},"initialValue"),n("span",{style:{color:"#8E8F8B"}},","),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#8C862B"}},"initializer"),n("span",{style:{color:"#8E8F8B"}},");")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#393A34"}},"  "),n("span",{style:{color:"#1C6B48"}},"return"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#8E8F8B"}},"<"),n("span",{style:{color:"#2F8A89"}},"div"),n("span",{style:{color:"#8E8F8B"}},">{"),n("span",{style:{color:"#8C862B"}},"state"),n("span",{style:{color:"#8E8F8B"}},"}</"),n("span",{style:{color:"#2F8A89"}},"div"),n("span",{style:{color:"#8E8F8B"}},">")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#8E8F8B"}},"}")])])])],-1),Klt=n("h2",null,"Updating",-1),Zlt=n("pre",{class:"shiki-container"},[n("pre",{class:"slidev-code shiki shiki-dark Vitesse Dark",style:{"background-color":"#121212"}},[n("code",null,[n("span",{class:"line"},[n("span",{style:{color:"#CB7676"}},"const"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#858585"}},"["),n("span",{style:{color:"#D4976C"}},"state"),n("span",{style:{color:"#858585"}},","),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#D4976C"}},"dispatch"),n("span",{style:{color:"#858585"}},"]"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#CB7676"}},"="),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#A1B567"}},"useReducer"),n("span",{style:{color:"#858585"}},"("),n("span",{style:{color:"#B8A965"}},"reducer"),n("span",{style:{color:"#858585"}},","),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#B8A965"}},"initialValue"),n("span",{style:{color:"#858585"}},","),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#B8A965"}},"initializer"),n("span",{style:{color:"#858585"}},")")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#758575"}},"//...")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#A1B567"}},"dispatch"),n("span",{style:{color:"#858585"}},"("),n("span",{style:{color:"#B8A965"}},"action"),n("span",{style:{color:"#858585"}},")")])])]),n("pre",{class:"slidev-code shiki shiki-light Vitesse Light",style:{"background-color":"#ffffff"}},[n("code",null,[n("span",{class:"line"},[n("span",{style:{color:"#AB5959"}},"const"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#8E8F8B"}},"["),n("span",{style:{color:"#A65E2B"}},"state"),n("span",{style:{color:"#8E8F8B"}},","),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#A65E2B"}},"dispatch"),n("span",{style:{color:"#8E8F8B"}},"]"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#AB5959"}},"="),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#6C7834"}},"useReducer"),n("span",{style:{color:"#8E8F8B"}},"("),n("span",{style:{color:"#8C862B"}},"reducer"),n("span",{style:{color:"#8E8F8B"}},","),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#8C862B"}},"initialValue"),n("span",{style:{color:"#8E8F8B"}},","),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#8C862B"}},"initializer"),n("span",{style:{color:"#8E8F8B"}},")")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#A0ADA0"}},"//...")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#6C7834"}},"dispatch"),n("span",{style:{color:"#8E8F8B"}},"("),n("span",{style:{color:"#8C862B"}},"action"),n("span",{style:{color:"#8E8F8B"}},")")])])])],-1),Qlt={__name:"8",setup(i){const l={};return Pe(Ze),(p,f)=>{const m=Cr,b=fo;return Yt(),Xe(Qs,ss(es(l)),{default:ge(()=>[qlt,le(m,_s({},{ranges:[""]}),{default:ge(()=>[Xlt]),_:1},16),Klt,le(b,null,{default:ge(()=>[le(m,_s({},{ranges:[""]}),{default:ge(()=>[Zlt]),_:1},16)]),_:1})]),_:1},16)}}},Jlt=Qe(Qlt,[["__file","/@slidev/slides/8.md"]]),tct=n("h1",null,"Reducer",-1),ect=n("pre",{class:"shiki-container"},[n("pre",{class:"slidev-code shiki shiki-dark Vitesse Dark",style:{"background-color":"#121212"}},[n("code",null,[n("span",{class:"line"},[n("span",{style:{color:"#4D9375"}},"import"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#858585"}},"{"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#B8A965"}},"useReducer"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#858585"}},"}"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#4D9375"}},"from"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#C98A7D"}},"'react'"),n("span",{style:{color:"#858585"}},";")]),E(`
`),n("span",{class:"line"}),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#CB7676"}},"type"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#A1B567"}},"SetStateAction"),n("span",{style:{color:"#858585"}},"<"),n("span",{style:{color:"#A1B567"}},"State"),n("span",{style:{color:"#858585"}},">"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#CB7676"}},"="),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#A1B567"}},"State"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#CB7676"}},"|"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#858585"}},"(("),n("span",{style:{color:"#B8A965"}},"prev"),n("span",{style:{color:"#CB7676"}},":"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#A1B567"}},"State"),n("span",{style:{color:"#858585"}},")"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#CB7676"}},"=>"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#A1B567"}},"State"),n("span",{style:{color:"#858585"}},");")]),E(`
`),n("span",{class:"line"}),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#CB7676"}},"const"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#A1B567"}},"reducer"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#CB7676"}},"="),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#858585"}},"<"),n("span",{style:{color:"#A1B567"}},"State"),n("span",{style:{color:"#858585"}},">("),n("span",{style:{color:"#B8A965"}},"prevState"),n("span",{style:{color:"#CB7676"}},":"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#A1B567"}},"State"),n("span",{style:{color:"#858585"}},","),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#B8A965"}},"action"),n("span",{style:{color:"#CB7676"}},":"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#A1B567"}},"SetStateAction"),n("span",{style:{color:"#858585"}},"<"),n("span",{style:{color:"#A1B567"}},"State"),n("span",{style:{color:"#858585"}},">)"),n("span",{style:{color:"#CB7676"}},":"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#A1B567"}},"State"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#CB7676"}},"=>"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#858585"}},"{")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#DBD7CA"}},"  "),n("span",{style:{color:"#4D9375"}},"if"),n("span",{style:{color:"#858585"}},"("),n("span",{style:{color:"#CB7676"}},"typeof"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#B8A965"}},"action"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#CB7676"}},"==="),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#C98A7D"}},"'function'"),n("span",{style:{color:"#858585"}},")"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#858585"}},"{")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#DBD7CA"}},"    "),n("span",{style:{color:"#4D9375"}},"return"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#A1B567"}},"action"),n("span",{style:{color:"#858585"}},"("),n("span",{style:{color:"#B8A965"}},"prevState"),n("span",{style:{color:"#858585"}},");")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#DBD7CA"}},"  "),n("span",{style:{color:"#858585"}},"}"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#4D9375"}},"else"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#858585"}},"{")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#DBD7CA"}},"    "),n("span",{style:{color:"#4D9375"}},"return"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#B8A965"}},"action"),n("span",{style:{color:"#858585"}},";")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#DBD7CA"}},"  "),n("span",{style:{color:"#858585"}},"}")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#858585"}},"}")]),E(`
`),n("span",{class:"line"}),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#4D9375"}},"export"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#CB7676"}},"const"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#A1B567"}},"useState"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#CB7676"}},"="),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#858585"}},"<"),n("span",{style:{color:"#A1B567"}},"State"),n("span",{style:{color:"#858585"}},">("),n("span",{style:{color:"#B8A965"}},"initialState"),n("span",{style:{color:"#CB7676"}},"?:"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#A1B567"}},"State"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#CB7676"}},"|"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#858585"}},"(()"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#CB7676"}},"=>"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#A1B567"}},"State"),n("span",{style:{color:"#858585"}},"))"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#CB7676"}},"=>"),n("span",{style:{color:"#DBD7CA"}}," ")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#DBD7CA"}},"  "),n("span",{style:{color:"#A1B567"}},"useReducer"),n("span",{style:{color:"#858585"}},"(")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#DBD7CA"}},"    "),n("span",{style:{color:"#B8A965"}},"reducer"),n("span",{style:{color:"#858585"}},",")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#DBD7CA"}},"    "),n("span",{style:{color:"#D4976C"}},"undefined"),n("span",{style:{color:"#858585"}},",")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#DBD7CA"}},"    "),n("span",{style:{color:"#858585"}},"()"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#CB7676"}},"=>"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#CB7676"}},"typeof"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#B8A965"}},"initialState"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#CB7676"}},"==="),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#C98A7D"}},"'function'"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#CB7676"}},"?"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#A1B567"}},"initialState"),n("span",{style:{color:"#858585"}},"()"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#CB7676"}},":"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#B8A965"}},"initialState")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#DBD7CA"}},"  "),n("span",{style:{color:"#858585"}},")")])])]),n("pre",{class:"slidev-code shiki shiki-light Vitesse Light",style:{"background-color":"#ffffff"}},[n("code",null,[n("span",{class:"line"},[n("span",{style:{color:"#1C6B48"}},"import"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#8E8F8B"}},"{"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#8C862B"}},"useReducer"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#8E8F8B"}},"}"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#1C6B48"}},"from"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#B56959"}},"'react'"),n("span",{style:{color:"#8E8F8B"}},";")]),E(`
`),n("span",{class:"line"}),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#AB5959"}},"type"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#6C7834"}},"SetStateAction"),n("span",{style:{color:"#8E8F8B"}},"<"),n("span",{style:{color:"#6C7834"}},"State"),n("span",{style:{color:"#8E8F8B"}},">"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#AB5959"}},"="),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#6C7834"}},"State"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#AB5959"}},"|"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#8E8F8B"}},"(("),n("span",{style:{color:"#8C862B"}},"prev"),n("span",{style:{color:"#AB5959"}},":"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#6C7834"}},"State"),n("span",{style:{color:"#8E8F8B"}},")"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#AB5959"}},"=>"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#6C7834"}},"State"),n("span",{style:{color:"#8E8F8B"}},");")]),E(`
`),n("span",{class:"line"}),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#AB5959"}},"const"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#6C7834"}},"reducer"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#AB5959"}},"="),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#8E8F8B"}},"<"),n("span",{style:{color:"#6C7834"}},"State"),n("span",{style:{color:"#8E8F8B"}},">("),n("span",{style:{color:"#8C862B"}},"prevState"),n("span",{style:{color:"#AB5959"}},":"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#6C7834"}},"State"),n("span",{style:{color:"#8E8F8B"}},","),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#8C862B"}},"action"),n("span",{style:{color:"#AB5959"}},":"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#6C7834"}},"SetStateAction"),n("span",{style:{color:"#8E8F8B"}},"<"),n("span",{style:{color:"#6C7834"}},"State"),n("span",{style:{color:"#8E8F8B"}},">)"),n("span",{style:{color:"#AB5959"}},":"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#6C7834"}},"State"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#AB5959"}},"=>"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#8E8F8B"}},"{")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#393A34"}},"  "),n("span",{style:{color:"#1C6B48"}},"if"),n("span",{style:{color:"#8E8F8B"}},"("),n("span",{style:{color:"#AB5959"}},"typeof"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#8C862B"}},"action"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#AB5959"}},"==="),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#B56959"}},"'function'"),n("span",{style:{color:"#8E8F8B"}},")"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#8E8F8B"}},"{")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#393A34"}},"    "),n("span",{style:{color:"#1C6B48"}},"return"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#6C7834"}},"action"),n("span",{style:{color:"#8E8F8B"}},"("),n("span",{style:{color:"#8C862B"}},"prevState"),n("span",{style:{color:"#8E8F8B"}},");")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#393A34"}},"  "),n("span",{style:{color:"#8E8F8B"}},"}"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#1C6B48"}},"else"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#8E8F8B"}},"{")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#393A34"}},"    "),n("span",{style:{color:"#1C6B48"}},"return"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#8C862B"}},"action"),n("span",{style:{color:"#8E8F8B"}},";")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#393A34"}},"  "),n("span",{style:{color:"#8E8F8B"}},"}")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#8E8F8B"}},"}")]),E(`
`),n("span",{class:"line"}),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#1C6B48"}},"export"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#AB5959"}},"const"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#6C7834"}},"useState"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#AB5959"}},"="),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#8E8F8B"}},"<"),n("span",{style:{color:"#6C7834"}},"State"),n("span",{style:{color:"#8E8F8B"}},">("),n("span",{style:{color:"#8C862B"}},"initialState"),n("span",{style:{color:"#AB5959"}},"?:"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#6C7834"}},"State"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#AB5959"}},"|"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#8E8F8B"}},"(()"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#AB5959"}},"=>"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#6C7834"}},"State"),n("span",{style:{color:"#8E8F8B"}},"))"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#AB5959"}},"=>"),n("span",{style:{color:"#393A34"}}," ")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#393A34"}},"  "),n("span",{style:{color:"#6C7834"}},"useReducer"),n("span",{style:{color:"#8E8F8B"}},"(")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#393A34"}},"    "),n("span",{style:{color:"#8C862B"}},"reducer"),n("span",{style:{color:"#8E8F8B"}},",")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#393A34"}},"    "),n("span",{style:{color:"#A65E2B"}},"undefined"),n("span",{style:{color:"#8E8F8B"}},",")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#393A34"}},"    "),n("span",{style:{color:"#8E8F8B"}},"()"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#AB5959"}},"=>"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#AB5959"}},"typeof"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#8C862B"}},"initialState"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#AB5959"}},"==="),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#B56959"}},"'function'"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#AB5959"}},"?"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#6C7834"}},"initialState"),n("span",{style:{color:"#8E8F8B"}},"()"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#AB5959"}},":"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#8C862B"}},"initialState")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#393A34"}},"  "),n("span",{style:{color:"#8E8F8B"}},")")])])])],-1),nct={__name:"9",setup(i){const l={};return Pe(Ze),(p,f)=>{const m=Cr;return Yt(),Xe(Qs,ss(es(l)),{default:ge(()=>[tct,le(m,_s({},{ranges:["all","3","5-11","13-18","all"]}),{default:ge(()=>[ect]),_:1},16)]),_:1},16)}}},sct=Qe(nct,[["__file","/@slidev/slides/9.md"]]),rct={class:"grid grid-cols-2 w-full h-full"},ict=["src"],oct=ps({__name:"iframe-right",props:{url:{type:String,required:!0},scale:{type:Number,required:!1}},setup(i){const l=i;Pe(Ze);const p=zC(()=>`${1/(l.scale||1)*100}%`);return(f,m)=>(Yt(),Ne("div",rct,[n("div",{class:Rs(["slidev-layout default",l.class])},[Vo(f.$slots,"default")],2),n("div",{relative:"",style:lr({width:Ft(p),height:Ft(p)})},[n("iframe",{id:"frame",class:"w-full h-full",src:i.url,style:lr(i.scale?{transform:`scale(${i.scale})`,transformOrigin:"top left"}:{})},null,12,ict)],4)]))}}),Ma=Qe(oct,[["__file","/Users/jedrzejsadowski/projects/bright/react-state-presentation/node_modules/@slidev/client/layouts/iframe-right.vue"]]),act=n("h1",null,[E("State updates are "),n("em",null,"asynchronous")],-1),lct=n("pre",{class:"shiki-container"},[n("pre",{class:"slidev-code shiki shiki-dark Vitesse Dark",style:{"background-color":"#121212"}},[n("code",null,[n("span",{class:"line"},[n("span",{style:{color:"#CB7676"}},"const"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#A1B567"}},"Counter"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#CB7676"}},"="),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#858585"}},"()"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#CB7676"}},"=>"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#858585"}},"{")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#DBD7CA"}},"  "),n("span",{style:{color:"#CB7676"}},"const"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#858585"}},"["),n("span",{style:{color:"#D4976C"}},"state"),n("span",{style:{color:"#858585"}},","),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#D4976C"}},"setState"),n("span",{style:{color:"#858585"}},"]"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#CB7676"}},"="),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#A1B567"}},"useState"),n("span",{style:{color:"#858585"}},"("),n("span",{style:{color:"#6394BF"}},"0"),n("span",{style:{color:"#858585"}},");")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#DBD7CA"}},"  "),n("span",{style:{color:"#CB7676"}},"const"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#A1B567"}},"increment"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#CB7676"}},"="),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#858585"}},"()"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#CB7676"}},"=>"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#858585"}},"{")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#DBD7CA"}},"    "),n("span",{style:{color:"#B8A965"}},"console"),n("span",{style:{color:"#858585"}},"."),n("span",{style:{color:"#A1B567"}},"log"),n("span",{style:{color:"#858585"}},"("),n("span",{style:{color:"#C98A7D"}},"'before increment'"),n("span",{style:{color:"#858585"}},");")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#DBD7CA"}},"    "),n("span",{style:{color:"#A1B567"}},"setState"),n("span",{style:{color:"#858585"}},"(("),n("span",{style:{color:"#B8A965"}},"current"),n("span",{style:{color:"#858585"}},")"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#CB7676"}},"=>"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#858585"}},"{")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#DBD7CA"}},"      "),n("span",{style:{color:"#B8A965"}},"console"),n("span",{style:{color:"#858585"}},"."),n("span",{style:{color:"#A1B567"}},"log"),n("span",{style:{color:"#858585"}},"("),n("span",{style:{color:"#C98A7D"}},"'increment'"),n("span",{style:{color:"#858585"}},");")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#DBD7CA"}},"      "),n("span",{style:{color:"#4D9375"}},"return"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#B8A965"}},"current"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#CB7676"}},"+"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#6394BF"}},"1"),n("span",{style:{color:"#858585"}},";")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#DBD7CA"}},"    "),n("span",{style:{color:"#858585"}},"});")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#DBD7CA"}},"    "),n("span",{style:{color:"#B8A965"}},"console"),n("span",{style:{color:"#858585"}},"."),n("span",{style:{color:"#A1B567"}},"log"),n("span",{style:{color:"#858585"}},"("),n("span",{style:{color:"#C98A7D"}},"'after increment'"),n("span",{style:{color:"#858585"}},");")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#DBD7CA"}},"  "),n("span",{style:{color:"#858585"}},"};")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#DBD7CA"}},"  "),n("span",{style:{color:"#B8A965"}},"console"),n("span",{style:{color:"#858585"}},"."),n("span",{style:{color:"#A1B567"}},"log"),n("span",{style:{color:"#858585"}},"("),n("span",{style:{color:"#C98A7D"}},"'render'"),n("span",{style:{color:"#858585"}},");")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#DBD7CA"}},"  "),n("span",{style:{color:"#4D9375"}},"return"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#858585"}},"(")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#DBD7CA"}},"    "),n("span",{style:{color:"#858585"}},"<"),n("span",{style:{color:"#429988"}},"div"),n("span",{style:{color:"#858585"}},">")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#DBD7CA"}},"      "),n("span",{style:{color:"#858585"}},"<"),n("span",{style:{color:"#429988"}},"p"),n("span",{style:{color:"#858585"}},">{"),n("span",{style:{color:"#B8A965"}},"state"),n("span",{style:{color:"#858585"}},"}</"),n("span",{style:{color:"#429988"}},"p"),n("span",{style:{color:"#858585"}},">")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#DBD7CA"}},"      "),n("span",{style:{color:"#858585"}},"<"),n("span",{style:{color:"#429988"}},"button"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#E0A569"}},"onClick"),n("span",{style:{color:"#CB7676"}},"="),n("span",{style:{color:"#858585"}},"{"),n("span",{style:{color:"#B8A965"}},"increment"),n("span",{style:{color:"#858585"}},"}>")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#DBD7CA"}},"        Increment")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#DBD7CA"}},"      "),n("span",{style:{color:"#858585"}},"</"),n("span",{style:{color:"#429988"}},"button"),n("span",{style:{color:"#858585"}},">")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#DBD7CA"}},"    "),n("span",{style:{color:"#858585"}},"</"),n("span",{style:{color:"#429988"}},"div"),n("span",{style:{color:"#858585"}},">")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#DBD7CA"}},"  "),n("span",{style:{color:"#858585"}},");")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#858585"}},"}")])])]),n("pre",{class:"slidev-code shiki shiki-light Vitesse Light",style:{"background-color":"#ffffff"}},[n("code",null,[n("span",{class:"line"},[n("span",{style:{color:"#AB5959"}},"const"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#6C7834"}},"Counter"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#AB5959"}},"="),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#8E8F8B"}},"()"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#AB5959"}},"=>"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#8E8F8B"}},"{")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#393A34"}},"  "),n("span",{style:{color:"#AB5959"}},"const"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#8E8F8B"}},"["),n("span",{style:{color:"#A65E2B"}},"state"),n("span",{style:{color:"#8E8F8B"}},","),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#A65E2B"}},"setState"),n("span",{style:{color:"#8E8F8B"}},"]"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#AB5959"}},"="),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#6C7834"}},"useState"),n("span",{style:{color:"#8E8F8B"}},"("),n("span",{style:{color:"#296AA3"}},"0"),n("span",{style:{color:"#8E8F8B"}},");")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#393A34"}},"  "),n("span",{style:{color:"#AB5959"}},"const"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#6C7834"}},"increment"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#AB5959"}},"="),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#8E8F8B"}},"()"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#AB5959"}},"=>"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#8E8F8B"}},"{")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#393A34"}},"    "),n("span",{style:{color:"#8C862B"}},"console"),n("span",{style:{color:"#8E8F8B"}},"."),n("span",{style:{color:"#6C7834"}},"log"),n("span",{style:{color:"#8E8F8B"}},"("),n("span",{style:{color:"#B56959"}},"'before increment'"),n("span",{style:{color:"#8E8F8B"}},");")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#393A34"}},"    "),n("span",{style:{color:"#6C7834"}},"setState"),n("span",{style:{color:"#8E8F8B"}},"(("),n("span",{style:{color:"#8C862B"}},"current"),n("span",{style:{color:"#8E8F8B"}},")"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#AB5959"}},"=>"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#8E8F8B"}},"{")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#393A34"}},"      "),n("span",{style:{color:"#8C862B"}},"console"),n("span",{style:{color:"#8E8F8B"}},"."),n("span",{style:{color:"#6C7834"}},"log"),n("span",{style:{color:"#8E8F8B"}},"("),n("span",{style:{color:"#B56959"}},"'increment'"),n("span",{style:{color:"#8E8F8B"}},");")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#393A34"}},"      "),n("span",{style:{color:"#1C6B48"}},"return"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#8C862B"}},"current"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#AB5959"}},"+"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#296AA3"}},"1"),n("span",{style:{color:"#8E8F8B"}},";")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#393A34"}},"    "),n("span",{style:{color:"#8E8F8B"}},"});")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#393A34"}},"    "),n("span",{style:{color:"#8C862B"}},"console"),n("span",{style:{color:"#8E8F8B"}},"."),n("span",{style:{color:"#6C7834"}},"log"),n("span",{style:{color:"#8E8F8B"}},"("),n("span",{style:{color:"#B56959"}},"'after increment'"),n("span",{style:{color:"#8E8F8B"}},");")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#393A34"}},"  "),n("span",{style:{color:"#8E8F8B"}},"};")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#393A34"}},"  "),n("span",{style:{color:"#8C862B"}},"console"),n("span",{style:{color:"#8E8F8B"}},"."),n("span",{style:{color:"#6C7834"}},"log"),n("span",{style:{color:"#8E8F8B"}},"("),n("span",{style:{color:"#B56959"}},"'render'"),n("span",{style:{color:"#8E8F8B"}},");")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#393A34"}},"  "),n("span",{style:{color:"#1C6B48"}},"return"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#8E8F8B"}},"(")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#393A34"}},"    "),n("span",{style:{color:"#8E8F8B"}},"<"),n("span",{style:{color:"#2F8A89"}},"div"),n("span",{style:{color:"#8E8F8B"}},">")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#393A34"}},"      "),n("span",{style:{color:"#8E8F8B"}},"<"),n("span",{style:{color:"#2F8A89"}},"p"),n("span",{style:{color:"#8E8F8B"}},">{"),n("span",{style:{color:"#8C862B"}},"state"),n("span",{style:{color:"#8E8F8B"}},"}</"),n("span",{style:{color:"#2F8A89"}},"p"),n("span",{style:{color:"#8E8F8B"}},">")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#393A34"}},"      "),n("span",{style:{color:"#8E8F8B"}},"<"),n("span",{style:{color:"#2F8A89"}},"button"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#B58451"}},"onClick"),n("span",{style:{color:"#AB5959"}},"="),n("span",{style:{color:"#8E8F8B"}},"{"),n("span",{style:{color:"#8C862B"}},"increment"),n("span",{style:{color:"#8E8F8B"}},"}>")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#393A34"}},"        Increment")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#393A34"}},"      "),n("span",{style:{color:"#8E8F8B"}},"</"),n("span",{style:{color:"#2F8A89"}},"button"),n("span",{style:{color:"#8E8F8B"}},">")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#393A34"}},"    "),n("span",{style:{color:"#8E8F8B"}},"</"),n("span",{style:{color:"#2F8A89"}},"div"),n("span",{style:{color:"#8E8F8B"}},">")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#393A34"}},"  "),n("span",{style:{color:"#8E8F8B"}},");")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#8E8F8B"}},"}")])])])],-1),cct={__name:"10",setup(i){const l={layout:"iframe-right",url:"https://stackblitz.com/edit/react-ts-cgjyuw?devToolsHeight=80&embed=1&file=App.tsx&hideExplorer=1&view=preview"};return Pe(Ze),(p,f)=>{const m=Cr;return Yt(),Xe(Ma,ss(es(l)),{default:ge(()=>[act,le(m,_s({},{ranges:["all","2,3,5,7,8,10,14-17","4,6,9,11","all"]}),{default:ge(()=>[lct]),_:1},16)]),_:1},16)}}},uct=Qe(cct,[["__file","/@slidev/slides/10.md"]]),hct=n("h1",null,[E("What "),n("em",null,"asynchronous"),E(" can mean")],-1),pct=n("p",null,"The browser environment gives us multiple choices when to run our asynchronous code:",-1),dct=n("ul",null,[n("li",null,[E("microtasks "),n("ul",null,[n("li",null,[E("Run "),n("em",null,"immediately"),E(" after the call stack is empty")]),n("li",null,[E("Can be created using "),n("code",null,"queueMicrotask"),E(" or "),n("code",null,"Promise.resolve().then")])])]),n("li",null,[E("tasks "),n("ul",null,[n("li",null,"Run sometime in the future, when the event loop gets to it"),n("li",null,[E("Can be created using "),n("code",null,"setTimeout"),E(", "),n("code",null,"MessageChannel"),E(" ports, event callbacks")])])]),n("li",null,[n("code",null,"requestAnimationFrame"),n("ul",null,[n("li",null,[E("Runs "),n("em",null,"before"),E(" the next paint")])])])],-1),fct={__name:"11",setup(i){const l={};return Pe(Ze),(p,f)=>{const m=fo;return Yt(),Xe(Qs,ss(es(l)),{default:ge(()=>[hct,pct,le(m,null,{default:ge(()=>[dct]),_:1})]),_:1},16)}}},yct=Qe(fct,[["__file","/@slidev/slides/11.md"]]),gct=n("h1",null,"Which mechanism does React use?",-1),mct=n("p",null,"Lets find out!",-1),_ct=n("pre",{class:"shiki-container"},[n("pre",{class:"slidev-code shiki shiki-dark Vitesse Dark",style:{"background-color":"#121212"}},[n("code",null,[n("span",{class:"line"},[n("span",{style:{color:"#CB7676"}},"const"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#A1B567"}},"asyncLog"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#CB7676"}},"="),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#858585"}},"(")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#DBD7CA"}},"  "),n("span",{style:{color:"#B8A965"}},"message"),n("span",{style:{color:"#CB7676"}},":"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#E0A569"}},"string"),n("span",{style:{color:"#858585"}},",")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#DBD7CA"}},"  "),n("span",{style:{color:"#A1B567"}},"queueMechanism"),n("span",{style:{color:"#CB7676"}},":"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#858585"}},"("),n("span",{style:{color:"#A1B567"}},"cb"),n("span",{style:{color:"#CB7676"}},":"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#858585"}},"()"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#CB7676"}},"=>"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#E0A569"}},"void"),n("span",{style:{color:"#858585"}},")"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#CB7676"}},"=>"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#E0A569"}},"void")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#858585"}},")"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#CB7676"}},"=>"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#858585"}},"{")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#DBD7CA"}},"  "),n("span",{style:{color:"#A1B567"}},"queueMechanism"),n("span",{style:{color:"#858585"}},"(()"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#CB7676"}},"=>"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#858585"}},"{")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#DBD7CA"}},"    "),n("span",{style:{color:"#B8A965"}},"console"),n("span",{style:{color:"#858585"}},"."),n("span",{style:{color:"#A1B567"}},"log"),n("span",{style:{color:"#858585"}},"("),n("span",{style:{color:"#B8A965"}},"message"),n("span",{style:{color:"#858585"}},");")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#DBD7CA"}},"  "),n("span",{style:{color:"#858585"}},"});")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#858585"}},"};")]),E(`
`),n("span",{class:"line"}),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#CB7676"}},"const"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#A1B567"}},"logMicrotask"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#CB7676"}},"="),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#858585"}},"("),n("span",{style:{color:"#B8A965"}},"message"),n("span",{style:{color:"#CB7676"}},":"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#E0A569"}},"string"),n("span",{style:{color:"#858585"}},")"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#CB7676"}},"=>"),n("span",{style:{color:"#DBD7CA"}}," ")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#DBD7CA"}},"  "),n("span",{style:{color:"#A1B567"}},"asyncLog"),n("span",{style:{color:"#858585"}},"("),n("span",{style:{color:"#B8A965"}},"message"),n("span",{style:{color:"#858585"}},","),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#B8A965"}},"queueMicrotask"),n("span",{style:{color:"#858585"}},");")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#CB7676"}},"const"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#A1B567"}},"logTimeout"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#CB7676"}},"="),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#858585"}},"("),n("span",{style:{color:"#B8A965"}},"message"),n("span",{style:{color:"#CB7676"}},":"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#E0A569"}},"string"),n("span",{style:{color:"#858585"}},")"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#CB7676"}},"=>")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#DBD7CA"}},"  "),n("span",{style:{color:"#A1B567"}},"asyncLog"),n("span",{style:{color:"#858585"}},"("),n("span",{style:{color:"#B8A965"}},"message"),n("span",{style:{color:"#858585"}},","),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#858585"}},"("),n("span",{style:{color:"#B8A965"}},"cb"),n("span",{style:{color:"#858585"}},")"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#CB7676"}},"=>"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#A1B567"}},"setTimeout"),n("span",{style:{color:"#858585"}},"("),n("span",{style:{color:"#B8A965"}},"cb"),n("span",{style:{color:"#858585"}},","),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#6394BF"}},"0"),n("span",{style:{color:"#858585"}},"));")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#CB7676"}},"const"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#A1B567"}},"logAnimationFrame"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#CB7676"}},"="),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#858585"}},"("),n("span",{style:{color:"#B8A965"}},"message"),n("span",{style:{color:"#CB7676"}},":"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#E0A569"}},"string"),n("span",{style:{color:"#858585"}},")"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#CB7676"}},"=>")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#DBD7CA"}},"  "),n("span",{style:{color:"#A1B567"}},"asyncLog"),n("span",{style:{color:"#858585"}},"("),n("span",{style:{color:"#B8A965"}},"message"),n("span",{style:{color:"#858585"}},","),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#B8A965"}},"requestAnimationFrame"),n("span",{style:{color:"#858585"}},");")])])]),n("pre",{class:"slidev-code shiki shiki-light Vitesse Light",style:{"background-color":"#ffffff"}},[n("code",null,[n("span",{class:"line"},[n("span",{style:{color:"#AB5959"}},"const"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#6C7834"}},"asyncLog"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#AB5959"}},"="),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#8E8F8B"}},"(")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#393A34"}},"  "),n("span",{style:{color:"#8C862B"}},"message"),n("span",{style:{color:"#AB5959"}},":"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#B58451"}},"string"),n("span",{style:{color:"#8E8F8B"}},",")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#393A34"}},"  "),n("span",{style:{color:"#6C7834"}},"queueMechanism"),n("span",{style:{color:"#AB5959"}},":"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#8E8F8B"}},"("),n("span",{style:{color:"#6C7834"}},"cb"),n("span",{style:{color:"#AB5959"}},":"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#8E8F8B"}},"()"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#AB5959"}},"=>"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#B58451"}},"void"),n("span",{style:{color:"#8E8F8B"}},")"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#AB5959"}},"=>"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#B58451"}},"void")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#8E8F8B"}},")"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#AB5959"}},"=>"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#8E8F8B"}},"{")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#393A34"}},"  "),n("span",{style:{color:"#6C7834"}},"queueMechanism"),n("span",{style:{color:"#8E8F8B"}},"(()"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#AB5959"}},"=>"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#8E8F8B"}},"{")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#393A34"}},"    "),n("span",{style:{color:"#8C862B"}},"console"),n("span",{style:{color:"#8E8F8B"}},"."),n("span",{style:{color:"#6C7834"}},"log"),n("span",{style:{color:"#8E8F8B"}},"("),n("span",{style:{color:"#8C862B"}},"message"),n("span",{style:{color:"#8E8F8B"}},");")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#393A34"}},"  "),n("span",{style:{color:"#8E8F8B"}},"});")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#8E8F8B"}},"};")]),E(`
`),n("span",{class:"line"}),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#AB5959"}},"const"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#6C7834"}},"logMicrotask"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#AB5959"}},"="),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#8E8F8B"}},"("),n("span",{style:{color:"#8C862B"}},"message"),n("span",{style:{color:"#AB5959"}},":"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#B58451"}},"string"),n("span",{style:{color:"#8E8F8B"}},")"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#AB5959"}},"=>"),n("span",{style:{color:"#393A34"}}," ")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#393A34"}},"  "),n("span",{style:{color:"#6C7834"}},"asyncLog"),n("span",{style:{color:"#8E8F8B"}},"("),n("span",{style:{color:"#8C862B"}},"message"),n("span",{style:{color:"#8E8F8B"}},","),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#8C862B"}},"queueMicrotask"),n("span",{style:{color:"#8E8F8B"}},");")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#AB5959"}},"const"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#6C7834"}},"logTimeout"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#AB5959"}},"="),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#8E8F8B"}},"("),n("span",{style:{color:"#8C862B"}},"message"),n("span",{style:{color:"#AB5959"}},":"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#B58451"}},"string"),n("span",{style:{color:"#8E8F8B"}},")"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#AB5959"}},"=>")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#393A34"}},"  "),n("span",{style:{color:"#6C7834"}},"asyncLog"),n("span",{style:{color:"#8E8F8B"}},"("),n("span",{style:{color:"#8C862B"}},"message"),n("span",{style:{color:"#8E8F8B"}},","),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#8E8F8B"}},"("),n("span",{style:{color:"#8C862B"}},"cb"),n("span",{style:{color:"#8E8F8B"}},")"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#AB5959"}},"=>"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#6C7834"}},"setTimeout"),n("span",{style:{color:"#8E8F8B"}},"("),n("span",{style:{color:"#8C862B"}},"cb"),n("span",{style:{color:"#8E8F8B"}},","),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#296AA3"}},"0"),n("span",{style:{color:"#8E8F8B"}},"));")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#AB5959"}},"const"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#6C7834"}},"logAnimationFrame"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#AB5959"}},"="),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#8E8F8B"}},"("),n("span",{style:{color:"#8C862B"}},"message"),n("span",{style:{color:"#AB5959"}},":"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#B58451"}},"string"),n("span",{style:{color:"#8E8F8B"}},")"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#AB5959"}},"=>")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#393A34"}},"  "),n("span",{style:{color:"#6C7834"}},"asyncLog"),n("span",{style:{color:"#8E8F8B"}},"("),n("span",{style:{color:"#8C862B"}},"message"),n("span",{style:{color:"#8E8F8B"}},","),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#8C862B"}},"requestAnimationFrame"),n("span",{style:{color:"#8E8F8B"}},");")])])])],-1),vct={__name:"12",setup(i){const l={};return Pe(Ze),(p,f)=>{const m=Cr,b=Yo;return Yt(),Xe(Qs,ss(es(l)),{default:ge(()=>[gct,mct,le(b,null,{default:ge(()=>[le(m,_s({},{ranges:["1-8","10-11","12-13","14-15"]}),{default:ge(()=>[_ct]),_:1},16)]),_:1})]),_:1},16)}}},bct=Qe(vct,[["__file","/@slidev/slides/12.md"]]),xct=n("p",null,[E("For "),n("em",null,"most"),E(" event callbacks, React uses "),n("em",null,"microtasks")],-1),kct=n("pre",{class:"shiki-container"},[n("pre",{class:"slidev-code shiki shiki-dark Vitesse Dark",style:{"background-color":"#121212"}},[n("code",null,[n("span",{class:"line"},[n("span",{style:{color:"#CB7676"}},"const"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#A1B567"}},"Counter"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#CB7676"}},"="),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#858585"}},"()"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#CB7676"}},"=>"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#858585"}},"{")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#DBD7CA"}},"  "),n("span",{style:{color:"#CB7676"}},"const"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#858585"}},"["),n("span",{style:{color:"#D4976C"}},"state"),n("span",{style:{color:"#858585"}},","),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#D4976C"}},"setState"),n("span",{style:{color:"#858585"}},"]"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#CB7676"}},"="),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#A1B567"}},"useState"),n("span",{style:{color:"#858585"}},"("),n("span",{style:{color:"#6394BF"}},"0"),n("span",{style:{color:"#858585"}},");")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#DBD7CA"}},"  "),n("span",{style:{color:"#CB7676"}},"const"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#A1B567"}},"increment"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#CB7676"}},"="),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#858585"}},"()"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#CB7676"}},"=>"),n("span",{style:{color:"#DBD7CA"}}," ")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#DBD7CA"}},"    "),n("span",{style:{color:"#A1B567"}},"setState"),n("span",{style:{color:"#858585"}},"(("),n("span",{style:{color:"#B8A965"}},"current"),n("span",{style:{color:"#858585"}},")"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#CB7676"}},"=>"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#B8A965"}},"current"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#CB7676"}},"+"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#6394BF"}},"1"),n("span",{style:{color:"#858585"}},");")]),E(`
`),n("span",{class:"line"}),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#DBD7CA"}},"  "),n("span",{style:{color:"#CB7676"}},"const"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#A1B567"}},"handler"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#CB7676"}},"="),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#858585"}},"()"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#CB7676"}},"=>"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#858585"}},"{")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#DBD7CA"}},"    "),n("span",{style:{color:"#A1B567"}},"logMicrotask"),n("span",{style:{color:"#858585"}},"("),n("span",{style:{color:"#C98A7D"}},"'before increment'"),n("span",{style:{color:"#858585"}},")")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#DBD7CA"}},"    "),n("span",{style:{color:"#A1B567"}},"increment"),n("span",{style:{color:"#858585"}},"()")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#DBD7CA"}},"    "),n("span",{style:{color:"#A1B567"}},"logMicrotask"),n("span",{style:{color:"#858585"}},"("),n("span",{style:{color:"#C98A7D"}},"'after increment'"),n("span",{style:{color:"#858585"}},")")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#DBD7CA"}},"  "),n("span",{style:{color:"#858585"}},"};")]),E(`
`),n("span",{class:"line"}),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#DBD7CA"}},"  "),n("span",{style:{color:"#B8A965"}},"console"),n("span",{style:{color:"#858585"}},"."),n("span",{style:{color:"#A1B567"}},"log"),n("span",{style:{color:"#858585"}},"("),n("span",{style:{color:"#C98A7D"}},"'render'"),n("span",{style:{color:"#858585"}},");")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#DBD7CA"}},"  "),n("span",{style:{color:"#4D9375"}},"return"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#858585"}},"(")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#DBD7CA"}},"    "),n("span",{style:{color:"#858585"}},"<"),n("span",{style:{color:"#429988"}},"div"),n("span",{style:{color:"#858585"}},">")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#DBD7CA"}},"      "),n("span",{style:{color:"#858585"}},"<"),n("span",{style:{color:"#429988"}},"p"),n("span",{style:{color:"#858585"}},">{"),n("span",{style:{color:"#B8A965"}},"state"),n("span",{style:{color:"#858585"}},"}</"),n("span",{style:{color:"#429988"}},"p"),n("span",{style:{color:"#858585"}},">")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#DBD7CA"}},"      "),n("span",{style:{color:"#858585"}},"<"),n("span",{style:{color:"#429988"}},"button"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#E0A569"}},"onClick"),n("span",{style:{color:"#CB7676"}},"="),n("span",{style:{color:"#858585"}},"{"),n("span",{style:{color:"#B8A965"}},"handler"),n("span",{style:{color:"#858585"}},"}>")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#DBD7CA"}},"        Increment")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#DBD7CA"}},"      "),n("span",{style:{color:"#858585"}},"</"),n("span",{style:{color:"#429988"}},"button"),n("span",{style:{color:"#858585"}},">")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#DBD7CA"}},"    "),n("span",{style:{color:"#858585"}},"</"),n("span",{style:{color:"#429988"}},"div"),n("span",{style:{color:"#858585"}},">")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#DBD7CA"}},"  "),n("span",{style:{color:"#858585"}},");")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#858585"}},"}")])])]),n("pre",{class:"slidev-code shiki shiki-light Vitesse Light",style:{"background-color":"#ffffff"}},[n("code",null,[n("span",{class:"line"},[n("span",{style:{color:"#AB5959"}},"const"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#6C7834"}},"Counter"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#AB5959"}},"="),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#8E8F8B"}},"()"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#AB5959"}},"=>"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#8E8F8B"}},"{")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#393A34"}},"  "),n("span",{style:{color:"#AB5959"}},"const"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#8E8F8B"}},"["),n("span",{style:{color:"#A65E2B"}},"state"),n("span",{style:{color:"#8E8F8B"}},","),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#A65E2B"}},"setState"),n("span",{style:{color:"#8E8F8B"}},"]"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#AB5959"}},"="),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#6C7834"}},"useState"),n("span",{style:{color:"#8E8F8B"}},"("),n("span",{style:{color:"#296AA3"}},"0"),n("span",{style:{color:"#8E8F8B"}},");")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#393A34"}},"  "),n("span",{style:{color:"#AB5959"}},"const"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#6C7834"}},"increment"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#AB5959"}},"="),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#8E8F8B"}},"()"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#AB5959"}},"=>"),n("span",{style:{color:"#393A34"}}," ")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#393A34"}},"    "),n("span",{style:{color:"#6C7834"}},"setState"),n("span",{style:{color:"#8E8F8B"}},"(("),n("span",{style:{color:"#8C862B"}},"current"),n("span",{style:{color:"#8E8F8B"}},")"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#AB5959"}},"=>"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#8C862B"}},"current"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#AB5959"}},"+"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#296AA3"}},"1"),n("span",{style:{color:"#8E8F8B"}},");")]),E(`
`),n("span",{class:"line"}),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#393A34"}},"  "),n("span",{style:{color:"#AB5959"}},"const"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#6C7834"}},"handler"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#AB5959"}},"="),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#8E8F8B"}},"()"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#AB5959"}},"=>"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#8E8F8B"}},"{")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#393A34"}},"    "),n("span",{style:{color:"#6C7834"}},"logMicrotask"),n("span",{style:{color:"#8E8F8B"}},"("),n("span",{style:{color:"#B56959"}},"'before increment'"),n("span",{style:{color:"#8E8F8B"}},")")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#393A34"}},"    "),n("span",{style:{color:"#6C7834"}},"increment"),n("span",{style:{color:"#8E8F8B"}},"()")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#393A34"}},"    "),n("span",{style:{color:"#6C7834"}},"logMicrotask"),n("span",{style:{color:"#8E8F8B"}},"("),n("span",{style:{color:"#B56959"}},"'after increment'"),n("span",{style:{color:"#8E8F8B"}},")")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#393A34"}},"  "),n("span",{style:{color:"#8E8F8B"}},"};")]),E(`
`),n("span",{class:"line"}),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#393A34"}},"  "),n("span",{style:{color:"#8C862B"}},"console"),n("span",{style:{color:"#8E8F8B"}},"."),n("span",{style:{color:"#6C7834"}},"log"),n("span",{style:{color:"#8E8F8B"}},"("),n("span",{style:{color:"#B56959"}},"'render'"),n("span",{style:{color:"#8E8F8B"}},");")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#393A34"}},"  "),n("span",{style:{color:"#1C6B48"}},"return"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#8E8F8B"}},"(")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#393A34"}},"    "),n("span",{style:{color:"#8E8F8B"}},"<"),n("span",{style:{color:"#2F8A89"}},"div"),n("span",{style:{color:"#8E8F8B"}},">")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#393A34"}},"      "),n("span",{style:{color:"#8E8F8B"}},"<"),n("span",{style:{color:"#2F8A89"}},"p"),n("span",{style:{color:"#8E8F8B"}},">{"),n("span",{style:{color:"#8C862B"}},"state"),n("span",{style:{color:"#8E8F8B"}},"}</"),n("span",{style:{color:"#2F8A89"}},"p"),n("span",{style:{color:"#8E8F8B"}},">")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#393A34"}},"      "),n("span",{style:{color:"#8E8F8B"}},"<"),n("span",{style:{color:"#2F8A89"}},"button"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#B58451"}},"onClick"),n("span",{style:{color:"#AB5959"}},"="),n("span",{style:{color:"#8E8F8B"}},"{"),n("span",{style:{color:"#8C862B"}},"handler"),n("span",{style:{color:"#8E8F8B"}},"}>")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#393A34"}},"        Increment")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#393A34"}},"      "),n("span",{style:{color:"#8E8F8B"}},"</"),n("span",{style:{color:"#2F8A89"}},"button"),n("span",{style:{color:"#8E8F8B"}},">")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#393A34"}},"    "),n("span",{style:{color:"#8E8F8B"}},"</"),n("span",{style:{color:"#2F8A89"}},"div"),n("span",{style:{color:"#8E8F8B"}},">")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#393A34"}},"  "),n("span",{style:{color:"#8E8F8B"}},");")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#8E8F8B"}},"}")])])])],-1),Cct={__name:"13",setup(i){const l={layout:"iframe-right",url:"https://stackblitz.com/edit/react-ts-bhgwtf?devToolsHeight=80&embed=1&file=App.tsx&hideExplorer=1&view=preview"};return Pe(Ze),(p,f)=>{const m=Cr;return Yt(),Xe(Ma,ss(es(l)),{default:ge(()=>[xct,le(m,_s({},{ranges:["all","3-4","6-10,16-18","all"]}),{default:ge(()=>[kct]),_:1},16)]),_:1},16)}}},Act=Qe(Cct,[["__file","/@slidev/slides/13.md"]]),wct=n("p",null,"It doesnt matter how the callback was registered",-1),Ect=n("pre",{class:"shiki-container"},[n("pre",{class:"slidev-code shiki shiki-dark Vitesse Dark",style:{"background-color":"#121212"}},[n("code",null,[n("span",{class:"line"},[n("span",{style:{color:"#CB7676"}},"const"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#A1B567"}},"Counter"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#CB7676"}},"="),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#858585"}},"()"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#CB7676"}},"=>"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#858585"}},"{")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#DBD7CA"}},"  "),n("span",{style:{color:"#CB7676"}},"const"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#858585"}},"["),n("span",{style:{color:"#D4976C"}},"state"),n("span",{style:{color:"#858585"}},","),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#D4976C"}},"setState"),n("span",{style:{color:"#858585"}},"]"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#CB7676"}},"="),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#A1B567"}},"useState"),n("span",{style:{color:"#858585"}},"("),n("span",{style:{color:"#6394BF"}},"0"),n("span",{style:{color:"#858585"}},");")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#DBD7CA"}},"  "),n("span",{style:{color:"#CB7676"}},"const"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#A1B567"}},"increment"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#CB7676"}},"="),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#858585"}},"()"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#CB7676"}},"=>"),n("span",{style:{color:"#DBD7CA"}}," ")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#DBD7CA"}},"    "),n("span",{style:{color:"#A1B567"}},"setState"),n("span",{style:{color:"#858585"}},"(("),n("span",{style:{color:"#B8A965"}},"current"),n("span",{style:{color:"#858585"}},")"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#CB7676"}},"=>"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#B8A965"}},"current"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#CB7676"}},"+"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#6394BF"}},"1"),n("span",{style:{color:"#858585"}},");")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#DBD7CA"}},"  "),n("span",{style:{color:"#CB7676"}},"const"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#A1B567"}},"handler"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#CB7676"}},"="),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#858585"}},"()"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#CB7676"}},"=>"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#858585"}},"{")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#DBD7CA"}},"    "),n("span",{style:{color:"#A1B567"}},"logMicrotask"),n("span",{style:{color:"#858585"}},"("),n("span",{style:{color:"#C98A7D"}},"'before increment'"),n("span",{style:{color:"#858585"}},");")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#DBD7CA"}},"    "),n("span",{style:{color:"#A1B567"}},"increment"),n("span",{style:{color:"#858585"}},"();")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#DBD7CA"}},"    "),n("span",{style:{color:"#A1B567"}},"logMicrotask"),n("span",{style:{color:"#858585"}},"("),n("span",{style:{color:"#C98A7D"}},"'after increment'"),n("span",{style:{color:"#858585"}},");")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#DBD7CA"}},"  "),n("span",{style:{color:"#858585"}},"};")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#DBD7CA"}},"  "),n("span",{style:{color:"#CB7676"}},"const"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#D4976C"}},"buttonRef"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#CB7676"}},"="),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#A1B567"}},"useRef"),n("span",{style:{color:"#858585"}},"("),n("span",{style:{color:"#D4976C"}},"null"),n("span",{style:{color:"#858585"}},");")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#DBD7CA"}},"  "),n("span",{style:{color:"#A1B567"}},"useEffect"),n("span",{style:{color:"#858585"}},"(()"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#CB7676"}},"=>"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#858585"}},"{")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#DBD7CA"}},"    "),n("span",{style:{color:"#CB7676"}},"const"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#D4976C"}},"btn"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#CB7676"}},"="),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#B8A965"}},"buttonRef"),n("span",{style:{color:"#858585"}},"."),n("span",{style:{color:"#B8A965"}},"current"),n("span",{style:{color:"#858585"}},";")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#DBD7CA"}},"    "),n("span",{style:{color:"#B8A965"}},"btn"),n("span",{style:{color:"#858585"}},"."),n("span",{style:{color:"#A1B567"}},"addEventListener"),n("span",{style:{color:"#858585"}},"("),n("span",{style:{color:"#C98A7D"}},"'click'"),n("span",{style:{color:"#858585"}},","),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#B8A965"}},"handler"),n("span",{style:{color:"#858585"}},");")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#DBD7CA"}},"    "),n("span",{style:{color:"#4D9375"}},"return"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#858585"}},"()"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#CB7676"}},"=>"),n("span",{style:{color:"#DBD7CA"}}," ")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#DBD7CA"}},"      "),n("span",{style:{color:"#B8A965"}},"btn"),n("span",{style:{color:"#858585"}},"."),n("span",{style:{color:"#A1B567"}},"removeEventListener"),n("span",{style:{color:"#858585"}},"("),n("span",{style:{color:"#C98A7D"}},"'click'"),n("span",{style:{color:"#858585"}},","),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#B8A965"}},"handler"),n("span",{style:{color:"#858585"}},");")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#DBD7CA"}},"  "),n("span",{style:{color:"#858585"}},"});")]),E(`
`),n("span",{class:"line"}),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#DBD7CA"}},"  "),n("span",{style:{color:"#B8A965"}},"console"),n("span",{style:{color:"#858585"}},"."),n("span",{style:{color:"#A1B567"}},"log"),n("span",{style:{color:"#858585"}},"("),n("span",{style:{color:"#C98A7D"}},"'render'"),n("span",{style:{color:"#858585"}},");")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#DBD7CA"}},"  "),n("span",{style:{color:"#4D9375"}},"return"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#858585"}},"(")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#DBD7CA"}},"    "),n("span",{style:{color:"#858585"}},"<"),n("span",{style:{color:"#429988"}},"div"),n("span",{style:{color:"#858585"}},">")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#DBD7CA"}},"      "),n("span",{style:{color:"#858585"}},"<"),n("span",{style:{color:"#429988"}},"p"),n("span",{style:{color:"#858585"}},">{"),n("span",{style:{color:"#B8A965"}},"state"),n("span",{style:{color:"#858585"}},"}</"),n("span",{style:{color:"#429988"}},"p"),n("span",{style:{color:"#858585"}},">")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#DBD7CA"}},"      "),n("span",{style:{color:"#858585"}},"<"),n("span",{style:{color:"#429988"}},"button"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#E0A569"}},"ref"),n("span",{style:{color:"#CB7676"}},"="),n("span",{style:{color:"#858585"}},"{"),n("span",{style:{color:"#B8A965"}},"buttonRef"),n("span",{style:{color:"#858585"}},"}>"),n("span",{style:{color:"#DBD7CA"}},"Increment"),n("span",{style:{color:"#858585"}},"</"),n("span",{style:{color:"#429988"}},"button"),n("span",{style:{color:"#858585"}},">")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#DBD7CA"}},"    "),n("span",{style:{color:"#858585"}},"</"),n("span",{style:{color:"#429988"}},"div"),n("span",{style:{color:"#858585"}},">")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#DBD7CA"}},"  "),n("span",{style:{color:"#858585"}},");")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#858585"}},"}")])])]),n("pre",{class:"slidev-code shiki shiki-light Vitesse Light",style:{"background-color":"#ffffff"}},[n("code",null,[n("span",{class:"line"},[n("span",{style:{color:"#AB5959"}},"const"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#6C7834"}},"Counter"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#AB5959"}},"="),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#8E8F8B"}},"()"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#AB5959"}},"=>"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#8E8F8B"}},"{")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#393A34"}},"  "),n("span",{style:{color:"#AB5959"}},"const"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#8E8F8B"}},"["),n("span",{style:{color:"#A65E2B"}},"state"),n("span",{style:{color:"#8E8F8B"}},","),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#A65E2B"}},"setState"),n("span",{style:{color:"#8E8F8B"}},"]"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#AB5959"}},"="),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#6C7834"}},"useState"),n("span",{style:{color:"#8E8F8B"}},"("),n("span",{style:{color:"#296AA3"}},"0"),n("span",{style:{color:"#8E8F8B"}},");")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#393A34"}},"  "),n("span",{style:{color:"#AB5959"}},"const"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#6C7834"}},"increment"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#AB5959"}},"="),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#8E8F8B"}},"()"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#AB5959"}},"=>"),n("span",{style:{color:"#393A34"}}," ")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#393A34"}},"    "),n("span",{style:{color:"#6C7834"}},"setState"),n("span",{style:{color:"#8E8F8B"}},"(("),n("span",{style:{color:"#8C862B"}},"current"),n("span",{style:{color:"#8E8F8B"}},")"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#AB5959"}},"=>"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#8C862B"}},"current"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#AB5959"}},"+"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#296AA3"}},"1"),n("span",{style:{color:"#8E8F8B"}},");")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#393A34"}},"  "),n("span",{style:{color:"#AB5959"}},"const"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#6C7834"}},"handler"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#AB5959"}},"="),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#8E8F8B"}},"()"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#AB5959"}},"=>"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#8E8F8B"}},"{")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#393A34"}},"    "),n("span",{style:{color:"#6C7834"}},"logMicrotask"),n("span",{style:{color:"#8E8F8B"}},"("),n("span",{style:{color:"#B56959"}},"'before increment'"),n("span",{style:{color:"#8E8F8B"}},");")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#393A34"}},"    "),n("span",{style:{color:"#6C7834"}},"increment"),n("span",{style:{color:"#8E8F8B"}},"();")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#393A34"}},"    "),n("span",{style:{color:"#6C7834"}},"logMicrotask"),n("span",{style:{color:"#8E8F8B"}},"("),n("span",{style:{color:"#B56959"}},"'after increment'"),n("span",{style:{color:"#8E8F8B"}},");")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#393A34"}},"  "),n("span",{style:{color:"#8E8F8B"}},"};")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#393A34"}},"  "),n("span",{style:{color:"#AB5959"}},"const"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#A65E2B"}},"buttonRef"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#AB5959"}},"="),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#6C7834"}},"useRef"),n("span",{style:{color:"#8E8F8B"}},"("),n("span",{style:{color:"#A65E2B"}},"null"),n("span",{style:{color:"#8E8F8B"}},");")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#393A34"}},"  "),n("span",{style:{color:"#6C7834"}},"useEffect"),n("span",{style:{color:"#8E8F8B"}},"(()"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#AB5959"}},"=>"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#8E8F8B"}},"{")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#393A34"}},"    "),n("span",{style:{color:"#AB5959"}},"const"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#A65E2B"}},"btn"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#AB5959"}},"="),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#8C862B"}},"buttonRef"),n("span",{style:{color:"#8E8F8B"}},"."),n("span",{style:{color:"#8C862B"}},"current"),n("span",{style:{color:"#8E8F8B"}},";")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#393A34"}},"    "),n("span",{style:{color:"#8C862B"}},"btn"),n("span",{style:{color:"#8E8F8B"}},"."),n("span",{style:{color:"#6C7834"}},"addEventListener"),n("span",{style:{color:"#8E8F8B"}},"("),n("span",{style:{color:"#B56959"}},"'click'"),n("span",{style:{color:"#8E8F8B"}},","),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#8C862B"}},"handler"),n("span",{style:{color:"#8E8F8B"}},");")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#393A34"}},"    "),n("span",{style:{color:"#1C6B48"}},"return"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#8E8F8B"}},"()"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#AB5959"}},"=>"),n("span",{style:{color:"#393A34"}}," ")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#393A34"}},"      "),n("span",{style:{color:"#8C862B"}},"btn"),n("span",{style:{color:"#8E8F8B"}},"."),n("span",{style:{color:"#6C7834"}},"removeEventListener"),n("span",{style:{color:"#8E8F8B"}},"("),n("span",{style:{color:"#B56959"}},"'click'"),n("span",{style:{color:"#8E8F8B"}},","),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#8C862B"}},"handler"),n("span",{style:{color:"#8E8F8B"}},");")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#393A34"}},"  "),n("span",{style:{color:"#8E8F8B"}},"});")]),E(`
`),n("span",{class:"line"}),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#393A34"}},"  "),n("span",{style:{color:"#8C862B"}},"console"),n("span",{style:{color:"#8E8F8B"}},"."),n("span",{style:{color:"#6C7834"}},"log"),n("span",{style:{color:"#8E8F8B"}},"("),n("span",{style:{color:"#B56959"}},"'render'"),n("span",{style:{color:"#8E8F8B"}},");")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#393A34"}},"  "),n("span",{style:{color:"#1C6B48"}},"return"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#8E8F8B"}},"(")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#393A34"}},"    "),n("span",{style:{color:"#8E8F8B"}},"<"),n("span",{style:{color:"#2F8A89"}},"div"),n("span",{style:{color:"#8E8F8B"}},">")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#393A34"}},"      "),n("span",{style:{color:"#8E8F8B"}},"<"),n("span",{style:{color:"#2F8A89"}},"p"),n("span",{style:{color:"#8E8F8B"}},">{"),n("span",{style:{color:"#8C862B"}},"state"),n("span",{style:{color:"#8E8F8B"}},"}</"),n("span",{style:{color:"#2F8A89"}},"p"),n("span",{style:{color:"#8E8F8B"}},">")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#393A34"}},"      "),n("span",{style:{color:"#8E8F8B"}},"<"),n("span",{style:{color:"#2F8A89"}},"button"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#B58451"}},"ref"),n("span",{style:{color:"#AB5959"}},"="),n("span",{style:{color:"#8E8F8B"}},"{"),n("span",{style:{color:"#8C862B"}},"buttonRef"),n("span",{style:{color:"#8E8F8B"}},"}>"),n("span",{style:{color:"#393A34"}},"Increment"),n("span",{style:{color:"#8E8F8B"}},"</"),n("span",{style:{color:"#2F8A89"}},"button"),n("span",{style:{color:"#8E8F8B"}},">")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#393A34"}},"    "),n("span",{style:{color:"#8E8F8B"}},"</"),n("span",{style:{color:"#2F8A89"}},"div"),n("span",{style:{color:"#8E8F8B"}},">")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#393A34"}},"  "),n("span",{style:{color:"#8E8F8B"}},");")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#8E8F8B"}},"}")])])])],-1),Bct={__name:"14",setup(i){const l={layout:"iframe-right",url:"https://stackblitz.com/edit/react-ts-b9nz6d?devToolsHeight=80&embed=1&file=App.tsx&hideExplorer=1&view=preview"};return Pe(Ze),(p,f)=>{const m=Cr;return Yt(),Xe(Ma,ss(es(l)),{default:ge(()=>[wct,le(m,_s({},{ranges:["all","10-17,22","all"]}),{default:ge(()=>[Ect]),_:1},16)]),_:1},16)}}},Sct=Qe(Bct,[["__file","/@slidev/slides/14.md"]]),Tct=n("p",null,"But it does matter when it was triggered",-1),Dct=n("pre",{class:"shiki-container"},[n("pre",{class:"slidev-code shiki shiki-dark Vitesse Dark",style:{"background-color":"#121212"}},[n("code",null,[n("span",{class:"line"},[n("span",{style:{color:"#CB7676"}},"const"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#A1B567"}},"Counter"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#CB7676"}},"="),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#858585"}},"()"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#CB7676"}},"=>"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#858585"}},"{")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#DBD7CA"}},"  "),n("span",{style:{color:"#CB7676"}},"const"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#858585"}},"["),n("span",{style:{color:"#D4976C"}},"state"),n("span",{style:{color:"#858585"}},","),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#D4976C"}},"setState"),n("span",{style:{color:"#858585"}},"]"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#CB7676"}},"="),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#A1B567"}},"useState"),n("span",{style:{color:"#858585"}},"("),n("span",{style:{color:"#6394BF"}},"0"),n("span",{style:{color:"#858585"}},");")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#DBD7CA"}},"  "),n("span",{style:{color:"#CB7676"}},"const"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#A1B567"}},"increment"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#CB7676"}},"="),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#858585"}},"()"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#CB7676"}},"=>"),n("span",{style:{color:"#DBD7CA"}}," ")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#DBD7CA"}},"    "),n("span",{style:{color:"#A1B567"}},"setState"),n("span",{style:{color:"#858585"}},"(("),n("span",{style:{color:"#B8A965"}},"current"),n("span",{style:{color:"#858585"}},")"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#CB7676"}},"=>"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#B8A965"}},"current"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#CB7676"}},"+"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#6394BF"}},"1"),n("span",{style:{color:"#858585"}},");")]),E(`
`),n("span",{class:"line"}),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#DBD7CA"}},"  "),n("span",{style:{color:"#CB7676"}},"const"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#A1B567"}},"handler"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#CB7676"}},"="),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#858585"}},"()"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#CB7676"}},"=>"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#858585"}},"{")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#DBD7CA"}},"    "),n("span",{style:{color:"#A1B567"}},"logMicrotask"),n("span",{style:{color:"#858585"}},"("),n("span",{style:{color:"#C98A7D"}},"'before increment'"),n("span",{style:{color:"#858585"}},");")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#DBD7CA"}},"    "),n("span",{style:{color:"#A1B567"}},"increment"),n("span",{style:{color:"#858585"}},"();")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#DBD7CA"}},"    "),n("span",{style:{color:"#A1B567"}},"logMicrotask"),n("span",{style:{color:"#858585"}},"("),n("span",{style:{color:"#C98A7D"}},"'after increment'"),n("span",{style:{color:"#858585"}},");")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#DBD7CA"}},"  "),n("span",{style:{color:"#858585"}},"};")]),E(`
`),n("span",{class:"line"}),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#DBD7CA"}},"  "),n("span",{style:{color:"#B8A965"}},"console"),n("span",{style:{color:"#858585"}},"."),n("span",{style:{color:"#A1B567"}},"log"),n("span",{style:{color:"#858585"}},"("),n("span",{style:{color:"#C98A7D"}},"'render'"),n("span",{style:{color:"#858585"}},");")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#DBD7CA"}},"  "),n("span",{style:{color:"#4D9375"}},"return"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#858585"}},"(")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#DBD7CA"}},"    "),n("span",{style:{color:"#858585"}},"<"),n("span",{style:{color:"#429988"}},"div"),n("span",{style:{color:"#858585"}},">")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#DBD7CA"}},"      "),n("span",{style:{color:"#858585"}},"<"),n("span",{style:{color:"#429988"}},"p"),n("span",{style:{color:"#858585"}},">{"),n("span",{style:{color:"#B8A965"}},"state"),n("span",{style:{color:"#858585"}},"}</"),n("span",{style:{color:"#429988"}},"p"),n("span",{style:{color:"#858585"}},">")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#DBD7CA"}},"      "),n("span",{style:{color:"#858585"}},"<"),n("span",{style:{color:"#429988"}},"button"),n("span",{style:{color:"#DBD7CA"}}," ")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#DBD7CA"}},"        "),n("span",{style:{color:"#E0A569"}},"onClick"),n("span",{style:{color:"#CB7676"}},"="),n("span",{style:{color:"#858585"}},"{()"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#CB7676"}},"=>"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#A1B567"}},"setTimeout"),n("span",{style:{color:"#858585"}},"("),n("span",{style:{color:"#B8A965"}},"handler"),n("span",{style:{color:"#858585"}},","),n("span",{style:{color:"#6394BF"}},"0"),n("span",{style:{color:"#858585"}},")}")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#DBD7CA"}},"      "),n("span",{style:{color:"#858585"}},">")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#DBD7CA"}},"        Increment")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#DBD7CA"}},"      "),n("span",{style:{color:"#858585"}},"</"),n("span",{style:{color:"#429988"}},"button"),n("span",{style:{color:"#858585"}},">")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#DBD7CA"}},"    "),n("span",{style:{color:"#858585"}},"</"),n("span",{style:{color:"#429988"}},"div"),n("span",{style:{color:"#858585"}},">")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#DBD7CA"}},"  "),n("span",{style:{color:"#858585"}},");")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#858585"}},"}")])])]),n("pre",{class:"slidev-code shiki shiki-light Vitesse Light",style:{"background-color":"#ffffff"}},[n("code",null,[n("span",{class:"line"},[n("span",{style:{color:"#AB5959"}},"const"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#6C7834"}},"Counter"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#AB5959"}},"="),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#8E8F8B"}},"()"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#AB5959"}},"=>"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#8E8F8B"}},"{")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#393A34"}},"  "),n("span",{style:{color:"#AB5959"}},"const"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#8E8F8B"}},"["),n("span",{style:{color:"#A65E2B"}},"state"),n("span",{style:{color:"#8E8F8B"}},","),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#A65E2B"}},"setState"),n("span",{style:{color:"#8E8F8B"}},"]"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#AB5959"}},"="),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#6C7834"}},"useState"),n("span",{style:{color:"#8E8F8B"}},"("),n("span",{style:{color:"#296AA3"}},"0"),n("span",{style:{color:"#8E8F8B"}},");")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#393A34"}},"  "),n("span",{style:{color:"#AB5959"}},"const"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#6C7834"}},"increment"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#AB5959"}},"="),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#8E8F8B"}},"()"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#AB5959"}},"=>"),n("span",{style:{color:"#393A34"}}," ")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#393A34"}},"    "),n("span",{style:{color:"#6C7834"}},"setState"),n("span",{style:{color:"#8E8F8B"}},"(("),n("span",{style:{color:"#8C862B"}},"current"),n("span",{style:{color:"#8E8F8B"}},")"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#AB5959"}},"=>"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#8C862B"}},"current"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#AB5959"}},"+"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#296AA3"}},"1"),n("span",{style:{color:"#8E8F8B"}},");")]),E(`
`),n("span",{class:"line"}),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#393A34"}},"  "),n("span",{style:{color:"#AB5959"}},"const"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#6C7834"}},"handler"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#AB5959"}},"="),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#8E8F8B"}},"()"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#AB5959"}},"=>"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#8E8F8B"}},"{")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#393A34"}},"    "),n("span",{style:{color:"#6C7834"}},"logMicrotask"),n("span",{style:{color:"#8E8F8B"}},"("),n("span",{style:{color:"#B56959"}},"'before increment'"),n("span",{style:{color:"#8E8F8B"}},");")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#393A34"}},"    "),n("span",{style:{color:"#6C7834"}},"increment"),n("span",{style:{color:"#8E8F8B"}},"();")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#393A34"}},"    "),n("span",{style:{color:"#6C7834"}},"logMicrotask"),n("span",{style:{color:"#8E8F8B"}},"("),n("span",{style:{color:"#B56959"}},"'after increment'"),n("span",{style:{color:"#8E8F8B"}},");")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#393A34"}},"  "),n("span",{style:{color:"#8E8F8B"}},"};")]),E(`
`),n("span",{class:"line"}),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#393A34"}},"  "),n("span",{style:{color:"#8C862B"}},"console"),n("span",{style:{color:"#8E8F8B"}},"."),n("span",{style:{color:"#6C7834"}},"log"),n("span",{style:{color:"#8E8F8B"}},"("),n("span",{style:{color:"#B56959"}},"'render'"),n("span",{style:{color:"#8E8F8B"}},");")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#393A34"}},"  "),n("span",{style:{color:"#1C6B48"}},"return"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#8E8F8B"}},"(")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#393A34"}},"    "),n("span",{style:{color:"#8E8F8B"}},"<"),n("span",{style:{color:"#2F8A89"}},"div"),n("span",{style:{color:"#8E8F8B"}},">")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#393A34"}},"      "),n("span",{style:{color:"#8E8F8B"}},"<"),n("span",{style:{color:"#2F8A89"}},"p"),n("span",{style:{color:"#8E8F8B"}},">{"),n("span",{style:{color:"#8C862B"}},"state"),n("span",{style:{color:"#8E8F8B"}},"}</"),n("span",{style:{color:"#2F8A89"}},"p"),n("span",{style:{color:"#8E8F8B"}},">")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#393A34"}},"      "),n("span",{style:{color:"#8E8F8B"}},"<"),n("span",{style:{color:"#2F8A89"}},"button"),n("span",{style:{color:"#393A34"}}," ")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#393A34"}},"        "),n("span",{style:{color:"#B58451"}},"onClick"),n("span",{style:{color:"#AB5959"}},"="),n("span",{style:{color:"#8E8F8B"}},"{()"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#AB5959"}},"=>"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#6C7834"}},"setTimeout"),n("span",{style:{color:"#8E8F8B"}},"("),n("span",{style:{color:"#8C862B"}},"handler"),n("span",{style:{color:"#8E8F8B"}},","),n("span",{style:{color:"#296AA3"}},"0"),n("span",{style:{color:"#8E8F8B"}},")}")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#393A34"}},"      "),n("span",{style:{color:"#8E8F8B"}},">")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#393A34"}},"        Increment")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#393A34"}},"      "),n("span",{style:{color:"#8E8F8B"}},"</"),n("span",{style:{color:"#2F8A89"}},"button"),n("span",{style:{color:"#8E8F8B"}},">")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#393A34"}},"    "),n("span",{style:{color:"#8E8F8B"}},"</"),n("span",{style:{color:"#2F8A89"}},"div"),n("span",{style:{color:"#8E8F8B"}},">")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#393A34"}},"  "),n("span",{style:{color:"#8E8F8B"}},");")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#8E8F8B"}},"}")])])])],-1),Fct={__name:"15",setup(i){const l={layout:"iframe-right",url:"https://stackblitz.com/edit/react-ts-a3sacf?devToolsHeight=80&embed=1&file=App.tsx&hideExplorer=1&view=preview"};return Pe(Ze),(p,f)=>{const m=Cr;return Yt(),Xe(Ma,ss(es(l)),{default:ge(()=>[Tct,le(m,_s({},{ranges:["all","16-21","all"]}),{default:ge(()=>[Dct]),_:1},16)]),_:1},16)}}},Lct=Qe(Fct,[["__file","/@slidev/slides/15.md"]]),Ict=n("p",null,"In which case React will use a timeout",-1),Mct=n("pre",{class:"shiki-container"},[n("pre",{class:"slidev-code shiki shiki-dark Vitesse Dark",style:{"background-color":"#121212"}},[n("code",null,[n("span",{class:"line"},[n("span",{style:{color:"#CB7676"}},"const"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#A1B567"}},"Counter"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#CB7676"}},"="),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#858585"}},"()"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#CB7676"}},"=>"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#858585"}},"{")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#DBD7CA"}},"  "),n("span",{style:{color:"#CB7676"}},"const"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#858585"}},"["),n("span",{style:{color:"#D4976C"}},"state"),n("span",{style:{color:"#858585"}},","),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#D4976C"}},"setState"),n("span",{style:{color:"#858585"}},"]"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#CB7676"}},"="),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#A1B567"}},"useState"),n("span",{style:{color:"#858585"}},"("),n("span",{style:{color:"#6394BF"}},"0"),n("span",{style:{color:"#858585"}},");")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#DBD7CA"}},"  "),n("span",{style:{color:"#CB7676"}},"const"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#A1B567"}},"increment"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#CB7676"}},"="),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#858585"}},"()"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#CB7676"}},"=>"),n("span",{style:{color:"#DBD7CA"}}," ")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#DBD7CA"}},"    "),n("span",{style:{color:"#A1B567"}},"setState"),n("span",{style:{color:"#858585"}},"(("),n("span",{style:{color:"#B8A965"}},"current"),n("span",{style:{color:"#858585"}},")"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#CB7676"}},"=>"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#B8A965"}},"current"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#CB7676"}},"+"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#6394BF"}},"1"),n("span",{style:{color:"#858585"}},");")]),E(`
`),n("span",{class:"line"}),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#DBD7CA"}},"  "),n("span",{style:{color:"#CB7676"}},"const"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#A1B567"}},"handler"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#CB7676"}},"="),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#858585"}},"()"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#CB7676"}},"=>"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#858585"}},"{")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#DBD7CA"}},"    "),n("span",{style:{color:"#A1B567"}},"logTimeout"),n("span",{style:{color:"#858585"}},"("),n("span",{style:{color:"#C98A7D"}},"'before increment'"),n("span",{style:{color:"#858585"}},");")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#DBD7CA"}},"    "),n("span",{style:{color:"#A1B567"}},"increment"),n("span",{style:{color:"#858585"}},"();")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#DBD7CA"}},"    "),n("span",{style:{color:"#A1B567"}},"logTimeout"),n("span",{style:{color:"#858585"}},"("),n("span",{style:{color:"#C98A7D"}},"'after increment'"),n("span",{style:{color:"#858585"}},");")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#DBD7CA"}},"  "),n("span",{style:{color:"#858585"}},"};")]),E(`
`),n("span",{class:"line"}),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#DBD7CA"}},"  "),n("span",{style:{color:"#B8A965"}},"console"),n("span",{style:{color:"#858585"}},"."),n("span",{style:{color:"#A1B567"}},"log"),n("span",{style:{color:"#858585"}},"("),n("span",{style:{color:"#C98A7D"}},"'render'"),n("span",{style:{color:"#858585"}},");")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#DBD7CA"}},"  "),n("span",{style:{color:"#4D9375"}},"return"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#858585"}},"(")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#DBD7CA"}},"    "),n("span",{style:{color:"#858585"}},"<"),n("span",{style:{color:"#429988"}},"div"),n("span",{style:{color:"#858585"}},">")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#DBD7CA"}},"      "),n("span",{style:{color:"#858585"}},"<"),n("span",{style:{color:"#429988"}},"p"),n("span",{style:{color:"#858585"}},">{"),n("span",{style:{color:"#B8A965"}},"state"),n("span",{style:{color:"#858585"}},"}</"),n("span",{style:{color:"#429988"}},"p"),n("span",{style:{color:"#858585"}},">")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#DBD7CA"}},"      "),n("span",{style:{color:"#858585"}},"<"),n("span",{style:{color:"#429988"}},"button"),n("span",{style:{color:"#DBD7CA"}}," ")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#DBD7CA"}},"        "),n("span",{style:{color:"#E0A569"}},"onClick"),n("span",{style:{color:"#CB7676"}},"="),n("span",{style:{color:"#858585"}},"{()"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#CB7676"}},"=>"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#A1B567"}},"setTimeout"),n("span",{style:{color:"#858585"}},"("),n("span",{style:{color:"#B8A965"}},"handler"),n("span",{style:{color:"#858585"}},","),n("span",{style:{color:"#6394BF"}},"0"),n("span",{style:{color:"#858585"}},")}")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#DBD7CA"}},"      "),n("span",{style:{color:"#858585"}},">")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#DBD7CA"}},"        Increment")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#DBD7CA"}},"      "),n("span",{style:{color:"#858585"}},"</"),n("span",{style:{color:"#429988"}},"button"),n("span",{style:{color:"#858585"}},">")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#DBD7CA"}},"    "),n("span",{style:{color:"#858585"}},"</"),n("span",{style:{color:"#429988"}},"div"),n("span",{style:{color:"#858585"}},">")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#DBD7CA"}},"  "),n("span",{style:{color:"#858585"}},");")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#858585"}},"}")])])]),n("pre",{class:"slidev-code shiki shiki-light Vitesse Light",style:{"background-color":"#ffffff"}},[n("code",null,[n("span",{class:"line"},[n("span",{style:{color:"#AB5959"}},"const"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#6C7834"}},"Counter"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#AB5959"}},"="),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#8E8F8B"}},"()"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#AB5959"}},"=>"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#8E8F8B"}},"{")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#393A34"}},"  "),n("span",{style:{color:"#AB5959"}},"const"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#8E8F8B"}},"["),n("span",{style:{color:"#A65E2B"}},"state"),n("span",{style:{color:"#8E8F8B"}},","),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#A65E2B"}},"setState"),n("span",{style:{color:"#8E8F8B"}},"]"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#AB5959"}},"="),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#6C7834"}},"useState"),n("span",{style:{color:"#8E8F8B"}},"("),n("span",{style:{color:"#296AA3"}},"0"),n("span",{style:{color:"#8E8F8B"}},");")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#393A34"}},"  "),n("span",{style:{color:"#AB5959"}},"const"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#6C7834"}},"increment"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#AB5959"}},"="),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#8E8F8B"}},"()"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#AB5959"}},"=>"),n("span",{style:{color:"#393A34"}}," ")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#393A34"}},"    "),n("span",{style:{color:"#6C7834"}},"setState"),n("span",{style:{color:"#8E8F8B"}},"(("),n("span",{style:{color:"#8C862B"}},"current"),n("span",{style:{color:"#8E8F8B"}},")"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#AB5959"}},"=>"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#8C862B"}},"current"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#AB5959"}},"+"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#296AA3"}},"1"),n("span",{style:{color:"#8E8F8B"}},");")]),E(`
`),n("span",{class:"line"}),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#393A34"}},"  "),n("span",{style:{color:"#AB5959"}},"const"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#6C7834"}},"handler"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#AB5959"}},"="),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#8E8F8B"}},"()"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#AB5959"}},"=>"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#8E8F8B"}},"{")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#393A34"}},"    "),n("span",{style:{color:"#6C7834"}},"logTimeout"),n("span",{style:{color:"#8E8F8B"}},"("),n("span",{style:{color:"#B56959"}},"'before increment'"),n("span",{style:{color:"#8E8F8B"}},");")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#393A34"}},"    "),n("span",{style:{color:"#6C7834"}},"increment"),n("span",{style:{color:"#8E8F8B"}},"();")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#393A34"}},"    "),n("span",{style:{color:"#6C7834"}},"logTimeout"),n("span",{style:{color:"#8E8F8B"}},"("),n("span",{style:{color:"#B56959"}},"'after increment'"),n("span",{style:{color:"#8E8F8B"}},");")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#393A34"}},"  "),n("span",{style:{color:"#8E8F8B"}},"};")]),E(`
`),n("span",{class:"line"}),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#393A34"}},"  "),n("span",{style:{color:"#8C862B"}},"console"),n("span",{style:{color:"#8E8F8B"}},"."),n("span",{style:{color:"#6C7834"}},"log"),n("span",{style:{color:"#8E8F8B"}},"("),n("span",{style:{color:"#B56959"}},"'render'"),n("span",{style:{color:"#8E8F8B"}},");")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#393A34"}},"  "),n("span",{style:{color:"#1C6B48"}},"return"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#8E8F8B"}},"(")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#393A34"}},"    "),n("span",{style:{color:"#8E8F8B"}},"<"),n("span",{style:{color:"#2F8A89"}},"div"),n("span",{style:{color:"#8E8F8B"}},">")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#393A34"}},"      "),n("span",{style:{color:"#8E8F8B"}},"<"),n("span",{style:{color:"#2F8A89"}},"p"),n("span",{style:{color:"#8E8F8B"}},">{"),n("span",{style:{color:"#8C862B"}},"state"),n("span",{style:{color:"#8E8F8B"}},"}</"),n("span",{style:{color:"#2F8A89"}},"p"),n("span",{style:{color:"#8E8F8B"}},">")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#393A34"}},"      "),n("span",{style:{color:"#8E8F8B"}},"<"),n("span",{style:{color:"#2F8A89"}},"button"),n("span",{style:{color:"#393A34"}}," ")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#393A34"}},"        "),n("span",{style:{color:"#B58451"}},"onClick"),n("span",{style:{color:"#AB5959"}},"="),n("span",{style:{color:"#8E8F8B"}},"{()"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#AB5959"}},"=>"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#6C7834"}},"setTimeout"),n("span",{style:{color:"#8E8F8B"}},"("),n("span",{style:{color:"#8C862B"}},"handler"),n("span",{style:{color:"#8E8F8B"}},","),n("span",{style:{color:"#296AA3"}},"0"),n("span",{style:{color:"#8E8F8B"}},")}")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#393A34"}},"      "),n("span",{style:{color:"#8E8F8B"}},">")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#393A34"}},"        Increment")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#393A34"}},"      "),n("span",{style:{color:"#8E8F8B"}},"</"),n("span",{style:{color:"#2F8A89"}},"button"),n("span",{style:{color:"#8E8F8B"}},">")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#393A34"}},"    "),n("span",{style:{color:"#8E8F8B"}},"</"),n("span",{style:{color:"#2F8A89"}},"div"),n("span",{style:{color:"#8E8F8B"}},">")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#393A34"}},"  "),n("span",{style:{color:"#8E8F8B"}},");")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#8E8F8B"}},"}")])])])],-1),Rct={__name:"16",setup(i){const l={layout:"iframe-right",url:"https://stackblitz.com/edit/react-ts-hs14sc?devToolsHeight=80&embed=1&file=App.tsx&hideExplorer=1&view=preview"};return Pe(Ze),(p,f)=>{const m=Cr;return Yt(),Xe(Ma,ss(es(l)),{default:ge(()=>[Ict,le(m,_s({},{ranges:["all","7,9","all"]}),{default:ge(()=>[Mct]),_:1},16)]),_:1},16)}}},Oct=Qe(Rct,[["__file","/@slidev/slides/16.md"]]),Nct=n("p",null,[E("It will also use the timeout for "),n("em",null,"some"),E(" events")],-1),Pct=n("pre",{class:"shiki-container"},[n("pre",{class:"slidev-code shiki shiki-dark Vitesse Dark",style:{"background-color":"#121212"}},[n("code",null,[n("span",{class:"line"},[n("span",{style:{color:"#CB7676"}},"const"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#A1B567"}},"Counter"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#CB7676"}},"="),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#858585"}},"()"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#CB7676"}},"=>"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#858585"}},"{")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#DBD7CA"}},"  "),n("span",{style:{color:"#CB7676"}},"const"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#858585"}},"["),n("span",{style:{color:"#D4976C"}},"state"),n("span",{style:{color:"#858585"}},","),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#D4976C"}},"setState"),n("span",{style:{color:"#858585"}},"]"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#CB7676"}},"="),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#A1B567"}},"useState"),n("span",{style:{color:"#858585"}},"("),n("span",{style:{color:"#6394BF"}},"0"),n("span",{style:{color:"#858585"}},");")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#DBD7CA"}},"  "),n("span",{style:{color:"#CB7676"}},"const"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#A1B567"}},"increment"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#CB7676"}},"="),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#858585"}},"()"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#CB7676"}},"=>"),n("span",{style:{color:"#DBD7CA"}}," ")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#DBD7CA"}},"    "),n("span",{style:{color:"#A1B567"}},"setState"),n("span",{style:{color:"#858585"}},"(("),n("span",{style:{color:"#B8A965"}},"current"),n("span",{style:{color:"#858585"}},")"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#CB7676"}},"=>"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#B8A965"}},"current"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#CB7676"}},"+"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#6394BF"}},"1"),n("span",{style:{color:"#858585"}},");")]),E(`
`),n("span",{class:"line"}),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#DBD7CA"}},"  "),n("span",{style:{color:"#CB7676"}},"const"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#A1B567"}},"handler"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#CB7676"}},"="),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#858585"}},"()"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#CB7676"}},"=>"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#858585"}},"{")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#DBD7CA"}},"    "),n("span",{style:{color:"#A1B567"}},"logTimeout"),n("span",{style:{color:"#858585"}},"("),n("span",{style:{color:"#C98A7D"}},"'before increment'"),n("span",{style:{color:"#858585"}},");")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#DBD7CA"}},"    "),n("span",{style:{color:"#A1B567"}},"increment"),n("span",{style:{color:"#858585"}},"();")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#DBD7CA"}},"    "),n("span",{style:{color:"#A1B567"}},"logTimeout"),n("span",{style:{color:"#858585"}},"("),n("span",{style:{color:"#C98A7D"}},"'after increment'"),n("span",{style:{color:"#858585"}},");")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#DBD7CA"}},"  "),n("span",{style:{color:"#858585"}},"};")]),E(`
`),n("span",{class:"line"}),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#DBD7CA"}},"  "),n("span",{style:{color:"#B8A965"}},"console"),n("span",{style:{color:"#858585"}},"."),n("span",{style:{color:"#A1B567"}},"log"),n("span",{style:{color:"#858585"}},"("),n("span",{style:{color:"#C98A7D"}},"'render'"),n("span",{style:{color:"#858585"}},");")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#DBD7CA"}},"  "),n("span",{style:{color:"#4D9375"}},"return"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#858585"}},"(")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#DBD7CA"}},"    "),n("span",{style:{color:"#858585"}},"<"),n("span",{style:{color:"#429988"}},"div"),n("span",{style:{color:"#858585"}},">")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#DBD7CA"}},"      "),n("span",{style:{color:"#858585"}},"<"),n("span",{style:{color:"#429988"}},"p"),n("span",{style:{color:"#858585"}},">{"),n("span",{style:{color:"#B8A965"}},"state"),n("span",{style:{color:"#858585"}},"}</"),n("span",{style:{color:"#429988"}},"p"),n("span",{style:{color:"#858585"}},">")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#DBD7CA"}},"      "),n("span",{style:{color:"#858585"}},"<"),n("span",{style:{color:"#429988"}},"button"),n("span",{style:{color:"#DBD7CA"}}," ")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#DBD7CA"}},"        "),n("span",{style:{color:"#E0A569"}},"onMouseEnter"),n("span",{style:{color:"#CB7676"}},"="),n("span",{style:{color:"#858585"}},"{"),n("span",{style:{color:"#B8A965"}},"handler"),n("span",{style:{color:"#858585"}},"}")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#DBD7CA"}},"      "),n("span",{style:{color:"#858585"}},">")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#DBD7CA"}},"        Increment")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#DBD7CA"}},"      "),n("span",{style:{color:"#858585"}},"</"),n("span",{style:{color:"#429988"}},"button"),n("span",{style:{color:"#858585"}},">")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#DBD7CA"}},"    "),n("span",{style:{color:"#858585"}},"</"),n("span",{style:{color:"#429988"}},"div"),n("span",{style:{color:"#858585"}},">")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#DBD7CA"}},"  "),n("span",{style:{color:"#858585"}},");")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#858585"}},"}")])])]),n("pre",{class:"slidev-code shiki shiki-light Vitesse Light",style:{"background-color":"#ffffff"}},[n("code",null,[n("span",{class:"line"},[n("span",{style:{color:"#AB5959"}},"const"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#6C7834"}},"Counter"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#AB5959"}},"="),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#8E8F8B"}},"()"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#AB5959"}},"=>"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#8E8F8B"}},"{")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#393A34"}},"  "),n("span",{style:{color:"#AB5959"}},"const"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#8E8F8B"}},"["),n("span",{style:{color:"#A65E2B"}},"state"),n("span",{style:{color:"#8E8F8B"}},","),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#A65E2B"}},"setState"),n("span",{style:{color:"#8E8F8B"}},"]"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#AB5959"}},"="),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#6C7834"}},"useState"),n("span",{style:{color:"#8E8F8B"}},"("),n("span",{style:{color:"#296AA3"}},"0"),n("span",{style:{color:"#8E8F8B"}},");")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#393A34"}},"  "),n("span",{style:{color:"#AB5959"}},"const"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#6C7834"}},"increment"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#AB5959"}},"="),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#8E8F8B"}},"()"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#AB5959"}},"=>"),n("span",{style:{color:"#393A34"}}," ")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#393A34"}},"    "),n("span",{style:{color:"#6C7834"}},"setState"),n("span",{style:{color:"#8E8F8B"}},"(("),n("span",{style:{color:"#8C862B"}},"current"),n("span",{style:{color:"#8E8F8B"}},")"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#AB5959"}},"=>"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#8C862B"}},"current"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#AB5959"}},"+"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#296AA3"}},"1"),n("span",{style:{color:"#8E8F8B"}},");")]),E(`
`),n("span",{class:"line"}),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#393A34"}},"  "),n("span",{style:{color:"#AB5959"}},"const"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#6C7834"}},"handler"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#AB5959"}},"="),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#8E8F8B"}},"()"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#AB5959"}},"=>"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#8E8F8B"}},"{")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#393A34"}},"    "),n("span",{style:{color:"#6C7834"}},"logTimeout"),n("span",{style:{color:"#8E8F8B"}},"("),n("span",{style:{color:"#B56959"}},"'before increment'"),n("span",{style:{color:"#8E8F8B"}},");")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#393A34"}},"    "),n("span",{style:{color:"#6C7834"}},"increment"),n("span",{style:{color:"#8E8F8B"}},"();")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#393A34"}},"    "),n("span",{style:{color:"#6C7834"}},"logTimeout"),n("span",{style:{color:"#8E8F8B"}},"("),n("span",{style:{color:"#B56959"}},"'after increment'"),n("span",{style:{color:"#8E8F8B"}},");")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#393A34"}},"  "),n("span",{style:{color:"#8E8F8B"}},"};")]),E(`
`),n("span",{class:"line"}),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#393A34"}},"  "),n("span",{style:{color:"#8C862B"}},"console"),n("span",{style:{color:"#8E8F8B"}},"."),n("span",{style:{color:"#6C7834"}},"log"),n("span",{style:{color:"#8E8F8B"}},"("),n("span",{style:{color:"#B56959"}},"'render'"),n("span",{style:{color:"#8E8F8B"}},");")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#393A34"}},"  "),n("span",{style:{color:"#1C6B48"}},"return"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#8E8F8B"}},"(")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#393A34"}},"    "),n("span",{style:{color:"#8E8F8B"}},"<"),n("span",{style:{color:"#2F8A89"}},"div"),n("span",{style:{color:"#8E8F8B"}},">")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#393A34"}},"      "),n("span",{style:{color:"#8E8F8B"}},"<"),n("span",{style:{color:"#2F8A89"}},"p"),n("span",{style:{color:"#8E8F8B"}},">{"),n("span",{style:{color:"#8C862B"}},"state"),n("span",{style:{color:"#8E8F8B"}},"}</"),n("span",{style:{color:"#2F8A89"}},"p"),n("span",{style:{color:"#8E8F8B"}},">")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#393A34"}},"      "),n("span",{style:{color:"#8E8F8B"}},"<"),n("span",{style:{color:"#2F8A89"}},"button"),n("span",{style:{color:"#393A34"}}," ")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#393A34"}},"        "),n("span",{style:{color:"#B58451"}},"onMouseEnter"),n("span",{style:{color:"#AB5959"}},"="),n("span",{style:{color:"#8E8F8B"}},"{"),n("span",{style:{color:"#8C862B"}},"handler"),n("span",{style:{color:"#8E8F8B"}},"}")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#393A34"}},"      "),n("span",{style:{color:"#8E8F8B"}},">")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#393A34"}},"        Increment")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#393A34"}},"      "),n("span",{style:{color:"#8E8F8B"}},"</"),n("span",{style:{color:"#2F8A89"}},"button"),n("span",{style:{color:"#8E8F8B"}},">")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#393A34"}},"    "),n("span",{style:{color:"#8E8F8B"}},"</"),n("span",{style:{color:"#2F8A89"}},"div"),n("span",{style:{color:"#8E8F8B"}},">")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#393A34"}},"  "),n("span",{style:{color:"#8E8F8B"}},");")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#8E8F8B"}},"}")])])])],-1),Vct={__name:"17",setup(i){const l={layout:"iframe-right",url:"https://stackblitz.com/edit/react-ts-a8wuur?devToolsHeight=80&embed=1&file=App.tsx&hideExplorer=1&view=preview"};return Pe(Ze),(p,f)=>{const m=Cr;return Yt(),Xe(Ma,ss(es(l)),{default:ge(()=>[Nct,le(m,_s({},{ranges:["all","17","all"]}),{default:ge(()=>[Pct]),_:1},16)]),_:1},16)}}},$ct=Qe(Vct,[["__file","/@slidev/slides/17.md"]]),Yct=n("h1",null,"React state update timing",-1),Uct=n("ul",null,[n("li",null,[E("For "),n("em",null,"most event handlers"),E(", React will use "),n("em",null,"microtasks"),n("ul",null,[n("li",null,"This ensures that all listeners for this event get triggered before the next render")])]),n("li",null,[E("For other callbacks and "),n("em",null,"some event handlers"),E(", React will schedule a "),n("em",null,"task"),n("ul",null,[n("li",null,"This ensures that all pending tasks are handled before the next render")])])],-1),zct=n("p",null,"This also means, that this function will trigger 1 or 2 re-renders, depending on how it was called",-1),Wct=n("pre",{class:"shiki-container"},[n("pre",{class:"slidev-code shiki shiki-dark Vitesse Dark",style:{"background-color":"#121212"}},[n("code",null,[n("span",{class:"line"},[n("span",{style:{color:"#CB7676"}},"const"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#A1B567"}},"handleIncrement"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#CB7676"}},"="),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#CB7676"}},"async"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#858585"}},"()"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#CB7676"}},"=>"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#858585"}},"{")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#DBD7CA"}},"  "),n("span",{style:{color:"#4D9375"}},"await"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#A1B567"}},"increment"),n("span",{style:{color:"#858585"}},"()")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#DBD7CA"}},"  "),n("span",{style:{color:"#4D9375"}},"await"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#A1B567"}},"increment"),n("span",{style:{color:"#858585"}},"()")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#858585"}},"}")])])]),n("pre",{class:"slidev-code shiki shiki-light Vitesse Light",style:{"background-color":"#ffffff"}},[n("code",null,[n("span",{class:"line"},[n("span",{style:{color:"#AB5959"}},"const"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#6C7834"}},"handleIncrement"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#AB5959"}},"="),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#AB5959"}},"async"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#8E8F8B"}},"()"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#AB5959"}},"=>"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#8E8F8B"}},"{")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#393A34"}},"  "),n("span",{style:{color:"#1C6B48"}},"await"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#6C7834"}},"increment"),n("span",{style:{color:"#8E8F8B"}},"()")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#393A34"}},"  "),n("span",{style:{color:"#1C6B48"}},"await"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#6C7834"}},"increment"),n("span",{style:{color:"#8E8F8B"}},"()")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#8E8F8B"}},"}")])])])],-1),Hct=n("p",null,[E("There is also an escape hatch. You can use "),n("code",null,"flushSync"),E(" from "),n("code",null,"react-dom"),E(" to "),n("em",null,"synchronously"),E(" update state")],-1),jct={__name:"18",setup(i){const l={};return Pe(Ze),(p,f)=>{const m=fo,b=Cr,A=Yo;return Yt(),Xe(Qs,ss(es(l)),{default:ge(()=>[Yct,le(m,null,{default:ge(()=>[Uct]),_:1}),le(A,null,{default:ge(()=>[zct,le(b,_s({},{ranges:[""]}),{default:ge(()=>[Wct]),_:1},16)]),_:1}),le(A,null,{default:ge(()=>[Hct]),_:1})]),_:1},16)}}},Gct=Qe(jct,[["__file","/@slidev/slides/18.md"]]),qct=n("h1",null,[E("When to "),n("code",null,"flushSync"),E("?")],-1),Xct=n("ul",null,[n("li",null,[E("If you need to call an imperative API after updating the state"),n("pre",{class:"shiki-container"},[n("pre",{class:"slidev-code shiki shiki-dark Vitesse Dark",style:{"background-color":"#121212"}},[n("code",null,[n("span",{class:"line"},[n("span",{style:{color:"#CB7676"}},"const"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#858585"}},"["),n("span",{style:{color:"#D4976C"}},"items"),n("span",{style:{color:"#858585"}},","),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#D4976C"}},"setItems"),n("span",{style:{color:"#858585"}},"]"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#CB7676"}},"="),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#A1B567"}},"useState"),n("span",{style:{color:"#858585"}},"([])")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#CB7676"}},"...")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#CB7676"}},"const"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#A1B567"}},"handleAdd"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#CB7676"}},"="),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#858585"}},"("),n("span",{style:{color:"#B8A965"}},"newItem"),n("span",{style:{color:"#858585"}},")"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#CB7676"}},"=>"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#858585"}},"{")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#DBD7CA"}},"  "),n("span",{style:{color:"#A1B567"}},"flushSync"),n("span",{style:{color:"#858585"}},"(()"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#CB7676"}},"=>"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#858585"}},"{")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#DBD7CA"}},"    "),n("span",{style:{color:"#A1B567"}},"setItems"),n("span",{style:{color:"#858585"}},"("),n("span",{style:{color:"#B8A965"}},"current"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#CB7676"}},"=>"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#858585"}},"["),n("span",{style:{color:"#CB7676"}},"..."),n("span",{style:{color:"#B8A965"}},"current"),n("span",{style:{color:"#858585"}},","),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#B8A965"}},"newItem"),n("span",{style:{color:"#858585"}},"])")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#DBD7CA"}},"  "),n("span",{style:{color:"#858585"}},"})")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#858585"}},"  "),n("span",{style:{color:"#758575"}},"// these lines run after render")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#DBD7CA"}},"  "),n("span",{style:{color:"#CB7676"}},"const"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#D4976C"}},"element"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#CB7676"}},"="),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#A1B567"}},"getElementForItem"),n("span",{style:{color:"#858585"}},"("),n("span",{style:{color:"#B8A965"}},"newItem"),n("span",{style:{color:"#858585"}},")")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#DBD7CA"}},"  "),n("span",{style:{color:"#B8A965"}},"element"),n("span",{style:{color:"#858585"}},"."),n("span",{style:{color:"#A1B567"}},"scrollIntoView"),n("span",{style:{color:"#858585"}},"()")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#858585"}},"}")])])]),n("pre",{class:"slidev-code shiki shiki-light Vitesse Light",style:{"background-color":"#ffffff"}},[n("code",null,[n("span",{class:"line"},[n("span",{style:{color:"#AB5959"}},"const"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#8E8F8B"}},"["),n("span",{style:{color:"#A65E2B"}},"items"),n("span",{style:{color:"#8E8F8B"}},","),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#A65E2B"}},"setItems"),n("span",{style:{color:"#8E8F8B"}},"]"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#AB5959"}},"="),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#6C7834"}},"useState"),n("span",{style:{color:"#8E8F8B"}},"([])")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#AB5959"}},"...")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#AB5959"}},"const"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#6C7834"}},"handleAdd"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#AB5959"}},"="),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#8E8F8B"}},"("),n("span",{style:{color:"#8C862B"}},"newItem"),n("span",{style:{color:"#8E8F8B"}},")"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#AB5959"}},"=>"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#8E8F8B"}},"{")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#393A34"}},"  "),n("span",{style:{color:"#6C7834"}},"flushSync"),n("span",{style:{color:"#8E8F8B"}},"(()"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#AB5959"}},"=>"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#8E8F8B"}},"{")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#393A34"}},"    "),n("span",{style:{color:"#6C7834"}},"setItems"),n("span",{style:{color:"#8E8F8B"}},"("),n("span",{style:{color:"#8C862B"}},"current"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#AB5959"}},"=>"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#8E8F8B"}},"["),n("span",{style:{color:"#AB5959"}},"..."),n("span",{style:{color:"#8C862B"}},"current"),n("span",{style:{color:"#8E8F8B"}},","),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#8C862B"}},"newItem"),n("span",{style:{color:"#8E8F8B"}},"])")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#393A34"}},"  "),n("span",{style:{color:"#8E8F8B"}},"})")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#8E8F8B"}},"  "),n("span",{style:{color:"#A0ADA0"}},"// these lines run after render")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#393A34"}},"  "),n("span",{style:{color:"#AB5959"}},"const"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#A65E2B"}},"element"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#AB5959"}},"="),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#6C7834"}},"getElementForItem"),n("span",{style:{color:"#8E8F8B"}},"("),n("span",{style:{color:"#8C862B"}},"newItem"),n("span",{style:{color:"#8E8F8B"}},")")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#393A34"}},"  "),n("span",{style:{color:"#8C862B"}},"element"),n("span",{style:{color:"#8E8F8B"}},"."),n("span",{style:{color:"#6C7834"}},"scrollIntoView"),n("span",{style:{color:"#8E8F8B"}},"()")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#8E8F8B"}},"}")])])])])]),n("li",null,"If you need to integrate with a 3rd party library that exposes an imperative API"),n("li",null,"Overall, should be used with care and not overused, as it opts-out of batching."),n("li",null,[n("code",null,"flushSync"),E(" may flush updates outside the callback when necessary to flush the updates inside the callback")])],-1),Kct={__name:"19",setup(i){const l={};return Pe(Ze),(p,f)=>{const m=fo;return Yt(),Xe(Qs,ss(es(l)),{default:ge(()=>[qct,le(m,null,{default:ge(()=>[Xct]),_:1})]),_:1},16)}}},Zct=Qe(Kct,[["__file","/@slidev/slides/19.md"]]),Qct="/react-webinar/assets/yoda-238783a1.jpeg",Jct=n("h1",null,"There is another",-1),tut=n("img",{class:"p-4 mx-auto my-auto h-inherit",src:Qct},null,-1),eut={__name:"20",setup(i){const l={};return Pe(Ze),(p,f)=>(Yt(),Xe(Qs,ss(es(l)),{default:ge(()=>[Jct,tut]),_:1},16))}},nut=Qe(eut,[["__file","/@slidev/slides/20.md"]]),sut=n("h1",null,[E("Calling "),n("code",null,"setState"),E(" during a "),n("em",null,"render")],-1),rut=n("ul",null,[n("li",null,"Should be avoided,"),n("li",null,[E("For derived state, you should use "),n("code",null,"useMemo"),E(" instead,")]),n("li",null,"Is only possible for the current component's state,"),n("li",null,[E("In the rare cases where you actually need this, it is better than setting state in "),n("code",null,"useEffect")])],-1),iut={style:{display:"flex",gap:"24px",width:"100%"}},out={style:{"flex-grow":"1"}},aut=n("pre",{class:"shiki-container"},[n("pre",{class:"slidev-code shiki shiki-dark Vitesse Dark",style:{"background-color":"#121212"}},[n("code",null,[n("span",{class:"line"},[n("span",{style:{color:"#CB7676"}},"const"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#858585"}},"["),n("span",{style:{color:"#D4976C"}},"state"),n("span",{style:{color:"#858585"}},","),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#D4976C"}},"setState"),n("span",{style:{color:"#858585"}},"]"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#CB7676"}},"="),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#A1B567"}},"useState"),n("span",{style:{color:"#858585"}},"("),n("span",{style:{color:"#B8A965"}},"initial"),n("span",{style:{color:"#858585"}},");")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#4D9375"}},"if"),n("span",{style:{color:"#858585"}},"("),n("span",{style:{color:"#A1B567"}},"shouldUpdateState"),n("span",{style:{color:"#858585"}},"("),n("span",{style:{color:"#B8A965"}},"deps"),n("span",{style:{color:"#858585"}},"))"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#858585"}},"{")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#DBD7CA"}},"  "),n("span",{style:{color:"#A1B567"}},"setState"),n("span",{style:{color:"#858585"}},"("),n("span",{style:{color:"#B8A965"}},"newState"),n("span",{style:{color:"#858585"}},")")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#858585"}},"}")])])]),n("pre",{class:"slidev-code shiki shiki-light Vitesse Light",style:{"background-color":"#ffffff"}},[n("code",null,[n("span",{class:"line"},[n("span",{style:{color:"#AB5959"}},"const"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#8E8F8B"}},"["),n("span",{style:{color:"#A65E2B"}},"state"),n("span",{style:{color:"#8E8F8B"}},","),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#A65E2B"}},"setState"),n("span",{style:{color:"#8E8F8B"}},"]"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#AB5959"}},"="),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#6C7834"}},"useState"),n("span",{style:{color:"#8E8F8B"}},"("),n("span",{style:{color:"#8C862B"}},"initial"),n("span",{style:{color:"#8E8F8B"}},");")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#1C6B48"}},"if"),n("span",{style:{color:"#8E8F8B"}},"("),n("span",{style:{color:"#6C7834"}},"shouldUpdateState"),n("span",{style:{color:"#8E8F8B"}},"("),n("span",{style:{color:"#8C862B"}},"deps"),n("span",{style:{color:"#8E8F8B"}},"))"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#8E8F8B"}},"{")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#393A34"}},"  "),n("span",{style:{color:"#6C7834"}},"setState"),n("span",{style:{color:"#8E8F8B"}},"("),n("span",{style:{color:"#8C862B"}},"newState"),n("span",{style:{color:"#8E8F8B"}},")")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#8E8F8B"}},"}")])])])],-1),lut={style:{"flex-grow":"1"}},cut=n("pre",{class:"shiki-container"},[n("pre",{class:"slidev-code shiki shiki-dark Vitesse Dark",style:{"background-color":"#121212"}},[n("code",null,[n("span",{class:"line"},[n("span",{style:{color:"#CB7676"}},"const"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#858585"}},"["),n("span",{style:{color:"#D4976C"}},"state"),n("span",{style:{color:"#858585"}},","),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#D4976C"}},"setState"),n("span",{style:{color:"#858585"}},"]"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#CB7676"}},"="),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#A1B567"}},"useState"),n("span",{style:{color:"#858585"}},"("),n("span",{style:{color:"#B8A965"}},"initial"),n("span",{style:{color:"#858585"}},");")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#A1B567"}},"useEffect"),n("span",{style:{color:"#858585"}},"(()"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#CB7676"}},"=>"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#858585"}},"{")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#DBD7CA"}},"  "),n("span",{style:{color:"#4D9375"}},"if"),n("span",{style:{color:"#858585"}},"("),n("span",{style:{color:"#A1B567"}},"shouldUpdateState"),n("span",{style:{color:"#858585"}},"("),n("span",{style:{color:"#B8A965"}},"deps"),n("span",{style:{color:"#858585"}},"))"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#858585"}},"{")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#DBD7CA"}},"    "),n("span",{style:{color:"#A1B567"}},"setState"),n("span",{style:{color:"#858585"}},"("),n("span",{style:{color:"#B8A965"}},"newState"),n("span",{style:{color:"#858585"}},")")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#DBD7CA"}},"  "),n("span",{style:{color:"#858585"}},"}")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#858585"}},"},"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#858585"}},"["),n("span",{style:{color:"#B8A965"}},"deps"),n("span",{style:{color:"#858585"}},"])")])])]),n("pre",{class:"slidev-code shiki shiki-light Vitesse Light",style:{"background-color":"#ffffff"}},[n("code",null,[n("span",{class:"line"},[n("span",{style:{color:"#AB5959"}},"const"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#8E8F8B"}},"["),n("span",{style:{color:"#A65E2B"}},"state"),n("span",{style:{color:"#8E8F8B"}},","),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#A65E2B"}},"setState"),n("span",{style:{color:"#8E8F8B"}},"]"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#AB5959"}},"="),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#6C7834"}},"useState"),n("span",{style:{color:"#8E8F8B"}},"("),n("span",{style:{color:"#8C862B"}},"initial"),n("span",{style:{color:"#8E8F8B"}},");")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#6C7834"}},"useEffect"),n("span",{style:{color:"#8E8F8B"}},"(()"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#AB5959"}},"=>"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#8E8F8B"}},"{")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#393A34"}},"  "),n("span",{style:{color:"#1C6B48"}},"if"),n("span",{style:{color:"#8E8F8B"}},"("),n("span",{style:{color:"#6C7834"}},"shouldUpdateState"),n("span",{style:{color:"#8E8F8B"}},"("),n("span",{style:{color:"#8C862B"}},"deps"),n("span",{style:{color:"#8E8F8B"}},"))"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#8E8F8B"}},"{")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#393A34"}},"    "),n("span",{style:{color:"#6C7834"}},"setState"),n("span",{style:{color:"#8E8F8B"}},"("),n("span",{style:{color:"#8C862B"}},"newState"),n("span",{style:{color:"#8E8F8B"}},")")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#393A34"}},"  "),n("span",{style:{color:"#8E8F8B"}},"}")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#8E8F8B"}},"},"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#8E8F8B"}},"["),n("span",{style:{color:"#8C862B"}},"deps"),n("span",{style:{color:"#8E8F8B"}},"])")])])])],-1),uut={__name:"21",setup(i){const l={};return Pe(Ze),(p,f)=>{const m=fo,b=Cr,A=Yo;return Yt(),Xe(Qs,ss(es(l)),{default:ge(()=>[sut,le(m,null,{default:ge(()=>[rut]),_:1}),le(A,null,{default:ge(()=>[n("div",iut,[n("div",out,[le(b,_s({},{ranges:[""]}),{default:ge(()=>[aut]),_:1},16)]),n("div",lut,[le(b,_s({},{ranges:[""]}),{default:ge(()=>[cut]),_:1},16)])])]),_:1})]),_:1},16)}}},hut=Qe(uut,[["__file","/@slidev/slides/21.md"]]),put=n("p",null,"Preventing unnecessary re-renders",-1),dut=n("pre",{class:"shiki-container"},[n("pre",{class:"slidev-code shiki shiki-dark Vitesse Dark",style:{"background-color":"#121212"}},[n("code",null,[n("span",{class:"line"},[n("span",{style:{color:"#CB7676"}},"const"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#A1B567"}},"Counter"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#CB7676"}},"="),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#858585"}},"({"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#B8A965"}},"count"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#858585"}},"})"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#CB7676"}},"=>"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#858585"}},"{")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#DBD7CA"}},"  "),n("span",{style:{color:"#B8A965"}},"console"),n("span",{style:{color:"#858585"}},"."),n("span",{style:{color:"#A1B567"}},"log"),n("span",{style:{color:"#858585"}},"("),n("span",{style:{color:"#C98A7D"}},"'counter render'"),n("span",{style:{color:"#858585"}},","),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#B8A965"}},"count"),n("span",{style:{color:"#858585"}},");")]),E(`
`),n("span",{class:"line"}),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#DBD7CA"}},"  "),n("span",{style:{color:"#4D9375"}},"return"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#858585"}},"<"),n("span",{style:{color:"#429988"}},"p"),n("span",{style:{color:"#858585"}},">{"),n("span",{style:{color:"#B8A965"}},"count"),n("span",{style:{color:"#858585"}},"}</"),n("span",{style:{color:"#429988"}},"p"),n("span",{style:{color:"#858585"}},">;")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#858585"}},"};")]),E(`
`),n("span",{class:"line"}),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#CB7676"}},"const"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#D4976C"}},"App"),n("span",{style:{color:"#DBD7CA"}},"() {")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#DBD7CA"}},"  "),n("span",{style:{color:"#CB7676"}},"const"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#858585"}},"["),n("span",{style:{color:"#D4976C"}},"count"),n("span",{style:{color:"#858585"}},","),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#D4976C"}},"setCount"),n("span",{style:{color:"#858585"}},"]"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#CB7676"}},"="),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#A1B567"}},"useState"),n("span",{style:{color:"#858585"}},"("),n("span",{style:{color:"#6394BF"}},"0"),n("span",{style:{color:"#858585"}},");")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#DBD7CA"}},"  "),n("span",{style:{color:"#CB7676"}},"const"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#A1B567"}},"increment"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#CB7676"}},"="),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#858585"}},"()"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#CB7676"}},"=>"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#A1B567"}},"setCount"),n("span",{style:{color:"#858585"}},"(("),n("span",{style:{color:"#B8A965"}},"c"),n("span",{style:{color:"#858585"}},")"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#CB7676"}},"=>"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#B8A965"}},"c"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#CB7676"}},"+"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#6394BF"}},"1"),n("span",{style:{color:"#858585"}},");")]),E(`
`),n("span",{class:"line"}),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#DBD7CA"}},"  "),n("span",{style:{color:"#4D9375"}},"if"),n("span",{style:{color:"#858585"}},"("),n("span",{style:{color:"#B8A965"}},"count"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#CB7676"}},"%"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#6394BF"}},"2"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#CB7676"}},"==="),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#6394BF"}},"1"),n("span",{style:{color:"#858585"}},")"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#858585"}},"{")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#DBD7CA"}},"    "),n("span",{style:{color:"#A1B567"}},"increment"),n("span",{style:{color:"#858585"}},"()")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#DBD7CA"}},"  "),n("span",{style:{color:"#858585"}},"}")]),E(`
`),n("span",{class:"line"}),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#DBD7CA"}},"  "),n("span",{style:{color:"#B8A965"}},"console"),n("span",{style:{color:"#858585"}},"."),n("span",{style:{color:"#A1B567"}},"log"),n("span",{style:{color:"#858585"}},"("),n("span",{style:{color:"#C98A7D"}},"'app render'"),n("span",{style:{color:"#858585"}},","),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#B8A965"}},"count"),n("span",{style:{color:"#858585"}},");")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#DBD7CA"}},"  "),n("span",{style:{color:"#4D9375"}},"return"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#858585"}},"(")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#DBD7CA"}},"    "),n("span",{style:{color:"#858585"}},"<"),n("span",{style:{color:"#429988"}},"div"),n("span",{style:{color:"#858585"}},">")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#DBD7CA"}},"      "),n("span",{style:{color:"#858585"}},"<"),n("span",{style:{color:"#E0A569"}},"Counter"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#E0A569"}},"count"),n("span",{style:{color:"#CB7676"}},"="),n("span",{style:{color:"#858585"}},"{"),n("span",{style:{color:"#B8A965"}},"count"),n("span",{style:{color:"#858585"}},"}"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#858585"}},"/>")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#DBD7CA"}},"      "),n("span",{style:{color:"#858585"}},"<"),n("span",{style:{color:"#429988"}},"button"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#E0A569"}},"onClick"),n("span",{style:{color:"#CB7676"}},"="),n("span",{style:{color:"#858585"}},"{"),n("span",{style:{color:"#B8A965"}},"increment"),n("span",{style:{color:"#858585"}},"}>")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#DBD7CA"}},"        Increment")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#DBD7CA"}},"      "),n("span",{style:{color:"#858585"}},"</"),n("span",{style:{color:"#429988"}},"button"),n("span",{style:{color:"#858585"}},">")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#DBD7CA"}},"    "),n("span",{style:{color:"#858585"}},"</"),n("span",{style:{color:"#429988"}},"div"),n("span",{style:{color:"#858585"}},">")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#DBD7CA"}},"  "),n("span",{style:{color:"#858585"}},");")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#DBD7CA"}},"}")])])]),n("pre",{class:"slidev-code shiki shiki-light Vitesse Light",style:{"background-color":"#ffffff"}},[n("code",null,[n("span",{class:"line"},[n("span",{style:{color:"#AB5959"}},"const"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#6C7834"}},"Counter"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#AB5959"}},"="),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#8E8F8B"}},"({"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#8C862B"}},"count"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#8E8F8B"}},"})"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#AB5959"}},"=>"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#8E8F8B"}},"{")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#393A34"}},"  "),n("span",{style:{color:"#8C862B"}},"console"),n("span",{style:{color:"#8E8F8B"}},"."),n("span",{style:{color:"#6C7834"}},"log"),n("span",{style:{color:"#8E8F8B"}},"("),n("span",{style:{color:"#B56959"}},"'counter render'"),n("span",{style:{color:"#8E8F8B"}},","),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#8C862B"}},"count"),n("span",{style:{color:"#8E8F8B"}},");")]),E(`
`),n("span",{class:"line"}),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#393A34"}},"  "),n("span",{style:{color:"#1C6B48"}},"return"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#8E8F8B"}},"<"),n("span",{style:{color:"#2F8A89"}},"p"),n("span",{style:{color:"#8E8F8B"}},">{"),n("span",{style:{color:"#8C862B"}},"count"),n("span",{style:{color:"#8E8F8B"}},"}</"),n("span",{style:{color:"#2F8A89"}},"p"),n("span",{style:{color:"#8E8F8B"}},">;")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#8E8F8B"}},"};")]),E(`
`),n("span",{class:"line"}),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#AB5959"}},"const"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#A65E2B"}},"App"),n("span",{style:{color:"#393A34"}},"() {")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#393A34"}},"  "),n("span",{style:{color:"#AB5959"}},"const"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#8E8F8B"}},"["),n("span",{style:{color:"#A65E2B"}},"count"),n("span",{style:{color:"#8E8F8B"}},","),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#A65E2B"}},"setCount"),n("span",{style:{color:"#8E8F8B"}},"]"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#AB5959"}},"="),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#6C7834"}},"useState"),n("span",{style:{color:"#8E8F8B"}},"("),n("span",{style:{color:"#296AA3"}},"0"),n("span",{style:{color:"#8E8F8B"}},");")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#393A34"}},"  "),n("span",{style:{color:"#AB5959"}},"const"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#6C7834"}},"increment"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#AB5959"}},"="),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#8E8F8B"}},"()"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#AB5959"}},"=>"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#6C7834"}},"setCount"),n("span",{style:{color:"#8E8F8B"}},"(("),n("span",{style:{color:"#8C862B"}},"c"),n("span",{style:{color:"#8E8F8B"}},")"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#AB5959"}},"=>"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#8C862B"}},"c"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#AB5959"}},"+"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#296AA3"}},"1"),n("span",{style:{color:"#8E8F8B"}},");")]),E(`
`),n("span",{class:"line"}),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#393A34"}},"  "),n("span",{style:{color:"#1C6B48"}},"if"),n("span",{style:{color:"#8E8F8B"}},"("),n("span",{style:{color:"#8C862B"}},"count"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#AB5959"}},"%"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#296AA3"}},"2"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#AB5959"}},"==="),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#296AA3"}},"1"),n("span",{style:{color:"#8E8F8B"}},")"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#8E8F8B"}},"{")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#393A34"}},"    "),n("span",{style:{color:"#6C7834"}},"increment"),n("span",{style:{color:"#8E8F8B"}},"()")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#393A34"}},"  "),n("span",{style:{color:"#8E8F8B"}},"}")]),E(`
`),n("span",{class:"line"}),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#393A34"}},"  "),n("span",{style:{color:"#8C862B"}},"console"),n("span",{style:{color:"#8E8F8B"}},"."),n("span",{style:{color:"#6C7834"}},"log"),n("span",{style:{color:"#8E8F8B"}},"("),n("span",{style:{color:"#B56959"}},"'app render'"),n("span",{style:{color:"#8E8F8B"}},","),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#8C862B"}},"count"),n("span",{style:{color:"#8E8F8B"}},");")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#393A34"}},"  "),n("span",{style:{color:"#1C6B48"}},"return"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#8E8F8B"}},"(")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#393A34"}},"    "),n("span",{style:{color:"#8E8F8B"}},"<"),n("span",{style:{color:"#2F8A89"}},"div"),n("span",{style:{color:"#8E8F8B"}},">")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#393A34"}},"      "),n("span",{style:{color:"#8E8F8B"}},"<"),n("span",{style:{color:"#B58451"}},"Counter"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#B58451"}},"count"),n("span",{style:{color:"#AB5959"}},"="),n("span",{style:{color:"#8E8F8B"}},"{"),n("span",{style:{color:"#8C862B"}},"count"),n("span",{style:{color:"#8E8F8B"}},"}"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#8E8F8B"}},"/>")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#393A34"}},"      "),n("span",{style:{color:"#8E8F8B"}},"<"),n("span",{style:{color:"#2F8A89"}},"button"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#B58451"}},"onClick"),n("span",{style:{color:"#AB5959"}},"="),n("span",{style:{color:"#8E8F8B"}},"{"),n("span",{style:{color:"#8C862B"}},"increment"),n("span",{style:{color:"#8E8F8B"}},"}>")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#393A34"}},"        Increment")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#393A34"}},"      "),n("span",{style:{color:"#8E8F8B"}},"</"),n("span",{style:{color:"#2F8A89"}},"button"),n("span",{style:{color:"#8E8F8B"}},">")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#393A34"}},"    "),n("span",{style:{color:"#8E8F8B"}},"</"),n("span",{style:{color:"#2F8A89"}},"div"),n("span",{style:{color:"#8E8F8B"}},">")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#393A34"}},"  "),n("span",{style:{color:"#8E8F8B"}},");")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#393A34"}},"}")])])])],-1),fut={__name:"22",setup(i){const l={layout:"iframe-right",url:"https://stackblitz.com/edit/react-ts-mjtmxl?devToolsHeight=80&embed=1&file=App.tsx&hideExplorer=1&view=preview"};return Pe(Ze),(p,f)=>{const m=Cr;return Yt(),Xe(Ma,ss(es(l)),{default:ge(()=>[put,le(m,_s({},{ranges:["all","1-5","10-13","all"]}),{default:ge(()=>[dut]),_:1},16)]),_:1},16)}}},yut=Qe(fut,[["__file","/@slidev/slides/22.md"]]),gut=n("h1",null,"Concurrent mode",-1),mut=n("p",null,[E('Concurrent mode allows the developer to mark some state updates as non-critical. These changes will be applied in a "forked" state tree, which will be "merged" back, when the background render is finished. React calls the fork a '),n("code",null,"transition"),E(" and provides the following tools:")],-1),_ut=n("ul",null,[n("li",null,[n("code",null,"startTransition"),E(" - useful to trigger a transition from any place, not necessarily a component. "),n("ul",null,[n("li",null,[E("Accepts a single argument, a callback which should call "),n("code",null,"setState"),E("s to be processed in the background")])])]),n("li",null,[n("code",null,"useTransition"),E(" - useful to additinally know if we are transitioning "),n("ul",null,[n("li",null,[E("accepts no arguments, returns a "),n("code",null,"[isPending, startTransition]"),E(" tuple")])])]),n("li",null,[n("code",null,"useDeferredValue"),E(" - accepts a single argument and returns a value of the same type "),n("ul",null,[n("li",null,'the returned value is equal to the argument in the "fork"'),n("li",null,'it may be different in the "main" tree'),n("li",null,[E("it is a declarative version of "),n("code",null,"useTransition")])])])],-1),vut=n("p",null,"Updates wrapped in a transition never trigger a suspense. The transition will be suspended instead, hence this is a way of avoiding fallback content.",-1),but={__name:"23",setup(i){const l={};return Pe(Ze),(p,f)=>{const m=fo,b=Yo;return Yt(),Xe(Qs,ss(es(l)),{default:ge(()=>[gut,mut,le(m,null,{default:ge(()=>[_ut]),_:1}),le(b,null,{default:ge(()=>[vut]),_:1})]),_:1},16)}}},xut=Qe(but,[["__file","/@slidev/slides/23.md"]]);var E0={},kut={get exports(){return E0},set exports(i){E0=i}};(function(i,l){var p=Object.defineProperty,f=(b,A,B)=>A in b?p(b,A,{enumerable:!0,configurable:!0,writable:!0,value:B}):b[A]=B,m=(b,A,B)=>(f(b,typeof A!="symbol"?A+"":A,B),B);(function(b,A){i.exports=A()})(lc,function(){var b=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof lc<"u"?lc:typeof self<"u"?self:{};function A(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var B={exports:{}};(function(t,e){(function(s,r){t.exports=r()})(b,function(){var s;function r(){return s.apply(null,arguments)}function o(g){return g instanceof Array||Object.prototype.toString.call(g)==="[object Array]"}function a(g){return g!=null&&Object.prototype.toString.call(g)==="[object Object]"}function u(g,C){return Object.prototype.hasOwnProperty.call(g,C)}function h(g){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(g).length===0;for(var C in g)if(u(g,C))return;return 1}function d(g){return g===void 0}function y(g){return typeof g=="number"||Object.prototype.toString.call(g)==="[object Number]"}function _(g){return g instanceof Date||Object.prototype.toString.call(g)==="[object Date]"}function v(g,C){for(var L=[],P=g.length,K=0;K<P;++K)L.push(C(g[K],K));return L}function x(g,C){for(var L in C)u(C,L)&&(g[L]=C[L]);return u(C,"toString")&&(g.toString=C.toString),u(C,"valueOf")&&(g.valueOf=C.valueOf),g}function k(g,C,L,P){return br(g,C,L,P,!0).utc()}function D(g){return g._pf==null&&(g._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}),g._pf}function M(g){if(g._isValid==null){var C=D(g),L=Y.call(C.parsedDateParts,function(P){return P!=null}),L=!isNaN(g._d.getTime())&&C.overflow<0&&!C.empty&&!C.invalidEra&&!C.invalidMonth&&!C.invalidWeekday&&!C.weekdayMismatch&&!C.nullInput&&!C.invalidFormat&&!C.userInvalidated&&(!C.meridiem||C.meridiem&&L);if(g._strict&&(L=L&&C.charsLeftOver===0&&C.unusedTokens.length===0&&C.bigHour===void 0),Object.isFrozen!=null&&Object.isFrozen(g))return L;g._isValid=L}return g._isValid}function R(g){var C=k(NaN);return g!=null?x(D(C),g):D(C).userInvalidated=!0,C}var Y=Array.prototype.some||function(g){for(var C=Object(this),L=C.length>>>0,P=0;P<L;P++)if(P in C&&g.call(this,C[P],P,C))return!0;return!1},V=r.momentProperties=[],X=!1;function J(g,C){var L,P,K,kt=V.length;if(d(C._isAMomentObject)||(g._isAMomentObject=C._isAMomentObject),d(C._i)||(g._i=C._i),d(C._f)||(g._f=C._f),d(C._l)||(g._l=C._l),d(C._strict)||(g._strict=C._strict),d(C._tzm)||(g._tzm=C._tzm),d(C._isUTC)||(g._isUTC=C._isUTC),d(C._offset)||(g._offset=C._offset),d(C._pf)||(g._pf=D(C)),d(C._locale)||(g._locale=C._locale),0<kt)for(L=0;L<kt;L++)d(K=C[P=V[L]])||(g[P]=K);return g}function rt(g){J(this,g),this._d=new Date(g._d!=null?g._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),X===!1&&(X=!0,r.updateOffset(this),X=!1)}function lt(g){return g instanceof rt||g!=null&&g._isAMomentObject!=null}function tt(g){r.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+g)}function it(g,C){var L=!0;return x(function(){if(r.deprecationHandler!=null&&r.deprecationHandler(null,g),L){for(var P,K,kt=[],Vt=arguments.length,Jt=0;Jt<Vt;Jt++){if(P="",typeof arguments[Jt]=="object"){for(K in P+=`
[`+Jt+"] ",arguments[0])u(arguments[0],K)&&(P+=K+": "+arguments[0][K]+", ");P=P.slice(0,-2)}else P=arguments[Jt];kt.push(P)}tt(g+`
Arguments: `+Array.prototype.slice.call(kt).join("")+`
`+new Error().stack),L=!1}return C.apply(this,arguments)},C)}var j={};function W(g,C){r.deprecationHandler!=null&&r.deprecationHandler(g,C),j[g]||(tt(C),j[g]=!0)}function $(g){return typeof Function<"u"&&g instanceof Function||Object.prototype.toString.call(g)==="[object Function]"}function I(g,C){var L,P=x({},g);for(L in C)u(C,L)&&(a(g[L])&&a(C[L])?(P[L]={},x(P[L],g[L]),x(P[L],C[L])):C[L]!=null?P[L]=C[L]:delete P[L]);for(L in g)u(g,L)&&!u(C,L)&&a(g[L])&&(P[L]=x({},P[L]));return P}function H(g){g!=null&&this.set(g)}r.suppressDeprecationWarnings=!1,r.deprecationHandler=null;var S=Object.keys||function(g){var C,L=[];for(C in g)u(g,C)&&L.push(C);return L};function yt(g,C,L){var P=""+Math.abs(g);return(0<=g?L?"+":"":"-")+Math.pow(10,Math.max(0,C-P.length)).toString().substr(1)+P}var T=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Dt=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,ce={},Gt={};function ut(g,C,L,P){var K=typeof P=="string"?function(){return this[P]()}:P;g&&(Gt[g]=K),C&&(Gt[C[0]]=function(){return yt(K.apply(this,arguments),C[1],C[2])}),L&&(Gt[L]=function(){return this.localeData().ordinal(K.apply(this,arguments),g)})}function Et(g,C){return g.isValid()?(C=bt(C,g.localeData()),ce[C]=ce[C]||function(L){for(var P,K=L.match(T),kt=0,Vt=K.length;kt<Vt;kt++)Gt[K[kt]]?K[kt]=Gt[K[kt]]:K[kt]=(P=K[kt]).match(/\[[\s\S]/)?P.replace(/^\[|\]$/g,""):P.replace(/\\/g,"");return function(Jt){for(var Ee="",me=0;me<Vt;me++)Ee+=$(K[me])?K[me].call(Jt,L):K[me];return Ee}}(C),ce[C](g)):g.localeData().invalidDate()}function bt(g,C){var L=5;function P(K){return C.longDateFormat(K)||K}for(Dt.lastIndex=0;0<=L&&Dt.test(g);)g=g.replace(Dt,P),Dt.lastIndex=0,--L;return g}var xt={};function Tt(g,C){var L=g.toLowerCase();xt[L]=xt[L+"s"]=xt[C]=g}function Wt(g){return typeof g=="string"?xt[g]||xt[g.toLowerCase()]:void 0}function dt(g){var C,L,P={};for(L in g)u(g,L)&&(C=Wt(L))&&(P[C]=g[L]);return P}var ve={};function et(g,C){ve[g]=C}function st(g){return g%4==0&&g%100!=0||g%400==0}function pt(g){return g<0?Math.ceil(g)||0:Math.floor(g)}function Z(C){var C=+C,L=0;return L=C!=0&&isFinite(C)?pt(C):L}function q(g,C){return function(L){return L!=null?(mt(this,g,L),r.updateOffset(this,C),this):U(this,g)}}function U(g,C){return g.isValid()?g._d["get"+(g._isUTC?"UTC":"")+C]():NaN}function mt(g,C,L){g.isValid()&&!isNaN(L)&&(C==="FullYear"&&st(g.year())&&g.month()===1&&g.date()===29?(L=Z(L),g._d["set"+(g._isUTC?"UTC":"")+C](L,g.month(),Mt(L,g.month()))):g._d["set"+(g._isUTC?"UTC":"")+C](L))}var N=/\d/,mn=/\d\d/,Lt=/\d{3}/,oc=/\d{4}/,el=/[+-]?\d{6}/,nt=/\d\d?/,Be=/\d\d\d\d?/,vt=/\d\d\d\d\d\d?/,de=/\d{1,3}/,nl=/\d{1,4}/,tl=/[+-]?\d{1,6}/,Xt=/\d+/,Nt=/[+-]?\d+/,Qt=/Z|[+-]\d\d:?\d\d/gi,qt=/Z|[+-]\d\d(?::?\d\d)?/gi,Ot=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i;function Ct(g,C,L){Ue[g]=$(C)?C:function(P,K){return P&&L?L:C}}function gn(g,C){return u(Ue,g)?Ue[g](C._strict,C._locale):new RegExp(We(g.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(L,P,K,kt,Vt){return P||K||kt||Vt})))}function We(g){return g.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var Ue={},je={};function Oe(g,C){var L,P,K=C;for(typeof g=="string"&&(g=[g]),y(C)&&(K=function(kt,Vt){Vt[C]=Z(kt)}),P=g.length,L=0;L<P;L++)je[g[L]]=K}function zn(g,C){Oe(g,function(L,P,K,kt){K._w=K._w||{},C(L,K._w,K,kt)})}var Me,Se=0,we=1,Ht=2,Rt=3,ae=4,Ut=5,Te=6,wt=7,cn=8;function Mt(g,C){if(isNaN(g)||isNaN(C))return NaN;var L=(C%(L=12)+L)%L;return g+=(C-L)/12,L==1?st(g)?29:28:31-L%7%2}Me=Array.prototype.indexOf||function(g){for(var C=0;C<this.length;++C)if(this[C]===g)return C;return-1},ut("M",["MM",2],"Mo",function(){return this.month()+1}),ut("MMM",0,0,function(g){return this.localeData().monthsShort(this,g)}),ut("MMMM",0,0,function(g){return this.localeData().months(this,g)}),Tt("month","M"),et("month",8),Ct("M",nt),Ct("MM",nt,mn),Ct("MMM",function(g,C){return C.monthsShortRegex(g)}),Ct("MMMM",function(g,C){return C.monthsRegex(g)}),Oe(["M","MM"],function(g,C){C[we]=Z(g)-1}),Oe(["MMM","MMMM"],function(g,C,L,P){P=L._locale.monthsParse(g,P,L._strict),P!=null?C[we]=P:D(L).invalidMonth=g});var rn="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),kn="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Sn=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Tn=Ot,In=Ot;function ze(g,C){var L;if(g.isValid()){if(typeof C=="string"){if(/^\d+$/.test(C))C=Z(C);else if(!y(C=g.localeData().monthsParse(C)))return}L=Math.min(g.date(),Mt(g.year(),C)),g._d["set"+(g._isUTC?"UTC":"")+"Month"](C,L)}}function un(g){return g!=null?(ze(this,g),r.updateOffset(this,!0),this):U(this,"Month")}function En(){function g(Vt,Jt){return Jt.length-Vt.length}for(var C,L=[],P=[],K=[],kt=0;kt<12;kt++)C=k([2e3,kt]),L.push(this.monthsShort(C,"")),P.push(this.months(C,"")),K.push(this.months(C,"")),K.push(this.monthsShort(C,""));for(L.sort(g),P.sort(g),K.sort(g),kt=0;kt<12;kt++)L[kt]=We(L[kt]),P[kt]=We(P[kt]);for(kt=0;kt<24;kt++)K[kt]=We(K[kt]);this._monthsRegex=new RegExp("^("+K.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+P.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+L.join("|")+")","i")}function en(g){return st(g)?366:365}ut("Y",0,0,function(){var g=this.year();return g<=9999?yt(g,4):"+"+g}),ut(0,["YY",2],0,function(){return this.year()%100}),ut(0,["YYYY",4],0,"year"),ut(0,["YYYYY",5],0,"year"),ut(0,["YYYYYY",6,!0],0,"year"),Tt("year","y"),et("year",1),Ct("Y",Nt),Ct("YY",nt,mn),Ct("YYYY",nl,oc),Ct("YYYYY",tl,el),Ct("YYYYYY",tl,el),Oe(["YYYYY","YYYYYY"],Se),Oe("YYYY",function(g,C){C[Se]=g.length===2?r.parseTwoDigitYear(g):Z(g)}),Oe("YY",function(g,C){C[Se]=r.parseTwoDigitYear(g)}),Oe("Y",function(g,C){C[Se]=parseInt(g,10)}),r.parseTwoDigitYear=function(g){return Z(g)+(68<Z(g)?1900:2e3)};var H1=q("FullYear",!0);function to(g,C,L,P,K,kt,Vt){var Jt;return g<100&&0<=g?(Jt=new Date(g+400,C,L,P,K,kt,Vt),isFinite(Jt.getFullYear())&&Jt.setFullYear(g)):Jt=new Date(g,C,L,P,K,kt,Vt),Jt}function ci(g){var C;return g<100&&0<=g?((C=Array.prototype.slice.call(arguments))[0]=g+400,C=new Date(Date.UTC.apply(null,C)),isFinite(C.getUTCFullYear())&&C.setUTCFullYear(g)):C=new Date(Date.UTC.apply(null,arguments)),C}function rs(g,C,L){return L=7+C-L,L-(7+ci(g,0,L).getUTCDay()-C)%7-1}function hn(g,Vt,Jt,P,K){var kt,Vt=1+7*(Vt-1)+(7+Jt-P)%7+rs(g,P,K),Jt=Vt<=0?en(kt=g-1)+Vt:Vt>en(g)?(kt=g+1,Vt-en(g)):(kt=g,Vt);return{year:kt,dayOfYear:Jt}}function fs(g,C,L){var P,K,kt=rs(g.year(),C,L),kt=Math.floor((g.dayOfYear()-kt-1)/7)+1;return kt<1?P=kt+ms(K=g.year()-1,C,L):kt>ms(g.year(),C,L)?(P=kt-ms(g.year(),C,L),K=g.year()+1):(K=g.year(),P=kt),{week:P,year:K}}function ms(g,K,L){var P=rs(g,K,L),K=rs(g+1,K,L);return(en(g)-P+K)/7}ut("w",["ww",2],"wo","week"),ut("W",["WW",2],"Wo","isoWeek"),Tt("week","w"),Tt("isoWeek","W"),et("week",5),et("isoWeek",5),Ct("w",nt),Ct("ww",nt,mn),Ct("W",nt),Ct("WW",nt,mn),zn(["w","ww","W","WW"],function(g,C,L,P){C[P.substr(0,1)]=Z(g)});function xs(g,C){return g.slice(C,7).concat(g.slice(0,C))}ut("d",0,"do","day"),ut("dd",0,0,function(g){return this.localeData().weekdaysMin(this,g)}),ut("ddd",0,0,function(g){return this.localeData().weekdaysShort(this,g)}),ut("dddd",0,0,function(g){return this.localeData().weekdays(this,g)}),ut("e",0,0,"weekday"),ut("E",0,0,"isoWeekday"),Tt("day","d"),Tt("weekday","e"),Tt("isoWeekday","E"),et("day",11),et("weekday",11),et("isoWeekday",11),Ct("d",nt),Ct("e",nt),Ct("E",nt),Ct("dd",function(g,C){return C.weekdaysMinRegex(g)}),Ct("ddd",function(g,C){return C.weekdaysShortRegex(g)}),Ct("dddd",function(g,C){return C.weekdaysRegex(g)}),zn(["dd","ddd","dddd"],function(g,C,L,P){P=L._locale.weekdaysParse(g,P,L._strict),P!=null?C.d=P:D(L).invalidWeekday=g}),zn(["d","e","E"],function(g,C,L,P){C[P]=Z(g)});var ks="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),ys="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Ms="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),qs=Ot,De=Ot,ft=Ot;function ne(){function g(me,_n){return _n.length-me.length}for(var C,L,P,K=[],kt=[],Vt=[],Jt=[],Ee=0;Ee<7;Ee++)P=k([2e3,1]).day(Ee),C=We(this.weekdaysMin(P,"")),L=We(this.weekdaysShort(P,"")),P=We(this.weekdays(P,"")),K.push(C),kt.push(L),Vt.push(P),Jt.push(C),Jt.push(L),Jt.push(P);K.sort(g),kt.sort(g),Vt.sort(g),Jt.sort(g),this._weekdaysRegex=new RegExp("^("+Jt.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+Vt.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+kt.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+K.join("|")+")","i")}function fe(){return this.hours()%12||12}function Cn(g,C){ut(g,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),C)})}function is(g,C){return C._meridiemParse}ut("H",["HH",2],0,"hour"),ut("h",["hh",2],0,fe),ut("k",["kk",2],0,function(){return this.hours()||24}),ut("hmm",0,0,function(){return""+fe.apply(this)+yt(this.minutes(),2)}),ut("hmmss",0,0,function(){return""+fe.apply(this)+yt(this.minutes(),2)+yt(this.seconds(),2)}),ut("Hmm",0,0,function(){return""+this.hours()+yt(this.minutes(),2)}),ut("Hmmss",0,0,function(){return""+this.hours()+yt(this.minutes(),2)+yt(this.seconds(),2)}),Cn("a",!0),Cn("A",!1),Tt("hour","h"),et("hour",13),Ct("a",is),Ct("A",is),Ct("H",nt),Ct("h",nt),Ct("k",nt),Ct("HH",nt,mn),Ct("hh",nt,mn),Ct("kk",nt,mn),Ct("hmm",Be),Ct("hmmss",vt),Ct("Hmm",Be),Ct("Hmmss",vt),Oe(["H","HH"],Rt),Oe(["k","kk"],function(g,C,L){g=Z(g),C[Rt]=g===24?0:g}),Oe(["a","A"],function(g,C,L){L._isPm=L._locale.isPM(g),L._meridiem=g}),Oe(["h","hh"],function(g,C,L){C[Rt]=Z(g),D(L).bigHour=!0}),Oe("hmm",function(g,C,L){var P=g.length-2;C[Rt]=Z(g.substr(0,P)),C[ae]=Z(g.substr(P)),D(L).bigHour=!0}),Oe("hmmss",function(g,C,L){var P=g.length-4,K=g.length-2;C[Rt]=Z(g.substr(0,P)),C[ae]=Z(g.substr(P,2)),C[Ut]=Z(g.substr(K)),D(L).bigHour=!0}),Oe("Hmm",function(g,C,L){var P=g.length-2;C[Rt]=Z(g.substr(0,P)),C[ae]=Z(g.substr(P))}),Oe("Hmmss",function(g,C,L){var P=g.length-4,K=g.length-2;C[Rt]=Z(g.substr(0,P)),C[ae]=Z(g.substr(P,2)),C[Ut]=Z(g.substr(K))}),Ot=q("Hours",!0);var Jn,Ss={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:rn,monthsShort:kn,week:{dow:0,doy:6},weekdays:ks,weekdaysMin:Ms,weekdaysShort:ys,meridiemParse:/[ap]\.?m?\.?/i},Fn={},cs={};function Za(g){return g&&g.toLowerCase().replace("_","-")}function Qa(g){for(var C,L,P,K,kt=0;kt<g.length;){for(C=(K=Za(g[kt]).split("-")).length,L=(L=Za(g[kt+1]))?L.split("-"):null;0<C;){if(P=Jr(K.slice(0,C).join("-")))return P;if(L&&L.length>=C&&function(Vt,Jt){for(var Ee=Math.min(Vt.length,Jt.length),me=0;me<Ee;me+=1)if(Vt[me]!==Jt[me])return me;return Ee}(K,L)>=C-1)break;C--}kt++}return Jn}function Jr(g){var C;if(Fn[g]===void 0&&t&&t.exports&&g.match("^[^/\\\\]*$")!=null)try{C=Jn._abbr,A("./locale/"+g),Ye(C)}catch{Fn[g]=null}return Fn[g]}function Ye(g,C){return g&&((C=d(C)?pn(g):sn(g,C))?Jn=C:typeof console<"u"&&console.warn&&console.warn("Locale "+g+" not found. Did you forget to load it?")),Jn._abbr}function sn(g,C){if(C===null)return delete Fn[g],null;var L,P=Ss;if(C.abbr=g,Fn[g]!=null)W("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),P=Fn[g]._config;else if(C.parentLocale!=null)if(Fn[C.parentLocale]!=null)P=Fn[C.parentLocale]._config;else{if((L=Jr(C.parentLocale))==null)return cs[C.parentLocale]||(cs[C.parentLocale]=[]),cs[C.parentLocale].push({name:g,config:C}),null;P=L._config}return Fn[g]=new H(I(P,C)),cs[g]&&cs[g].forEach(function(K){sn(K.name,K.config)}),Ye(g),Fn[g]}function pn(g){var C;if(!(g=g&&g._locale&&g._locale._abbr?g._locale._abbr:g))return Jn;if(!o(g)){if(C=Jr(g))return C;g=[g]}return Qa(g)}function xe(g){var C=g._a;return C&&D(g).overflow===-2&&(C=C[we]<0||11<C[we]?we:C[Ht]<1||C[Ht]>Mt(C[Se],C[we])?Ht:C[Rt]<0||24<C[Rt]||C[Rt]===24&&(C[ae]!==0||C[Ut]!==0||C[Te]!==0)?Rt:C[ae]<0||59<C[ae]?ae:C[Ut]<0||59<C[Ut]?Ut:C[Te]<0||999<C[Te]?Te:-1,D(g)._overflowDayOfYear&&(C<Se||Ht<C)&&(C=Ht),D(g)._overflowWeeks&&C===-1&&(C=wt),D(g)._overflowWeekday&&C===-1&&(C=cn),D(g).overflow=C),g}var Cs=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,ct=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,nc=/Z|[+-]\d\d(?::?\d\d)?/,_t=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],Fr=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],P1=/^\/?Date\((-?\d+)/i,b2=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,V1={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function $1(g){var C,L,P,K,kt,Vt,Ee=g._i,Jt=Cs.exec(Ee)||ct.exec(Ee),Ee=_t.length,me=Fr.length;if(Jt){for(D(g).iso=!0,C=0,L=Ee;C<L;C++)if(_t[C][1].exec(Jt[1])){K=_t[C][0],P=_t[C][2]!==!1;break}if(K==null)g._isValid=!1;else{if(Jt[3]){for(C=0,L=me;C<L;C++)if(Fr[C][1].exec(Jt[3])){kt=(Jt[2]||" ")+Fr[C][0];break}if(kt==null)return void(g._isValid=!1)}if(P||kt==null){if(Jt[4]){if(!nc.exec(Jt[4]))return void(g._isValid=!1);Vt="Z"}g._f=K+(kt||"")+(Vt||""),Ap(g)}else g._isValid=!1}}else g._isValid=!1}function Xs(g,C,L,P,K,kt){return g=[function(Vt){Vt=parseInt(Vt,10);{if(Vt<=49)return 2e3+Vt;if(Vt<=999)return 1900+Vt}return Vt}(g),kn.indexOf(C),parseInt(L,10),parseInt(P,10),parseInt(K,10)],kt&&g.push(parseInt(kt,10)),g}function Do(g){var C,L,P,K,kt=b2.exec(g._i.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,""));kt?(C=Xs(kt[4],kt[3],kt[2],kt[5],kt[6],kt[7]),L=kt[1],P=C,K=g,L&&ys.indexOf(L)!==new Date(P[0],P[1],P[2]).getDay()?(D(K).weekdayMismatch=!0,K._isValid=!1):(g._a=C,g._tzm=(L=kt[8],P=kt[9],K=kt[10],L?V1[L]:P?0:60*(((L=parseInt(K,10))-(P=L%100))/100)+P),g._d=ci.apply(null,g._a),g._d.setUTCMinutes(g._d.getUTCMinutes()-g._tzm),D(g).rfc2822=!0)):g._isValid=!1}function Fo(g,C,L){return g??C??L}function sc(g){var C,L,P,K,kt,Vt,Jt,Ee,me,_n,on,Ts=[];if(!g._d){for(P=g,K=new Date(r.now()),L=P._useUTC?[K.getUTCFullYear(),K.getUTCMonth(),K.getUTCDate()]:[K.getFullYear(),K.getMonth(),K.getDate()],g._w&&g._a[Ht]==null&&g._a[we]==null&&((K=(P=g)._w).GG!=null||K.W!=null||K.E!=null?(Ee=1,me=4,kt=Fo(K.GG,P._a[Se],fs(Gn(),1,4).year),Vt=Fo(K.W,1),((Jt=Fo(K.E,1))<1||7<Jt)&&(_n=!0)):(Ee=P._locale._week.dow,me=P._locale._week.doy,on=fs(Gn(),Ee,me),kt=Fo(K.gg,P._a[Se],on.year),Vt=Fo(K.w,on.week),K.d!=null?((Jt=K.d)<0||6<Jt)&&(_n=!0):K.e!=null?(Jt=K.e+Ee,(K.e<0||6<K.e)&&(_n=!0)):Jt=Ee),Vt<1||Vt>ms(kt,Ee,me)?D(P)._overflowWeeks=!0:_n!=null?D(P)._overflowWeekday=!0:(on=hn(kt,Vt,Jt,Ee,me),P._a[Se]=on.year,P._dayOfYear=on.dayOfYear)),g._dayOfYear!=null&&(K=Fo(g._a[Se],L[Se]),(g._dayOfYear>en(K)||g._dayOfYear===0)&&(D(g)._overflowDayOfYear=!0),_n=ci(K,0,g._dayOfYear),g._a[we]=_n.getUTCMonth(),g._a[Ht]=_n.getUTCDate()),C=0;C<3&&g._a[C]==null;++C)g._a[C]=Ts[C]=L[C];for(;C<7;C++)g._a[C]=Ts[C]=g._a[C]==null?C===2?1:0:g._a[C];g._a[Rt]===24&&g._a[ae]===0&&g._a[Ut]===0&&g._a[Te]===0&&(g._nextDay=!0,g._a[Rt]=0),g._d=(g._useUTC?ci:to).apply(null,Ts),kt=g._useUTC?g._d.getUTCDay():g._d.getDay(),g._tzm!=null&&g._d.setUTCMinutes(g._d.getUTCMinutes()-g._tzm),g._nextDay&&(g._a[Rt]=24),g._w&&g._w.d!==void 0&&g._w.d!==kt&&(D(g).weekdayMismatch=!0)}}function Ap(g){if(g._f===r.ISO_8601)$1(g);else if(g._f===r.RFC_2822)Do(g);else{g._a=[],D(g).empty=!0;for(var C,L,P,K,kt,Vt=""+g._i,Jt=Vt.length,Ee=0,me=bt(g._f,g._locale).match(T)||[],_n=me.length,on=0;on<_n;on++)L=me[on],(C=(Vt.match(gn(L,g))||[])[0])&&(0<(P=Vt.substr(0,Vt.indexOf(C))).length&&D(g).unusedInput.push(P),Vt=Vt.slice(Vt.indexOf(C)+C.length),Ee+=C.length),Gt[L]?(C?D(g).empty=!1:D(g).unusedTokens.push(L),P=L,kt=g,(K=C)!=null&&u(je,P)&&je[P](K,kt._a,kt,P)):g._strict&&!C&&D(g).unusedTokens.push(L);D(g).charsLeftOver=Jt-Ee,0<Vt.length&&D(g).unusedInput.push(Vt),g._a[Rt]<=12&&D(g).bigHour===!0&&0<g._a[Rt]&&(D(g).bigHour=void 0),D(g).parsedDateParts=g._a.slice(0),D(g).meridiem=g._meridiem,g._a[Rt]=function(Ts,Ks,so){return so==null?Ks:Ts.meridiemHour!=null?Ts.meridiemHour(Ks,so):Ts.isPM!=null?((Ts=Ts.isPM(so))&&Ks<12&&(Ks+=12),Ks=Ts||Ks!==12?Ks:0):Ks}(g._locale,g._a[Rt],g._meridiem),(Jt=D(g).era)!==null&&(g._a[Se]=g._locale.erasConvertYear(Jt,g._a[Se])),sc(g),xe(g)}}function Y1(g){var C,L,P,K=g._i,kt=g._f;return g._locale=g._locale||pn(g._l),K===null||kt===void 0&&K===""?R({nullInput:!0}):(typeof K=="string"&&(g._i=K=g._locale.preparse(K)),lt(K)?new rt(xe(K)):(_(K)?g._d=K:o(kt)?function(Vt){var Jt,Ee,me,_n,on,Ts,Ks=!1,so=Vt._f.length;if(so===0)return D(Vt).invalidFormat=!0,Vt._d=new Date(NaN);for(_n=0;_n<so;_n++)on=0,Ts=!1,Jt=J({},Vt),Vt._useUTC!=null&&(Jt._useUTC=Vt._useUTC),Jt._f=Vt._f[_n],Ap(Jt),M(Jt)&&(Ts=!0),on=(on+=D(Jt).charsLeftOver)+10*D(Jt).unusedTokens.length,D(Jt).score=on,Ks?on<me&&(me=on,Ee=Jt):(me==null||on<me||Ts)&&(me=on,Ee=Jt,Ts&&(Ks=!0));x(Vt,Ee||Jt)}(g):kt?Ap(g):d(kt=(K=g)._i)?K._d=new Date(r.now()):_(kt)?K._d=new Date(kt.valueOf()):typeof kt=="string"?(L=K,(C=P1.exec(L._i))!==null?L._d=new Date(+C[1]):($1(L),L._isValid===!1&&(delete L._isValid,Do(L),L._isValid===!1&&(delete L._isValid,L._strict?L._isValid=!1:r.createFromInputFallback(L))))):o(kt)?(K._a=v(kt.slice(0),function(Vt){return parseInt(Vt,10)}),sc(K)):a(kt)?(C=K)._d||(P=(L=dt(C._i)).day===void 0?L.date:L.day,C._a=v([L.year,L.month,P,L.hour,L.minute,L.second,L.millisecond],function(Vt){return Vt&&parseInt(Vt,10)}),sc(C)):y(kt)?K._d=new Date(kt):r.createFromInputFallback(K),M(g)||(g._d=null),g))}function br(g,C,L,P,K){var kt={};return C!==!0&&C!==!1||(P=C,C=void 0),L!==!0&&L!==!1||(P=L,L=void 0),(a(g)&&h(g)||o(g)&&g.length===0)&&(g=void 0),kt._isAMomentObject=!0,kt._useUTC=kt._isUTC=K,kt._l=L,kt._i=g,kt._f=C,kt._strict=P,(K=new rt(xe(Y1(K=kt))))._nextDay&&(K.add(1,"d"),K._nextDay=void 0),K}function Gn(g,C,L,P){return br(g,C,L,P,!1)}r.createFromInputFallback=it("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(g){g._d=new Date(g._i+(g._useUTC?" UTC":""))}),r.ISO_8601=function(){},r.RFC_2822=function(){},Be=it("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var g=Gn.apply(null,arguments);return this.isValid()&&g.isValid()?g<this?this:g:R()}),vt=it("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var g=Gn.apply(null,arguments);return this.isValid()&&g.isValid()?this<g?this:g:R()});function Yr(g,C){var L,P;if(!(C=C.length===1&&o(C[0])?C[0]:C).length)return Gn();for(L=C[0],P=1;P<C.length;++P)C[P].isValid()&&!C[P][g](L)||(L=C[P]);return L}var ya=["year","quarter","month","week","day","hour","minute","second","millisecond"];function eo(C){var C=dt(C),L=C.year||0,P=C.quarter||0,K=C.month||0,kt=C.week||C.isoWeek||0,Vt=C.day||0,Jt=C.hour||0,Ee=C.minute||0,me=C.second||0,_n=C.millisecond||0;this._isValid=function(on){var Ts,Ks,so=!1,B2=ya.length;for(Ts in on)if(u(on,Ts)&&(Me.call(ya,Ts)===-1||on[Ts]!=null&&isNaN(on[Ts])))return!1;for(Ks=0;Ks<B2;++Ks)if(on[ya[Ks]]){if(so)return!1;parseFloat(on[ya[Ks]])!==Z(on[ya[Ks]])&&(so=!0)}return!0}(C),this._milliseconds=+_n+1e3*me+6e4*Ee+1e3*Jt*60*60,this._days=+Vt+7*kt,this._months=+K+3*P+12*L,this._data={},this._locale=pn(),this._bubble()}function ga(g){return g instanceof eo}function ui(g){return g<0?-1*Math.round(-1*g):Math.round(g)}function wp(g,C){ut(g,0,0,function(){var L=this.utcOffset(),P="+";return L<0&&(L=-L,P="-"),P+yt(~~(L/60),2)+C+yt(~~L%60,2)})}wp("Z",":"),wp("ZZ",""),Ct("Z",qt),Ct("ZZ",qt),Oe(["Z","ZZ"],function(g,C,L){L._useUTC=!0,L._tzm=rc(qt,g)});var Ou=/([\+\-]|\d\d)/gi;function rc(g,L){var L=(L||"").match(g);return L===null?null:(L=60*(g=((L[L.length-1]||[])+"").match(Ou)||["-",0,0])[1]+Z(g[2]))===0?0:g[0]==="+"?L:-L}function hi(g,C){var L;return C._isUTC?(C=C.clone(),L=(lt(g)||_(g)?g:Gn(g)).valueOf()-C.valueOf(),C._d.setTime(C._d.valueOf()+L),r.updateOffset(C,!1),C):Gn(g).local()}function x2(g){return-Math.round(g._d.getTimezoneOffset())}function g7(){return!!this.isValid()&&this._isUTC&&this._offset===0}r.updateOffset=function(){};var fK=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,yK=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function no(g,C){var L,P=g,K=null;return ga(g)?P={ms:g._milliseconds,d:g._days,M:g._months}:y(g)||!isNaN(+g)?(P={},C?P[C]=+g:P.milliseconds=+g):(K=fK.exec(g))?(L=K[1]==="-"?-1:1,P={y:0,d:Z(K[Ht])*L,h:Z(K[Rt])*L,m:Z(K[ae])*L,s:Z(K[Ut])*L,ms:Z(ui(1e3*K[Te]))*L}):(K=yK.exec(g))?(L=K[1]==="-"?-1:1,P={y:ic(K[2],L),M:ic(K[3],L),w:ic(K[4],L),d:ic(K[5],L),h:ic(K[6],L),m:ic(K[7],L),s:ic(K[8],L)}):P==null?P={}:typeof P=="object"&&("from"in P||"to"in P)&&(C=function(kt,Vt){var Jt;return!kt.isValid()||!Vt.isValid()?{milliseconds:0,months:0}:(Vt=hi(Vt,kt),kt.isBefore(Vt)?Jt=m7(kt,Vt):((Jt=m7(Vt,kt)).milliseconds=-Jt.milliseconds,Jt.months=-Jt.months),Jt)}(Gn(P.from),Gn(P.to)),(P={}).ms=C.milliseconds,P.M=C.months),K=new eo(P),ga(g)&&u(g,"_locale")&&(K._locale=g._locale),ga(g)&&u(g,"_isValid")&&(K._isValid=g._isValid),K}function ic(g,C){return g=g&&parseFloat(g.replace(",",".")),(isNaN(g)?0:g)*C}function m7(g,C){var L={};return L.months=C.month()-g.month()+12*(C.year()-g.year()),g.clone().add(L.months,"M").isAfter(C)&&--L.months,L.milliseconds=+C-+g.clone().add(L.months,"M"),L}function _7(g,C){return function(L,P){var K;return P===null||isNaN(+P)||(W(C,"moment()."+C+"(period, number) is deprecated. Please use moment()."+C+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),K=L,L=P,P=K),v7(this,no(L,P),g),this}}function v7(g,Vt,L,P){var K=Vt._milliseconds,kt=ui(Vt._days),Vt=ui(Vt._months);g.isValid()&&(P=P==null||P,Vt&&ze(g,U(g,"Month")+Vt*L),kt&&mt(g,"Date",U(g,"Date")+kt*L),K&&g._d.setTime(g._d.valueOf()+K*L),P&&r.updateOffset(g,kt||Vt))}no.fn=eo.prototype,no.invalid=function(){return no(NaN)},rn=_7(1,"add"),ks=_7(-1,"subtract");function b7(g){return typeof g=="string"||g instanceof String}function gK(g){return lt(g)||_(g)||b7(g)||y(g)||function(C){var L=o(C),P=!1;return L&&(P=C.filter(function(K){return!y(K)&&b7(C)}).length===0),L&&P}(g)||function(C){var L,P,K=a(C)&&!h(C),kt=!1,Vt=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],Jt=Vt.length;for(L=0;L<Jt;L+=1)P=Vt[L],kt=kt||u(C,P);return K&&kt}(g)||g==null}function U1(g,K){if(g.date()<K.date())return-U1(K,g);var L=12*(K.year()-g.year())+(K.month()-g.month()),P=g.clone().add(L,"months"),K=K-P<0?(K-P)/(P-g.clone().add(L-1,"months")):(K-P)/(g.clone().add(1+L,"months")-P);return-(L+K)||0}function x7(g){return g===void 0?this._locale._abbr:((g=pn(g))!=null&&(this._locale=g),this)}r.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",r.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]",Ms=it("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(g){return g===void 0?this.localeData():this.locale(g)});function k7(){return this._locale}var C7=126227808e5;function Nu(g,C){return(g%C+C)%C}function A7(g,C,L){return g<100&&0<=g?new Date(g+400,C,L)-C7:new Date(g,C,L).valueOf()}function w7(g,C,L){return g<100&&0<=g?Date.UTC(g+400,C,L)-C7:Date.UTC(g,C,L)}function k2(g,C){return C.erasAbbrRegex(g)}function C2(){for(var g=[],C=[],L=[],P=[],K=this.eras(),kt=0,Vt=K.length;kt<Vt;++kt)C.push(We(K[kt].name)),g.push(We(K[kt].abbr)),L.push(We(K[kt].narrow)),P.push(We(K[kt].name)),P.push(We(K[kt].abbr)),P.push(We(K[kt].narrow));this._erasRegex=new RegExp("^("+P.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+C.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+g.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+L.join("|")+")","i")}function z1(g,C){ut(0,[g,g.length],0,C)}function E7(g,C,L,P,K){var kt;return g==null?fs(this,P,K).year:(kt=ms(g,P,K),function(Vt,Jt,Ee,me,_n){return Vt=hn(Vt,Jt,Ee,me,_n),Jt=ci(Vt.year,0,Vt.dayOfYear),this.year(Jt.getUTCFullYear()),this.month(Jt.getUTCMonth()),this.date(Jt.getUTCDate()),this}.call(this,g,C=kt<C?kt:C,L,P,K))}ut("N",0,0,"eraAbbr"),ut("NN",0,0,"eraAbbr"),ut("NNN",0,0,"eraAbbr"),ut("NNNN",0,0,"eraName"),ut("NNNNN",0,0,"eraNarrow"),ut("y",["y",1],"yo","eraYear"),ut("y",["yy",2],0,"eraYear"),ut("y",["yyy",3],0,"eraYear"),ut("y",["yyyy",4],0,"eraYear"),Ct("N",k2),Ct("NN",k2),Ct("NNN",k2),Ct("NNNN",function(g,C){return C.erasNameRegex(g)}),Ct("NNNNN",function(g,C){return C.erasNarrowRegex(g)}),Oe(["N","NN","NNN","NNNN","NNNNN"],function(g,C,L,P){P=L._locale.erasParse(g,P,L._strict),P?D(L).era=P:D(L).invalidEra=g}),Ct("y",Xt),Ct("yy",Xt),Ct("yyy",Xt),Ct("yyyy",Xt),Ct("yo",function(g,C){return C._eraYearOrdinalRegex||Xt}),Oe(["y","yy","yyy","yyyy"],Se),Oe(["yo"],function(g,C,L,P){var K;L._locale._eraYearOrdinalRegex&&(K=g.match(L._locale._eraYearOrdinalRegex)),L._locale.eraYearOrdinalParse?C[Se]=L._locale.eraYearOrdinalParse(g,K):C[Se]=parseInt(g,10)}),ut(0,["gg",2],0,function(){return this.weekYear()%100}),ut(0,["GG",2],0,function(){return this.isoWeekYear()%100}),z1("gggg","weekYear"),z1("ggggg","weekYear"),z1("GGGG","isoWeekYear"),z1("GGGGG","isoWeekYear"),Tt("weekYear","gg"),Tt("isoWeekYear","GG"),et("weekYear",1),et("isoWeekYear",1),Ct("G",Nt),Ct("g",Nt),Ct("GG",nt,mn),Ct("gg",nt,mn),Ct("GGGG",nl,oc),Ct("gggg",nl,oc),Ct("GGGGG",tl,el),Ct("ggggg",tl,el),zn(["gggg","ggggg","GGGG","GGGGG"],function(g,C,L,P){C[P.substr(0,2)]=Z(g)}),zn(["gg","GG"],function(g,C,L,P){C[P]=r.parseTwoDigitYear(g)}),ut("Q",0,"Qo","quarter"),Tt("quarter","Q"),et("quarter",7),Ct("Q",N),Oe("Q",function(g,C){C[we]=3*(Z(g)-1)}),ut("D",["DD",2],"Do","date"),Tt("date","D"),et("date",9),Ct("D",nt),Ct("DD",nt,mn),Ct("Do",function(g,C){return g?C._dayOfMonthOrdinalParse||C._ordinalParse:C._dayOfMonthOrdinalParseLenient}),Oe(["D","DD"],Ht),Oe("Do",function(g,C){C[Ht]=Z(g.match(nt)[0])}),nl=q("Date",!0),ut("DDD",["DDDD",3],"DDDo","dayOfYear"),Tt("dayOfYear","DDD"),et("dayOfYear",4),Ct("DDD",de),Ct("DDDD",Lt),Oe(["DDD","DDDD"],function(g,C,L){L._dayOfYear=Z(g)}),ut("m",["mm",2],0,"minute"),Tt("minute","m"),et("minute",14),Ct("m",nt),Ct("mm",nt,mn),Oe(["m","mm"],ae);var Ja,oc=q("Minutes",!1),tl=(ut("s",["ss",2],0,"second"),Tt("second","s"),et("second",15),Ct("s",nt),Ct("ss",nt,mn),Oe(["s","ss"],Ut),q("Seconds",!1));for(ut("S",0,0,function(){return~~(this.millisecond()/100)}),ut(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),ut(0,["SSS",3],0,"millisecond"),ut(0,["SSSS",4],0,function(){return 10*this.millisecond()}),ut(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),ut(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),ut(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),ut(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),ut(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),Tt("millisecond","ms"),et("millisecond",16),Ct("S",de,N),Ct("SS",de,mn),Ct("SSS",de,Lt),Ja="SSSS";Ja.length<=9;Ja+="S")Ct(Ja,Xt);function mK(g,C){C[Te]=Z(1e3*("0."+g))}for(Ja="S";Ja.length<=9;Ja+="S")Oe(Ja,mK);el=q("Milliseconds",!1),ut("z",0,0,"zoneAbbr"),ut("zz",0,0,"zoneName"),N=rt.prototype;function B7(g){return g}N.add=rn,N.calendar=function(L,K){arguments.length===1&&(arguments[0]?gK(arguments[0])?(L=arguments[0],K=void 0):function(kt){for(var Vt=a(kt)&&!h(kt),Jt=!1,Ee=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],me=0;me<Ee.length;me+=1)Jt=Jt||u(kt,Ee[me]);return Vt&&Jt}(arguments[0])&&(K=arguments[0],L=void 0):K=L=void 0);var L=L||Gn(),P=hi(L,this).startOf("day"),P=r.calendarFormat(this,P)||"sameElse",K=K&&($(K[P])?K[P].call(this,L):K[P]);return this.format(K||this.localeData().calendar(P,this,Gn(L)))},N.clone=function(){return new rt(this)},N.diff=function(g,C,L){var P,K,kt;if(!this.isValid())return NaN;if(!(P=hi(g,this)).isValid())return NaN;switch(K=6e4*(P.utcOffset()-this.utcOffset()),C=Wt(C)){case"year":kt=U1(this,P)/12;break;case"month":kt=U1(this,P);break;case"quarter":kt=U1(this,P)/3;break;case"second":kt=(this-P)/1e3;break;case"minute":kt=(this-P)/6e4;break;case"hour":kt=(this-P)/36e5;break;case"day":kt=(this-P-K)/864e5;break;case"week":kt=(this-P-K)/6048e5;break;default:kt=this-P}return L?kt:pt(kt)},N.endOf=function(g){var C,L;if((g=Wt(g))===void 0||g==="millisecond"||!this.isValid())return this;switch(L=this._isUTC?w7:A7,g){case"year":C=L(this.year()+1,0,1)-1;break;case"quarter":C=L(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":C=L(this.year(),this.month()+1,1)-1;break;case"week":C=L(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":C=L(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":C=L(this.year(),this.month(),this.date()+1)-1;break;case"hour":C=this._d.valueOf(),C+=36e5-Nu(C+(this._isUTC?0:6e4*this.utcOffset()),36e5)-1;break;case"minute":C=this._d.valueOf(),C+=6e4-Nu(C,6e4)-1;break;case"second":C=this._d.valueOf(),C+=1e3-Nu(C,1e3)-1;break}return this._d.setTime(C),r.updateOffset(this,!0),this},N.format=function(g){return g=g||(this.isUtc()?r.defaultFormatUtc:r.defaultFormat),g=Et(this,g),this.localeData().postformat(g)},N.from=function(g,C){return this.isValid()&&(lt(g)&&g.isValid()||Gn(g).isValid())?no({to:this,from:g}).locale(this.locale()).humanize(!C):this.localeData().invalidDate()},N.fromNow=function(g){return this.from(Gn(),g)},N.to=function(g,C){return this.isValid()&&(lt(g)&&g.isValid()||Gn(g).isValid())?no({from:this,to:g}).locale(this.locale()).humanize(!C):this.localeData().invalidDate()},N.toNow=function(g){return this.to(Gn(),g)},N.get=function(g){return $(this[g=Wt(g)])?this[g]():this},N.invalidAt=function(){return D(this).overflow},N.isAfter=function(g,C){return g=lt(g)?g:Gn(g),!(!this.isValid()||!g.isValid())&&((C=Wt(C)||"millisecond")==="millisecond"?this.valueOf()>g.valueOf():g.valueOf()<this.clone().startOf(C).valueOf())},N.isBefore=function(g,C){return g=lt(g)?g:Gn(g),!(!this.isValid()||!g.isValid())&&((C=Wt(C)||"millisecond")==="millisecond"?this.valueOf()<g.valueOf():this.clone().endOf(C).valueOf()<g.valueOf())},N.isBetween=function(g,C,L,P){return g=lt(g)?g:Gn(g),C=lt(C)?C:Gn(C),!!(this.isValid()&&g.isValid()&&C.isValid())&&((P=P||"()")[0]==="("?this.isAfter(g,L):!this.isBefore(g,L))&&(P[1]===")"?this.isBefore(C,L):!this.isAfter(C,L))},N.isSame=function(L,C){var L=lt(L)?L:Gn(L);return!(!this.isValid()||!L.isValid())&&((C=Wt(C)||"millisecond")==="millisecond"?this.valueOf()===L.valueOf():(L=L.valueOf(),this.clone().startOf(C).valueOf()<=L&&L<=this.clone().endOf(C).valueOf()))},N.isSameOrAfter=function(g,C){return this.isSame(g,C)||this.isAfter(g,C)},N.isSameOrBefore=function(g,C){return this.isSame(g,C)||this.isBefore(g,C)},N.isValid=function(){return M(this)},N.lang=Ms,N.locale=x7,N.localeData=k7,N.max=vt,N.min=Be,N.parsingFlags=function(){return x({},D(this))},N.set=function(g,C){if(typeof g=="object")for(var L=function(kt){var Vt,Jt=[];for(Vt in kt)u(kt,Vt)&&Jt.push({unit:Vt,priority:ve[Vt]});return Jt.sort(function(Ee,me){return Ee.priority-me.priority}),Jt}(g=dt(g)),P=L.length,K=0;K<P;K++)this[L[K].unit](g[L[K].unit]);else if($(this[g=Wt(g)]))return this[g](C);return this},N.startOf=function(g){var C,L;if((g=Wt(g))===void 0||g==="millisecond"||!this.isValid())return this;switch(L=this._isUTC?w7:A7,g){case"year":C=L(this.year(),0,1);break;case"quarter":C=L(this.year(),this.month()-this.month()%3,1);break;case"month":C=L(this.year(),this.month(),1);break;case"week":C=L(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":C=L(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":C=L(this.year(),this.month(),this.date());break;case"hour":C=this._d.valueOf(),C-=Nu(C+(this._isUTC?0:6e4*this.utcOffset()),36e5);break;case"minute":C=this._d.valueOf(),C-=Nu(C,6e4);break;case"second":C=this._d.valueOf(),C-=Nu(C,1e3);break}return this._d.setTime(C),r.updateOffset(this,!0),this},N.subtract=ks,N.toArray=function(){var g=this;return[g.year(),g.month(),g.date(),g.hour(),g.minute(),g.second(),g.millisecond()]},N.toObject=function(){var g=this;return{years:g.year(),months:g.month(),date:g.date(),hours:g.hours(),minutes:g.minutes(),seconds:g.seconds(),milliseconds:g.milliseconds()}},N.toDate=function(){return new Date(this.valueOf())},N.toISOString=function(g){if(!this.isValid())return null;var C=(g=g!==!0)?this.clone().utc():this;return C.year()<0||9999<C.year()?Et(C,g?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):$(Date.prototype.toISOString)?g?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",Et(C,"Z")):Et(C,g?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")},N.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var g,C="moment",L="";return this.isLocal()||(C=this.utcOffset()===0?"moment.utc":"moment.parseZone",L="Z"),C="["+C+'("]',g=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",this.format(C+g+"-MM-DD[T]HH:mm:ss.SSS"+(L+'[")]'))},typeof Symbol<"u"&&Symbol.for!=null&&(N[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),N.toJSON=function(){return this.isValid()?this.toISOString():null},N.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},N.unix=function(){return Math.floor(this.valueOf()/1e3)},N.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},N.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},N.eraName=function(){for(var g,C=this.localeData().eras(),L=0,P=C.length;L<P;++L)if(g=this.clone().startOf("day").valueOf(),C[L].since<=g&&g<=C[L].until||C[L].until<=g&&g<=C[L].since)return C[L].name;return""},N.eraNarrow=function(){for(var g,C=this.localeData().eras(),L=0,P=C.length;L<P;++L)if(g=this.clone().startOf("day").valueOf(),C[L].since<=g&&g<=C[L].until||C[L].until<=g&&g<=C[L].since)return C[L].narrow;return""},N.eraAbbr=function(){for(var g,C=this.localeData().eras(),L=0,P=C.length;L<P;++L)if(g=this.clone().startOf("day").valueOf(),C[L].since<=g&&g<=C[L].until||C[L].until<=g&&g<=C[L].since)return C[L].abbr;return""},N.eraYear=function(){for(var g,C,L=this.localeData().eras(),P=0,K=L.length;P<K;++P)if(g=L[P].since<=L[P].until?1:-1,C=this.clone().startOf("day").valueOf(),L[P].since<=C&&C<=L[P].until||L[P].until<=C&&C<=L[P].since)return(this.year()-r(L[P].since).year())*g+L[P].offset;return this.year()},N.year=H1,N.isLeapYear=function(){return st(this.year())},N.weekYear=function(g){return E7.call(this,g,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},N.isoWeekYear=function(g){return E7.call(this,g,this.isoWeek(),this.isoWeekday(),1,4)},N.quarter=N.quarters=function(g){return g==null?Math.ceil((this.month()+1)/3):this.month(3*(g-1)+this.month()%3)},N.month=un,N.daysInMonth=function(){return Mt(this.year(),this.month())},N.week=N.weeks=function(g){var C=this.localeData().week(this);return g==null?C:this.add(7*(g-C),"d")},N.isoWeek=N.isoWeeks=function(g){var C=fs(this,1,4).week;return g==null?C:this.add(7*(g-C),"d")},N.weeksInYear=function(){var g=this.localeData()._week;return ms(this.year(),g.dow,g.doy)},N.weeksInWeekYear=function(){var g=this.localeData()._week;return ms(this.weekYear(),g.dow,g.doy)},N.isoWeeksInYear=function(){return ms(this.year(),1,4)},N.isoWeeksInISOWeekYear=function(){return ms(this.isoWeekYear(),1,4)},N.date=nl,N.day=N.days=function(g){if(!this.isValid())return g!=null?this:NaN;var C,L,P=this._isUTC?this._d.getUTCDay():this._d.getDay();return g!=null?(C=g,L=this.localeData(),g=typeof C!="string"?C:isNaN(C)?typeof(C=L.weekdaysParse(C))=="number"?C:null:parseInt(C,10),this.add(g-P,"d")):P},N.weekday=function(g){if(!this.isValid())return g!=null?this:NaN;var C=(this.day()+7-this.localeData()._week.dow)%7;return g==null?C:this.add(g-C,"d")},N.isoWeekday=function(g){return this.isValid()?g!=null?(C=g,L=this.localeData(),L=typeof C=="string"?L.weekdaysParse(C)%7||7:isNaN(C)?null:C,this.day(this.day()%7?L:L-7)):this.day()||7:g!=null?this:NaN;var C,L},N.dayOfYear=function(g){var C=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return g==null?C:this.add(g-C,"d")},N.hour=N.hours=Ot,N.minute=N.minutes=oc,N.second=N.seconds=tl,N.millisecond=N.milliseconds=el,N.utcOffset=function(g,C,L){var P,K=this._offset||0;if(!this.isValid())return g!=null?this:NaN;if(g==null)return this._isUTC?K:x2(this);if(typeof g=="string"){if((g=rc(qt,g))===null)return this}else Math.abs(g)<16&&!L&&(g*=60);return!this._isUTC&&C&&(P=x2(this)),this._offset=g,this._isUTC=!0,P!=null&&this.add(P,"m"),K!==g&&(!C||this._changeInProgress?v7(this,no(g-K,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,r.updateOffset(this,!0),this._changeInProgress=null)),this},N.utc=function(g){return this.utcOffset(0,g)},N.local=function(g){return this._isUTC&&(this.utcOffset(0,g),this._isUTC=!1,g&&this.subtract(x2(this),"m")),this},N.parseZone=function(){var g;return this._tzm!=null?this.utcOffset(this._tzm,!1,!0):typeof this._i=="string"&&((g=rc(Qt,this._i))!=null?this.utcOffset(g):this.utcOffset(0,!0)),this},N.hasAlignedHourOffset=function(g){return!!this.isValid()&&(g=g?Gn(g).utcOffset():0,(this.utcOffset()-g)%60==0)},N.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},N.isLocal=function(){return!!this.isValid()&&!this._isUTC},N.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},N.isUtc=g7,N.isUTC=g7,N.zoneAbbr=function(){return this._isUTC?"UTC":""},N.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},N.dates=it("dates accessor is deprecated. Use date instead.",nl),N.months=it("months accessor is deprecated. Use month instead",un),N.years=it("years accessor is deprecated. Use year instead",H1),N.zone=it("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",function(g,C){return g!=null?(this.utcOffset(g=typeof g!="string"?-g:g,C),this):-this.utcOffset()}),N.isDSTShifted=it("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",function(){if(!d(this._isDSTShifted))return this._isDSTShifted;var g,C={};return J(C,this),(C=Y1(C))._a?(g=(C._isUTC?k:Gn)(C._a),this._isDSTShifted=this.isValid()&&0<function(L,P,K){for(var kt=Math.min(L.length,P.length),Vt=Math.abs(L.length-P.length),Jt=0,Ee=0;Ee<kt;Ee++)(K&&L[Ee]!==P[Ee]||!K&&Z(L[Ee])!==Z(P[Ee]))&&Jt++;return Jt+Vt}(C._a,g.toArray())):this._isDSTShifted=!1,this._isDSTShifted}),mn=H.prototype;function W1(g,C,L,kt){var K=pn(),kt=k().set(kt,C);return K[L](kt,g)}function S7(g,C,L){if(y(g)&&(C=g,g=void 0),g=g||"",C!=null)return W1(g,C,L,"month");for(var P=[],K=0;K<12;K++)P[K]=W1(g,K,L,"month");return P}function A2(g,C,L,P){C=(typeof g=="boolean"?y(C)&&(L=C,C=void 0):(C=g,g=!1,y(L=C)&&(L=C,C=void 0)),C||"");var K,kt=pn(),Vt=g?kt._week.dow:0,Jt=[];if(L!=null)return W1(C,(L+Vt)%7,P,"day");for(K=0;K<7;K++)Jt[K]=W1(C,(K+Vt)%7,P,"day");return Jt}mn.calendar=function(g,C,L){return $(g=this._calendar[g]||this._calendar.sameElse)?g.call(C,L):g},mn.longDateFormat=function(g){var C=this._longDateFormat[g],L=this._longDateFormat[g.toUpperCase()];return C||!L?C:(this._longDateFormat[g]=L.match(T).map(function(P){return P==="MMMM"||P==="MM"||P==="DD"||P==="dddd"?P.slice(1):P}).join(""),this._longDateFormat[g])},mn.invalidDate=function(){return this._invalidDate},mn.ordinal=function(g){return this._ordinal.replace("%d",g)},mn.preparse=B7,mn.postformat=B7,mn.relativeTime=function(g,C,L,P){var K=this._relativeTime[L];return $(K)?K(g,C,L,P):K.replace(/%d/i,g)},mn.pastFuture=function(g,C){return $(g=this._relativeTime[0<g?"future":"past"])?g(C):g.replace(/%s/i,C)},mn.set=function(g){var C,L;for(L in g)u(g,L)&&($(C=g[L])?this[L]=C:this["_"+L]=C);this._config=g,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},mn.eras=function(g,C){for(var L,P=this._eras||pn("en")._eras,K=0,kt=P.length;K<kt;++K){switch(typeof P[K].since){case"string":L=r(P[K].since).startOf("day"),P[K].since=L.valueOf();break}switch(typeof P[K].until){case"undefined":P[K].until=1/0;break;case"string":L=r(P[K].until).startOf("day").valueOf(),P[K].until=L.valueOf();break}}return P},mn.erasParse=function(g,C,L){var P,K,kt,Vt,Jt,Ee=this.eras();for(g=g.toUpperCase(),P=0,K=Ee.length;P<K;++P)if(kt=Ee[P].name.toUpperCase(),Vt=Ee[P].abbr.toUpperCase(),Jt=Ee[P].narrow.toUpperCase(),L)switch(C){case"N":case"NN":case"NNN":if(Vt===g)return Ee[P];break;case"NNNN":if(kt===g)return Ee[P];break;case"NNNNN":if(Jt===g)return Ee[P];break}else if(0<=[kt,Vt,Jt].indexOf(g))return Ee[P]},mn.erasConvertYear=function(g,C){var L=g.since<=g.until?1:-1;return C===void 0?r(g.since).year():r(g.since).year()+(C-g.offset)*L},mn.erasAbbrRegex=function(g){return u(this,"_erasAbbrRegex")||C2.call(this),g?this._erasAbbrRegex:this._erasRegex},mn.erasNameRegex=function(g){return u(this,"_erasNameRegex")||C2.call(this),g?this._erasNameRegex:this._erasRegex},mn.erasNarrowRegex=function(g){return u(this,"_erasNarrowRegex")||C2.call(this),g?this._erasNarrowRegex:this._erasRegex},mn.months=function(g,C){return g?(o(this._months)?this._months:this._months[(this._months.isFormat||Sn).test(C)?"format":"standalone"])[g.month()]:o(this._months)?this._months:this._months.standalone},mn.monthsShort=function(g,C){return g?(o(this._monthsShort)?this._monthsShort:this._monthsShort[Sn.test(C)?"format":"standalone"])[g.month()]:o(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},mn.monthsParse=function(g,C,L){var P,K;if(this._monthsParseExact)return function(on,Vt,Jt){var Ee,me,_n,on=on.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],Ee=0;Ee<12;++Ee)_n=k([2e3,Ee]),this._shortMonthsParse[Ee]=this.monthsShort(_n,"").toLocaleLowerCase(),this._longMonthsParse[Ee]=this.months(_n,"").toLocaleLowerCase();return Jt?Vt==="MMM"?(me=Me.call(this._shortMonthsParse,on))!==-1?me:null:(me=Me.call(this._longMonthsParse,on))!==-1?me:null:Vt==="MMM"?(me=Me.call(this._shortMonthsParse,on))!==-1||(me=Me.call(this._longMonthsParse,on))!==-1?me:null:(me=Me.call(this._longMonthsParse,on))!==-1||(me=Me.call(this._shortMonthsParse,on))!==-1?me:null}.call(this,g,C,L);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),P=0;P<12;P++)if(K=k([2e3,P]),L&&!this._longMonthsParse[P]&&(this._longMonthsParse[P]=new RegExp("^"+this.months(K,"").replace(".","")+"$","i"),this._shortMonthsParse[P]=new RegExp("^"+this.monthsShort(K,"").replace(".","")+"$","i")),L||this._monthsParse[P]||(K="^"+this.months(K,"")+"|^"+this.monthsShort(K,""),this._monthsParse[P]=new RegExp(K.replace(".",""),"i")),L&&C==="MMMM"&&this._longMonthsParse[P].test(g)||L&&C==="MMM"&&this._shortMonthsParse[P].test(g)||!L&&this._monthsParse[P].test(g))return P},mn.monthsRegex=function(g){return this._monthsParseExact?(u(this,"_monthsRegex")||En.call(this),g?this._monthsStrictRegex:this._monthsRegex):(u(this,"_monthsRegex")||(this._monthsRegex=In),this._monthsStrictRegex&&g?this._monthsStrictRegex:this._monthsRegex)},mn.monthsShortRegex=function(g){return this._monthsParseExact?(u(this,"_monthsRegex")||En.call(this),g?this._monthsShortStrictRegex:this._monthsShortRegex):(u(this,"_monthsShortRegex")||(this._monthsShortRegex=Tn),this._monthsShortStrictRegex&&g?this._monthsShortStrictRegex:this._monthsShortRegex)},mn.week=function(g){return fs(g,this._week.dow,this._week.doy).week},mn.firstDayOfYear=function(){return this._week.doy},mn.firstDayOfWeek=function(){return this._week.dow},mn.weekdays=function(g,C){return C=o(this._weekdays)?this._weekdays:this._weekdays[g&&g!==!0&&this._weekdays.isFormat.test(C)?"format":"standalone"],g===!0?xs(C,this._week.dow):g?C[g.day()]:C},mn.weekdaysMin=function(g){return g===!0?xs(this._weekdaysMin,this._week.dow):g?this._weekdaysMin[g.day()]:this._weekdaysMin},mn.weekdaysShort=function(g){return g===!0?xs(this._weekdaysShort,this._week.dow):g?this._weekdaysShort[g.day()]:this._weekdaysShort},mn.weekdaysParse=function(g,C,L){var P,K;if(this._weekdaysParseExact)return function(on,Vt,Jt){var Ee,me,_n,on=on.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],Ee=0;Ee<7;++Ee)_n=k([2e3,1]).day(Ee),this._minWeekdaysParse[Ee]=this.weekdaysMin(_n,"").toLocaleLowerCase(),this._shortWeekdaysParse[Ee]=this.weekdaysShort(_n,"").toLocaleLowerCase(),this._weekdaysParse[Ee]=this.weekdays(_n,"").toLocaleLowerCase();return Jt?Vt==="dddd"?(me=Me.call(this._weekdaysParse,on))!==-1?me:null:Vt==="ddd"?(me=Me.call(this._shortWeekdaysParse,on))!==-1?me:null:(me=Me.call(this._minWeekdaysParse,on))!==-1?me:null:Vt==="dddd"?(me=Me.call(this._weekdaysParse,on))!==-1||(me=Me.call(this._shortWeekdaysParse,on))!==-1||(me=Me.call(this._minWeekdaysParse,on))!==-1?me:null:Vt==="ddd"?(me=Me.call(this._shortWeekdaysParse,on))!==-1||(me=Me.call(this._weekdaysParse,on))!==-1||(me=Me.call(this._minWeekdaysParse,on))!==-1?me:null:(me=Me.call(this._minWeekdaysParse,on))!==-1||(me=Me.call(this._weekdaysParse,on))!==-1||(me=Me.call(this._shortWeekdaysParse,on))!==-1?me:null}.call(this,g,C,L);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),P=0;P<7;P++)if(K=k([2e3,1]).day(P),L&&!this._fullWeekdaysParse[P]&&(this._fullWeekdaysParse[P]=new RegExp("^"+this.weekdays(K,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[P]=new RegExp("^"+this.weekdaysShort(K,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[P]=new RegExp("^"+this.weekdaysMin(K,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[P]||(K="^"+this.weekdays(K,"")+"|^"+this.weekdaysShort(K,"")+"|^"+this.weekdaysMin(K,""),this._weekdaysParse[P]=new RegExp(K.replace(".",""),"i")),L&&C==="dddd"&&this._fullWeekdaysParse[P].test(g)||L&&C==="ddd"&&this._shortWeekdaysParse[P].test(g)||L&&C==="dd"&&this._minWeekdaysParse[P].test(g)||!L&&this._weekdaysParse[P].test(g))return P},mn.weekdaysRegex=function(g){return this._weekdaysParseExact?(u(this,"_weekdaysRegex")||ne.call(this),g?this._weekdaysStrictRegex:this._weekdaysRegex):(u(this,"_weekdaysRegex")||(this._weekdaysRegex=qs),this._weekdaysStrictRegex&&g?this._weekdaysStrictRegex:this._weekdaysRegex)},mn.weekdaysShortRegex=function(g){return this._weekdaysParseExact?(u(this,"_weekdaysRegex")||ne.call(this),g?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(u(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=De),this._weekdaysShortStrictRegex&&g?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},mn.weekdaysMinRegex=function(g){return this._weekdaysParseExact?(u(this,"_weekdaysRegex")||ne.call(this),g?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(u(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=ft),this._weekdaysMinStrictRegex&&g?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},mn.isPM=function(g){return(g+"").toLowerCase().charAt(0)==="p"},mn.meridiem=function(g,C,L){return 11<g?L?"pm":"PM":L?"am":"AM"},Ye("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(g){var C=g%10;return g+(Z(g%100/10)===1?"th":C==1?"st":C==2?"nd":C==3?"rd":"th")}}),r.lang=it("moment.lang is deprecated. Use moment.locale instead.",Ye),r.langData=it("moment.langData is deprecated. Use moment.localeData instead.",pn);var ma=Math.abs;function T7(g,C,L,P){return C=no(C,L),g._milliseconds+=P*C._milliseconds,g._days+=P*C._days,g._months+=P*C._months,g._bubble()}function D7(g){return g<0?Math.floor(g):Math.ceil(g)}function F7(g){return 4800*g/146097}function w2(g){return 146097*g/4800}function _a(g){return function(){return this.as(g)}}de=_a("ms"),Lt=_a("s"),rn=_a("m"),vt=_a("h"),Be=_a("d"),ks=_a("w"),Ot=_a("M"),oc=_a("Q"),tl=_a("y");function ac(g){return function(){return this.isValid()?this._data[g]:NaN}}var el=ac("milliseconds"),nl=ac("seconds"),H1=ac("minutes"),mn=ac("hours"),_K=ac("days"),vK=ac("months"),bK=ac("years"),va=Math.round,Pu={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function xK(g,C,L,P){var me=no(g).abs(),_n=va(me.as("s")),K=va(me.as("m")),kt=va(me.as("h")),Vt=va(me.as("d")),Jt=va(me.as("M")),Ee=va(me.as("w")),me=va(me.as("y")),_n=(_n<=L.ss?["s",_n]:_n<L.s&&["ss",_n])||K<=1&&["m"]||K<L.m&&["mm",K]||kt<=1&&["h"]||kt<L.h&&["hh",kt]||Vt<=1&&["d"]||Vt<L.d&&["dd",Vt];return(_n=(_n=L.w!=null?_n||Ee<=1&&["w"]||Ee<L.w&&["ww",Ee]:_n)||Jt<=1&&["M"]||Jt<L.M&&["MM",Jt]||me<=1&&["y"]||["yy",me])[2]=C,_n[3]=0<+g,_n[4]=P,function(on,Ts,Ks,so,B2){return B2.relativeTime(Ts||1,!!Ks,on,so)}.apply(null,_n)}var E2=Math.abs;function Vu(g){return(0<g)-(g<0)||+g}function j1(){if(!this.isValid())return this.localeData().invalidDate();var g,C,L,P,K,kt,Vt,Jt=E2(this._milliseconds)/1e3,Ee=E2(this._days),me=E2(this._months),_n=this.asSeconds();return _n?(g=pt(Jt/60),C=pt(g/60),Jt%=60,g%=60,L=pt(me/12),me%=12,P=Jt?Jt.toFixed(3).replace(/\.?0+$/,""):"",K=Vu(this._months)!==Vu(_n)?"-":"",kt=Vu(this._days)!==Vu(_n)?"-":"",Vt=Vu(this._milliseconds)!==Vu(_n)?"-":"",(_n<0?"-":"")+"P"+(L?K+L+"Y":"")+(me?K+me+"M":"")+(Ee?kt+Ee+"D":"")+(C||g||Jt?"T":"")+(C?Vt+C+"H":"")+(g?Vt+g+"M":"")+(Jt?Vt+P+"S":"")):"P0D"}var Hn=eo.prototype;return Hn.isValid=function(){return this._isValid},Hn.abs=function(){var g=this._data;return this._milliseconds=ma(this._milliseconds),this._days=ma(this._days),this._months=ma(this._months),g.milliseconds=ma(g.milliseconds),g.seconds=ma(g.seconds),g.minutes=ma(g.minutes),g.hours=ma(g.hours),g.months=ma(g.months),g.years=ma(g.years),this},Hn.add=function(g,C){return T7(this,g,C,1)},Hn.subtract=function(g,C){return T7(this,g,C,-1)},Hn.as=function(g){if(!this.isValid())return NaN;var C,L,P=this._milliseconds;if((g=Wt(g))==="month"||g==="quarter"||g==="year")switch(C=this._days+P/864e5,L=this._months+F7(C),g){case"month":return L;case"quarter":return L/3;case"year":return L/12}else switch(C=this._days+Math.round(w2(this._months)),g){case"week":return C/7+P/6048e5;case"day":return C+P/864e5;case"hour":return 24*C+P/36e5;case"minute":return 1440*C+P/6e4;case"second":return 86400*C+P/1e3;case"millisecond":return Math.floor(864e5*C)+P;default:throw new Error("Unknown unit "+g)}},Hn.asMilliseconds=de,Hn.asSeconds=Lt,Hn.asMinutes=rn,Hn.asHours=vt,Hn.asDays=Be,Hn.asWeeks=ks,Hn.asMonths=Ot,Hn.asQuarters=oc,Hn.asYears=tl,Hn.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*Z(this._months/12):NaN},Hn._bubble=function(){var g=this._milliseconds,C=this._days,L=this._months,P=this._data;return 0<=g&&0<=C&&0<=L||g<=0&&C<=0&&L<=0||(g+=864e5*D7(w2(L)+C),L=C=0),P.milliseconds=g%1e3,g=pt(g/1e3),P.seconds=g%60,g=pt(g/60),P.minutes=g%60,g=pt(g/60),P.hours=g%24,C+=pt(g/24),L+=g=pt(F7(C)),C-=D7(w2(g)),g=pt(L/12),L%=12,P.days=C,P.months=L,P.years=g,this},Hn.clone=function(){return no(this)},Hn.get=function(g){return g=Wt(g),this.isValid()?this[g+"s"]():NaN},Hn.milliseconds=el,Hn.seconds=nl,Hn.minutes=H1,Hn.hours=mn,Hn.days=_K,Hn.weeks=function(){return pt(this.days()/7)},Hn.months=vK,Hn.years=bK,Hn.humanize=function(g,C){if(!this.isValid())return this.localeData().invalidDate();var L=!1,P=Pu;return typeof g=="object"&&(C=g,g=!1),typeof g=="boolean"&&(L=g),typeof C=="object"&&(P=Object.assign({},Pu,C),C.s!=null&&C.ss==null&&(P.ss=C.s-1)),g=this.localeData(),C=xK(this,!L,P,g),L&&(C=g.pastFuture(+this,C)),g.postformat(C)},Hn.toISOString=j1,Hn.toString=j1,Hn.toJSON=j1,Hn.locale=x7,Hn.localeData=k7,Hn.toIsoString=it("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",j1),Hn.lang=Ms,ut("X",0,0,"unix"),ut("x",0,0,"valueOf"),Ct("x",Nt),Ct("X",/[+-]?\d+(\.\d{1,3})?/),Oe("X",function(g,C,L){L._d=new Date(1e3*parseFloat(g))}),Oe("x",function(g,C,L){L._d=new Date(Z(g))}),r.version="2.29.4",s=Gn,r.fn=N,r.min=function(){return Yr("isBefore",[].slice.call(arguments,0))},r.max=function(){return Yr("isAfter",[].slice.call(arguments,0))},r.now=function(){return Date.now?Date.now():+new Date},r.utc=k,r.unix=function(g){return Gn(1e3*g)},r.months=function(g,C){return S7(g,C,"months")},r.isDate=_,r.locale=Ye,r.invalid=R,r.duration=no,r.isMoment=lt,r.weekdays=function(g,C,L){return A2(g,C,L,"weekdays")},r.parseZone=function(){return Gn.apply(null,arguments).parseZone()},r.localeData=pn,r.isDuration=ga,r.monthsShort=function(g,C){return S7(g,C,"monthsShort")},r.weekdaysMin=function(g,C,L){return A2(g,C,L,"weekdaysMin")},r.defineLocale=sn,r.updateLocale=function(g,C){var L,P;return C!=null?(P=Ss,Fn[g]!=null&&Fn[g].parentLocale!=null?Fn[g].set(I(Fn[g]._config,C)):(C=I(P=(L=Jr(g))!=null?L._config:P,C),L==null&&(C.abbr=g),(P=new H(C)).parentLocale=Fn[g],Fn[g]=P),Ye(g)):Fn[g]!=null&&(Fn[g].parentLocale!=null?(Fn[g]=Fn[g].parentLocale,g===Ye()&&Ye(g)):Fn[g]!=null&&delete Fn[g]),Fn[g]},r.locales=function(){return S(Fn)},r.weekdaysShort=function(g,C,L){return A2(g,C,L,"weekdaysShort")},r.normalizeUnits=Wt,r.relativeTimeRounding=function(g){return g===void 0?va:typeof g=="function"&&(va=g,!0)},r.relativeTimeThreshold=function(g,C){return Pu[g]!==void 0&&(C===void 0?Pu[g]:(Pu[g]=C,g==="s"&&(Pu.ss=C-1),!0))},r.calendarFormat=function(g,C){return(g=g.diff(C,"days",!0))<-6?"sameElse":g<-1?"lastWeek":g<0?"lastDay":g<1?"sameDay":g<2?"nextDay":g<7?"nextWeek":"sameElse"},r.prototype=N,r.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},r})})(B);const F=B.exports,O={trace:0,debug:1,info:2,warn:3,error:4,fatal:5},w={trace:(...t)=>{},debug:(...t)=>{},info:(...t)=>{},warn:(...t)=>{},error:(...t)=>{},fatal:(...t)=>{}},z=function(t="fatal"){let e=O.fatal;typeof t=="string"?(t=t.toLowerCase(),t in O&&(e=O[t])):typeof t=="number"&&(e=t),w.trace=()=>{},w.debug=()=>{},w.info=()=>{},w.warn=()=>{},w.error=()=>{},w.fatal=()=>{},e<=O.fatal&&(w.fatal=console.error?console.error.bind(console,G("FATAL"),"color: orange"):console.log.bind(console,"\x1B[35m",G("FATAL"))),e<=O.error&&(w.error=console.error?console.error.bind(console,G("ERROR"),"color: orange"):console.log.bind(console,"\x1B[31m",G("ERROR"))),e<=O.warn&&(w.warn=console.warn?console.warn.bind(console,G("WARN"),"color: orange"):console.log.bind(console,"\x1B[33m",G("WARN"))),e<=O.info&&(w.info=console.info?console.info.bind(console,G("INFO"),"color: lightblue"):console.log.bind(console,"\x1B[34m",G("INFO"))),e<=O.debug&&(w.debug=console.debug?console.debug.bind(console,G("DEBUG"),"color: lightgreen"):console.log.bind(console,"\x1B[32m",G("DEBUG"))),e<=O.trace&&(w.trace=console.debug?console.debug.bind(console,G("TRACE"),"color: lightgreen"):console.log.bind(console,"\x1B[32m",G("TRACE")))},G=t=>`%c${F().format("ss.SSS")} : ${t} : `;var ot={};Object.defineProperty(ot,"__esModule",{value:!0});var at=ot.sanitizeUrl=void 0,At=/^([^\w]*)(javascript|data|vbscript)/im,St=/&#(\w+)(^\w|;)?/g,Kt=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim,$t=/^([^:]+):/gm,Zt=[".","/"];function ie(t){return Zt.indexOf(t[0])>-1}function Fe(t){return t.replace(St,function(e,s){return String.fromCharCode(s)})}function Ae(t){var e=Fe(t||"").replace(Kt,"").trim();if(!e)return"about:blank";if(ie(e))return e;var s=e.match($t);if(!s)return e;var r=s[0];return At.test(r)?"about:blank":e}at=ot.sanitizeUrl=Ae;function be(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function qe(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function fn(t){let e,s,r;t.length!==2?(e=be,s=(h,d)=>be(t(h),d),r=(h,d)=>t(h)-d):(e=t===be||t===qe?t:On,s=t,r=t);function o(h,d,y=0,_=h.length){if(y<_){if(e(d,d)!==0)return _;do{const v=y+_>>>1;s(h[v],d)<0?y=v+1:_=v}while(y<_)}return y}function a(h,d,y=0,_=h.length){if(y<_){if(e(d,d)!==0)return _;do{const v=y+_>>>1;s(h[v],d)<=0?y=v+1:_=v}while(y<_)}return y}function u(h,d,y=0,_=h.length){const v=o(h,d,y,_-1);return v>y&&r(h[v-1],d)>-r(h[v],d)?v-1:v}return{left:o,center:u,right:a}}function On(){return 0}function $n(t){return t===null?NaN:+t}const Js=fn(be).right;fn($n).center;const tr=Js;class Kn extends Map{constructor(e,s=Mn){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:s}}),e!=null)for(const[r,o]of e)this.set(r,o)}get(e){return super.get(ds(this,e))}has(e){return super.has(ds(this,e))}set(e,s){return super.set(Le(this,e),s)}delete(e){return super.delete(nn(this,e))}}function ds({_intern:t,_key:e},s){const r=e(s);return t.has(r)?t.get(r):s}function Le({_intern:t,_key:e},s){const r=e(s);return t.has(r)?t.get(r):(t.set(r,s),s)}function nn({_intern:t,_key:e},s){const r=e(s);return t.has(r)&&(s=t.get(r),t.delete(r)),s}function Mn(t){return t!==null&&typeof t=="object"?t.valueOf():t}var qn=Math.sqrt(50),gr=Math.sqrt(10),Ys=Math.sqrt(2);function Ar(t,e,s){var r,o=-1,a,u,h;if(e=+e,t=+t,s=+s,t===e&&s>0)return[t];if((r=e<t)&&(a=t,t=e,e=a),(h=Fi(t,e,s))===0||!isFinite(h))return[];if(h>0){let d=Math.round(t/h),y=Math.round(e/h);for(d*h<t&&++d,y*h>e&&--y,u=new Array(a=y-d+1);++o<a;)u[o]=(d+o)*h}else{h=-h;let d=Math.round(t*h),y=Math.round(e*h);for(d/h<t&&++d,y/h>e&&--y,u=new Array(a=y-d+1);++o<a;)u[o]=(d+o)/h}return r&&u.reverse(),u}function Fi(t,e,s){var r=(e-t)/Math.max(0,s),o=Math.floor(Math.log(r)/Math.LN10),a=r/Math.pow(10,o);return o>=0?(a>=qn?10:a>=gr?5:a>=Ys?2:1)*Math.pow(10,o):-Math.pow(10,-o)/(a>=qn?10:a>=gr?5:a>=Ys?2:1)}function zt(t,e,s){var r=Math.abs(e-t)/Math.max(0,s),o=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),a=r/o;return a>=qn?o*=10:a>=gr?o*=5:a>=Ys&&(o*=2),e<t?-o:o}function Re(t,e){let s;if(e===void 0)for(const r of t)r!=null&&(s<r||s===void 0&&r>=r)&&(s=r);else{let r=-1;for(let o of t)(o=e(o,++r,t))!=null&&(s<o||s===void 0&&o>=o)&&(s=o)}return s}function ke(t,e){let s;if(e===void 0)for(const r of t)r!=null&&(s>r||s===void 0&&r>=r)&&(s=r);else{let r=-1;for(let o of t)(o=e(o,++r,t))!=null&&(s>o||s===void 0&&o>=o)&&(s=o)}return s}function $e(t){return t}var Ln=1,Pn=2,yn=3,an=4,Q=1e-6;function gt(t){return"translate("+t+",0)"}function It(t){return"translate(0,"+t+")"}function se(t){return e=>+t(e)}function te(t,e){return e=Math.max(0,t.bandwidth()-e*2)/2,t.round()&&(e=Math.round(e)),s=>+t(s)+e}function pe(){return!this.__axis}function Ce(t,e){var s=[],r=null,o=null,a=6,u=6,h=3,d=typeof window<"u"&&window.devicePixelRatio>1?0:.5,y=t===Ln||t===an?-1:1,_=t===an||t===Pn?"x":"y",v=t===Ln||t===yn?gt:It;function x(k){var D=r??(e.ticks?e.ticks.apply(e,s):e.domain()),M=o??(e.tickFormat?e.tickFormat.apply(e,s):$e),R=Math.max(a,0)+h,Y=e.range(),V=+Y[0]+d,X=+Y[Y.length-1]+d,J=(e.bandwidth?te:se)(e.copy(),d),rt=k.selection?k.selection():k,lt=rt.selectAll(".domain").data([null]),tt=rt.selectAll(".tick").data(D,e).order(),it=tt.exit(),j=tt.enter().append("g").attr("class","tick"),W=tt.select("line"),$=tt.select("text");lt=lt.merge(lt.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),tt=tt.merge(j),W=W.merge(j.append("line").attr("stroke","currentColor").attr(_+"2",y*a)),$=$.merge(j.append("text").attr("fill","currentColor").attr(_,y*R).attr("dy",t===Ln?"0em":t===yn?"0.71em":"0.32em")),k!==rt&&(lt=lt.transition(k),tt=tt.transition(k),W=W.transition(k),$=$.transition(k),it=it.transition(k).attr("opacity",Q).attr("transform",function(I){return isFinite(I=J(I))?v(I+d):this.getAttribute("transform")}),j.attr("opacity",Q).attr("transform",function(I){var H=this.parentNode.__axis;return v((H&&isFinite(H=H(I))?H:J(I))+d)})),it.remove(),lt.attr("d",t===an||t===Pn?u?"M"+y*u+","+V+"H"+d+"V"+X+"H"+y*u:"M"+d+","+V+"V"+X:u?"M"+V+","+y*u+"V"+d+"H"+X+"V"+y*u:"M"+V+","+d+"H"+X),tt.attr("opacity",1).attr("transform",function(I){return v(J(I)+d)}),W.attr(_+"2",y*a),$.attr(_,y*R).text(M),rt.filter(pe).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===Pn?"start":t===an?"end":"middle"),rt.each(function(){this.__axis=J})}return x.scale=function(k){return arguments.length?(e=k,x):e},x.ticks=function(){return s=Array.from(arguments),x},x.tickArguments=function(k){return arguments.length?(s=k==null?[]:Array.from(k),x):s.slice()},x.tickValues=function(k){return arguments.length?(r=k==null?null:Array.from(k),x):r&&r.slice()},x.tickFormat=function(k){return arguments.length?(o=k,x):o},x.tickSize=function(k){return arguments.length?(a=u=+k,x):a},x.tickSizeInner=function(k){return arguments.length?(a=+k,x):a},x.tickSizeOuter=function(k){return arguments.length?(u=+k,x):u},x.tickPadding=function(k){return arguments.length?(h=+k,x):h},x.offset=function(k){return arguments.length?(d=+k,x):d},x}function he(t){return Ce(Ln,t)}function _e(t){return Ce(yn,t)}var oe={value:()=>{}};function He(){for(var t=0,e=arguments.length,s={},r;t<e;++t){if(!(r=arguments[t]+"")||r in s||/[\s.]/.test(r))throw new Error("illegal type: "+r);s[r]=[]}return new Ve(s)}function Ve(t){this._=t}function Je(t,e){return t.trim().split(/^|\s+/).map(function(s){var r="",o=s.indexOf(".");if(o>=0&&(r=s.slice(o+1),s=s.slice(0,o)),s&&!e.hasOwnProperty(s))throw new Error("unknown type: "+s);return{type:s,name:r}})}Ve.prototype=He.prototype={constructor:Ve,on:function(t,e){var s=this._,r=Je(t+"",s),o,a=-1,u=r.length;if(arguments.length<2){for(;++a<u;)if((o=(t=r[a]).type)&&(o=bn(s[o],t.name)))return o;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++a<u;)if(o=(t=r[a]).type)s[o]=Vn(s[o],t.name,e);else if(e==null)for(o in s)s[o]=Vn(s[o],t.name,null);return this},copy:function(){var t={},e=this._;for(var s in e)t[s]=e[s].slice();return new Ve(t)},call:function(t,e){if((o=arguments.length-2)>0)for(var s=new Array(o),r=0,o,a;r<o;++r)s[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(a=this._[t],r=0,o=a.length;r<o;++r)a[r].value.apply(e,s)},apply:function(t,e,s){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],o=0,a=r.length;o<a;++o)r[o].value.apply(e,s)}};function bn(t,e){for(var s=0,r=t.length,o;s<r;++s)if((o=t[s]).name===e)return o.value}function Vn(t,e,s){for(var r=0,o=t.length;r<o;++r)if(t[r].name===e){t[r]=oe,t=t.slice(0,r).concat(t.slice(r+1));break}return s!=null&&t.push({name:e,value:s}),t}var Zn="http://www.w3.org/1999/xhtml";const Qn={svg:"http://www.w3.org/2000/svg",xhtml:Zn,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function vs(t){var e=t+="",s=e.indexOf(":");return s>=0&&(e=t.slice(0,s))!=="xmlns"&&(t=t.slice(s+1)),Qn.hasOwnProperty(e)?{space:Qn[e],local:t}:t}function ni(t){return function(){var e=this.ownerDocument,s=this.namespaceURI;return s===Zn&&e.documentElement.namespaceURI===Zn?e.createElement(t):e.createElementNS(s,t)}}function Ra(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function rh(t){var e=vs(t);return(e.local?Ra:ni)(e)}function kl(){}function Pc(t){return t==null?kl:function(){return this.querySelector(t)}}function mr(t){typeof t!="function"&&(t=Pc(t));for(var e=this._groups,s=e.length,r=new Array(s),o=0;o<s;++o)for(var a=e[o],u=a.length,h=r[o]=new Array(u),d,y,_=0;_<u;++_)(d=a[_])&&(y=t.call(d,d.__data__,_,a))&&("__data__"in d&&(y.__data__=d.__data__),h[_]=y);return new Mr(r,this._parents)}function si(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function ld(){return[]}function p5(t){return t==null?ld:function(){return this.querySelectorAll(t)}}function Rw(t){return function(){return si(t.apply(this,arguments))}}function Ow(t){typeof t=="function"?t=Rw(t):t=p5(t);for(var e=this._groups,s=e.length,r=[],o=[],a=0;a<s;++a)for(var u=e[a],h=u.length,d,y=0;y<h;++y)(d=u[y])&&(r.push(t.call(d,d.__data__,y,u)),o.push(d));return new Mr(r,o)}function d5(t){return function(){return this.matches(t)}}function f5(t){return function(e){return e.matches(t)}}var Nw=Array.prototype.find;function Pw(t){return function(){return Nw.call(this.children,t)}}function Vw(){return this.firstElementChild}function $w(t){return this.select(t==null?Vw:Pw(typeof t=="function"?t:f5(t)))}var Yw=Array.prototype.filter;function Uw(){return Array.from(this.children)}function zw(t){return function(){return Yw.call(this.children,t)}}function Ww(t){return this.selectAll(t==null?Uw:zw(typeof t=="function"?t:f5(t)))}function Hw(t){typeof t!="function"&&(t=d5(t));for(var e=this._groups,s=e.length,r=new Array(s),o=0;o<s;++o)for(var a=e[o],u=a.length,h=r[o]=[],d,y=0;y<u;++y)(d=a[y])&&t.call(d,d.__data__,y,a)&&h.push(d);return new Mr(r,this._parents)}function y5(t){return new Array(t.length)}function jw(){return new Mr(this._enter||this._groups.map(y5),this._parents)}function cd(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}cd.prototype={constructor:cd,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function Gw(t){return function(){return t}}function qw(t,e,s,r,o,a){for(var u=0,h,d=e.length,y=a.length;u<y;++u)(h=e[u])?(h.__data__=a[u],r[u]=h):s[u]=new cd(t,a[u]);for(;u<d;++u)(h=e[u])&&(o[u]=h)}function Xw(t,e,s,r,o,a,u){var h,d,y=new Map,_=e.length,v=a.length,x=new Array(_),k;for(h=0;h<_;++h)(d=e[h])&&(x[h]=k=u.call(d,d.__data__,h,e)+"",y.has(k)?o[h]=d:y.set(k,d));for(h=0;h<v;++h)k=u.call(t,a[h],h,a)+"",(d=y.get(k))?(r[h]=d,d.__data__=a[h],y.delete(k)):s[h]=new cd(t,a[h]);for(h=0;h<_;++h)(d=e[h])&&y.get(x[h])===d&&(o[h]=d)}function Kw(t){return t.__data__}function Zw(t,e){if(!arguments.length)return Array.from(this,Kw);var s=e?Xw:qw,r=this._parents,o=this._groups;typeof t!="function"&&(t=Gw(t));for(var a=o.length,u=new Array(a),h=new Array(a),d=new Array(a),y=0;y<a;++y){var _=r[y],v=o[y],x=v.length,k=Qw(t.call(_,_&&_.__data__,y,r)),D=k.length,M=h[y]=new Array(D),R=u[y]=new Array(D),Y=d[y]=new Array(x);s(_,v,M,R,Y,k,e);for(var V=0,X=0,J,rt;V<D;++V)if(J=M[V]){for(V>=X&&(X=V+1);!(rt=R[X])&&++X<D;);J._next=rt||null}}return u=new Mr(u,r),u._enter=h,u._exit=d,u}function Qw(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Jw(){return new Mr(this._exit||this._groups.map(y5),this._parents)}function t9(t,e,s){var r=this.enter(),o=this,a=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),e!=null&&(o=e(o),o&&(o=o.selection())),s==null?a.remove():s(a),r&&o?r.merge(o).order():o}function e9(t){for(var e=t.selection?t.selection():t,s=this._groups,r=e._groups,o=s.length,a=r.length,u=Math.min(o,a),h=new Array(o),d=0;d<u;++d)for(var y=s[d],_=r[d],v=y.length,x=h[d]=new Array(v),k,D=0;D<v;++D)(k=y[D]||_[D])&&(x[D]=k);for(;d<o;++d)h[d]=s[d];return new Mr(h,this._parents)}function n9(){for(var t=this._groups,e=-1,s=t.length;++e<s;)for(var r=t[e],o=r.length-1,a=r[o],u;--o>=0;)(u=r[o])&&(a&&u.compareDocumentPosition(a)^4&&a.parentNode.insertBefore(u,a),a=u);return this}function s9(t){t||(t=r9);function e(v,x){return v&&x?t(v.__data__,x.__data__):!v-!x}for(var s=this._groups,r=s.length,o=new Array(r),a=0;a<r;++a){for(var u=s[a],h=u.length,d=o[a]=new Array(h),y,_=0;_<h;++_)(y=u[_])&&(d[_]=y);d.sort(e)}return new Mr(o,this._parents).order()}function r9(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function i9(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function o9(){return Array.from(this)}function a9(){for(var t=this._groups,e=0,s=t.length;e<s;++e)for(var r=t[e],o=0,a=r.length;o<a;++o){var u=r[o];if(u)return u}return null}function l9(){let t=0;for(const e of this)++t;return t}function c9(){return!this.node()}function u9(t){for(var e=this._groups,s=0,r=e.length;s<r;++s)for(var o=e[s],a=0,u=o.length,h;a<u;++a)(h=o[a])&&t.call(h,h.__data__,a,o);return this}function h9(t){return function(){this.removeAttribute(t)}}function p9(t){return function(){this.removeAttributeNS(t.space,t.local)}}function d9(t,e){return function(){this.setAttribute(t,e)}}function f9(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function y9(t,e){return function(){var s=e.apply(this,arguments);s==null?this.removeAttribute(t):this.setAttribute(t,s)}}function g9(t,e){return function(){var s=e.apply(this,arguments);s==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,s)}}function m9(t,e){var s=vs(t);if(arguments.length<2){var r=this.node();return s.local?r.getAttributeNS(s.space,s.local):r.getAttribute(s)}return this.each((e==null?s.local?p9:h9:typeof e=="function"?s.local?g9:y9:s.local?f9:d9)(s,e))}function g5(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function _9(t){return function(){this.style.removeProperty(t)}}function v9(t,e,s){return function(){this.style.setProperty(t,e,s)}}function b9(t,e,s){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,s)}}function x9(t,e,s){return arguments.length>1?this.each((e==null?_9:typeof e=="function"?b9:v9)(t,e,s??"")):Vc(this.node(),t)}function Vc(t,e){return t.style.getPropertyValue(e)||g5(t).getComputedStyle(t,null).getPropertyValue(e)}function k9(t){return function(){delete this[t]}}function C9(t,e){return function(){this[t]=e}}function A9(t,e){return function(){var s=e.apply(this,arguments);s==null?delete this[t]:this[t]=s}}function w9(t,e){return arguments.length>1?this.each((e==null?k9:typeof e=="function"?A9:C9)(t,e)):this.node()[t]}function m5(t){return t.trim().split(/^|\s+/)}function K0(t){return t.classList||new _5(t)}function _5(t){this._node=t,this._names=m5(t.getAttribute("class")||"")}_5.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function v5(t,e){for(var s=K0(t),r=-1,o=e.length;++r<o;)s.add(e[r])}function b5(t,e){for(var s=K0(t),r=-1,o=e.length;++r<o;)s.remove(e[r])}function E9(t){return function(){v5(this,t)}}function B9(t){return function(){b5(this,t)}}function S9(t,e){return function(){(e.apply(this,arguments)?v5:b5)(this,t)}}function T9(t,e){var s=m5(t+"");if(arguments.length<2){for(var r=K0(this.node()),o=-1,a=s.length;++o<a;)if(!r.contains(s[o]))return!1;return!0}return this.each((typeof e=="function"?S9:e?E9:B9)(s,e))}function D9(){this.textContent=""}function F9(t){return function(){this.textContent=t}}function L9(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function I9(t){return arguments.length?this.each(t==null?D9:(typeof t=="function"?L9:F9)(t)):this.node().textContent}function M9(){this.innerHTML=""}function R9(t){return function(){this.innerHTML=t}}function O9(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function N9(t){return arguments.length?this.each(t==null?M9:(typeof t=="function"?O9:R9)(t)):this.node().innerHTML}function P9(){this.nextSibling&&this.parentNode.appendChild(this)}function V9(){return this.each(P9)}function $9(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Y9(){return this.each($9)}function U9(t){var e=typeof t=="function"?t:rh(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function z9(){return null}function W9(t,e){var s=typeof t=="function"?t:rh(t),r=e==null?z9:typeof e=="function"?e:Pc(e);return this.select(function(){return this.insertBefore(s.apply(this,arguments),r.apply(this,arguments)||null)})}function H9(){var t=this.parentNode;t&&t.removeChild(this)}function j9(){return this.each(H9)}function G9(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function q9(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function X9(t){return this.select(t?q9:G9)}function K9(t){return arguments.length?this.property("__data__",t):this.node().__data__}function Z9(t){return function(e){t.call(this,e,this.__data__)}}function Q9(t){return t.trim().split(/^|\s+/).map(function(e){var s="",r=e.indexOf(".");return r>=0&&(s=e.slice(r+1),e=e.slice(0,r)),{type:e,name:s}})}function J9(t){return function(){var e=this.__on;if(e){for(var s=0,r=-1,o=e.length,a;s<o;++s)a=e[s],(!t.type||a.type===t.type)&&a.name===t.name?this.removeEventListener(a.type,a.listener,a.options):e[++r]=a;++r?e.length=r:delete this.__on}}}function tE(t,e,s){return function(){var r=this.__on,o,a=Z9(e);if(r){for(var u=0,h=r.length;u<h;++u)if((o=r[u]).type===t.type&&o.name===t.name){this.removeEventListener(o.type,o.listener,o.options),this.addEventListener(o.type,o.listener=a,o.options=s),o.value=e;return}}this.addEventListener(t.type,a,s),o={type:t.type,name:t.name,value:e,listener:a,options:s},r?r.push(o):this.__on=[o]}}function eE(t,e,s){var r=Q9(t+""),o,a=r.length,u;if(arguments.length<2){var h=this.node().__on;if(h){for(var d=0,y=h.length,_;d<y;++d)for(o=0,_=h[d];o<a;++o)if((u=r[o]).type===_.type&&u.name===_.name)return _.value}return}for(h=e?tE:J9,o=0;o<a;++o)this.each(h(r[o],e,s));return this}function x5(t,e,s){var r=g5(t),o=r.CustomEvent;typeof o=="function"?o=new o(e,s):(o=r.document.createEvent("Event"),s?(o.initEvent(e,s.bubbles,s.cancelable),o.detail=s.detail):o.initEvent(e,!1,!1)),t.dispatchEvent(o)}function nE(t,e){return function(){return x5(this,t,e)}}function sE(t,e){return function(){return x5(this,t,e.apply(this,arguments))}}function rE(t,e){return this.each((typeof e=="function"?sE:nE)(t,e))}function*iE(){for(var t=this._groups,e=0,s=t.length;e<s;++e)for(var r=t[e],o=0,a=r.length,u;o<a;++o)(u=r[o])&&(yield u)}var Z0=[null];function Mr(t,e){this._groups=t,this._parents=e}function ih(){return new Mr([[document.documentElement]],Z0)}function oE(){return this}Mr.prototype=ih.prototype={constructor:Mr,select:mr,selectAll:Ow,selectChild:$w,selectChildren:Ww,filter:Hw,data:Zw,enter:jw,exit:Jw,join:t9,merge:e9,selection:oE,order:n9,sort:s9,call:i9,nodes:o9,node:a9,size:l9,empty:c9,each:u9,attr:m9,style:x9,property:w9,classed:T9,text:I9,html:N9,raise:V9,lower:Y9,append:U9,insert:W9,remove:j9,clone:X9,datum:K9,on:eE,dispatch:rE,[Symbol.iterator]:iE};function ee(t){return typeof t=="string"?new Mr([[document.querySelector(t)]],[document.documentElement]):new Mr([[t]],Z0)}function Q0(t){return typeof t=="string"?new Mr([document.querySelectorAll(t)],[document.documentElement]):new Mr([si(t)],Z0)}function oh(t,e,s){t.prototype=e.prototype=s,s.constructor=t}function ud(t,e){var s=Object.create(t.prototype);for(var r in e)s[r]=e[r];return s}function Cl(){}var ah=.7,hd=1/ah,$c="\\s*([+-]?\\d+)\\s*",lh="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",yo="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",aE=/^#([0-9a-f]{3,8})$/,lE=new RegExp(`^rgb\\(${$c},${$c},${$c}\\)$`),cE=new RegExp(`^rgb\\(${yo},${yo},${yo}\\)$`),uE=new RegExp(`^rgba\\(${$c},${$c},${$c},${lh}\\)$`),hE=new RegExp(`^rgba\\(${yo},${yo},${yo},${lh}\\)$`),pE=new RegExp(`^hsl\\(${lh},${yo},${yo}\\)$`),dE=new RegExp(`^hsla\\(${lh},${yo},${yo},${lh}\\)$`),k5={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};oh(Cl,Al,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:C5,formatHex:C5,formatHex8:fE,formatHsl:yE,formatRgb:A5,toString:A5});function C5(){return this.rgb().formatHex()}function fE(){return this.rgb().formatHex8()}function yE(){return D5(this).formatHsl()}function A5(){return this.rgb().formatRgb()}function Al(t){var e,s;return t=(t+"").trim().toLowerCase(),(e=aE.exec(t))?(s=e[1].length,e=parseInt(e[1],16),s===6?w5(e):s===3?new wr(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):s===8?pd(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):s===4?pd(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=lE.exec(t))?new wr(e[1],e[2],e[3],1):(e=cE.exec(t))?new wr(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=uE.exec(t))?pd(e[1],e[2],e[3],e[4]):(e=hE.exec(t))?pd(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=pE.exec(t))?T5(e[1],e[2]/100,e[3]/100,1):(e=dE.exec(t))?T5(e[1],e[2]/100,e[3]/100,e[4]):k5.hasOwnProperty(t)?w5(k5[t]):t==="transparent"?new wr(NaN,NaN,NaN,0):null}function w5(t){return new wr(t>>16&255,t>>8&255,t&255,1)}function pd(t,e,s,r){return r<=0&&(t=e=s=NaN),new wr(t,e,s,r)}function E5(t){return t instanceof Cl||(t=Al(t)),t?(t=t.rgb(),new wr(t.r,t.g,t.b,t.opacity)):new wr}function J0(t,e,s,r){return arguments.length===1?E5(t):new wr(t,e,s,r??1)}function wr(t,e,s,r){this.r=+t,this.g=+e,this.b=+s,this.opacity=+r}oh(wr,J0,ud(Cl,{brighter(t){return t=t==null?hd:Math.pow(hd,t),new wr(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?ah:Math.pow(ah,t),new wr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new wr(wl(this.r),wl(this.g),wl(this.b),dd(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:B5,formatHex:B5,formatHex8:gE,formatRgb:S5,toString:S5}));function B5(){return`#${El(this.r)}${El(this.g)}${El(this.b)}`}function gE(){return`#${El(this.r)}${El(this.g)}${El(this.b)}${El((isNaN(this.opacity)?1:this.opacity)*255)}`}function S5(){const t=dd(this.opacity);return`${t===1?"rgb(":"rgba("}${wl(this.r)}, ${wl(this.g)}, ${wl(this.b)}${t===1?")":`, ${t})`}`}function dd(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function wl(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function El(t){return t=wl(t),(t<16?"0":"")+t.toString(16)}function T5(t,e,s,r){return r<=0?t=e=s=NaN:s<=0||s>=1?t=e=NaN:e<=0&&(t=NaN),new Li(t,e,s,r)}function D5(t){if(t instanceof Li)return new Li(t.h,t.s,t.l,t.opacity);if(t instanceof Cl||(t=Al(t)),!t)return new Li;if(t instanceof Li)return t;t=t.rgb();var e=t.r/255,s=t.g/255,r=t.b/255,o=Math.min(e,s,r),a=Math.max(e,s,r),u=NaN,h=a-o,d=(a+o)/2;return h?(e===a?u=(s-r)/h+(s<r)*6:s===a?u=(r-e)/h+2:u=(e-s)/h+4,h/=d<.5?a+o:2-a-o,u*=60):h=d>0&&d<1?0:u,new Li(u,h,d,t.opacity)}function mE(t,e,s,r){return arguments.length===1?D5(t):new Li(t,e,s,r??1)}function Li(t,e,s,r){this.h=+t,this.s=+e,this.l=+s,this.opacity=+r}oh(Li,mE,ud(Cl,{brighter(t){return t=t==null?hd:Math.pow(hd,t),new Li(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?ah:Math.pow(ah,t),new Li(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,s=this.l,r=s+(s<.5?s:1-s)*e,o=2*s-r;return new wr(ty(t>=240?t-240:t+120,o,r),ty(t,o,r),ty(t<120?t+240:t-120,o,r),this.opacity)},clamp(){return new Li(F5(this.h),fd(this.s),fd(this.l),dd(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=dd(this.opacity);return`${t===1?"hsl(":"hsla("}${F5(this.h)}, ${fd(this.s)*100}%, ${fd(this.l)*100}%${t===1?")":`, ${t})`}`}}));function F5(t){return t=(t||0)%360,t<0?t+360:t}function fd(t){return Math.max(0,Math.min(1,t||0))}function ty(t,e,s){return(t<60?e+(s-e)*t/60:t<180?s:t<240?e+(s-e)*(240-t)/60:e)*255}const _E=Math.PI/180,vE=180/Math.PI,yd=18,L5=.96422,I5=1,M5=.82521,R5=4/29,Yc=6/29,O5=3*Yc*Yc,bE=Yc*Yc*Yc;function N5(t){if(t instanceof go)return new go(t.l,t.a,t.b,t.opacity);if(t instanceof Uo)return P5(t);t instanceof wr||(t=E5(t));var e=ry(t.r),s=ry(t.g),r=ry(t.b),o=ey((.2225045*e+.7168786*s+.0606169*r)/I5),a,u;return e===s&&s===r?a=u=o:(a=ey((.4360747*e+.3850649*s+.1430804*r)/L5),u=ey((.0139322*e+.0971045*s+.7141733*r)/M5)),new go(116*o-16,500*(a-o),200*(o-u),t.opacity)}function xE(t,e,s,r){return arguments.length===1?N5(t):new go(t,e,s,r??1)}function go(t,e,s,r){this.l=+t,this.a=+e,this.b=+s,this.opacity=+r}oh(go,xE,ud(Cl,{brighter(t){return new go(this.l+yd*(t??1),this.a,this.b,this.opacity)},darker(t){return new go(this.l-yd*(t??1),this.a,this.b,this.opacity)},rgb(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,s=isNaN(this.b)?t:t-this.b/200;return e=L5*ny(e),t=I5*ny(t),s=M5*ny(s),new wr(sy(3.1338561*e-1.6168667*t-.4906146*s),sy(-.9787684*e+1.9161415*t+.033454*s),sy(.0719453*e-.2289914*t+1.4052427*s),this.opacity)}}));function ey(t){return t>bE?Math.pow(t,1/3):t/O5+R5}function ny(t){return t>Yc?t*t*t:O5*(t-R5)}function sy(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function ry(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function kE(t){if(t instanceof Uo)return new Uo(t.h,t.c,t.l,t.opacity);if(t instanceof go||(t=N5(t)),t.a===0&&t.b===0)return new Uo(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var e=Math.atan2(t.b,t.a)*vE;return new Uo(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function iy(t,e,s,r){return arguments.length===1?kE(t):new Uo(t,e,s,r??1)}function Uo(t,e,s,r){this.h=+t,this.c=+e,this.l=+s,this.opacity=+r}function P5(t){if(isNaN(t.h))return new go(t.l,0,0,t.opacity);var e=t.h*_E;return new go(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}oh(Uo,iy,ud(Cl,{brighter(t){return new Uo(this.h,this.c,this.l+yd*(t??1),this.opacity)},darker(t){return new Uo(this.h,this.c,this.l-yd*(t??1),this.opacity)},rgb(){return P5(this).rgb()}}));const gd=t=>()=>t;function V5(t,e){return function(s){return t+s*e}}function CE(t,e,s){return t=Math.pow(t,s),e=Math.pow(e,s)-t,s=1/s,function(r){return Math.pow(t+r*e,s)}}function AE(t,e){var s=e-t;return s?V5(t,s>180||s<-180?s-360*Math.round(s/360):s):gd(isNaN(t)?e:t)}function wE(t){return(t=+t)==1?ch:function(e,s){return s-e?CE(e,s,t):gd(isNaN(e)?s:e)}}function ch(t,e){var s=e-t;return s?V5(t,s):gd(isNaN(t)?e:t)}const md=function t(e){var s=wE(e);function r(o,a){var u=s((o=J0(o)).r,(a=J0(a)).r),h=s(o.g,a.g),d=s(o.b,a.b),y=ch(o.opacity,a.opacity);return function(_){return o.r=u(_),o.g=h(_),o.b=d(_),o.opacity=y(_),o+""}}return r.gamma=t,r}(1);function EE(t,e){e||(e=[]);var s=t?Math.min(e.length,t.length):0,r=e.slice(),o;return function(a){for(o=0;o<s;++o)r[o]=t[o]*(1-a)+e[o]*a;return r}}function BE(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function SE(t,e){var s=e?e.length:0,r=t?Math.min(s,t.length):0,o=new Array(r),a=new Array(s),u;for(u=0;u<r;++u)o[u]=ly(t[u],e[u]);for(;u<s;++u)a[u]=e[u];return function(h){for(u=0;u<r;++u)a[u]=o[u](h);return a}}function TE(t,e){var s=new Date;return t=+t,e=+e,function(r){return s.setTime(t*(1-r)+e*r),s}}function Ii(t,e){return t=+t,e=+e,function(s){return t*(1-s)+e*s}}function DE(t,e){var s={},r={},o;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(o in e)o in t?s[o]=ly(t[o],e[o]):r[o]=e[o];return function(a){for(o in s)r[o]=s[o](a);return r}}var oy=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ay=new RegExp(oy.source,"g");function FE(t){return function(){return t}}function LE(t){return function(e){return t(e)+""}}function $5(t,e){var s=oy.lastIndex=ay.lastIndex=0,r,o,a,u=-1,h=[],d=[];for(t=t+"",e=e+"";(r=oy.exec(t))&&(o=ay.exec(e));)(a=o.index)>s&&(a=e.slice(s,a),h[u]?h[u]+=a:h[++u]=a),(r=r[0])===(o=o[0])?h[u]?h[u]+=o:h[++u]=o:(h[++u]=null,d.push({i:u,x:Ii(r,o)})),s=ay.lastIndex;return s<e.length&&(a=e.slice(s),h[u]?h[u]+=a:h[++u]=a),h.length<2?d[0]?LE(d[0].x):FE(e):(e=d.length,function(y){for(var _=0,v;_<e;++_)h[(v=d[_]).i]=v.x(y);return h.join("")})}function ly(t,e){var s=typeof e,r;return e==null||s==="boolean"?gd(e):(s==="number"?Ii:s==="string"?(r=Al(e))?(e=r,md):$5:e instanceof Al?md:e instanceof Date?TE:BE(e)?EE:Array.isArray(e)?SE:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?DE:Ii)(t,e)}function IE(t,e){return t=+t,e=+e,function(s){return Math.round(t*(1-s)+e*s)}}var Y5=180/Math.PI,cy={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function U5(t,e,s,r,o,a){var u,h,d;return(u=Math.sqrt(t*t+e*e))&&(t/=u,e/=u),(d=t*s+e*r)&&(s-=t*d,r-=e*d),(h=Math.sqrt(s*s+r*r))&&(s/=h,r/=h,d/=h),t*r<e*s&&(t=-t,e=-e,d=-d,u=-u),{translateX:o,translateY:a,rotate:Math.atan2(e,t)*Y5,skewX:Math.atan(d)*Y5,scaleX:u,scaleY:h}}var _d;function ME(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?cy:U5(e.a,e.b,e.c,e.d,e.e,e.f)}function RE(t){return t==null||(_d||(_d=document.createElementNS("http://www.w3.org/2000/svg","g")),_d.setAttribute("transform",t),!(t=_d.transform.baseVal.consolidate()))?cy:(t=t.matrix,U5(t.a,t.b,t.c,t.d,t.e,t.f))}function z5(t,e,s,r){function o(y){return y.length?y.pop()+" ":""}function a(y,_,v,x,k,D){if(y!==v||_!==x){var M=k.push("translate(",null,e,null,s);D.push({i:M-4,x:Ii(y,v)},{i:M-2,x:Ii(_,x)})}else(v||x)&&k.push("translate("+v+e+x+s)}function u(y,_,v,x){y!==_?(y-_>180?_+=360:_-y>180&&(y+=360),x.push({i:v.push(o(v)+"rotate(",null,r)-2,x:Ii(y,_)})):_&&v.push(o(v)+"rotate("+_+r)}function h(y,_,v,x){y!==_?x.push({i:v.push(o(v)+"skewX(",null,r)-2,x:Ii(y,_)}):_&&v.push(o(v)+"skewX("+_+r)}function d(y,_,v,x,k,D){if(y!==v||_!==x){var M=k.push(o(k)+"scale(",null,",",null,")");D.push({i:M-4,x:Ii(y,v)},{i:M-2,x:Ii(_,x)})}else(v!==1||x!==1)&&k.push(o(k)+"scale("+v+","+x+")")}return function(y,_){var v=[],x=[];return y=t(y),_=t(_),a(y.translateX,y.translateY,_.translateX,_.translateY,v,x),u(y.rotate,_.rotate,v,x),h(y.skewX,_.skewX,v,x),d(y.scaleX,y.scaleY,_.scaleX,_.scaleY,v,x),y=_=null,function(k){for(var D=-1,M=x.length,R;++D<M;)v[(R=x[D]).i]=R.x(k);return v.join("")}}}var OE=z5(ME,"px, ","px)","deg)"),NE=z5(RE,", ",")",")");function PE(t){return function(e,s){var r=t((e=iy(e)).h,(s=iy(s)).h),o=ch(e.c,s.c),a=ch(e.l,s.l),u=ch(e.opacity,s.opacity);return function(h){return e.h=r(h),e.c=o(h),e.l=a(h),e.opacity=u(h),e+""}}}const VE=PE(AE);var Uc=0,uh=0,hh=0,W5=1e3,vd,ph,bd=0,Bl=0,xd=0,dh=typeof performance=="object"&&performance.now?performance:Date,H5=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function uy(){return Bl||(H5($E),Bl=dh.now()+xd)}function $E(){Bl=0}function kd(){this._call=this._time=this._next=null}kd.prototype=j5.prototype={constructor:kd,restart:function(t,e,s){if(typeof t!="function")throw new TypeError("callback is not a function");s=(s==null?uy():+s)+(e==null?0:+e),!this._next&&ph!==this&&(ph?ph._next=this:vd=this,ph=this),this._call=t,this._time=s,hy()},stop:function(){this._call&&(this._call=null,this._time=1/0,hy())}};function j5(t,e,s){var r=new kd;return r.restart(t,e,s),r}function YE(){uy(),++Uc;for(var t=vd,e;t;)(e=Bl-t._time)>=0&&t._call.call(void 0,e),t=t._next;--Uc}function G5(){Bl=(bd=dh.now())+xd,Uc=uh=0;try{YE()}finally{Uc=0,zE(),Bl=0}}function UE(){var t=dh.now(),e=t-bd;e>W5&&(xd-=e,bd=t)}function zE(){for(var t,e=vd,s,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(s=e._next,e._next=null,e=t?t._next=s:vd=s);ph=t,hy(r)}function hy(t){if(!Uc){uh&&(uh=clearTimeout(uh));var e=t-Bl;e>24?(t<1/0&&(uh=setTimeout(G5,t-dh.now()-xd)),hh&&(hh=clearInterval(hh))):(hh||(bd=dh.now(),hh=setInterval(UE,W5)),Uc=1,H5(G5))}}function q5(t,e,s){var r=new kd;return e=e==null?0:+e,r.restart(o=>{r.stop(),t(o+e)},e,s),r}var WE=He("start","end","cancel","interrupt"),HE=[],X5=0,K5=1,py=2,Cd=3,Z5=4,dy=5,Ad=6;function wd(t,e,s,r,o,a){var u=t.__transition;if(!u)t.__transition={};else if(s in u)return;jE(t,s,{name:e,index:r,group:o,on:WE,tween:HE,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:X5})}function fy(t,e){var s=Mi(t,e);if(s.state>X5)throw new Error("too late; already scheduled");return s}function mo(t,e){var s=Mi(t,e);if(s.state>Cd)throw new Error("too late; already running");return s}function Mi(t,e){var s=t.__transition;if(!s||!(s=s[e]))throw new Error("transition not found");return s}function jE(t,e,s){var r=t.__transition,o;r[e]=s,s.timer=j5(a,0,s.time);function a(y){s.state=K5,s.timer.restart(u,s.delay,s.time),s.delay<=y&&u(y-s.delay)}function u(y){var _,v,x,k;if(s.state!==K5)return d();for(_ in r)if(k=r[_],k.name===s.name){if(k.state===Cd)return q5(u);k.state===Z5?(k.state=Ad,k.timer.stop(),k.on.call("interrupt",t,t.__data__,k.index,k.group),delete r[_]):+_<e&&(k.state=Ad,k.timer.stop(),k.on.call("cancel",t,t.__data__,k.index,k.group),delete r[_])}if(q5(function(){s.state===Cd&&(s.state=Z5,s.timer.restart(h,s.delay,s.time),h(y))}),s.state=py,s.on.call("start",t,t.__data__,s.index,s.group),s.state===py){for(s.state=Cd,o=new Array(x=s.tween.length),_=0,v=-1;_<x;++_)(k=s.tween[_].value.call(t,t.__data__,s.index,s.group))&&(o[++v]=k);o.length=v+1}}function h(y){for(var _=y<s.duration?s.ease.call(null,y/s.duration):(s.timer.restart(d),s.state=dy,1),v=-1,x=o.length;++v<x;)o[v].call(t,_);s.state===dy&&(s.on.call("end",t,t.__data__,s.index,s.group),d())}function d(){s.state=Ad,s.timer.stop(),delete r[e];for(var y in r)return;delete t.__transition}}function GE(t,e){var s=t.__transition,r,o,a=!0,u;if(s){e=e==null?null:e+"";for(u in s){if((r=s[u]).name!==e){a=!1;continue}o=r.state>py&&r.state<dy,r.state=Ad,r.timer.stop(),r.on.call(o?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete s[u]}a&&delete t.__transition}}function qE(t){return this.each(function(){GE(this,t)})}function XE(t,e){var s,r;return function(){var o=mo(this,t),a=o.tween;if(a!==s){r=s=a;for(var u=0,h=r.length;u<h;++u)if(r[u].name===e){r=r.slice(),r.splice(u,1);break}}o.tween=r}}function KE(t,e,s){var r,o;if(typeof s!="function")throw new Error;return function(){var a=mo(this,t),u=a.tween;if(u!==r){o=(r=u).slice();for(var h={name:e,value:s},d=0,y=o.length;d<y;++d)if(o[d].name===e){o[d]=h;break}d===y&&o.push(h)}a.tween=o}}function ZE(t,e){var s=this._id;if(t+="",arguments.length<2){for(var r=Mi(this.node(),s).tween,o=0,a=r.length,u;o<a;++o)if((u=r[o]).name===t)return u.value;return null}return this.each((e==null?XE:KE)(s,t,e))}function yy(t,e,s){var r=t._id;return t.each(function(){var o=mo(this,r);(o.value||(o.value={}))[e]=s.apply(this,arguments)}),function(o){return Mi(o,r).value[e]}}function Q5(t,e){var s;return(typeof e=="number"?Ii:e instanceof Al?md:(s=Al(e))?(e=s,md):$5)(t,e)}function QE(t){return function(){this.removeAttribute(t)}}function JE(t){return function(){this.removeAttributeNS(t.space,t.local)}}function tB(t,e,s){var r,o=s+"",a;return function(){var u=this.getAttribute(t);return u===o?null:u===r?a:a=e(r=u,s)}}function eB(t,e,s){var r,o=s+"",a;return function(){var u=this.getAttributeNS(t.space,t.local);return u===o?null:u===r?a:a=e(r=u,s)}}function nB(t,e,s){var r,o,a;return function(){var u,h=s(this),d;return h==null?void this.removeAttribute(t):(u=this.getAttribute(t),d=h+"",u===d?null:u===r&&d===o?a:(o=d,a=e(r=u,h)))}}function sB(t,e,s){var r,o,a;return function(){var u,h=s(this),d;return h==null?void this.removeAttributeNS(t.space,t.local):(u=this.getAttributeNS(t.space,t.local),d=h+"",u===d?null:u===r&&d===o?a:(o=d,a=e(r=u,h)))}}function rB(t,e){var s=vs(t),r=s==="transform"?NE:Q5;return this.attrTween(t,typeof e=="function"?(s.local?sB:nB)(s,r,yy(this,"attr."+t,e)):e==null?(s.local?JE:QE)(s):(s.local?eB:tB)(s,r,e))}function iB(t,e){return function(s){this.setAttribute(t,e.call(this,s))}}function oB(t,e){return function(s){this.setAttributeNS(t.space,t.local,e.call(this,s))}}function aB(t,e){var s,r;function o(){var a=e.apply(this,arguments);return a!==r&&(s=(r=a)&&oB(t,a)),s}return o._value=e,o}function lB(t,e){var s,r;function o(){var a=e.apply(this,arguments);return a!==r&&(s=(r=a)&&iB(t,a)),s}return o._value=e,o}function cB(t,e){var s="attr."+t;if(arguments.length<2)return(s=this.tween(s))&&s._value;if(e==null)return this.tween(s,null);if(typeof e!="function")throw new Error;var r=vs(t);return this.tween(s,(r.local?aB:lB)(r,e))}function uB(t,e){return function(){fy(this,t).delay=+e.apply(this,arguments)}}function hB(t,e){return e=+e,function(){fy(this,t).delay=e}}function pB(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?uB:hB)(e,t)):Mi(this.node(),e).delay}function dB(t,e){return function(){mo(this,t).duration=+e.apply(this,arguments)}}function fB(t,e){return e=+e,function(){mo(this,t).duration=e}}function yB(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?dB:fB)(e,t)):Mi(this.node(),e).duration}function gB(t,e){if(typeof e!="function")throw new Error;return function(){mo(this,t).ease=e}}function mB(t){var e=this._id;return arguments.length?this.each(gB(e,t)):Mi(this.node(),e).ease}function _B(t,e){return function(){var s=e.apply(this,arguments);if(typeof s!="function")throw new Error;mo(this,t).ease=s}}function vB(t){if(typeof t!="function")throw new Error;return this.each(_B(this._id,t))}function bB(t){typeof t!="function"&&(t=d5(t));for(var e=this._groups,s=e.length,r=new Array(s),o=0;o<s;++o)for(var a=e[o],u=a.length,h=r[o]=[],d,y=0;y<u;++y)(d=a[y])&&t.call(d,d.__data__,y,a)&&h.push(d);return new zo(r,this._parents,this._name,this._id)}function xB(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,s=t._groups,r=e.length,o=s.length,a=Math.min(r,o),u=new Array(r),h=0;h<a;++h)for(var d=e[h],y=s[h],_=d.length,v=u[h]=new Array(_),x,k=0;k<_;++k)(x=d[k]||y[k])&&(v[k]=x);for(;h<r;++h)u[h]=e[h];return new zo(u,this._parents,this._name,this._id)}function kB(t){return(t+"").trim().split(/^|\s+/).every(function(e){var s=e.indexOf(".");return s>=0&&(e=e.slice(0,s)),!e||e==="start"})}function CB(t,e,s){var r,o,a=kB(e)?fy:mo;return function(){var u=a(this,t),h=u.on;h!==r&&(o=(r=h).copy()).on(e,s),u.on=o}}function AB(t,e){var s=this._id;return arguments.length<2?Mi(this.node(),s).on.on(t):this.each(CB(s,t,e))}function wB(t){return function(){var e=this.parentNode;for(var s in this.__transition)if(+s!==t)return;e&&e.removeChild(this)}}function EB(){return this.on("end.remove",wB(this._id))}function BB(t){var e=this._name,s=this._id;typeof t!="function"&&(t=Pc(t));for(var r=this._groups,o=r.length,a=new Array(o),u=0;u<o;++u)for(var h=r[u],d=h.length,y=a[u]=new Array(d),_,v,x=0;x<d;++x)(_=h[x])&&(v=t.call(_,_.__data__,x,h))&&("__data__"in _&&(v.__data__=_.__data__),y[x]=v,wd(y[x],e,s,x,y,Mi(_,s)));return new zo(a,this._parents,e,s)}function SB(t){var e=this._name,s=this._id;typeof t!="function"&&(t=p5(t));for(var r=this._groups,o=r.length,a=[],u=[],h=0;h<o;++h)for(var d=r[h],y=d.length,_,v=0;v<y;++v)if(_=d[v]){for(var x=t.call(_,_.__data__,v,d),k,D=Mi(_,s),M=0,R=x.length;M<R;++M)(k=x[M])&&wd(k,e,s,M,x,D);a.push(x),u.push(_)}return new zo(a,u,e,s)}var TB=ih.prototype.constructor;function DB(){return new TB(this._groups,this._parents)}function FB(t,e){var s,r,o;return function(){var a=Vc(this,t),u=(this.style.removeProperty(t),Vc(this,t));return a===u?null:a===s&&u===r?o:o=e(s=a,r=u)}}function J5(t){return function(){this.style.removeProperty(t)}}function LB(t,e,s){var r,o=s+"",a;return function(){var u=Vc(this,t);return u===o?null:u===r?a:a=e(r=u,s)}}function IB(t,e,s){var r,o,a;return function(){var u=Vc(this,t),h=s(this),d=h+"";return h==null&&(d=h=(this.style.removeProperty(t),Vc(this,t))),u===d?null:u===r&&d===o?a:(o=d,a=e(r=u,h))}}function MB(t,e){var s,r,o,a="style."+e,u="end."+a,h;return function(){var d=mo(this,t),y=d.on,_=d.value[a]==null?h||(h=J5(e)):void 0;(y!==s||o!==_)&&(r=(s=y).copy()).on(u,o=_),d.on=r}}function RB(t,e,s){var r=(t+="")=="transform"?OE:Q5;return e==null?this.styleTween(t,FB(t,r)).on("end.style."+t,J5(t)):typeof e=="function"?this.styleTween(t,IB(t,r,yy(this,"style."+t,e))).each(MB(this._id,t)):this.styleTween(t,LB(t,r,e),s).on("end.style."+t,null)}function OB(t,e,s){return function(r){this.style.setProperty(t,e.call(this,r),s)}}function NB(t,e,s){var r,o;function a(){var u=e.apply(this,arguments);return u!==o&&(r=(o=u)&&OB(t,u,s)),r}return a._value=e,a}function PB(t,e,s){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,NB(t,e,s??""))}function VB(t){return function(){this.textContent=t}}function $B(t){return function(){var e=t(this);this.textContent=e??""}}function YB(t){return this.tween("text",typeof t=="function"?$B(yy(this,"text",t)):VB(t==null?"":t+""))}function UB(t){return function(e){this.textContent=t.call(this,e)}}function zB(t){var e,s;function r(){var o=t.apply(this,arguments);return o!==s&&(e=(s=o)&&UB(o)),e}return r._value=t,r}function WB(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,zB(t))}function HB(){for(var t=this._name,e=this._id,s=t3(),r=this._groups,o=r.length,a=0;a<o;++a)for(var u=r[a],h=u.length,d,y=0;y<h;++y)if(d=u[y]){var _=Mi(d,e);wd(d,t,s,y,u,{time:_.time+_.delay+_.duration,delay:0,duration:_.duration,ease:_.ease})}return new zo(r,this._parents,t,s)}function jB(){var t,e,s=this,r=s._id,o=s.size();return new Promise(function(a,u){var h={value:u},d={value:function(){--o===0&&a()}};s.each(function(){var y=mo(this,r),_=y.on;_!==t&&(e=(t=_).copy(),e._.cancel.push(h),e._.interrupt.push(h),e._.end.push(d)),y.on=e}),o===0&&a()})}var GB=0;function zo(t,e,s,r){this._groups=t,this._parents=e,this._name=s,this._id=r}function t3(){return++GB}var Wo=ih.prototype;zo.prototype={constructor:zo,select:BB,selectAll:SB,selectChild:Wo.selectChild,selectChildren:Wo.selectChildren,filter:bB,merge:xB,selection:DB,transition:HB,call:Wo.call,nodes:Wo.nodes,node:Wo.node,size:Wo.size,empty:Wo.empty,each:Wo.each,on:AB,attr:rB,attrTween:cB,style:RB,styleTween:PB,text:YB,textTween:WB,remove:EB,tween:ZE,delay:pB,duration:yB,ease:mB,easeVarying:vB,end:jB,[Symbol.iterator]:Wo[Symbol.iterator]};function qB(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var XB={time:null,delay:0,duration:250,ease:qB};function KB(t,e){for(var s;!(s=t.__transition)||!(s=s[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return s}function ZB(t){var e,s;t instanceof zo?(e=t._id,t=t._name):(e=t3(),(s=XB).time=uy(),t=t==null?null:t+"");for(var r=this._groups,o=r.length,a=0;a<o;++a)for(var u=r[a],h=u.length,d,y=0;y<h;++y)(d=u[y])&&wd(d,t,e,y,u,s||KB(d,e));return new zo(r,this._parents,t,e)}ih.prototype.interrupt=qE,ih.prototype.transition=ZB;const gy=Math.PI,my=2*gy,Sl=1e-6,QB=my-Sl;function _y(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function vy(){return new _y}_y.prototype=vy.prototype={constructor:_y,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,s,r){this._+="Q"+ +t+","+ +e+","+(this._x1=+s)+","+(this._y1=+r)},bezierCurveTo:function(t,e,s,r,o,a){this._+="C"+ +t+","+ +e+","+ +s+","+ +r+","+(this._x1=+o)+","+(this._y1=+a)},arcTo:function(t,e,s,r,o){t=+t,e=+e,s=+s,r=+r,o=+o;var a=this._x1,u=this._y1,h=s-t,d=r-e,y=a-t,_=u-e,v=y*y+_*_;if(o<0)throw new Error("negative radius: "+o);if(this._x1===null)this._+="M"+(this._x1=t)+","+(this._y1=e);else if(v>Sl)if(!(Math.abs(_*h-d*y)>Sl)||!o)this._+="L"+(this._x1=t)+","+(this._y1=e);else{var x=s-a,k=r-u,D=h*h+d*d,M=x*x+k*k,R=Math.sqrt(D),Y=Math.sqrt(v),V=o*Math.tan((gy-Math.acos((D+v-M)/(2*R*Y)))/2),X=V/Y,J=V/R;Math.abs(X-1)>Sl&&(this._+="L"+(t+X*y)+","+(e+X*_)),this._+="A"+o+","+o+",0,0,"+ +(_*x>y*k)+","+(this._x1=t+J*h)+","+(this._y1=e+J*d)}},arc:function(t,e,s,r,o,a){t=+t,e=+e,s=+s,a=!!a;var u=s*Math.cos(r),h=s*Math.sin(r),d=t+u,y=e+h,_=1^a,v=a?r-o:o-r;if(s<0)throw new Error("negative radius: "+s);this._x1===null?this._+="M"+d+","+y:(Math.abs(this._x1-d)>Sl||Math.abs(this._y1-y)>Sl)&&(this._+="L"+d+","+y),s&&(v<0&&(v=v%my+my),v>QB?this._+="A"+s+","+s+",0,1,"+_+","+(t-u)+","+(e-h)+"A"+s+","+s+",0,1,"+_+","+(this._x1=d)+","+(this._y1=y):v>Sl&&(this._+="A"+s+","+s+",0,"+ +(v>=gy)+","+_+","+(this._x1=t+s*Math.cos(o))+","+(this._y1=e+s*Math.sin(o))))},rect:function(t,e,s,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +s+"v"+ +r+"h"+-s+"Z"},toString:function(){return this._}};function JB(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.text()}function tS(t,e){return fetch(t,e).then(JB)}function eS(t){return(e,s)=>tS(e,s).then(r=>new DOMParser().parseFromString(r,t))}var nS=eS("image/svg+xml");function sS(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Ed(t,e){if((s=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var s,r=t.slice(0,s);return[r.length>1?r[0]+r.slice(2):r,+t.slice(s+1)]}function zc(t){return t=Ed(Math.abs(t)),t?t[1]:NaN}function rS(t,e){return function(s,r){for(var o=s.length,a=[],u=0,h=t[0],d=0;o>0&&h>0&&(d+h+1>r&&(h=Math.max(1,r-d)),a.push(s.substring(o-=h,o+h)),!((d+=h+1)>r));)h=t[u=(u+1)%t.length];return a.reverse().join(e)}}function iS(t){return function(e){return e.replace(/[0-9]/g,function(s){return t[+s]})}}var oS=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Bd(t){if(!(e=oS.exec(t)))throw new Error("invalid format: "+t);var e;return new by({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Bd.prototype=by.prototype;function by(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}by.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function aS(t){t:for(var e=t.length,s=1,r=-1,o;s<e;++s)switch(t[s]){case".":r=o=s;break;case"0":r===0&&(r=s),o=s;break;default:if(!+t[s])break t;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(o+1):t}var e3;function lS(t,e){var s=Ed(t,e);if(!s)return t+"";var r=s[0],o=s[1],a=o-(e3=Math.max(-8,Math.min(8,Math.floor(o/3)))*3)+1,u=r.length;return a===u?r:a>u?r+new Array(a-u+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+Ed(t,Math.max(0,e+a-1))[0]}function n3(t,e){var s=Ed(t,e);if(!s)return t+"";var r=s[0],o=s[1];return o<0?"0."+new Array(-o).join("0")+r:r.length>o+1?r.slice(0,o+1)+"."+r.slice(o+1):r+new Array(o-r.length+2).join("0")}const s3={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:sS,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>n3(t*100,e),r:n3,s:lS,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function r3(t){return t}var i3=Array.prototype.map,o3=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function cS(t){var e=t.grouping===void 0||t.thousands===void 0?r3:rS(i3.call(t.grouping,Number),t.thousands+""),s=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",o=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?r3:iS(i3.call(t.numerals,String)),u=t.percent===void 0?"%":t.percent+"",h=t.minus===void 0?"":t.minus+"",d=t.nan===void 0?"NaN":t.nan+"";function y(v){v=Bd(v);var x=v.fill,k=v.align,D=v.sign,M=v.symbol,R=v.zero,Y=v.width,V=v.comma,X=v.precision,J=v.trim,rt=v.type;rt==="n"?(V=!0,rt="g"):s3[rt]||(X===void 0&&(X=12),J=!0,rt="g"),(R||x==="0"&&k==="=")&&(R=!0,x="0",k="=");var lt=M==="$"?s:M==="#"&&/[boxX]/.test(rt)?"0"+rt.toLowerCase():"",tt=M==="$"?r:/[%p]/.test(rt)?u:"",it=s3[rt],j=/[defgprs%]/.test(rt);X=X===void 0?6:/[gprs]/.test(rt)?Math.max(1,Math.min(21,X)):Math.max(0,Math.min(20,X));function W($){var I=lt,H=tt,S,yt,T;if(rt==="c")H=it($)+H,$="";else{$=+$;var Dt=$<0||1/$<0;if($=isNaN($)?d:it(Math.abs($),X),J&&($=aS($)),Dt&&+$==0&&D!=="+"&&(Dt=!1),I=(Dt?D==="("?D:h:D==="-"||D==="("?"":D)+I,H=(rt==="s"?o3[8+e3/3]:"")+H+(Dt&&D==="("?")":""),j){for(S=-1,yt=$.length;++S<yt;)if(T=$.charCodeAt(S),48>T||T>57){H=(T===46?o+$.slice(S+1):$.slice(S))+H,$=$.slice(0,S);break}}}V&&!R&&($=e($,1/0));var ce=I.length+$.length+H.length,Gt=ce<Y?new Array(Y-ce+1).join(x):"";switch(V&&R&&($=e(Gt+$,Gt.length?Y-H.length:1/0),Gt=""),k){case"<":$=I+$+H+Gt;break;case"=":$=I+Gt+$+H;break;case"^":$=Gt.slice(0,ce=Gt.length>>1)+I+$+H+Gt.slice(ce);break;default:$=Gt+I+$+H;break}return a($)}return W.toString=function(){return v+""},W}function _(v,x){var k=y((v=Bd(v),v.type="f",v)),D=Math.max(-8,Math.min(8,Math.floor(zc(x)/3)))*3,M=Math.pow(10,-D),R=o3[8+D/3];return function(Y){return k(M*Y)+R}}return{format:y,formatPrefix:_}}var Sd,a3,l3;uS({thousands:",",grouping:[3],currency:["$",""]});function uS(t){return Sd=cS(t),a3=Sd.format,l3=Sd.formatPrefix,Sd}function hS(t){return Math.max(0,-zc(Math.abs(t)))}function pS(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(zc(e)/3)))*3-zc(Math.abs(t)))}function dS(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,zc(e)-zc(t))+1}function xy(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}const c3=Symbol("implicit");function u3(){var t=new Kn,e=[],s=[],r=c3;function o(a){let u=t.get(a);if(u===void 0){if(r!==c3)return r;t.set(a,u=e.push(a)-1)}return s[u%s.length]}return o.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new Kn;for(const u of a)t.has(u)||t.set(u,e.push(u)-1);return o},o.range=function(a){return arguments.length?(s=Array.from(a),o):s.slice()},o.unknown=function(a){return arguments.length?(r=a,o):r},o.copy=function(){return u3(e,s).unknown(r)},xy.apply(o,arguments),o}function fS(t){return function(){return t}}function yS(t){return+t}var h3=[0,1];function Wc(t){return t}function ky(t,e){return(e-=t=+t)?function(s){return(s-t)/e}:fS(isNaN(e)?NaN:.5)}function gS(t,e){var s;return t>e&&(s=t,t=e,e=s),function(r){return Math.max(t,Math.min(e,r))}}function mS(t,e,s){var r=t[0],o=t[1],a=e[0],u=e[1];return o<r?(r=ky(o,r),a=s(u,a)):(r=ky(r,o),a=s(a,u)),function(h){return a(r(h))}}function _S(t,e,s){var r=Math.min(t.length,e.length)-1,o=new Array(r),a=new Array(r),u=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++u<r;)o[u]=ky(t[u],t[u+1]),a[u]=s(e[u],e[u+1]);return function(h){var d=tr(t,h,1,r)-1;return a[d](o[d](h))}}function p3(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function vS(){var t=h3,e=h3,s=ly,r,o,a,u=Wc,h,d,y;function _(){var x=Math.min(t.length,e.length);return u!==Wc&&(u=gS(t[0],t[x-1])),h=x>2?_S:mS,d=y=null,v}function v(x){return x==null||isNaN(x=+x)?a:(d||(d=h(t.map(r),e,s)))(r(u(x)))}return v.invert=function(x){return u(o((y||(y=h(e,t.map(r),Ii)))(x)))},v.domain=function(x){return arguments.length?(t=Array.from(x,yS),_()):t.slice()},v.range=function(x){return arguments.length?(e=Array.from(x),_()):e.slice()},v.rangeRound=function(x){return e=Array.from(x),s=IE,_()},v.clamp=function(x){return arguments.length?(u=x?!0:Wc,_()):u!==Wc},v.interpolate=function(x){return arguments.length?(s=x,_()):s},v.unknown=function(x){return arguments.length?(a=x,v):a},function(x,k){return r=x,o=k,_()}}function d3(){return vS()(Wc,Wc)}function bS(t,e,s,r){var o=zt(t,e,s),a;switch(r=Bd(r??",f"),r.type){case"s":{var u=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(a=pS(o,u))&&(r.precision=a),l3(r,u)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=dS(o,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=hS(o))&&(r.precision=a-(r.type==="%")*2);break}}return a3(r)}function xS(t){var e=t.domain;return t.ticks=function(s){var r=e();return Ar(r[0],r[r.length-1],s??10)},t.tickFormat=function(s,r){var o=e();return bS(o[0],o[o.length-1],s??10,r)},t.nice=function(s){s==null&&(s=10);var r=e(),o=0,a=r.length-1,u=r[o],h=r[a],d,y,_=10;for(h<u&&(y=u,u=h,h=y,y=o,o=a,a=y);_-- >0;){if(y=Fi(u,h,s),y===d)return r[o]=u,r[a]=h,e(r);if(y>0)u=Math.floor(u/y)*y,h=Math.ceil(h/y)*y;else if(y<0)u=Math.ceil(u*y)/y,h=Math.floor(h*y)/y;else break;d=y}return t},t}function f3(){var t=d3();return t.copy=function(){return p3(t,f3())},xy.apply(t,arguments),xS(t)}function kS(t,e){t=t.slice();var s=0,r=t.length-1,o=t[s],a=t[r],u;return a<o&&(u=s,s=r,r=u,u=o,o=a,a=u),t[s]=e.floor(o),t[r]=e.ceil(a),t}var Cy=new Date,Ay=new Date;function cr(t,e,s,r){function o(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return o.floor=function(a){return t(a=new Date(+a)),a},o.ceil=function(a){return t(a=new Date(a-1)),e(a,1),t(a),a},o.round=function(a){var u=o(a),h=o.ceil(a);return a-u<h-a?u:h},o.offset=function(a,u){return e(a=new Date(+a),u==null?1:Math.floor(u)),a},o.range=function(a,u,h){var d=[],y;if(a=o.ceil(a),h=h==null?1:Math.floor(h),!(a<u)||!(h>0))return d;do d.push(y=new Date(+a)),e(a,h),t(a);while(y<a&&a<u);return d},o.filter=function(a){return cr(function(u){if(u>=u)for(;t(u),!a(u);)u.setTime(u-1)},function(u,h){if(u>=u)if(h<0)for(;++h<=0;)for(;e(u,-1),!a(u););else for(;--h>=0;)for(;e(u,1),!a(u););})},s&&(o.count=function(a,u){return Cy.setTime(+a),Ay.setTime(+u),t(Cy),t(Ay),Math.floor(s(Cy,Ay))},o.every=function(a){return a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?o.filter(r?function(u){return r(u)%a===0}:function(u){return o.count(0,u)%a===0}):o}),o}var Td=cr(function(){},function(t,e){t.setTime(+t+e)},function(t,e){return e-t});Td.every=function(t){return t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?cr(function(e){e.setTime(Math.floor(e/t)*t)},function(e,s){e.setTime(+e+s*t)},function(e,s){return(s-e)/t}):Td};const CS=Td;Td.range;const Ho=1e3,bi=Ho*60,jo=bi*60,Tl=jo*24,wy=Tl*7,y3=Tl*30,Ey=Tl*365;var g3=cr(function(t){t.setTime(t-t.getMilliseconds())},function(t,e){t.setTime(+t+e*Ho)},function(t,e){return(e-t)/Ho},function(t){return t.getUTCSeconds()});const fh=g3;g3.range;var m3=cr(function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ho)},function(t,e){t.setTime(+t+e*bi)},function(t,e){return(e-t)/bi},function(t){return t.getMinutes()});const Dd=m3;m3.range;var _3=cr(function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ho-t.getMinutes()*bi)},function(t,e){t.setTime(+t+e*jo)},function(t,e){return(e-t)/jo},function(t){return t.getHours()});const Fd=_3;_3.range;var v3=cr(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*bi)/Tl,t=>t.getDate()-1);const Hc=v3;v3.range;function Dl(t){return cr(function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},function(e,s){e.setDate(e.getDate()+s*7)},function(e,s){return(s-e-(s.getTimezoneOffset()-e.getTimezoneOffset())*bi)/wy})}var jc=Dl(0),Ld=Dl(1),AS=Dl(2),wS=Dl(3),Gc=Dl(4),ES=Dl(5),BS=Dl(6);jc.range,Ld.range,AS.range,wS.range,Gc.range,ES.range,BS.range;var b3=cr(function(t){t.setDate(1),t.setHours(0,0,0,0)},function(t,e){t.setMonth(t.getMonth()+e)},function(t,e){return e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12},function(t){return t.getMonth()});const Id=b3;b3.range;var By=cr(function(t){t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t,e){return e.getFullYear()-t.getFullYear()},function(t){return t.getFullYear()});By.every=function(t){return!isFinite(t=Math.floor(t))||!(t>0)?null:cr(function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,s){e.setFullYear(e.getFullYear()+s*t)})};const Fl=By;By.range;var SS=cr(function(t){t.setUTCSeconds(0,0)},function(t,e){t.setTime(+t+e*bi)},function(t,e){return(e-t)/bi},function(t){return t.getUTCMinutes()});SS.range;var TS=cr(function(t){t.setUTCMinutes(0,0,0)},function(t,e){t.setTime(+t+e*jo)},function(t,e){return(e-t)/jo},function(t){return t.getUTCHours()});TS.range;var x3=cr(function(t){t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+e)},function(t,e){return(e-t)/Tl},function(t){return t.getUTCDate()-1});const k3=x3;x3.range;function Ll(t){return cr(function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},function(e,s){e.setUTCDate(e.getUTCDate()+s*7)},function(e,s){return(s-e)/wy})}var C3=Ll(0),Md=Ll(1),DS=Ll(2),FS=Ll(3),qc=Ll(4),LS=Ll(5),IS=Ll(6);C3.range,Md.range,DS.range,FS.range,qc.range,LS.range,IS.range;var MS=cr(function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCMonth(t.getUTCMonth()+e)},function(t,e){return e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12},function(t){return t.getUTCMonth()});MS.range;var Sy=cr(function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)},function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()},function(t){return t.getUTCFullYear()});Sy.every=function(t){return!isFinite(t=Math.floor(t))||!(t>0)?null:cr(function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,s){e.setUTCFullYear(e.getUTCFullYear()+s*t)})};const yh=Sy;Sy.range;function RS(t,e,s,r,o,a){const u=[[fh,1,Ho],[fh,5,5*Ho],[fh,15,15*Ho],[fh,30,30*Ho],[a,1,bi],[a,5,5*bi],[a,15,15*bi],[a,30,30*bi],[o,1,jo],[o,3,3*jo],[o,6,6*jo],[o,12,12*jo],[r,1,Tl],[r,2,2*Tl],[s,1,wy],[e,1,y3],[e,3,3*y3],[t,1,Ey]];function h(y,_,v){const x=_<y;x&&([y,_]=[_,y]);const k=v&&typeof v.range=="function"?v:d(y,_,v),D=k?k.range(y,+_+1):[];return x?D.reverse():D}function d(y,_,v){const x=Math.abs(_-y)/v,k=fn(([,,R])=>R).right(u,x);if(k===u.length)return t.every(zt(y/Ey,_/Ey,v));if(k===0)return CS.every(Math.max(zt(y,_,v),1));const[D,M]=u[x/u[k-1][2]<u[k][2]/x?k-1:k];return D.every(M)}return[h,d]}const[OS,NS]=RS(Fl,Id,jc,Hc,Fd,Dd);function Ty(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Dy(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function gh(t,e,s){return{y:t,m:e,d:s,H:0,M:0,S:0,L:0}}function PS(t){var e=t.dateTime,s=t.date,r=t.time,o=t.periods,a=t.days,u=t.shortDays,h=t.months,d=t.shortMonths,y=mh(o),_=_h(o),v=mh(a),x=_h(a),k=mh(u),D=_h(u),M=mh(h),R=_h(h),Y=mh(d),V=_h(d),X={a:Dt,A:ce,b:Gt,B:ut,c:null,d:T3,e:T3,f:aT,g:mT,G:vT,H:rT,I:iT,j:oT,L:D3,m:lT,M:cT,p:Et,q:bt,Q:O3,s:N3,S:uT,u:hT,U:pT,V:dT,w:fT,W:yT,x:null,X:null,y:gT,Y:_T,Z:bT,"%":R3},J={a:xt,A:Tt,b:Wt,B:dt,c:null,d:L3,e:L3,f:AT,g:MT,G:OT,H:xT,I:kT,j:CT,L:I3,m:wT,M:ET,p:ve,q:et,Q:O3,s:N3,S:BT,u:ST,U:TT,V:DT,w:FT,W:LT,x:null,X:null,y:IT,Y:RT,Z:NT,"%":R3},rt={a:W,A:$,b:I,B:H,c:S,d:B3,e:B3,f:tT,g:E3,G:w3,H:S3,I:S3,j:KS,L:JS,m:XS,M:ZS,p:j,q:qS,Q:nT,s:sT,S:QS,u:zS,U:WS,V:HS,w:US,W:jS,x:yt,X:T,y:E3,Y:w3,Z:GS,"%":eT};X.x=lt(s,X),X.X=lt(r,X),X.c=lt(e,X),J.x=lt(s,J),J.X=lt(r,J),J.c=lt(e,J);function lt(st,pt){return function(Z){var q=[],U=-1,mt=0,N=st.length,Lt,nt,Be;for(Z instanceof Date||(Z=new Date(+Z));++U<N;)st.charCodeAt(U)===37&&(q.push(st.slice(mt,U)),(nt=A3[Lt=st.charAt(++U)])!=null?Lt=st.charAt(++U):nt=Lt==="e"?" ":"0",(Be=pt[Lt])&&(Lt=Be(Z,nt)),q.push(Lt),mt=U+1);return q.push(st.slice(mt,U)),q.join("")}}function tt(st,pt){return function(Z){var q=gh(1900,void 0,1),U=it(q,st,Z+="",0),mt,N;if(U!=Z.length)return null;if("Q"in q)return new Date(q.Q);if("s"in q)return new Date(q.s*1e3+("L"in q?q.L:0));if(pt&&!("Z"in q)&&(q.Z=0),"p"in q&&(q.H=q.H%12+q.p*12),q.m===void 0&&(q.m="q"in q?q.q:0),"V"in q){if(q.V<1||q.V>53)return null;"w"in q||(q.w=1),"Z"in q?(mt=Dy(gh(q.y,0,1)),N=mt.getUTCDay(),mt=N>4||N===0?Md.ceil(mt):Md(mt),mt=k3.offset(mt,(q.V-1)*7),q.y=mt.getUTCFullYear(),q.m=mt.getUTCMonth(),q.d=mt.getUTCDate()+(q.w+6)%7):(mt=Ty(gh(q.y,0,1)),N=mt.getDay(),mt=N>4||N===0?Ld.ceil(mt):Ld(mt),mt=Hc.offset(mt,(q.V-1)*7),q.y=mt.getFullYear(),q.m=mt.getMonth(),q.d=mt.getDate()+(q.w+6)%7)}else("W"in q||"U"in q)&&("w"in q||(q.w="u"in q?q.u%7:"W"in q?1:0),N="Z"in q?Dy(gh(q.y,0,1)).getUTCDay():Ty(gh(q.y,0,1)).getDay(),q.m=0,q.d="W"in q?(q.w+6)%7+q.W*7-(N+5)%7:q.w+q.U*7-(N+6)%7);return"Z"in q?(q.H+=q.Z/100|0,q.M+=q.Z%100,Dy(q)):Ty(q)}}function it(st,pt,Z,q){for(var U=0,mt=pt.length,N=Z.length,Lt,nt;U<mt;){if(q>=N)return-1;if(Lt=pt.charCodeAt(U++),Lt===37){if(Lt=pt.charAt(U++),nt=rt[Lt in A3?pt.charAt(U++):Lt],!nt||(q=nt(st,Z,q))<0)return-1}else if(Lt!=Z.charCodeAt(q++))return-1}return q}function j(st,pt,Z){var q=y.exec(pt.slice(Z));return q?(st.p=_.get(q[0].toLowerCase()),Z+q[0].length):-1}function W(st,pt,Z){var q=k.exec(pt.slice(Z));return q?(st.w=D.get(q[0].toLowerCase()),Z+q[0].length):-1}function $(st,pt,Z){var q=v.exec(pt.slice(Z));return q?(st.w=x.get(q[0].toLowerCase()),Z+q[0].length):-1}function I(st,pt,Z){var q=Y.exec(pt.slice(Z));return q?(st.m=V.get(q[0].toLowerCase()),Z+q[0].length):-1}function H(st,pt,Z){var q=M.exec(pt.slice(Z));return q?(st.m=R.get(q[0].toLowerCase()),Z+q[0].length):-1}function S(st,pt,Z){return it(st,e,pt,Z)}function yt(st,pt,Z){return it(st,s,pt,Z)}function T(st,pt,Z){return it(st,r,pt,Z)}function Dt(st){return u[st.getDay()]}function ce(st){return a[st.getDay()]}function Gt(st){return d[st.getMonth()]}function ut(st){return h[st.getMonth()]}function Et(st){return o[+(st.getHours()>=12)]}function bt(st){return 1+~~(st.getMonth()/3)}function xt(st){return u[st.getUTCDay()]}function Tt(st){return a[st.getUTCDay()]}function Wt(st){return d[st.getUTCMonth()]}function dt(st){return h[st.getUTCMonth()]}function ve(st){return o[+(st.getUTCHours()>=12)]}function et(st){return 1+~~(st.getUTCMonth()/3)}return{format:function(st){var pt=lt(st+="",X);return pt.toString=function(){return st},pt},parse:function(st){var pt=tt(st+="",!1);return pt.toString=function(){return st},pt},utcFormat:function(st){var pt=lt(st+="",J);return pt.toString=function(){return st},pt},utcParse:function(st){var pt=tt(st+="",!0);return pt.toString=function(){return st},pt}}}var A3={"-":"",_:" ",0:"0"},ur=/^\s*\d+/,VS=/^%/,$S=/[\\^$*+?|[\]().{}]/g;function Xn(t,e,s){var r=t<0?"-":"",o=(r?-t:t)+"",a=o.length;return r+(a<s?new Array(s-a+1).join(e)+o:o)}function YS(t){return t.replace($S,"\\$&")}function mh(t){return new RegExp("^(?:"+t.map(YS).join("|")+")","i")}function _h(t){return new Map(t.map((e,s)=>[e.toLowerCase(),s]))}function US(t,e,s){var r=ur.exec(e.slice(s,s+1));return r?(t.w=+r[0],s+r[0].length):-1}function zS(t,e,s){var r=ur.exec(e.slice(s,s+1));return r?(t.u=+r[0],s+r[0].length):-1}function WS(t,e,s){var r=ur.exec(e.slice(s,s+2));return r?(t.U=+r[0],s+r[0].length):-1}function HS(t,e,s){var r=ur.exec(e.slice(s,s+2));return r?(t.V=+r[0],s+r[0].length):-1}function jS(t,e,s){var r=ur.exec(e.slice(s,s+2));return r?(t.W=+r[0],s+r[0].length):-1}function w3(t,e,s){var r=ur.exec(e.slice(s,s+4));return r?(t.y=+r[0],s+r[0].length):-1}function E3(t,e,s){var r=ur.exec(e.slice(s,s+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),s+r[0].length):-1}function GS(t,e,s){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(s,s+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),s+r[0].length):-1}function qS(t,e,s){var r=ur.exec(e.slice(s,s+1));return r?(t.q=r[0]*3-3,s+r[0].length):-1}function XS(t,e,s){var r=ur.exec(e.slice(s,s+2));return r?(t.m=r[0]-1,s+r[0].length):-1}function B3(t,e,s){var r=ur.exec(e.slice(s,s+2));return r?(t.d=+r[0],s+r[0].length):-1}function KS(t,e,s){var r=ur.exec(e.slice(s,s+3));return r?(t.m=0,t.d=+r[0],s+r[0].length):-1}function S3(t,e,s){var r=ur.exec(e.slice(s,s+2));return r?(t.H=+r[0],s+r[0].length):-1}function ZS(t,e,s){var r=ur.exec(e.slice(s,s+2));return r?(t.M=+r[0],s+r[0].length):-1}function QS(t,e,s){var r=ur.exec(e.slice(s,s+2));return r?(t.S=+r[0],s+r[0].length):-1}function JS(t,e,s){var r=ur.exec(e.slice(s,s+3));return r?(t.L=+r[0],s+r[0].length):-1}function tT(t,e,s){var r=ur.exec(e.slice(s,s+6));return r?(t.L=Math.floor(r[0]/1e3),s+r[0].length):-1}function eT(t,e,s){var r=VS.exec(e.slice(s,s+1));return r?s+r[0].length:-1}function nT(t,e,s){var r=ur.exec(e.slice(s));return r?(t.Q=+r[0],s+r[0].length):-1}function sT(t,e,s){var r=ur.exec(e.slice(s));return r?(t.s=+r[0],s+r[0].length):-1}function T3(t,e){return Xn(t.getDate(),e,2)}function rT(t,e){return Xn(t.getHours(),e,2)}function iT(t,e){return Xn(t.getHours()%12||12,e,2)}function oT(t,e){return Xn(1+Hc.count(Fl(t),t),e,3)}function D3(t,e){return Xn(t.getMilliseconds(),e,3)}function aT(t,e){return D3(t,e)+"000"}function lT(t,e){return Xn(t.getMonth()+1,e,2)}function cT(t,e){return Xn(t.getMinutes(),e,2)}function uT(t,e){return Xn(t.getSeconds(),e,2)}function hT(t){var e=t.getDay();return e===0?7:e}function pT(t,e){return Xn(jc.count(Fl(t)-1,t),e,2)}function F3(t){var e=t.getDay();return e>=4||e===0?Gc(t):Gc.ceil(t)}function dT(t,e){return t=F3(t),Xn(Gc.count(Fl(t),t)+(Fl(t).getDay()===4),e,2)}function fT(t){return t.getDay()}function yT(t,e){return Xn(Ld.count(Fl(t)-1,t),e,2)}function gT(t,e){return Xn(t.getFullYear()%100,e,2)}function mT(t,e){return t=F3(t),Xn(t.getFullYear()%100,e,2)}function _T(t,e){return Xn(t.getFullYear()%1e4,e,4)}function vT(t,e){var s=t.getDay();return t=s>=4||s===0?Gc(t):Gc.ceil(t),Xn(t.getFullYear()%1e4,e,4)}function bT(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Xn(e/60|0,"0",2)+Xn(e%60,"0",2)}function L3(t,e){return Xn(t.getUTCDate(),e,2)}function xT(t,e){return Xn(t.getUTCHours(),e,2)}function kT(t,e){return Xn(t.getUTCHours()%12||12,e,2)}function CT(t,e){return Xn(1+k3.count(yh(t),t),e,3)}function I3(t,e){return Xn(t.getUTCMilliseconds(),e,3)}function AT(t,e){return I3(t,e)+"000"}function wT(t,e){return Xn(t.getUTCMonth()+1,e,2)}function ET(t,e){return Xn(t.getUTCMinutes(),e,2)}function BT(t,e){return Xn(t.getUTCSeconds(),e,2)}function ST(t){var e=t.getUTCDay();return e===0?7:e}function TT(t,e){return Xn(C3.count(yh(t)-1,t),e,2)}function M3(t){var e=t.getUTCDay();return e>=4||e===0?qc(t):qc.ceil(t)}function DT(t,e){return t=M3(t),Xn(qc.count(yh(t),t)+(yh(t).getUTCDay()===4),e,2)}function FT(t){return t.getUTCDay()}function LT(t,e){return Xn(Md.count(yh(t)-1,t),e,2)}function IT(t,e){return Xn(t.getUTCFullYear()%100,e,2)}function MT(t,e){return t=M3(t),Xn(t.getUTCFullYear()%100,e,2)}function RT(t,e){return Xn(t.getUTCFullYear()%1e4,e,4)}function OT(t,e){var s=t.getUTCDay();return t=s>=4||s===0?qc(t):qc.ceil(t),Xn(t.getUTCFullYear()%1e4,e,4)}function NT(){return"+0000"}function R3(){return"%"}function O3(t){return+t}function N3(t){return Math.floor(+t/1e3)}var Xc,Rd;PT({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function PT(t){return Xc=PS(t),Rd=Xc.format,Xc.parse,Xc.utcFormat,Xc.utcParse,Xc}function VT(t){return new Date(t)}function $T(t){return t instanceof Date?+t:+new Date(+t)}function P3(t,e,s,r,o,a,u,h,d,y){var _=d3(),v=_.invert,x=_.domain,k=y(".%L"),D=y(":%S"),M=y("%I:%M"),R=y("%I %p"),Y=y("%a %d"),V=y("%b %d"),X=y("%B"),J=y("%Y");function rt(lt){return(d(lt)<lt?k:h(lt)<lt?D:u(lt)<lt?M:a(lt)<lt?R:r(lt)<lt?o(lt)<lt?Y:V:s(lt)<lt?X:J)(lt)}return _.invert=function(lt){return new Date(v(lt))},_.domain=function(lt){return arguments.length?x(Array.from(lt,$T)):x().map(VT)},_.ticks=function(lt){var tt=x();return t(tt[0],tt[tt.length-1],lt??10)},_.tickFormat=function(lt,tt){return tt==null?rt:y(tt)},_.nice=function(lt){var tt=x();return(!lt||typeof lt.range!="function")&&(lt=e(tt[0],tt[tt.length-1],lt??10)),lt?x(kS(tt,lt)):_},_.copy=function(){return p3(_,P3(t,e,s,r,o,a,u,h,d,y))},_}function YT(){return xy.apply(P3(OS,NS,Fl,Id,jc,Hc,Fd,Dd,fh,Rd).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Os(t){return function(){return t}}const V3=Math.abs,Er=Math.atan2,Il=Math.cos,UT=Math.max,Fy=Math.min,_o=Math.sin,Kc=Math.sqrt,Gr=1e-12,vh=Math.PI,Od=vh/2,Nd=2*vh;function zT(t){return t>1?0:t<-1?vh:Math.acos(t)}function $3(t){return t>=1?Od:t<=-1?-Od:Math.asin(t)}function WT(t){return t.innerRadius}function HT(t){return t.outerRadius}function jT(t){return t.startAngle}function GT(t){return t.endAngle}function qT(t){return t&&t.padAngle}function XT(t,e,s,r,o,a,u,h){var d=s-t,y=r-e,_=u-o,v=h-a,x=v*d-_*y;if(!(x*x<Gr))return x=(_*(e-a)-v*(t-o))/x,[t+x*d,e+x*y]}function Pd(t,e,s,r,o,a,u){var h=t-s,d=e-r,y=(u?a:-a)/Kc(h*h+d*d),_=y*d,v=-y*h,x=t+_,k=e+v,D=s+_,M=r+v,R=(x+D)/2,Y=(k+M)/2,V=D-x,X=M-k,J=V*V+X*X,rt=o-a,lt=x*M-D*k,tt=(X<0?-1:1)*Kc(UT(0,rt*rt*J-lt*lt)),it=(lt*X-V*tt)/J,j=(-lt*V-X*tt)/J,W=(lt*X+V*tt)/J,$=(-lt*V+X*tt)/J,I=it-R,H=j-Y,S=W-R,yt=$-Y;return I*I+H*H>S*S+yt*yt&&(it=W,j=$),{cx:it,cy:j,x01:-_,y01:-v,x11:it*(o/rt-1),y11:j*(o/rt-1)}}function Ly(){var t=WT,e=HT,s=Os(0),r=null,o=jT,a=GT,u=qT,h=null;function d(){var y,_,v=+t.apply(this,arguments),x=+e.apply(this,arguments),k=o.apply(this,arguments)-Od,D=a.apply(this,arguments)-Od,M=V3(D-k),R=D>k;if(h||(h=y=vy()),x<v&&(_=x,x=v,v=_),!(x>Gr))h.moveTo(0,0);else if(M>Nd-Gr)h.moveTo(x*Il(k),x*_o(k)),h.arc(0,0,x,k,D,!R),v>Gr&&(h.moveTo(v*Il(D),v*_o(D)),h.arc(0,0,v,D,k,R));else{var Y=k,V=D,X=k,J=D,rt=M,lt=M,tt=u.apply(this,arguments)/2,it=tt>Gr&&(r?+r.apply(this,arguments):Kc(v*v+x*x)),j=Fy(V3(x-v)/2,+s.apply(this,arguments)),W=j,$=j,I,H;if(it>Gr){var S=$3(it/v*_o(tt)),yt=$3(it/x*_o(tt));(rt-=S*2)>Gr?(S*=R?1:-1,X+=S,J-=S):(rt=0,X=J=(k+D)/2),(lt-=yt*2)>Gr?(yt*=R?1:-1,Y+=yt,V-=yt):(lt=0,Y=V=(k+D)/2)}var T=x*Il(Y),Dt=x*_o(Y),ce=v*Il(J),Gt=v*_o(J);if(j>Gr){var ut=x*Il(V),Et=x*_o(V),bt=v*Il(X),xt=v*_o(X),Tt;if(M<vh&&(Tt=XT(T,Dt,bt,xt,ut,Et,ce,Gt))){var Wt=T-Tt[0],dt=Dt-Tt[1],ve=ut-Tt[0],et=Et-Tt[1],st=1/_o(zT((Wt*ve+dt*et)/(Kc(Wt*Wt+dt*dt)*Kc(ve*ve+et*et)))/2),pt=Kc(Tt[0]*Tt[0]+Tt[1]*Tt[1]);W=Fy(j,(v-pt)/(st-1)),$=Fy(j,(x-pt)/(st+1))}}lt>Gr?$>Gr?(I=Pd(bt,xt,T,Dt,x,$,R),H=Pd(ut,Et,ce,Gt,x,$,R),h.moveTo(I.cx+I.x01,I.cy+I.y01),$<j?h.arc(I.cx,I.cy,$,Er(I.y01,I.x01),Er(H.y01,H.x01),!R):(h.arc(I.cx,I.cy,$,Er(I.y01,I.x01),Er(I.y11,I.x11),!R),h.arc(0,0,x,Er(I.cy+I.y11,I.cx+I.x11),Er(H.cy+H.y11,H.cx+H.x11),!R),h.arc(H.cx,H.cy,$,Er(H.y11,H.x11),Er(H.y01,H.x01),!R))):(h.moveTo(T,Dt),h.arc(0,0,x,Y,V,!R)):h.moveTo(T,Dt),!(v>Gr)||!(rt>Gr)?h.lineTo(ce,Gt):W>Gr?(I=Pd(ce,Gt,ut,Et,v,-W,R),H=Pd(T,Dt,bt,xt,v,-W,R),h.lineTo(I.cx+I.x01,I.cy+I.y01),W<j?h.arc(I.cx,I.cy,W,Er(I.y01,I.x01),Er(H.y01,H.x01),!R):(h.arc(I.cx,I.cy,W,Er(I.y01,I.x01),Er(I.y11,I.x11),!R),h.arc(0,0,v,Er(I.cy+I.y11,I.cx+I.x11),Er(H.cy+H.y11,H.cx+H.x11),R),h.arc(H.cx,H.cy,W,Er(H.y11,H.x11),Er(H.y01,H.x01),!R))):h.arc(0,0,v,J,X,R)}if(h.closePath(),y)return h=null,y+""||null}return d.centroid=function(){var y=(+t.apply(this,arguments)+ +e.apply(this,arguments))/2,_=(+o.apply(this,arguments)+ +a.apply(this,arguments))/2-vh/2;return[Il(_)*y,_o(_)*y]},d.innerRadius=function(y){return arguments.length?(t=typeof y=="function"?y:Os(+y),d):t},d.outerRadius=function(y){return arguments.length?(e=typeof y=="function"?y:Os(+y),d):e},d.cornerRadius=function(y){return arguments.length?(s=typeof y=="function"?y:Os(+y),d):s},d.padRadius=function(y){return arguments.length?(r=y==null?null:typeof y=="function"?y:Os(+y),d):r},d.startAngle=function(y){return arguments.length?(o=typeof y=="function"?y:Os(+y),d):o},d.endAngle=function(y){return arguments.length?(a=typeof y=="function"?y:Os(+y),d):a},d.padAngle=function(y){return arguments.length?(u=typeof y=="function"?y:Os(+y),d):u},d.context=function(y){return arguments.length?(h=y??null,d):h},d}function Y3(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function U3(t){this._context=t}U3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function ri(t){return new U3(t)}function KT(t){return t[0]}function ZT(t){return t[1]}function Zc(t,e){var s=Os(!0),r=null,o=ri,a=null;t=typeof t=="function"?t:t===void 0?KT:Os(t),e=typeof e=="function"?e:e===void 0?ZT:Os(e);function u(h){var d,y=(h=Y3(h)).length,_,v=!1,x;for(r==null&&(a=o(x=vy())),d=0;d<=y;++d)!(d<y&&s(_=h[d],d,h))===v&&((v=!v)?a.lineStart():a.lineEnd()),v&&a.point(+t(_,d,h),+e(_,d,h));if(x)return a=null,x+""||null}return u.x=function(h){return arguments.length?(t=typeof h=="function"?h:Os(+h),u):t},u.y=function(h){return arguments.length?(e=typeof h=="function"?h:Os(+h),u):e},u.defined=function(h){return arguments.length?(s=typeof h=="function"?h:Os(!!h),u):s},u.curve=function(h){return arguments.length?(o=h,r!=null&&(a=o(r)),u):o},u.context=function(h){return arguments.length?(h==null?r=a=null:a=o(r=h),u):r},u}function QT(t,e){return e<t?-1:e>t?1:e>=t?0:NaN}function JT(t){return t}function tD(){var t=JT,e=QT,s=null,r=Os(0),o=Os(Nd),a=Os(0);function u(h){var d,y=(h=Y3(h)).length,_,v,x=0,k=new Array(y),D=new Array(y),M=+r.apply(this,arguments),R=Math.min(Nd,Math.max(-Nd,o.apply(this,arguments)-M)),Y,V=Math.min(Math.abs(R)/y,a.apply(this,arguments)),X=V*(R<0?-1:1),J;for(d=0;d<y;++d)(J=D[k[d]=d]=+t(h[d],d,h))>0&&(x+=J);for(e!=null?k.sort(function(rt,lt){return e(D[rt],D[lt])}):s!=null&&k.sort(function(rt,lt){return s(h[rt],h[lt])}),d=0,v=x?(R-y*X)/x:0;d<y;++d,M=Y)_=k[d],J=D[_],Y=M+(J>0?J*v:0)+X,D[_]={data:h[_],index:d,value:J,startAngle:M,endAngle:Y,padAngle:V};return D}return u.value=function(h){return arguments.length?(t=typeof h=="function"?h:Os(+h),u):t},u.sortValues=function(h){return arguments.length?(e=h,s=null,u):e},u.sort=function(h){return arguments.length?(s=h,e=null,u):s},u.startAngle=function(h){return arguments.length?(r=typeof h=="function"?h:Os(+h),u):r},u.endAngle=function(h){return arguments.length?(o=typeof h=="function"?h:Os(+h),u):o},u.padAngle=function(h){return arguments.length?(a=typeof h=="function"?h:Os(+h),u):a},u}function Vd(){}function $d(t,e,s){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+s)/6)}function z3(t){this._context=t}z3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:$d(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:$d(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Qc(t){return new z3(t)}function W3(t){this._context=t}W3.prototype={areaStart:Vd,areaEnd:Vd,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:$d(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function eD(t){return new W3(t)}function H3(t){this._context=t}H3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var s=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(s,r):this._context.moveTo(s,r);break;case 3:this._point=4;default:$d(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function nD(t){return new H3(t)}function j3(t){this._context=t}j3.prototype={areaStart:Vd,areaEnd:Vd,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function sD(t){return new j3(t)}function G3(t){return t<0?-1:1}function q3(t,e,s){var r=t._x1-t._x0,o=e-t._x1,a=(t._y1-t._y0)/(r||o<0&&-0),u=(s-t._y1)/(o||r<0&&-0),h=(a*o+u*r)/(r+o);return(G3(a)+G3(u))*Math.min(Math.abs(a),Math.abs(u),.5*Math.abs(h))||0}function X3(t,e){var s=t._x1-t._x0;return s?(3*(t._y1-t._y0)/s-e)/2:e}function Iy(t,e,s){var r=t._x0,o=t._y0,a=t._x1,u=t._y1,h=(a-r)/3;t._context.bezierCurveTo(r+h,o+h*e,a-h,u-h*s,a,u)}function Yd(t){this._context=t}Yd.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Iy(this,this._t0,X3(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var s=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Iy(this,X3(this,s=q3(this,t,e)),s);break;default:Iy(this,this._t0,s=q3(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=s}}};function K3(t){this._context=new Z3(t)}(K3.prototype=Object.create(Yd.prototype)).point=function(t,e){Yd.prototype.point.call(this,e,t)};function Z3(t){this._context=t}Z3.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,s,r,o,a){this._context.bezierCurveTo(e,t,r,s,a,o)}};function rD(t){return new Yd(t)}function iD(t){return new K3(t)}function Q3(t){this._context=t}Q3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,s=t.length;if(s)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),s===2)this._context.lineTo(t[1],e[1]);else for(var r=J3(t),o=J3(e),a=0,u=1;u<s;++a,++u)this._context.bezierCurveTo(r[0][a],o[0][a],r[1][a],o[1][a],t[u],e[u]);(this._line||this._line!==0&&s===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function J3(t){var e,s=t.length-1,r,o=new Array(s),a=new Array(s),u=new Array(s);for(o[0]=0,a[0]=2,u[0]=t[0]+2*t[1],e=1;e<s-1;++e)o[e]=1,a[e]=4,u[e]=4*t[e]+2*t[e+1];for(o[s-1]=2,a[s-1]=7,u[s-1]=8*t[s-1]+t[s],e=1;e<s;++e)r=o[e]/a[e-1],a[e]-=r,u[e]-=r*u[e-1];for(o[s-1]=u[s-1]/a[s-1],e=s-2;e>=0;--e)o[e]=(u[e]-o[e+1])/a[e];for(a[s-1]=(t[s]+o[s-1])/2,e=0;e<s-1;++e)a[e]=2*t[e+1]-o[e+1];return[o,a]}function oD(t){return new Q3(t)}function Ud(t,e){this._context=t,this._t=e}Ud.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var s=this._x*(1-this._t)+t*this._t;this._context.lineTo(s,this._y),this._context.lineTo(s,e)}break}}this._x=t,this._y=e}};function aD(t){return new Ud(t,.5)}function lD(t){return new Ud(t,0)}function cD(t){return new Ud(t,1)}function Jc(t,e,s){this.k=t,this.x=e,this.y=s}Jc.prototype={constructor:Jc,scale:function(t){return t===1?this:new Jc(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new Jc(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}},new Jc(1,0,0),Jc.prototype;/*! @license DOMPurify 2.4.1 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/2.4.1/LICENSE */function Oa(t){return Oa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Oa(t)}function My(t,e){return My=Object.setPrototypeOf||function(r,o){return r.__proto__=o,r},My(t,e)}function uD(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function zd(t,e,s){return uD()?zd=Reflect.construct:zd=function(o,a,u){var h=[null];h.push.apply(h,a);var d=Function.bind.apply(o,h),y=new d;return u&&My(y,u.prototype),y},zd.apply(null,arguments)}function Ri(t){return hD(t)||pD(t)||dD(t)||fD()}function hD(t){if(Array.isArray(t))return Ry(t)}function pD(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function dD(t,e){if(t){if(typeof t=="string")return Ry(t,e);var s=Object.prototype.toString.call(t).slice(8,-1);if(s==="Object"&&t.constructor&&(s=t.constructor.name),s==="Map"||s==="Set")return Array.from(t);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return Ry(t,e)}}function Ry(t,e){(e==null||e>t.length)&&(e=t.length);for(var s=0,r=new Array(e);s<e;s++)r[s]=t[s];return r}function fD(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var yD=Object.hasOwnProperty,t_=Object.setPrototypeOf,gD=Object.isFrozen,mD=Object.getPrototypeOf,_D=Object.getOwnPropertyDescriptor,Rr=Object.freeze,Oi=Object.seal,vD=Object.create,e_=typeof Reflect<"u"&&Reflect,Wd=e_.apply,Oy=e_.construct;Wd||(Wd=function(e,s,r){return e.apply(s,r)}),Rr||(Rr=function(e){return e}),Oi||(Oi=function(e){return e}),Oy||(Oy=function(e,s){return zd(e,Ri(s))});var bD=xi(Array.prototype.forEach),n_=xi(Array.prototype.pop),bh=xi(Array.prototype.push),Hd=xi(String.prototype.toLowerCase),Ny=xi(String.prototype.toString),xD=xi(String.prototype.match),Ni=xi(String.prototype.replace),kD=xi(String.prototype.indexOf),CD=xi(String.prototype.trim),Or=xi(RegExp.prototype.test),Py=AD(TypeError);function xi(t){return function(e){for(var s=arguments.length,r=new Array(s>1?s-1:0),o=1;o<s;o++)r[o-1]=arguments[o];return Wd(t,e,r)}}function AD(t){return function(){for(var e=arguments.length,s=new Array(e),r=0;r<e;r++)s[r]=arguments[r];return Oy(t,s)}}function Nn(t,e,s){s=s||Hd,t_&&t_(t,null);for(var r=e.length;r--;){var o=e[r];if(typeof o=="string"){var a=s(o);a!==o&&(gD(e)||(e[r]=a),o=a)}t[o]=!0}return t}function Ml(t){var e=vD(null),s;for(s in t)Wd(yD,t,[s])&&(e[s]=t[s]);return e}function jd(t,e){for(;t!==null;){var s=_D(t,e);if(s){if(s.get)return xi(s.get);if(typeof s.value=="function")return xi(s.value)}t=mD(t)}function r(o){return console.warn("fallback value for",o),null}return r}var s_=Rr(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Vy=Rr(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),$y=Rr(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),wD=Rr(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Yy=Rr(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),ED=Rr(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),r_=Rr(["#text"]),i_=Rr(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),Uy=Rr(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),o_=Rr(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Gd=Rr(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),BD=Oi(/\{\{[\w\W]*|[\w\W]*\}\}/gm),SD=Oi(/<%[\w\W]*|[\w\W]*%>/gm),TD=Oi(/\${[\w\W]*}/gm),DD=Oi(/^data-[\-\w.\u00B7-\uFFFF]/),FD=Oi(/^aria-[\-\w]+$/),LD=Oi(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),ID=Oi(/^(?:\w+script|data):/i),MD=Oi(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),RD=Oi(/^html$/i),OD=function(){return typeof window>"u"?null:window},ND=function(e,s){if(Oa(e)!=="object"||typeof e.createPolicy!="function")return null;var r=null,o="data-tt-policy-suffix";s.currentScript&&s.currentScript.hasAttribute(o)&&(r=s.currentScript.getAttribute(o));var a="dompurify"+(r?"#"+r:"");try{return e.createPolicy(a,{createHTML:function(h){return h},createScriptURL:function(h){return h}})}catch{return console.warn("TrustedTypes policy "+a+" could not be created."),null}};function a_(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:OD(),e=function(ft){return a_(ft)};if(e.version="2.4.1",e.removed=[],!t||!t.document||t.document.nodeType!==9)return e.isSupported=!1,e;var s=t.document,r=t.document,o=t.DocumentFragment,a=t.HTMLTemplateElement,u=t.Node,h=t.Element,d=t.NodeFilter,y=t.NamedNodeMap,_=y===void 0?t.NamedNodeMap||t.MozNamedAttrMap:y,v=t.HTMLFormElement,x=t.DOMParser,k=t.trustedTypes,D=h.prototype,M=jd(D,"cloneNode"),R=jd(D,"nextSibling"),Y=jd(D,"childNodes"),V=jd(D,"parentNode");if(typeof a=="function"){var X=r.createElement("template");X.content&&X.content.ownerDocument&&(r=X.content.ownerDocument)}var J=ND(k,s),rt=J?J.createHTML(""):"",lt=r,tt=lt.implementation,it=lt.createNodeIterator,j=lt.createDocumentFragment,W=lt.getElementsByTagName,$=s.importNode,I={};try{I=Ml(r).documentMode?r.documentMode:{}}catch{}var H={};e.isSupported=typeof V=="function"&&tt&&typeof tt.createHTMLDocument<"u"&&I!==9;var S=BD,yt=SD,T=TD,Dt=DD,ce=FD,Gt=ID,ut=MD,Et=LD,bt=null,xt=Nn({},[].concat(Ri(s_),Ri(Vy),Ri($y),Ri(Yy),Ri(r_))),Tt=null,Wt=Nn({},[].concat(Ri(i_),Ri(Uy),Ri(o_),Ri(Gd))),dt=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),ve=null,et=null,st=!0,pt=!0,Z=!1,q=!1,U=!1,mt=!1,N=!1,Lt=!1,nt=!1,Be=!1,vt=!0,de=!1,Xt="user-content-",Nt=!0,Qt=!1,qt={},Ot=null,Ct=Nn({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),gn=null,We=Nn({},["audio","video","img","source","image","track"]),Ue=null,je=Nn({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Oe="http://www.w3.org/1998/Math/MathML",zn="http://www.w3.org/2000/svg",Me="http://www.w3.org/1999/xhtml",Se=Me,we=!1,Ht=null,Rt=Nn({},[Oe,zn,Me],Ny),ae,Ut=["application/xhtml+xml","text/html"],Te="text/html",wt,cn=null,Mt=r.createElement("form"),rn=function(ft){return ft instanceof RegExp||ft instanceof Function},kn=function(ft){cn&&cn===ft||((!ft||Oa(ft)!=="object")&&(ft={}),ft=Ml(ft),ae=Ut.indexOf(ft.PARSER_MEDIA_TYPE)===-1?ae=Te:ae=ft.PARSER_MEDIA_TYPE,wt=ae==="application/xhtml+xml"?Ny:Hd,bt="ALLOWED_TAGS"in ft?Nn({},ft.ALLOWED_TAGS,wt):xt,Tt="ALLOWED_ATTR"in ft?Nn({},ft.ALLOWED_ATTR,wt):Wt,Ht="ALLOWED_NAMESPACES"in ft?Nn({},ft.ALLOWED_NAMESPACES,Ny):Rt,Ue="ADD_URI_SAFE_ATTR"in ft?Nn(Ml(je),ft.ADD_URI_SAFE_ATTR,wt):je,gn="ADD_DATA_URI_TAGS"in ft?Nn(Ml(We),ft.ADD_DATA_URI_TAGS,wt):We,Ot="FORBID_CONTENTS"in ft?Nn({},ft.FORBID_CONTENTS,wt):Ct,ve="FORBID_TAGS"in ft?Nn({},ft.FORBID_TAGS,wt):{},et="FORBID_ATTR"in ft?Nn({},ft.FORBID_ATTR,wt):{},qt="USE_PROFILES"in ft?ft.USE_PROFILES:!1,st=ft.ALLOW_ARIA_ATTR!==!1,pt=ft.ALLOW_DATA_ATTR!==!1,Z=ft.ALLOW_UNKNOWN_PROTOCOLS||!1,q=ft.SAFE_FOR_TEMPLATES||!1,U=ft.WHOLE_DOCUMENT||!1,Lt=ft.RETURN_DOM||!1,nt=ft.RETURN_DOM_FRAGMENT||!1,Be=ft.RETURN_TRUSTED_TYPE||!1,N=ft.FORCE_BODY||!1,vt=ft.SANITIZE_DOM!==!1,de=ft.SANITIZE_NAMED_PROPS||!1,Nt=ft.KEEP_CONTENT!==!1,Qt=ft.IN_PLACE||!1,Et=ft.ALLOWED_URI_REGEXP||Et,Se=ft.NAMESPACE||Me,ft.CUSTOM_ELEMENT_HANDLING&&rn(ft.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(dt.tagNameCheck=ft.CUSTOM_ELEMENT_HANDLING.tagNameCheck),ft.CUSTOM_ELEMENT_HANDLING&&rn(ft.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(dt.attributeNameCheck=ft.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),ft.CUSTOM_ELEMENT_HANDLING&&typeof ft.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(dt.allowCustomizedBuiltInElements=ft.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),q&&(pt=!1),nt&&(Lt=!0),qt&&(bt=Nn({},Ri(r_)),Tt=[],qt.html===!0&&(Nn(bt,s_),Nn(Tt,i_)),qt.svg===!0&&(Nn(bt,Vy),Nn(Tt,Uy),Nn(Tt,Gd)),qt.svgFilters===!0&&(Nn(bt,$y),Nn(Tt,Uy),Nn(Tt,Gd)),qt.mathMl===!0&&(Nn(bt,Yy),Nn(Tt,o_),Nn(Tt,Gd))),ft.ADD_TAGS&&(bt===xt&&(bt=Ml(bt)),Nn(bt,ft.ADD_TAGS,wt)),ft.ADD_ATTR&&(Tt===Wt&&(Tt=Ml(Tt)),Nn(Tt,ft.ADD_ATTR,wt)),ft.ADD_URI_SAFE_ATTR&&Nn(Ue,ft.ADD_URI_SAFE_ATTR,wt),ft.FORBID_CONTENTS&&(Ot===Ct&&(Ot=Ml(Ot)),Nn(Ot,ft.FORBID_CONTENTS,wt)),Nt&&(bt["#text"]=!0),U&&Nn(bt,["html","head","body"]),bt.table&&(Nn(bt,["tbody"]),delete ve.tbody),Rr&&Rr(ft),cn=ft)},Sn=Nn({},["mi","mo","mn","ms","mtext"]),Tn=Nn({},["foreignobject","desc","title","annotation-xml"]),In=Nn({},["title","style","font","a","script"]),ze=Nn({},Vy);Nn(ze,$y),Nn(ze,wD);var un=Nn({},Yy);Nn(un,ED);var En=function(ft){var ne=V(ft);(!ne||!ne.tagName)&&(ne={namespaceURI:Se,tagName:"template"});var fe=Hd(ft.tagName),Cn=Hd(ne.tagName);return Ht[ft.namespaceURI]?ft.namespaceURI===zn?ne.namespaceURI===Me?fe==="svg":ne.namespaceURI===Oe?fe==="svg"&&(Cn==="annotation-xml"||Sn[Cn]):Boolean(ze[fe]):ft.namespaceURI===Oe?ne.namespaceURI===Me?fe==="math":ne.namespaceURI===zn?fe==="math"&&Tn[Cn]:Boolean(un[fe]):ft.namespaceURI===Me?ne.namespaceURI===zn&&!Tn[Cn]||ne.namespaceURI===Oe&&!Sn[Cn]?!1:!un[fe]&&(In[fe]||!ze[fe]):!!(ae==="application/xhtml+xml"&&Ht[ft.namespaceURI]):!1},en=function(ft){bh(e.removed,{element:ft});try{ft.parentNode.removeChild(ft)}catch{try{ft.outerHTML=rt}catch{ft.remove()}}},to=function(ft,ne){try{bh(e.removed,{attribute:ne.getAttributeNode(ft),from:ne})}catch{bh(e.removed,{attribute:null,from:ne})}if(ne.removeAttribute(ft),ft==="is"&&!Tt[ft])if(Lt||nt)try{en(ne)}catch{}else try{ne.setAttribute(ft,"")}catch{}},ci=function(ft){var ne,fe;if(N)ft="<remove></remove>"+ft;else{var Cn=xD(ft,/^[\r\n\t ]+/);fe=Cn&&Cn[0]}ae==="application/xhtml+xml"&&Se===Me&&(ft='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+ft+"</body></html>");var is=J?J.createHTML(ft):ft;if(Se===Me)try{ne=new x().parseFromString(is,ae)}catch{}if(!ne||!ne.documentElement){ne=tt.createDocument(Se,"template",null);try{ne.documentElement.innerHTML=we?"":is}catch{}}var Jn=ne.body||ne.documentElement;return ft&&fe&&Jn.insertBefore(r.createTextNode(fe),Jn.childNodes[0]||null),Se===Me?W.call(ne,U?"html":"body")[0]:U?ne.documentElement:Jn},rs=function(ft){return it.call(ft.ownerDocument||ft,ft,d.SHOW_ELEMENT|d.SHOW_COMMENT|d.SHOW_TEXT,null,!1)},hn=function(ft){return ft instanceof v&&(typeof ft.nodeName!="string"||typeof ft.textContent!="string"||typeof ft.removeChild!="function"||!(ft.attributes instanceof _)||typeof ft.removeAttribute!="function"||typeof ft.setAttribute!="function"||typeof ft.namespaceURI!="string"||typeof ft.insertBefore!="function"||typeof ft.hasChildNodes!="function")},fs=function(ft){return Oa(u)==="object"?ft instanceof u:ft&&Oa(ft)==="object"&&typeof ft.nodeType=="number"&&typeof ft.nodeName=="string"},ms=function(ft,ne,fe){H[ft]&&bD(H[ft],function(Cn){Cn.call(e,ne,fe,cn)})},xs=function(ft){var ne;if(ms("beforeSanitizeElements",ft,null),hn(ft)||Or(/[\u0080-\uFFFF]/,ft.nodeName))return en(ft),!0;var fe=wt(ft.nodeName);if(ms("uponSanitizeElement",ft,{tagName:fe,allowedTags:bt}),ft.hasChildNodes()&&!fs(ft.firstElementChild)&&(!fs(ft.content)||!fs(ft.content.firstElementChild))&&Or(/<[/\w]/g,ft.innerHTML)&&Or(/<[/\w]/g,ft.textContent)||fe==="select"&&Or(/<template/i,ft.innerHTML))return en(ft),!0;if(!bt[fe]||ve[fe]){if(!ve[fe]&&ys(fe)&&(dt.tagNameCheck instanceof RegExp&&Or(dt.tagNameCheck,fe)||dt.tagNameCheck instanceof Function&&dt.tagNameCheck(fe)))return!1;if(Nt&&!Ot[fe]){var Cn=V(ft)||ft.parentNode,is=Y(ft)||ft.childNodes;if(is&&Cn)for(var Jn=is.length,Ss=Jn-1;Ss>=0;--Ss)Cn.insertBefore(M(is[Ss],!0),R(ft))}return en(ft),!0}return ft instanceof h&&!En(ft)||(fe==="noscript"||fe==="noembed")&&Or(/<\/no(script|embed)/i,ft.innerHTML)?(en(ft),!0):(q&&ft.nodeType===3&&(ne=ft.textContent,ne=Ni(ne,S," "),ne=Ni(ne,yt," "),ne=Ni(ne,T," "),ft.textContent!==ne&&(bh(e.removed,{element:ft.cloneNode()}),ft.textContent=ne)),ms("afterSanitizeElements",ft,null),!1)},ks=function(ft,ne,fe){if(vt&&(ne==="id"||ne==="name")&&(fe in r||fe in Mt))return!1;if(!(pt&&!et[ne]&&Or(Dt,ne))){if(!(st&&Or(ce,ne))){if(!Tt[ne]||et[ne]){if(!(ys(ft)&&(dt.tagNameCheck instanceof RegExp&&Or(dt.tagNameCheck,ft)||dt.tagNameCheck instanceof Function&&dt.tagNameCheck(ft))&&(dt.attributeNameCheck instanceof RegExp&&Or(dt.attributeNameCheck,ne)||dt.attributeNameCheck instanceof Function&&dt.attributeNameCheck(ne))||ne==="is"&&dt.allowCustomizedBuiltInElements&&(dt.tagNameCheck instanceof RegExp&&Or(dt.tagNameCheck,fe)||dt.tagNameCheck instanceof Function&&dt.tagNameCheck(fe))))return!1}else if(!Ue[ne]){if(!Or(Et,Ni(fe,ut,""))){if(!((ne==="src"||ne==="xlink:href"||ne==="href")&&ft!=="script"&&kD(fe,"data:")===0&&gn[ft])){if(!(Z&&!Or(Gt,Ni(fe,ut,"")))){if(fe)return!1}}}}}}return!0},ys=function(ft){return ft.indexOf("-")>0},Ms=function(ft){var ne,fe,Cn,is;ms("beforeSanitizeAttributes",ft,null);var Jn=ft.attributes;if(Jn){var Ss={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Tt};for(is=Jn.length;is--;){ne=Jn[is];var Fn=ne,cs=Fn.name,Za=Fn.namespaceURI;if(fe=cs==="value"?ne.value:CD(ne.value),Cn=wt(cs),Ss.attrName=Cn,Ss.attrValue=fe,Ss.keepAttr=!0,Ss.forceKeepAttr=void 0,ms("uponSanitizeAttribute",ft,Ss),fe=Ss.attrValue,!Ss.forceKeepAttr&&(to(cs,ft),!!Ss.keepAttr)){if(Or(/\/>/i,fe)){to(cs,ft);continue}q&&(fe=Ni(fe,S," "),fe=Ni(fe,yt," "),fe=Ni(fe,T," "));var Qa=wt(ft.nodeName);if(ks(Qa,Cn,fe)){if(de&&(Cn==="id"||Cn==="name")&&(to(cs,ft),fe=Xt+fe),J&&Oa(k)==="object"&&typeof k.getAttributeType=="function"&&!Za)switch(k.getAttributeType(Qa,Cn)){case"TrustedHTML":fe=J.createHTML(fe);break;case"TrustedScriptURL":fe=J.createScriptURL(fe);break}try{Za?ft.setAttributeNS(Za,cs,fe):ft.setAttribute(cs,fe),n_(e.removed)}catch{}}}}ms("afterSanitizeAttributes",ft,null)}},qs=function De(ft){var ne,fe=rs(ft);for(ms("beforeSanitizeShadowDOM",ft,null);ne=fe.nextNode();)ms("uponSanitizeShadowNode",ne,null),!xs(ne)&&(ne.content instanceof o&&De(ne.content),Ms(ne));ms("afterSanitizeShadowDOM",ft,null)};return e.sanitize=function(De){var ft=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ne,fe,Cn,is,Jn;if(we=!De,we&&(De="<!-->"),typeof De!="string"&&!fs(De)){if(typeof De.toString!="function")throw Py("toString is not a function");if(De=De.toString(),typeof De!="string")throw Py("dirty is not a string, aborting")}if(!e.isSupported){if(Oa(t.toStaticHTML)==="object"||typeof t.toStaticHTML=="function"){if(typeof De=="string")return t.toStaticHTML(De);if(fs(De))return t.toStaticHTML(De.outerHTML)}return De}if(mt||kn(ft),e.removed=[],typeof De=="string"&&(Qt=!1),Qt){if(De.nodeName){var Ss=wt(De.nodeName);if(!bt[Ss]||ve[Ss])throw Py("root node is forbidden and cannot be sanitized in-place")}}else if(De instanceof u)ne=ci("<!---->"),fe=ne.ownerDocument.importNode(De,!0),fe.nodeType===1&&fe.nodeName==="BODY"||fe.nodeName==="HTML"?ne=fe:ne.appendChild(fe);else{if(!Lt&&!q&&!U&&De.indexOf("<")===-1)return J&&Be?J.createHTML(De):De;if(ne=ci(De),!ne)return Lt?null:Be?rt:""}ne&&N&&en(ne.firstChild);for(var Fn=rs(Qt?De:ne);Cn=Fn.nextNode();)Cn.nodeType===3&&Cn===is||xs(Cn)||(Cn.content instanceof o&&qs(Cn.content),Ms(Cn),is=Cn);if(is=null,Qt)return De;if(Lt){if(nt)for(Jn=j.call(ne.ownerDocument);ne.firstChild;)Jn.appendChild(ne.firstChild);else Jn=ne;return Tt.shadowroot&&(Jn=$.call(s,Jn,!0)),Jn}var cs=U?ne.outerHTML:ne.innerHTML;return U&&bt["!doctype"]&&ne.ownerDocument&&ne.ownerDocument.doctype&&ne.ownerDocument.doctype.name&&Or(RD,ne.ownerDocument.doctype.name)&&(cs="<!DOCTYPE "+ne.ownerDocument.doctype.name+`>
`+cs),q&&(cs=Ni(cs,S," "),cs=Ni(cs,yt," "),cs=Ni(cs,T," ")),J&&Be?J.createHTML(cs):cs},e.setConfig=function(De){kn(De),mt=!0},e.clearConfig=function(){cn=null,mt=!1},e.isValidAttribute=function(De,ft,ne){cn||kn({});var fe=wt(De),Cn=wt(ft);return ks(fe,Cn,ne)},e.addHook=function(De,ft){typeof ft=="function"&&(H[De]=H[De]||[],bh(H[De],ft))},e.removeHook=function(De){if(H[De])return n_(H[De])},e.removeHooks=function(De){H[De]&&(H[De]=[])},e.removeAllHooks=function(){H={}},e}var xh=a_();const PD=t=>t?u_(t).replace(/\\n/g,"#br#").split("#br#"):[""],l_=t=>xh.sanitize(t),c_=(t,e)=>{var s;if(((s=e.flowchart)==null?void 0:s.htmlLabels)!==!1){const r=e.securityLevel;r==="antiscript"||r==="strict"?t=l_(t):r!=="loose"&&(t=u_(t),t=t.replace(/</g,"&lt;").replace(/>/g,"&gt;"),t=t.replace(/=/g,"&equals;"),t=UD(t))}return t},Pi=(t,e)=>t&&(e.dompurifyConfig?t=xh.sanitize(c_(t,e),e.dompurifyConfig).toString():t=xh.sanitize(c_(t,e),{FORBID_TAGS:["style"]}).toString(),t),VD=(t,e)=>typeof t=="string"?Pi(t,e):t.flat().map(s=>Pi(s,e)),qd=/<br\s*\/?>/gi,$D=t=>qd.test(t),YD=t=>t.split(qd),UD=t=>t.replace(/#br#/g,"<br/>"),u_=t=>t.replace(qd,"#br#"),zD=t=>{let e="";return t&&(e=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,e=e.replaceAll(/\(/g,"\\("),e=e.replaceAll(/\)/g,"\\)")),e},hr=t=>!(t===!1||["false","null","0"].includes(String(t).trim().toLowerCase())),Na=function(t){let e=t;return t.includes("~")?(e=e.replace(/~([^~].*)/,"<$1"),e=e.replace(/~([^~]*)$/,">$1"),Na(e)):e},vn={getRows:PD,sanitizeText:Pi,sanitizeTextOrArray:VD,hasBreaks:$D,splitBreaks:YD,lineBreakRegex:qd,removeScript:l_,getUrl:zD,evaluate:hr},Xd={min:{r:0,g:0,b:0,s:0,l:0,a:0},max:{r:255,g:255,b:255,h:360,s:100,l:100,a:1},clamp:{r:t=>t>=255?255:t<0?0:t,g:t=>t>=255?255:t<0?0:t,b:t=>t>=255?255:t<0?0:t,h:t=>t%360,s:t=>t>=100?100:t<0?0:t,l:t=>t>=100?100:t<0?0:t,a:t=>t>=1?1:t<0?0:t},toLinear:t=>{const e=t/255;return t>.03928?Math.pow((e+.055)/1.055,2.4):e/12.92},hue2rgb:(t,e,s)=>(s<0&&(s+=1),s>1&&(s-=1),s<1/6?t+(e-t)*6*s:s<1/2?e:s<2/3?t+(e-t)*(2/3-s)*6:t),hsl2rgb:({h:t,s:e,l:s},r)=>{if(!e)return s*2.55;t/=360,e/=100,s/=100;const o=s<.5?s*(1+e):s+e-s*e,a=2*s-o;switch(r){case"r":return Xd.hue2rgb(a,o,t+1/3)*255;case"g":return Xd.hue2rgb(a,o,t)*255;case"b":return Xd.hue2rgb(a,o,t-1/3)*255}},rgb2hsl:({r:t,g:e,b:s},r)=>{t/=255,e/=255,s/=255;const o=Math.max(t,e,s),a=Math.min(t,e,s),u=(o+a)/2;if(r==="l")return u*100;if(o===a)return 0;const h=o-a,d=u>.5?h/(2-o-a):h/(o+a);if(r==="s")return d*100;switch(o){case t:return((e-s)/h+(e<s?6:0))*60;case e:return((s-t)/h+2)*60;case s:return((t-e)/h+4)*60;default:return-1}}},Dn={channel:Xd,lang:{clamp:(t,e,s)=>e>s?Math.min(e,Math.max(s,t)):Math.min(s,Math.max(e,t)),round:t=>Math.round(t*1e10)/1e10},unit:{dec2hex:t=>{const e=Math.round(t).toString(16);return e.length>1?e:`0${e}`}}},Pa={};for(let t=0;t<=255;t++)Pa[t]=Dn.unit.dec2hex(t);const Br={ALL:0,RGB:1,HSL:2};class WD{constructor(){this.type=Br.ALL}get(){return this.type}set(e){if(this.type&&this.type!==e)throw new Error("Cannot change both RGB and HSL channels at the same time");this.type=e}reset(){this.type=Br.ALL}is(e){return this.type===e}}const HD=WD;class jD{constructor(e,s){this.color=s,this.changed=!1,this.data=e,this.type=new HD}set(e,s){return this.color=s,this.changed=!1,this.data=e,this.type.type=Br.ALL,this}_ensureHSL(){const e=this.data,{h:s,s:r,l:o}=e;s===void 0&&(e.h=Dn.channel.rgb2hsl(e,"h")),r===void 0&&(e.s=Dn.channel.rgb2hsl(e,"s")),o===void 0&&(e.l=Dn.channel.rgb2hsl(e,"l"))}_ensureRGB(){const e=this.data,{r:s,g:r,b:o}=e;s===void 0&&(e.r=Dn.channel.hsl2rgb(e,"r")),r===void 0&&(e.g=Dn.channel.hsl2rgb(e,"g")),o===void 0&&(e.b=Dn.channel.hsl2rgb(e,"b"))}get r(){const e=this.data,s=e.r;return!this.type.is(Br.HSL)&&s!==void 0?s:(this._ensureHSL(),Dn.channel.hsl2rgb(e,"r"))}get g(){const e=this.data,s=e.g;return!this.type.is(Br.HSL)&&s!==void 0?s:(this._ensureHSL(),Dn.channel.hsl2rgb(e,"g"))}get b(){const e=this.data,s=e.b;return!this.type.is(Br.HSL)&&s!==void 0?s:(this._ensureHSL(),Dn.channel.hsl2rgb(e,"b"))}get h(){const e=this.data,s=e.h;return!this.type.is(Br.RGB)&&s!==void 0?s:(this._ensureRGB(),Dn.channel.rgb2hsl(e,"h"))}get s(){const e=this.data,s=e.s;return!this.type.is(Br.RGB)&&s!==void 0?s:(this._ensureRGB(),Dn.channel.rgb2hsl(e,"s"))}get l(){const e=this.data,s=e.l;return!this.type.is(Br.RGB)&&s!==void 0?s:(this._ensureRGB(),Dn.channel.rgb2hsl(e,"l"))}get a(){return this.data.a}set r(e){this.type.set(Br.RGB),this.changed=!0,this.data.r=e}set g(e){this.type.set(Br.RGB),this.changed=!0,this.data.g=e}set b(e){this.type.set(Br.RGB),this.changed=!0,this.data.b=e}set h(e){this.type.set(Br.HSL),this.changed=!0,this.data.h=e}set s(e){this.type.set(Br.HSL),this.changed=!0,this.data.s=e}set l(e){this.type.set(Br.HSL),this.changed=!0,this.data.l=e}set a(e){this.changed=!0,this.data.a=e}}const GD=jD,Kd=new GD({r:0,g:0,b:0,a:0},"transparent"),h_={re:/^#((?:[a-f0-9]{2}){2,4}|[a-f0-9]{3})$/i,parse:t=>{if(t.charCodeAt(0)!==35)return;const e=t.match(h_.re);if(!e)return;const s=e[1],r=parseInt(s,16),o=s.length,a=o%4===0,u=o>4,h=u?1:17,d=u?8:4,y=a?0:-1,_=u?255:15;return Kd.set({r:(r>>d*(y+3)&_)*h,g:(r>>d*(y+2)&_)*h,b:(r>>d*(y+1)&_)*h,a:a?(r&_)*h/255:1},t)},stringify:t=>{const{r:e,g:s,b:r,a:o}=t;return o<1?`#${Pa[Math.round(e)]}${Pa[Math.round(s)]}${Pa[Math.round(r)]}${Pa[Math.round(o*255)]}`:`#${Pa[Math.round(e)]}${Pa[Math.round(s)]}${Pa[Math.round(r)]}`}},kh=h_,Zd={re:/^hsla?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(?:deg|grad|rad|turn)?)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(%)?))?\s*?\)$/i,hueRe:/^(.+?)(deg|grad|rad|turn)$/i,_hue2deg:t=>{const e=t.match(Zd.hueRe);if(e){const[,s,r]=e;switch(r){case"grad":return Dn.channel.clamp.h(parseFloat(s)*.9);case"rad":return Dn.channel.clamp.h(parseFloat(s)*180/Math.PI);case"turn":return Dn.channel.clamp.h(parseFloat(s)*360)}}return Dn.channel.clamp.h(parseFloat(t))},parse:t=>{const e=t.charCodeAt(0);if(e!==104&&e!==72)return;const s=t.match(Zd.re);if(!s)return;const[,r,o,a,u,h]=s;return Kd.set({h:Zd._hue2deg(r),s:Dn.channel.clamp.s(parseFloat(o)),l:Dn.channel.clamp.l(parseFloat(a)),a:u?Dn.channel.clamp.a(h?parseFloat(u)/100:parseFloat(u)):1},t)},stringify:t=>{const{h:e,s,l:r,a:o}=t;return o<1?`hsla(${Dn.lang.round(e)}, ${Dn.lang.round(s)}%, ${Dn.lang.round(r)}%, ${o})`:`hsl(${Dn.lang.round(e)}, ${Dn.lang.round(s)}%, ${Dn.lang.round(r)}%)`}},Qd=Zd,Jd={colors:{aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyanaqua:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",transparent:"#00000000",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},parse:t=>{t=t.toLowerCase();const e=Jd.colors[t];if(e)return kh.parse(e)},stringify:t=>{const e=kh.stringify(t);for(const s in Jd.colors)if(Jd.colors[s]===e)return s}},p_=Jd,d_={re:/^rgba?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?)))?\s*?\)$/i,parse:t=>{const e=t.charCodeAt(0);if(e!==114&&e!==82)return;const s=t.match(d_.re);if(!s)return;const[,r,o,a,u,h,d,y,_]=s;return Kd.set({r:Dn.channel.clamp.r(o?parseFloat(r)*2.55:parseFloat(r)),g:Dn.channel.clamp.g(u?parseFloat(a)*2.55:parseFloat(a)),b:Dn.channel.clamp.b(d?parseFloat(h)*2.55:parseFloat(h)),a:y?Dn.channel.clamp.a(_?parseFloat(y)/100:parseFloat(y)):1},t)},stringify:t=>{const{r:e,g:s,b:r,a:o}=t;return o<1?`rgba(${Dn.lang.round(e)}, ${Dn.lang.round(s)}, ${Dn.lang.round(r)}, ${Dn.lang.round(o)})`:`rgb(${Dn.lang.round(e)}, ${Dn.lang.round(s)}, ${Dn.lang.round(r)})`}},tf=d_,Go={format:{keyword:p_,hex:kh,rgb:tf,rgba:tf,hsl:Qd,hsla:Qd},parse:t=>{if(typeof t!="string")return t;const e=kh.parse(t)||tf.parse(t)||Qd.parse(t)||p_.parse(t);if(e)return e;throw new Error(`Unsupported color format: "${t}"`)},stringify:t=>!t.changed&&t.color?t.color:t.type.is(Br.HSL)||t.data.r===void 0?Qd.stringify(t):t.a<1||!Number.isInteger(t.r)||!Number.isInteger(t.g)||!Number.isInteger(t.b)?tf.stringify(t):kh.stringify(t)},f_=(t,e)=>{const s=Go.parse(t);for(const r in e)s[r]=Dn.channel.clamp[r](e[r]);return Go.stringify(s)},Ch=(t,e,s=0,r=1)=>{if(typeof t!="number")return f_(t,{a:e});const o=Kd.set({r:Dn.channel.clamp.r(t),g:Dn.channel.clamp.g(e),b:Dn.channel.clamp.b(s),a:Dn.channel.clamp.a(r)});return Go.stringify(o)},y_=(t,e,s)=>{const r=Go.parse(t),o=r[e],a=Dn.channel.clamp[e](o+s);return o!==a&&(r[e]=a),Go.stringify(r)},ln=(t,e)=>y_(t,"l",e),xn=(t,e)=>y_(t,"l",-e),Pt=(t,e)=>{const s=Go.parse(t),r={};for(const o in e)e[o]&&(r[o]=s[o]+e[o]);return f_(t,r)},qD=(t,e,s=50)=>{const{r,g:o,b:a,a:u}=Go.parse(t),{r:h,g:d,b:y,a:_}=Go.parse(e),v=s/100,x=v*2-1,k=u-_,M=((x*k===-1?x:(x+k)/(1+x*k))+1)/2,R=1-M,Y=r*M+h*R,V=o*M+d*R,X=a*M+y*R,J=u*v+_*(1-v);return Ch(Y,V,X,J)},Ie=(t,e=100)=>{const s=Go.parse(t);return s.r=255-s.r,s.g=255-s.g,s.b=255-s.b,qD(s,t,e)},Nr=(t,e)=>e?Pt(t,{s:-40,l:10}):Pt(t,{s:-40,l:-10}),ef="#ffffff",nf="#f2f2f2";class XD{constructor(){this.background="#f4f4f4",this.darkMode=!1,this.primaryColor="#fff4dd",this.noteBkgColor="#fff5ad",this.noteTextColor="#333",this.THEME_COLOR_LIMIT=12,this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px"}updateColors(){if(this.primaryTextColor=this.primaryTextColor||(this.darkMode?"#eee":"#333"),this.secondaryColor=this.secondaryColor||Pt(this.primaryColor,{h:-120}),this.tertiaryColor=this.tertiaryColor||Pt(this.primaryColor,{h:180,l:5}),this.primaryBorderColor=this.primaryBorderColor||Nr(this.primaryColor,this.darkMode),this.secondaryBorderColor=this.secondaryBorderColor||Nr(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=this.tertiaryBorderColor||Nr(this.tertiaryColor,this.darkMode),this.noteBorderColor=this.noteBorderColor||Nr(this.noteBkgColor,this.darkMode),this.noteBkgColor=this.noteBkgColor||"#fff5ad",this.noteTextColor=this.noteTextColor||"#333",this.secondaryTextColor=this.secondaryTextColor||Ie(this.secondaryColor),this.tertiaryTextColor=this.tertiaryTextColor||Ie(this.tertiaryColor),this.lineColor=this.lineColor||Ie(this.background),this.textColor=this.textColor||this.primaryTextColor,this.nodeBkg=this.nodeBkg||this.primaryColor,this.mainBkg=this.mainBkg||this.primaryColor,this.nodeBorder=this.nodeBorder||this.primaryBorderColor,this.clusterBkg=this.clusterBkg||this.tertiaryColor,this.clusterBorder=this.clusterBorder||this.tertiaryBorderColor,this.defaultLinkColor=this.defaultLinkColor||this.lineColor,this.titleColor=this.titleColor||this.tertiaryTextColor,this.edgeLabelBackground=this.edgeLabelBackground||(this.darkMode?xn(this.secondaryColor,30):this.secondaryColor),this.nodeTextColor=this.nodeTextColor||this.primaryTextColor,this.actorBorder=this.actorBorder||this.primaryBorderColor,this.actorBkg=this.actorBkg||this.mainBkg,this.actorTextColor=this.actorTextColor||this.primaryTextColor,this.actorLineColor=this.actorLineColor||"grey",this.labelBoxBkgColor=this.labelBoxBkgColor||this.actorBkg,this.signalColor=this.signalColor||this.textColor,this.signalTextColor=this.signalTextColor||this.textColor,this.labelBoxBorderColor=this.labelBoxBorderColor||this.actorBorder,this.labelTextColor=this.labelTextColor||this.actorTextColor,this.loopTextColor=this.loopTextColor||this.actorTextColor,this.activationBorderColor=this.activationBorderColor||xn(this.secondaryColor,10),this.activationBkgColor=this.activationBkgColor||this.secondaryColor,this.sequenceNumberColor=this.sequenceNumberColor||Ie(this.lineColor),this.sectionBkgColor=this.sectionBkgColor||this.tertiaryColor,this.altSectionBkgColor=this.altSectionBkgColor||"white",this.sectionBkgColor=this.sectionBkgColor||this.secondaryColor,this.sectionBkgColor2=this.sectionBkgColor2||this.primaryColor,this.excludeBkgColor=this.excludeBkgColor||"#eeeeee",this.taskBorderColor=this.taskBorderColor||this.primaryBorderColor,this.taskBkgColor=this.taskBkgColor||this.primaryColor,this.activeTaskBorderColor=this.activeTaskBorderColor||this.primaryColor,this.activeTaskBkgColor=this.activeTaskBkgColor||ln(this.primaryColor,23),this.gridColor=this.gridColor||"lightgrey",this.doneTaskBkgColor=this.doneTaskBkgColor||"lightgrey",this.doneTaskBorderColor=this.doneTaskBorderColor||"grey",this.critBorderColor=this.critBorderColor||"#ff8888",this.critBkgColor=this.critBkgColor||"red",this.todayLineColor=this.todayLineColor||"red",this.taskTextColor=this.taskTextColor||this.textColor,this.taskTextOutsideColor=this.taskTextOutsideColor||this.textColor,this.taskTextLightColor=this.taskTextLightColor||this.textColor,this.taskTextColor=this.taskTextColor||this.primaryTextColor,this.taskTextDarkColor=this.taskTextDarkColor||this.textColor,this.taskTextClickableColor=this.taskTextClickableColor||"#003163",this.personBorder=this.personBorder||this.primaryBorderColor,this.personBkg=this.personBkg||this.mainBkg,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||this.tertiaryColor,this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.nodeBorder,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.specialStateColor=this.lineColor,this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||Pt(this.primaryColor,{h:30}),this.cScale4=this.cScale4||Pt(this.primaryColor,{h:60}),this.cScale5=this.cScale5||Pt(this.primaryColor,{h:90}),this.cScale6=this.cScale6||Pt(this.primaryColor,{h:120}),this.cScale7=this.cScale7||Pt(this.primaryColor,{h:150}),this.cScale8=this.cScale8||Pt(this.primaryColor,{h:210,l:150}),this.cScale9=this.cScale9||Pt(this.primaryColor,{h:270}),this.cScale10=this.cScale10||Pt(this.primaryColor,{h:300}),this.cScale11=this.cScale11||Pt(this.primaryColor,{h:330}),this.darkMode)for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScale"+e]=xn(this["cScale"+e],75);else for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScale"+e]=xn(this["cScale"+e],25);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleInv"+e]=this["cScaleInv"+e]||Ie(this["cScale"+e]);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this.darkMode?this["cScalePeer"+e]=this["cScalePeer"+e]||ln(this["cScale"+e],10):this["cScalePeer"+e]=this["cScalePeer"+e]||xn(this["cScale"+e],10);this.scaleLabelColor=this.scaleLabelColor||this.labelTextColor;for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleLabel"+e]=this["cScaleLabel"+e]||this.scaleLabelColor;this.classText=this.classText||this.textColor,this.fillType0=this.fillType0||this.primaryColor,this.fillType1=this.fillType1||this.secondaryColor,this.fillType2=this.fillType2||Pt(this.primaryColor,{h:64}),this.fillType3=this.fillType3||Pt(this.secondaryColor,{h:64}),this.fillType4=this.fillType4||Pt(this.primaryColor,{h:-64}),this.fillType5=this.fillType5||Pt(this.secondaryColor,{h:-64}),this.fillType6=this.fillType6||Pt(this.primaryColor,{h:128}),this.fillType7=this.fillType7||Pt(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||this.tertiaryColor,this.pie4=this.pie4||Pt(this.primaryColor,{l:-10}),this.pie5=this.pie5||Pt(this.secondaryColor,{l:-10}),this.pie6=this.pie6||Pt(this.tertiaryColor,{l:-10}),this.pie7=this.pie7||Pt(this.primaryColor,{h:60,l:-10}),this.pie8=this.pie8||Pt(this.primaryColor,{h:-60,l:-10}),this.pie9=this.pie9||Pt(this.primaryColor,{h:120,l:0}),this.pie10=this.pie10||Pt(this.primaryColor,{h:60,l:-20}),this.pie11=this.pie11||Pt(this.primaryColor,{h:-60,l:-20}),this.pie12=this.pie12||Pt(this.primaryColor,{h:120,l:-10}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOpacity=this.pieOpacity||"0.7",this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||this.primaryBorderColor,this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||(this.darkMode?xn(this.secondaryColor,30):this.secondaryColor),this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||Pt(this.primaryColor,{h:-30}),this.git4=this.git4||Pt(this.primaryColor,{h:-60}),this.git5=this.git5||Pt(this.primaryColor,{h:-90}),this.git6=this.git6||Pt(this.primaryColor,{h:60}),this.git7=this.git7||Pt(this.primaryColor,{h:120}),this.darkMode?(this.git0=ln(this.git0,25),this.git1=ln(this.git1,25),this.git2=ln(this.git2,25),this.git3=ln(this.git3,25),this.git4=ln(this.git4,25),this.git5=ln(this.git5,25),this.git6=ln(this.git6,25),this.git7=ln(this.git7,25)):(this.git0=xn(this.git0,25),this.git1=xn(this.git1,25),this.git2=xn(this.git2,25),this.git3=xn(this.git3,25),this.git4=xn(this.git4,25),this.git5=xn(this.git5,25),this.git6=xn(this.git6,25),this.git7=xn(this.git7,25)),this.gitInv0=this.gitInv0||Ie(this.git0),this.gitInv1=this.gitInv1||Ie(this.git1),this.gitInv2=this.gitInv2||Ie(this.git2),this.gitInv3=this.gitInv3||Ie(this.git3),this.gitInv4=this.gitInv4||Ie(this.git4),this.gitInv5=this.gitInv5||Ie(this.git5),this.gitInv6=this.gitInv6||Ie(this.git6),this.gitInv7=this.gitInv7||Ie(this.git7),this.branchLabelColor=this.branchLabelColor||(this.darkMode?"black":this.labelTextColor),this.gitBranchLabel0=this.gitBranchLabel0||this.branchLabelColor,this.gitBranchLabel1=this.gitBranchLabel1||this.branchLabelColor,this.gitBranchLabel2=this.gitBranchLabel2||this.branchLabelColor,this.gitBranchLabel3=this.gitBranchLabel3||this.branchLabelColor,this.gitBranchLabel4=this.gitBranchLabel4||this.branchLabelColor,this.gitBranchLabel5=this.gitBranchLabel5||this.branchLabelColor,this.gitBranchLabel6=this.gitBranchLabel6||this.branchLabelColor,this.gitBranchLabel7=this.gitBranchLabel7||this.branchLabelColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||ef,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||nf}calculate(e){if(typeof e!="object"){this.updateColors();return}const s=Object.keys(e);s.forEach(r=>{this[r]=e[r]}),this.updateColors(),s.forEach(r=>{this[r]=e[r]})}}const KD=t=>{const e=new XD;return e.calculate(t),e};class ZD{constructor(){this.background="#333",this.primaryColor="#1f2020",this.secondaryColor=ln(this.primaryColor,16),this.tertiaryColor=Pt(this.primaryColor,{h:-160}),this.primaryBorderColor=Ie(this.background),this.secondaryBorderColor=Nr(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=Nr(this.tertiaryColor,this.darkMode),this.primaryTextColor=Ie(this.primaryColor),this.secondaryTextColor=Ie(this.secondaryColor),this.tertiaryTextColor=Ie(this.tertiaryColor),this.lineColor=Ie(this.background),this.textColor=Ie(this.background),this.mainBkg="#1f2020",this.secondBkg="calculated",this.mainContrastColor="lightgrey",this.darkTextColor=ln(Ie("#323D47"),10),this.lineColor="calculated",this.border1="#81B1DB",this.border2=Ch(255,255,255,.25),this.arrowheadColor="calculated",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.labelBackground="#181818",this.textColor="#ccc",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="#F9FFFE",this.edgeLabelBackground="calculated",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="calculated",this.actorLineColor="calculated",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="calculated",this.activationBkgColor="calculated",this.sequenceNumberColor="black",this.sectionBkgColor=xn("#EAE8D9",30),this.altSectionBkgColor="calculated",this.sectionBkgColor2="#EAE8D9",this.taskBorderColor=Ch(255,255,255,70),this.taskBkgColor="calculated",this.taskTextColor="calculated",this.taskTextLightColor="calculated",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor=Ch(255,255,255,50),this.activeTaskBkgColor="#81B1DB",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="grey",this.critBorderColor="#E83737",this.critBkgColor="#E83737",this.taskTextDarkColor="calculated",this.todayLineColor="#DB5757",this.personBorder="calculated",this.personBkg="calculated",this.labelColor="calculated",this.errorBkgColor="#a44141",this.errorTextColor="#ddd"}updateColors(){this.secondBkg=ln(this.mainBkg,16),this.lineColor=this.mainContrastColor,this.arrowheadColor=this.mainContrastColor,this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.edgeLabelBackground=ln(this.labelBackground,25),this.actorBorder=this.border1,this.actorBkg=this.mainBkg,this.actorTextColor=this.mainContrastColor,this.actorLineColor=this.mainContrastColor,this.signalColor=this.mainContrastColor,this.signalTextColor=this.mainContrastColor,this.labelBoxBkgColor=this.actorBkg,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.mainContrastColor,this.loopTextColor=this.mainContrastColor,this.noteBorderColor=this.secondaryBorderColor,this.noteBkgColor=this.secondBkg,this.noteTextColor=this.secondaryTextColor,this.activationBorderColor=this.border1,this.activationBkgColor=this.secondBkg,this.altSectionBkgColor=this.background,this.taskBkgColor=ln(this.mainBkg,23),this.taskTextColor=this.darkTextColor,this.taskTextLightColor=this.mainContrastColor,this.taskTextOutsideColor=this.taskTextLightColor,this.gridColor=this.mainContrastColor,this.doneTaskBkgColor=this.mainContrastColor,this.taskTextDarkColor=this.darkTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#555",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.primaryBorderColor,this.specialStateColor="#f4f4f4",this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=Pt(this.primaryColor,{h:64}),this.fillType3=Pt(this.secondaryColor,{h:64}),this.fillType4=Pt(this.primaryColor,{h:-64}),this.fillType5=Pt(this.secondaryColor,{h:-64}),this.fillType6=Pt(this.primaryColor,{h:128}),this.fillType7=Pt(this.secondaryColor,{h:128}),this.cScale1=this.cScale1||"#0b0000",this.cScale2=this.cScale2||"#4d1037",this.cScale3=this.cScale3||"#3f5258",this.cScale4=this.cScale4||"#4f2f1b",this.cScale5=this.cScale5||"#6e0a0a",this.cScale6=this.cScale6||"#3b0048",this.cScale7=this.cScale7||"#995a01",this.cScale8=this.cScale8||"#154706",this.cScale9=this.cScale9||"#161722",this.cScale10=this.cScale10||"#00296f",this.cScale11=this.cScale11||"#01629c",this.cScale12=this.cScale12||"#010029",this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||Pt(this.primaryColor,{h:30}),this.cScale4=this.cScale4||Pt(this.primaryColor,{h:60}),this.cScale5=this.cScale5||Pt(this.primaryColor,{h:90}),this.cScale6=this.cScale6||Pt(this.primaryColor,{h:120}),this.cScale7=this.cScale7||Pt(this.primaryColor,{h:150}),this.cScale8=this.cScale8||Pt(this.primaryColor,{h:210}),this.cScale9=this.cScale9||Pt(this.primaryColor,{h:270}),this.cScale10=this.cScale10||Pt(this.primaryColor,{h:300}),this.cScale11=this.cScale11||Pt(this.primaryColor,{h:330});for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleInv"+e]=this["cScaleInv"+e]||Ie(this["cScale"+e]);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScalePeer"+e]=this["cScalePeer"+e]||ln(this["cScale"+e],10);this.scaleLabelColor=this.scaleLabelColor||(this.darkMode?"black":this.labelTextColor);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleLabel"+e]=this["cScaleLabel"+e]||this.scaleLabelColor;for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["pie"+e]=this["cScale"+e];this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOpacity=this.pieOpacity||"0.7",this.classText=this.primaryTextColor,this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||this.primaryBorderColor,this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||(this.darkMode?xn(this.secondaryColor,30):this.secondaryColor),this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=ln(this.secondaryColor,20),this.git1=ln(this.pie2||this.secondaryColor,20),this.git2=ln(this.pie3||this.tertiaryColor,20),this.git3=ln(this.pie4||Pt(this.primaryColor,{h:-30}),20),this.git4=ln(this.pie5||Pt(this.primaryColor,{h:-60}),20),this.git5=ln(this.pie6||Pt(this.primaryColor,{h:-90}),10),this.git6=ln(this.pie7||Pt(this.primaryColor,{h:60}),10),this.git7=ln(this.pie8||Pt(this.primaryColor,{h:120}),20),this.gitInv0=this.gitInv0||Ie(this.git0),this.gitInv1=this.gitInv1||Ie(this.git1),this.gitInv2=this.gitInv2||Ie(this.git2),this.gitInv3=this.gitInv3||Ie(this.git3),this.gitInv4=this.gitInv4||Ie(this.git4),this.gitInv5=this.gitInv5||Ie(this.git5),this.gitInv6=this.gitInv6||Ie(this.git6),this.gitInv7=this.gitInv7||Ie(this.git7),this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||ln(this.background,12),this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||ln(this.background,2)}calculate(e){if(typeof e!="object"){this.updateColors();return}const s=Object.keys(e);s.forEach(r=>{this[r]=e[r]}),this.updateColors(),s.forEach(r=>{this[r]=e[r]})}}const QD=t=>{const e=new ZD;return e.calculate(t),e};class JD{constructor(){this.background="#f4f4f4",this.primaryColor="#ECECFF",this.secondaryColor=Pt(this.primaryColor,{h:120}),this.secondaryColor="#ffffde",this.tertiaryColor=Pt(this.primaryColor,{h:-160}),this.primaryBorderColor=Nr(this.primaryColor,this.darkMode),this.secondaryBorderColor=Nr(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=Nr(this.tertiaryColor,this.darkMode),this.primaryTextColor=Ie(this.primaryColor),this.secondaryTextColor=Ie(this.secondaryColor),this.tertiaryTextColor=Ie(this.tertiaryColor),this.lineColor=Ie(this.background),this.textColor=Ie(this.background),this.background="white",this.mainBkg="#ECECFF",this.secondBkg="#ffffde",this.lineColor="#333333",this.border1="#9370DB",this.border2="#aaaa33",this.arrowheadColor="#333333",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.labelBackground="#e8e8e8",this.textColor="#333",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="calculated",this.edgeLabelBackground="calculated",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="black",this.actorLineColor="grey",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="calculated",this.altSectionBkgColor="calculated",this.sectionBkgColor2="calculated",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="calculated",this.taskTextLightColor="calculated",this.taskTextColor=this.taskTextLightColor,this.taskTextDarkColor="calculated",this.taskTextOutsideColor=this.taskTextDarkColor,this.taskTextClickableColor="calculated",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="calculated",this.critBorderColor="calculated",this.critBkgColor="calculated",this.todayLineColor="calculated",this.sectionBkgColor=Ch(102,102,255,.49),this.altSectionBkgColor="white",this.sectionBkgColor2="#fff400",this.taskBorderColor="#534fbc",this.taskBkgColor="#8a90dd",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="black",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="#534fbc",this.activeTaskBkgColor="#bfc7ff",this.gridColor="lightgrey",this.doneTaskBkgColor="lightgrey",this.doneTaskBorderColor="grey",this.critBorderColor="#ff8888",this.critBkgColor="red",this.todayLineColor="red",this.personBorder="calculated",this.personBkg="calculated",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222",this.updateColors()}updateColors(){this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||Pt(this.primaryColor,{h:30}),this.cScale4=this.cScale4||Pt(this.primaryColor,{h:60}),this.cScale5=this.cScale5||Pt(this.primaryColor,{h:90}),this.cScale6=this.cScale6||Pt(this.primaryColor,{h:120}),this.cScale7=this.cScale7||Pt(this.primaryColor,{h:150}),this.cScale8=this.cScale8||Pt(this.primaryColor,{h:210}),this.cScale9=this.cScale9||Pt(this.primaryColor,{h:270}),this.cScale10=this.cScale10||Pt(this.primaryColor,{h:300}),this.cScale11=this.cScale11||Pt(this.primaryColor,{h:330}),this["cScalePeer"+1]=this["cScalePeer"+1]||xn(this.secondaryColor,45),this["cScalePeer"+2]=this["cScalePeer"+2]||xn(this.tertiaryColor,40);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScale"+e]=xn(this["cScale"+e],10),this["cScalePeer"+e]=this["cScalePeer"+e]||xn(this["cScale"+e],25);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleInv"+e]=this["cScaleInv"+e]||Pt(this["cScale"+e],{h:180});if(this.scaleLabelColor=this.scaleLabelColor!=="calculated"&&this.scaleLabelColor?this.scaleLabelColor:this.labelTextColor,this.labelTextColor!=="calculated"){this.cScaleLabel0=this.cScaleLabel0||Ie(this.labelTextColor),this.cScaleLabel3=this.cScaleLabel3||Ie(this.labelTextColor);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleLabel"+e]=this["cScaleLabel"+e]||this.labelTextColor}this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.titleColor=this.textColor,this.edgeLabelBackground=this.labelBackground,this.actorBorder=ln(this.border1,23),this.actorBkg=this.mainBkg,this.labelBoxBkgColor=this.actorBkg,this.signalColor=this.textColor,this.signalTextColor=this.textColor,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.actorTextColor,this.loopTextColor=this.actorTextColor,this.noteBorderColor=this.border2,this.noteTextColor=this.actorTextColor,this.taskTextColor=this.taskTextLightColor,this.taskTextOutsideColor=this.taskTextDarkColor,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f0f0f0",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.nodeBorder,this.specialStateColor=this.lineColor,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=Pt(this.primaryColor,{h:64}),this.fillType3=Pt(this.secondaryColor,{h:64}),this.fillType4=Pt(this.primaryColor,{h:-64}),this.fillType5=Pt(this.secondaryColor,{h:-64}),this.fillType6=Pt(this.primaryColor,{h:128}),this.fillType7=Pt(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||Pt(this.tertiaryColor,{l:-40}),this.pie4=this.pie4||Pt(this.primaryColor,{l:-10}),this.pie5=this.pie5||Pt(this.secondaryColor,{l:-30}),this.pie6=this.pie6||Pt(this.tertiaryColor,{l:-20}),this.pie7=this.pie7||Pt(this.primaryColor,{h:60,l:-20}),this.pie8=this.pie8||Pt(this.primaryColor,{h:-60,l:-40}),this.pie9=this.pie9||Pt(this.primaryColor,{h:120,l:-40}),this.pie10=this.pie10||Pt(this.primaryColor,{h:60,l:-40}),this.pie11=this.pie11||Pt(this.primaryColor,{h:-90,l:-40}),this.pie12=this.pie12||Pt(this.primaryColor,{h:120,l:-30}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOpacity=this.pieOpacity||"0.7",this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||this.primaryBorderColor,this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.labelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||Pt(this.primaryColor,{h:-30}),this.git4=this.git4||Pt(this.primaryColor,{h:-60}),this.git5=this.git5||Pt(this.primaryColor,{h:-90}),this.git6=this.git6||Pt(this.primaryColor,{h:60}),this.git7=this.git7||Pt(this.primaryColor,{h:120}),this.darkMode?(this.git0=ln(this.git0,25),this.git1=ln(this.git1,25),this.git2=ln(this.git2,25),this.git3=ln(this.git3,25),this.git4=ln(this.git4,25),this.git5=ln(this.git5,25),this.git6=ln(this.git6,25),this.git7=ln(this.git7,25)):(this.git0=xn(this.git0,25),this.git1=xn(this.git1,25),this.git2=xn(this.git2,25),this.git3=xn(this.git3,25),this.git4=xn(this.git4,25),this.git5=xn(this.git5,25),this.git6=xn(this.git6,25),this.git7=xn(this.git7,25)),this.gitInv0=this.gitInv0||xn(Ie(this.git0),25),this.gitInv1=this.gitInv1||Ie(this.git1),this.gitInv2=this.gitInv2||Ie(this.git2),this.gitInv3=this.gitInv3||Ie(this.git3),this.gitInv4=this.gitInv4||Ie(this.git4),this.gitInv5=this.gitInv5||Ie(this.git5),this.gitInv6=this.gitInv6||Ie(this.git6),this.gitInv7=this.gitInv7||Ie(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||Ie(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||Ie(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||ef,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||nf}calculate(e){if(typeof e!="object"){this.updateColors();return}const s=Object.keys(e);s.forEach(r=>{this[r]=e[r]}),this.updateColors(),s.forEach(r=>{this[r]=e[r]})}}const tF=t=>{const e=new JD;return e.calculate(t),e};class eF{constructor(){this.background="#f4f4f4",this.primaryColor="#cde498",this.secondaryColor="#cdffb2",this.background="white",this.mainBkg="#cde498",this.secondBkg="#cdffb2",this.lineColor="green",this.border1="#13540c",this.border2="#6eaa49",this.arrowheadColor="green",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.tertiaryColor=ln("#cde498",10),this.primaryBorderColor=Nr(this.primaryColor,this.darkMode),this.secondaryBorderColor=Nr(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=Nr(this.tertiaryColor,this.darkMode),this.primaryTextColor=Ie(this.primaryColor),this.secondaryTextColor=Ie(this.secondaryColor),this.tertiaryTextColor=Ie(this.primaryColor),this.lineColor=Ie(this.background),this.textColor=Ie(this.background),this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="#333",this.edgeLabelBackground="#e8e8e8",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="black",this.actorLineColor="grey",this.signalColor="#333",this.signalTextColor="#333",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="#326932",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="#6eaa49",this.altSectionBkgColor="white",this.sectionBkgColor2="#6eaa49",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="#487e3a",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="black",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="lightgrey",this.doneTaskBkgColor="lightgrey",this.doneTaskBorderColor="grey",this.critBorderColor="#ff8888",this.critBkgColor="red",this.todayLineColor="red",this.personBorder="calculated",this.personBkg="calculated",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222"}updateColors(){this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||Pt(this.primaryColor,{h:30}),this.cScale4=this.cScale4||Pt(this.primaryColor,{h:60}),this.cScale5=this.cScale5||Pt(this.primaryColor,{h:90}),this.cScale6=this.cScale6||Pt(this.primaryColor,{h:120}),this.cScale7=this.cScale7||Pt(this.primaryColor,{h:150}),this.cScale8=this.cScale8||Pt(this.primaryColor,{h:210}),this.cScale9=this.cScale9||Pt(this.primaryColor,{h:270}),this.cScale10=this.cScale10||Pt(this.primaryColor,{h:300}),this.cScale11=this.cScale11||Pt(this.primaryColor,{h:330}),this["cScalePeer"+1]=this["cScalePeer"+1]||xn(this.secondaryColor,45),this["cScalePeer"+2]=this["cScalePeer"+2]||xn(this.tertiaryColor,40);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScale"+e]=xn(this["cScale"+e],10),this["cScalePeer"+e]=this["cScalePeer"+e]||xn(this["cScale"+e],25);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleInv"+e]=this["cScaleInv"+e]||Pt(this["cScale"+e],{h:180});this.scaleLabelColor=this.scaleLabelColor!=="calculated"&&this.scaleLabelColor?this.scaleLabelColor:this.labelTextColor;for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleLabel"+e]=this["cScaleLabel"+e]||this.scaleLabelColor;this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.actorBorder=xn(this.mainBkg,20),this.actorBkg=this.mainBkg,this.labelBoxBkgColor=this.actorBkg,this.labelTextColor=this.actorTextColor,this.loopTextColor=this.actorTextColor,this.noteBorderColor=this.border2,this.noteTextColor=this.actorTextColor,this.taskBorderColor=this.border1,this.taskTextColor=this.taskTextLightColor,this.taskTextOutsideColor=this.taskTextDarkColor,this.activeTaskBorderColor=this.taskBorderColor,this.activeTaskBkgColor=this.mainBkg,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f0f0f0",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.primaryBorderColor,this.specialStateColor=this.lineColor,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=Pt(this.primaryColor,{h:64}),this.fillType3=Pt(this.secondaryColor,{h:64}),this.fillType4=Pt(this.primaryColor,{h:-64}),this.fillType5=Pt(this.secondaryColor,{h:-64}),this.fillType6=Pt(this.primaryColor,{h:128}),this.fillType7=Pt(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||this.tertiaryColor,this.pie4=this.pie4||Pt(this.primaryColor,{l:-30}),this.pie5=this.pie5||Pt(this.secondaryColor,{l:-30}),this.pie6=this.pie6||Pt(this.tertiaryColor,{h:40,l:-40}),this.pie7=this.pie7||Pt(this.primaryColor,{h:60,l:-10}),this.pie8=this.pie8||Pt(this.primaryColor,{h:-60,l:-10}),this.pie9=this.pie9||Pt(this.primaryColor,{h:120,l:0}),this.pie10=this.pie10||Pt(this.primaryColor,{h:60,l:-50}),this.pie11=this.pie11||Pt(this.primaryColor,{h:-60,l:-50}),this.pie12=this.pie12||Pt(this.primaryColor,{h:120,l:-50}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOpacity=this.pieOpacity||"0.7",this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||this.primaryBorderColor,this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.edgeLabelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||Pt(this.primaryColor,{h:-30}),this.git4=this.git4||Pt(this.primaryColor,{h:-60}),this.git5=this.git5||Pt(this.primaryColor,{h:-90}),this.git6=this.git6||Pt(this.primaryColor,{h:60}),this.git7=this.git7||Pt(this.primaryColor,{h:120}),this.darkMode?(this.git0=ln(this.git0,25),this.git1=ln(this.git1,25),this.git2=ln(this.git2,25),this.git3=ln(this.git3,25),this.git4=ln(this.git4,25),this.git5=ln(this.git5,25),this.git6=ln(this.git6,25),this.git7=ln(this.git7,25)):(this.git0=xn(this.git0,25),this.git1=xn(this.git1,25),this.git2=xn(this.git2,25),this.git3=xn(this.git3,25),this.git4=xn(this.git4,25),this.git5=xn(this.git5,25),this.git6=xn(this.git6,25),this.git7=xn(this.git7,25)),this.gitInv0=this.gitInv0||Ie(this.git0),this.gitInv1=this.gitInv1||Ie(this.git1),this.gitInv2=this.gitInv2||Ie(this.git2),this.gitInv3=this.gitInv3||Ie(this.git3),this.gitInv4=this.gitInv4||Ie(this.git4),this.gitInv5=this.gitInv5||Ie(this.git5),this.gitInv6=this.gitInv6||Ie(this.git6),this.gitInv7=this.gitInv7||Ie(this.git7),this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||ef,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||nf}calculate(e){if(typeof e!="object"){this.updateColors();return}const s=Object.keys(e);s.forEach(r=>{this[r]=e[r]}),this.updateColors(),s.forEach(r=>{this[r]=e[r]})}}const nF=t=>{const e=new eF;return e.calculate(t),e};class sF{constructor(){this.primaryColor="#eee",this.contrast="#707070",this.secondaryColor=ln(this.contrast,55),this.background="#ffffff",this.tertiaryColor=Pt(this.primaryColor,{h:-160}),this.primaryBorderColor=Nr(this.primaryColor,this.darkMode),this.secondaryBorderColor=Nr(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=Nr(this.tertiaryColor,this.darkMode),this.primaryTextColor=Ie(this.primaryColor),this.secondaryTextColor=Ie(this.secondaryColor),this.tertiaryTextColor=Ie(this.tertiaryColor),this.lineColor=Ie(this.background),this.textColor=Ie(this.background),this.mainBkg="#eee",this.secondBkg="calculated",this.lineColor="#666",this.border1="#999",this.border2="calculated",this.note="#ffa",this.text="#333",this.critical="#d42",this.done="#bbb",this.arrowheadColor="#333333",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="calculated",this.edgeLabelBackground="white",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="calculated",this.actorLineColor="calculated",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="calculated",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="calculated",this.altSectionBkgColor="white",this.sectionBkgColor2="calculated",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="calculated",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="calculated",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="calculated",this.critBkgColor="calculated",this.critBorderColor="calculated",this.todayLineColor="calculated",this.personBorder="calculated",this.personBkg="calculated",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222"}updateColors(){this.secondBkg=ln(this.contrast,55),this.border2=this.contrast,this.cScale0=this.cScale0||"#555",this.cScale1=this.cScale1||"#F4F4F4",this.cScale2=this.cScale2||"#555",this.cScale3=this.cScale3||"#BBB",this.cScale4=this.cScale4||"#777",this.cScale5=this.cScale5||"#999",this.cScale6=this.cScale6||"#DDD",this.cScale7=this.cScale7||"#FFF",this.cScale8=this.cScale8||"#DDD",this.cScale9=this.cScale9||"#BBB",this.cScale10=this.cScale10||"#999",this.cScale11=this.cScale11||"#777";for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleInv"+e]=this["cScaleInv"+e]||Ie(this["cScale"+e]);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this.darkMode?this["cScalePeer"+e]=this["cScalePeer"+e]||ln(this["cScale"+e],10):this["cScalePeer"+e]=this["cScalePeer"+e]||xn(this["cScale"+e],10);this.scaleLabelColor=this.scaleLabelColor||(this.darkMode?"black":this.labelTextColor),this.cScaleLabel0=this.cScaleLabel0||this.cScale1,this.cScaleLabel2=this.cScaleLabel2||this.cScale1;for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleLabel"+e]=this["cScaleLabel"+e]||this.scaleLabelColor;this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.titleColor=this.text,this.actorBorder=ln(this.border1,23),this.actorBkg=this.mainBkg,this.actorTextColor=this.text,this.actorLineColor=this.lineColor,this.signalColor=this.text,this.signalTextColor=this.text,this.labelBoxBkgColor=this.actorBkg,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.text,this.loopTextColor=this.text,this.noteBorderColor="#999",this.noteBkgColor="#666",this.noteTextColor="#fff",this.sectionBkgColor=ln(this.contrast,30),this.sectionBkgColor2=ln(this.contrast,30),this.taskBorderColor=xn(this.contrast,10),this.taskBkgColor=this.contrast,this.taskTextColor=this.taskTextLightColor,this.taskTextDarkColor=this.text,this.taskTextOutsideColor=this.taskTextDarkColor,this.activeTaskBorderColor=this.taskBorderColor,this.activeTaskBkgColor=this.mainBkg,this.gridColor=ln(this.border1,30),this.doneTaskBkgColor=this.done,this.doneTaskBorderColor=this.lineColor,this.critBkgColor=this.critical,this.critBorderColor=xn(this.critBkgColor,10),this.todayLineColor=this.critBkgColor,this.transitionColor=this.transitionColor||"#000",this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f4f4f4",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.stateBorder=this.stateBorder||"#000",this.innerEndBackground=this.primaryBorderColor,this.specialStateColor="#222",this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=Pt(this.primaryColor,{h:64}),this.fillType3=Pt(this.secondaryColor,{h:64}),this.fillType4=Pt(this.primaryColor,{h:-64}),this.fillType5=Pt(this.secondaryColor,{h:-64}),this.fillType6=Pt(this.primaryColor,{h:128}),this.fillType7=Pt(this.secondaryColor,{h:128});for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["pie"+e]=this["cScale"+e];this.pie12=this.pie0,this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOpacity=this.pieOpacity||"0.7",this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||this.primaryBorderColor,this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.edgeLabelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=xn(this.pie1,25)||this.primaryColor,this.git1=this.pie2||this.secondaryColor,this.git2=this.pie3||this.tertiaryColor,this.git3=this.pie4||Pt(this.primaryColor,{h:-30}),this.git4=this.pie5||Pt(this.primaryColor,{h:-60}),this.git5=this.pie6||Pt(this.primaryColor,{h:-90}),this.git6=this.pie7||Pt(this.primaryColor,{h:60}),this.git7=this.pie8||Pt(this.primaryColor,{h:120}),this.gitInv0=this.gitInv0||Ie(this.git0),this.gitInv1=this.gitInv1||Ie(this.git1),this.gitInv2=this.gitInv2||Ie(this.git2),this.gitInv3=this.gitInv3||Ie(this.git3),this.gitInv4=this.gitInv4||Ie(this.git4),this.gitInv5=this.gitInv5||Ie(this.git5),this.gitInv6=this.gitInv6||Ie(this.git6),this.gitInv7=this.gitInv7||Ie(this.git7),this.branchLabelColor=this.branchLabelColor||this.labelTextColor,this.gitBranchLabel0=this.branchLabelColor,this.gitBranchLabel1="white",this.gitBranchLabel2=this.branchLabelColor,this.gitBranchLabel3="white",this.gitBranchLabel4=this.branchLabelColor,this.gitBranchLabel5=this.branchLabelColor,this.gitBranchLabel6=this.branchLabelColor,this.gitBranchLabel7=this.branchLabelColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||ef,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||nf}calculate(e){if(typeof e!="object"){this.updateColors();return}const s=Object.keys(e);s.forEach(r=>{this[r]=e[r]}),this.updateColors(),s.forEach(r=>{this[r]=e[r]})}}const qo={base:{getThemeVariables:KD},dark:{getThemeVariables:QD},default:{getThemeVariables:tF},forest:{getThemeVariables:nF},neutral:{getThemeVariables:t=>{const e=new sF;return e.calculate(t),e}}},Va={theme:"default",themeVariables:qo.default.getThemeVariables(),themeCSS:void 0,maxTextSize:5e4,darkMode:!1,fontFamily:'"trebuchet ms", verdana, arial, sans-serif;',logLevel:5,securityLevel:"strict",startOnLoad:!0,arrowMarkerAbsolute:!1,secure:["secure","securityLevel","startOnLoad","maxTextSize"],deterministicIds:!1,deterministicIDSeed:void 0,flowchart:{titleTopMargin:25,diagramPadding:8,htmlLabels:!0,nodeSpacing:50,rankSpacing:50,curve:"basis",padding:15,useMaxWidth:!0,defaultRenderer:"dagre-wrapper"},sequence:{hideUnusedParticipants:!1,activationWidth:10,diagramMarginX:50,diagramMarginY:10,actorMargin:50,width:150,height:65,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",mirrorActors:!0,forceMenus:!1,bottomMarginAdj:1,useMaxWidth:!0,rightAngles:!1,showSequenceNumbers:!1,actorFontSize:14,actorFontFamily:'"Open Sans", sans-serif',actorFontWeight:400,noteFontSize:14,noteFontFamily:'"trebuchet ms", verdana, arial, sans-serif',noteFontWeight:400,noteAlign:"center",messageFontSize:16,messageFontFamily:'"trebuchet ms", verdana, arial, sans-serif',messageFontWeight:400,wrap:!1,wrapPadding:10,labelBoxWidth:50,labelBoxHeight:20,messageFont:function(){return{fontFamily:this.messageFontFamily,fontSize:this.messageFontSize,fontWeight:this.messageFontWeight}},noteFont:function(){return{fontFamily:this.noteFontFamily,fontSize:this.noteFontSize,fontWeight:this.noteFontWeight}},actorFont:function(){return{fontFamily:this.actorFontFamily,fontSize:this.actorFontSize,fontWeight:this.actorFontWeight}}},gantt:{titleTopMargin:25,barHeight:20,barGap:4,topPadding:50,rightPadding:75,leftPadding:75,gridLineStartPadding:35,fontSize:11,sectionFontSize:11,numberSectionStyles:4,axisFormat:"%Y-%m-%d",tickInterval:void 0,useMaxWidth:!0,topAxis:!1,useWidth:void 0},journey:{diagramMarginX:50,diagramMarginY:10,leftMargin:150,width:150,height:50,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",bottomMarginAdj:1,useMaxWidth:!0,rightAngles:!1,taskFontSize:14,taskFontFamily:'"Open Sans", sans-serif',taskMargin:50,activationWidth:10,textPlacement:"fo",actorColours:["#8FBC8F","#7CFC00","#00FFFF","#20B2AA","#B0E0E6","#FFFFE0"],sectionFills:["#191970","#8B008B","#4B0082","#2F4F4F","#800000","#8B4513","#00008B"],sectionColours:["#fff"]},class:{titleTopMargin:25,arrowMarkerAbsolute:!1,dividerMargin:10,padding:5,textHeight:10,useMaxWidth:!0,defaultRenderer:"dagre-wrapper"},state:{titleTopMargin:25,dividerMargin:10,sizeUnit:5,padding:8,textHeight:10,titleShift:-15,noteMargin:10,forkWidth:70,forkHeight:7,miniPadding:2,fontSizeFactor:5.02,fontSize:24,labelHeight:16,edgeLengthFactor:"20",compositTitleSize:35,radius:5,useMaxWidth:!0,defaultRenderer:"dagre-wrapper"},er:{titleTopMargin:25,diagramPadding:20,layoutDirection:"TB",minEntityWidth:100,minEntityHeight:75,entityPadding:15,stroke:"gray",fill:"honeydew",fontSize:12,useMaxWidth:!0},pie:{useWidth:void 0,useMaxWidth:!0},requirement:{useWidth:void 0,useMaxWidth:!0,rect_fill:"#f9f9f9",text_color:"#333",rect_border_size:"0.5px",rect_border_color:"#bbb",rect_min_width:200,rect_min_height:200,fontSize:14,rect_padding:10,line_height:20},gitGraph:{titleTopMargin:25,diagramPadding:8,nodeLabel:{width:75,height:100,x:-25,y:0},mainBranchName:"main",mainBranchOrder:0,showCommitLabel:!0,showBranches:!0,rotateCommitLabel:!0},c4:{useWidth:void 0,diagramMarginX:50,diagramMarginY:10,c4ShapeMargin:50,c4ShapePadding:20,width:216,height:60,boxMargin:10,useMaxWidth:!0,c4ShapeInRow:4,nextLinePaddingX:0,c4BoundaryInRow:2,personFontSize:14,personFontFamily:'"Open Sans", sans-serif',personFontWeight:"normal",external_personFontSize:14,external_personFontFamily:'"Open Sans", sans-serif',external_personFontWeight:"normal",systemFontSize:14,systemFontFamily:'"Open Sans", sans-serif',systemFontWeight:"normal",external_systemFontSize:14,external_systemFontFamily:'"Open Sans", sans-serif',external_systemFontWeight:"normal",system_dbFontSize:14,system_dbFontFamily:'"Open Sans", sans-serif',system_dbFontWeight:"normal",external_system_dbFontSize:14,external_system_dbFontFamily:'"Open Sans", sans-serif',external_system_dbFontWeight:"normal",system_queueFontSize:14,system_queueFontFamily:'"Open Sans", sans-serif',system_queueFontWeight:"normal",external_system_queueFontSize:14,external_system_queueFontFamily:'"Open Sans", sans-serif',external_system_queueFontWeight:"normal",boundaryFontSize:14,boundaryFontFamily:'"Open Sans", sans-serif',boundaryFontWeight:"normal",messageFontSize:12,messageFontFamily:'"Open Sans", sans-serif',messageFontWeight:"normal",containerFontSize:14,containerFontFamily:'"Open Sans", sans-serif',containerFontWeight:"normal",external_containerFontSize:14,external_containerFontFamily:'"Open Sans", sans-serif',external_containerFontWeight:"normal",container_dbFontSize:14,container_dbFontFamily:'"Open Sans", sans-serif',container_dbFontWeight:"normal",external_container_dbFontSize:14,external_container_dbFontFamily:'"Open Sans", sans-serif',external_container_dbFontWeight:"normal",container_queueFontSize:14,container_queueFontFamily:'"Open Sans", sans-serif',container_queueFontWeight:"normal",external_container_queueFontSize:14,external_container_queueFontFamily:'"Open Sans", sans-serif',external_container_queueFontWeight:"normal",componentFontSize:14,componentFontFamily:'"Open Sans", sans-serif',componentFontWeight:"normal",external_componentFontSize:14,external_componentFontFamily:'"Open Sans", sans-serif',external_componentFontWeight:"normal",component_dbFontSize:14,component_dbFontFamily:'"Open Sans", sans-serif',component_dbFontWeight:"normal",external_component_dbFontSize:14,external_component_dbFontFamily:'"Open Sans", sans-serif',external_component_dbFontWeight:"normal",component_queueFontSize:14,component_queueFontFamily:'"Open Sans", sans-serif',component_queueFontWeight:"normal",external_component_queueFontSize:14,external_component_queueFontFamily:'"Open Sans", sans-serif',external_component_queueFontWeight:"normal",wrap:!0,wrapPadding:10,personFont:function(){return{fontFamily:this.personFontFamily,fontSize:this.personFontSize,fontWeight:this.personFontWeight}},external_personFont:function(){return{fontFamily:this.external_personFontFamily,fontSize:this.external_personFontSize,fontWeight:this.external_personFontWeight}},systemFont:function(){return{fontFamily:this.systemFontFamily,fontSize:this.systemFontSize,fontWeight:this.systemFontWeight}},external_systemFont:function(){return{fontFamily:this.external_systemFontFamily,fontSize:this.external_systemFontSize,fontWeight:this.external_systemFontWeight}},system_dbFont:function(){return{fontFamily:this.system_dbFontFamily,fontSize:this.system_dbFontSize,fontWeight:this.system_dbFontWeight}},external_system_dbFont:function(){return{fontFamily:this.external_system_dbFontFamily,fontSize:this.external_system_dbFontSize,fontWeight:this.external_system_dbFontWeight}},system_queueFont:function(){return{fontFamily:this.system_queueFontFamily,fontSize:this.system_queueFontSize,fontWeight:this.system_queueFontWeight}},external_system_queueFont:function(){return{fontFamily:this.external_system_queueFontFamily,fontSize:this.external_system_queueFontSize,fontWeight:this.external_system_queueFontWeight}},containerFont:function(){return{fontFamily:this.containerFontFamily,fontSize:this.containerFontSize,fontWeight:this.containerFontWeight}},external_containerFont:function(){return{fontFamily:this.external_containerFontFamily,fontSize:this.external_containerFontSize,fontWeight:this.external_containerFontWeight}},container_dbFont:function(){return{fontFamily:this.container_dbFontFamily,fontSize:this.container_dbFontSize,fontWeight:this.container_dbFontWeight}},external_container_dbFont:function(){return{fontFamily:this.external_container_dbFontFamily,fontSize:this.external_container_dbFontSize,fontWeight:this.external_container_dbFontWeight}},container_queueFont:function(){return{fontFamily:this.container_queueFontFamily,fontSize:this.container_queueFontSize,fontWeight:this.container_queueFontWeight}},external_container_queueFont:function(){return{fontFamily:this.external_container_queueFontFamily,fontSize:this.external_container_queueFontSize,fontWeight:this.external_container_queueFontWeight}},componentFont:function(){return{fontFamily:this.componentFontFamily,fontSize:this.componentFontSize,fontWeight:this.componentFontWeight}},external_componentFont:function(){return{fontFamily:this.external_componentFontFamily,fontSize:this.external_componentFontSize,fontWeight:this.external_componentFontWeight}},component_dbFont:function(){return{fontFamily:this.component_dbFontFamily,fontSize:this.component_dbFontSize,fontWeight:this.component_dbFontWeight}},external_component_dbFont:function(){return{fontFamily:this.external_component_dbFontFamily,fontSize:this.external_component_dbFontSize,fontWeight:this.external_component_dbFontWeight}},component_queueFont:function(){return{fontFamily:this.component_queueFontFamily,fontSize:this.component_queueFontSize,fontWeight:this.component_queueFontWeight}},external_component_queueFont:function(){return{fontFamily:this.external_component_queueFontFamily,fontSize:this.external_component_queueFontSize,fontWeight:this.external_component_queueFontWeight}},boundaryFont:function(){return{fontFamily:this.boundaryFontFamily,fontSize:this.boundaryFontSize,fontWeight:this.boundaryFontWeight}},messageFont:function(){return{fontFamily:this.messageFontFamily,fontSize:this.messageFontSize,fontWeight:this.messageFontWeight}},person_bg_color:"#08427B",person_border_color:"#073B6F",external_person_bg_color:"#686868",external_person_border_color:"#8A8A8A",system_bg_color:"#1168BD",system_border_color:"#3C7FC0",system_db_bg_color:"#1168BD",system_db_border_color:"#3C7FC0",system_queue_bg_color:"#1168BD",system_queue_border_color:"#3C7FC0",external_system_bg_color:"#999999",external_system_border_color:"#8A8A8A",external_system_db_bg_color:"#999999",external_system_db_border_color:"#8A8A8A",external_system_queue_bg_color:"#999999",external_system_queue_border_color:"#8A8A8A",container_bg_color:"#438DD5",container_border_color:"#3C7FC0",container_db_bg_color:"#438DD5",container_db_border_color:"#3C7FC0",container_queue_bg_color:"#438DD5",container_queue_border_color:"#3C7FC0",external_container_bg_color:"#B3B3B3",external_container_border_color:"#A6A6A6",external_container_db_bg_color:"#B3B3B3",external_container_db_border_color:"#A6A6A6",external_container_queue_bg_color:"#B3B3B3",external_container_queue_border_color:"#A6A6A6",component_bg_color:"#85BBF0",component_border_color:"#78A8D8",component_db_bg_color:"#85BBF0",component_db_border_color:"#78A8D8",component_queue_bg_color:"#85BBF0",component_queue_border_color:"#78A8D8",external_component_bg_color:"#CCCCCC",external_component_border_color:"#BFBFBF",external_component_db_bg_color:"#CCCCCC",external_component_db_border_color:"#BFBFBF",external_component_queue_bg_color:"#CCCCCC",external_component_queue_border_color:"#BFBFBF"},mindmap:{useMaxWidth:!0,padding:10,maxNodeWidth:200},fontSize:16};Va.class&&(Va.class.arrowMarkerAbsolute=Va.arrowMarkerAbsolute),Va.gitGraph&&(Va.gitGraph.arrowMarkerAbsolute=Va.arrowMarkerAbsolute);const g_=(t,e="")=>Object.keys(t).reduce((s,r)=>Array.isArray(t[r])?s:typeof t[r]=="object"&&t[r]!==null?[...s,e+r,...g_(t[r],"")]:[...s,e+r],[]),rF=g_(Va,""),iF=Va;/*! js-yaml 4.1.0 https://github.com/nodeca/js-yaml @license MIT */function m_(t){return typeof t>"u"||t===null}function oF(t){return typeof t=="object"&&t!==null}function aF(t){return Array.isArray(t)?t:m_(t)?[]:[t]}function lF(t,e){var s,r,o,a;if(e)for(a=Object.keys(e),s=0,r=a.length;s<r;s+=1)o=a[s],t[o]=e[o];return t}function cF(t,e){var s="",r;for(r=0;r<e;r+=1)s+=t;return s}function uF(t){return t===0&&Number.NEGATIVE_INFINITY===1/t}var hF=m_,pF=oF,dF=aF,fF=cF,yF=uF,gF=lF,Pr={isNothing:hF,isObject:pF,toArray:dF,repeat:fF,isNegativeZero:yF,extend:gF};function __(t,e){var s="",r=t.reason||"(unknown reason)";return t.mark?(t.mark.name&&(s+='in "'+t.mark.name+'" '),s+="("+(t.mark.line+1)+":"+(t.mark.column+1)+")",!e&&t.mark.snippet&&(s+=`

`+t.mark.snippet),r+" "+s):r}function Ah(t,e){Error.call(this),this.name="YAMLException",this.reason=t,this.mark=e,this.message=__(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}Ah.prototype=Object.create(Error.prototype),Ah.prototype.constructor=Ah,Ah.prototype.toString=function(e){return this.name+": "+__(this,e)};var Xo=Ah;function zy(t,e,s,r,o){var a="",u="",h=Math.floor(o/2)-1;return r-e>h&&(a=" ... ",e=r-h+a.length),s-r>h&&(u=" ...",s=r+h-u.length),{str:a+t.slice(e,s).replace(/\t/g,"")+u,pos:r-e+a.length}}function Wy(t,e){return Pr.repeat(" ",e-t.length)+t}function mF(t,e){if(e=Object.create(e||null),!t.buffer)return null;e.maxLength||(e.maxLength=79),typeof e.indent!="number"&&(e.indent=1),typeof e.linesBefore!="number"&&(e.linesBefore=3),typeof e.linesAfter!="number"&&(e.linesAfter=2);for(var s=/\r?\n|\r|\0/g,r=[0],o=[],a,u=-1;a=s.exec(t.buffer);)o.push(a.index),r.push(a.index+a[0].length),t.position<=a.index&&u<0&&(u=r.length-2);u<0&&(u=r.length-1);var h="",d,y,_=Math.min(t.line+e.linesAfter,o.length).toString().length,v=e.maxLength-(e.indent+_+3);for(d=1;d<=e.linesBefore&&!(u-d<0);d++)y=zy(t.buffer,r[u-d],o[u-d],t.position-(r[u]-r[u-d]),v),h=Pr.repeat(" ",e.indent)+Wy((t.line-d+1).toString(),_)+" | "+y.str+`
`+h;for(y=zy(t.buffer,r[u],o[u],t.position,v),h+=Pr.repeat(" ",e.indent)+Wy((t.line+1).toString(),_)+" | "+y.str+`
`,h+=Pr.repeat("-",e.indent+_+3+y.pos)+`^
`,d=1;d<=e.linesAfter&&!(u+d>=o.length);d++)y=zy(t.buffer,r[u+d],o[u+d],t.position-(r[u]-r[u+d]),v),h+=Pr.repeat(" ",e.indent)+Wy((t.line+d+1).toString(),_)+" | "+y.str+`
`;return h.replace(/\n$/,"")}var _F=mF,vF=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],bF=["scalar","sequence","mapping"];function xF(t){var e={};return t!==null&&Object.keys(t).forEach(function(s){t[s].forEach(function(r){e[String(r)]=s})}),e}function kF(t,e){if(e=e||{},Object.keys(e).forEach(function(s){if(vF.indexOf(s)===-1)throw new Xo('Unknown option "'+s+'" is met in definition of "'+t+'" YAML type.')}),this.options=e,this.tag=t,this.kind=e.kind||null,this.resolve=e.resolve||function(){return!0},this.construct=e.construct||function(s){return s},this.instanceOf=e.instanceOf||null,this.predicate=e.predicate||null,this.represent=e.represent||null,this.representName=e.representName||null,this.defaultStyle=e.defaultStyle||null,this.multi=e.multi||!1,this.styleAliases=xF(e.styleAliases||null),bF.indexOf(this.kind)===-1)throw new Xo('Unknown kind "'+this.kind+'" is specified for "'+t+'" YAML type.')}var Sr=kF;function v_(t,e){var s=[];return t[e].forEach(function(r){var o=s.length;s.forEach(function(a,u){a.tag===r.tag&&a.kind===r.kind&&a.multi===r.multi&&(o=u)}),s[o]=r}),s}function CF(){var t={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},e,s;function r(o){o.multi?(t.multi[o.kind].push(o),t.multi.fallback.push(o)):t[o.kind][o.tag]=t.fallback[o.tag]=o}for(e=0,s=arguments.length;e<s;e+=1)arguments[e].forEach(r);return t}function Hy(t){return this.extend(t)}Hy.prototype.extend=function(e){var s=[],r=[];if(e instanceof Sr)r.push(e);else if(Array.isArray(e))r=r.concat(e);else if(e&&(Array.isArray(e.implicit)||Array.isArray(e.explicit)))e.implicit&&(s=s.concat(e.implicit)),e.explicit&&(r=r.concat(e.explicit));else throw new Xo("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");s.forEach(function(a){if(!(a instanceof Sr))throw new Xo("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(a.loadKind&&a.loadKind!=="scalar")throw new Xo("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(a.multi)throw new Xo("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),r.forEach(function(a){if(!(a instanceof Sr))throw new Xo("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var o=Object.create(Hy.prototype);return o.implicit=(this.implicit||[]).concat(s),o.explicit=(this.explicit||[]).concat(r),o.compiledImplicit=v_(o,"implicit"),o.compiledExplicit=v_(o,"explicit"),o.compiledTypeMap=CF(o.compiledImplicit,o.compiledExplicit),o};var AF=Hy,wF=new Sr("tag:yaml.org,2002:str",{kind:"scalar",construct:function(t){return t!==null?t:""}}),EF=new Sr("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(t){return t!==null?t:[]}}),BF=new Sr("tag:yaml.org,2002:map",{kind:"mapping",construct:function(t){return t!==null?t:{}}}),b_=new AF({explicit:[wF,EF,BF]});function SF(t){if(t===null)return!0;var e=t.length;return e===1&&t==="~"||e===4&&(t==="null"||t==="Null"||t==="NULL")}function TF(){return null}function DF(t){return t===null}var FF=new Sr("tag:yaml.org,2002:null",{kind:"scalar",resolve:SF,construct:TF,predicate:DF,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"});function LF(t){if(t===null)return!1;var e=t.length;return e===4&&(t==="true"||t==="True"||t==="TRUE")||e===5&&(t==="false"||t==="False"||t==="FALSE")}function IF(t){return t==="true"||t==="True"||t==="TRUE"}function MF(t){return Object.prototype.toString.call(t)==="[object Boolean]"}var RF=new Sr("tag:yaml.org,2002:bool",{kind:"scalar",resolve:LF,construct:IF,predicate:MF,represent:{lowercase:function(t){return t?"true":"false"},uppercase:function(t){return t?"TRUE":"FALSE"},camelcase:function(t){return t?"True":"False"}},defaultStyle:"lowercase"});function OF(t){return 48<=t&&t<=57||65<=t&&t<=70||97<=t&&t<=102}function NF(t){return 48<=t&&t<=55}function PF(t){return 48<=t&&t<=57}function VF(t){if(t===null)return!1;var e=t.length,s=0,r=!1,o;if(!e)return!1;if(o=t[s],(o==="-"||o==="+")&&(o=t[++s]),o==="0"){if(s+1===e)return!0;if(o=t[++s],o==="b"){for(s++;s<e;s++)if(o=t[s],o!=="_"){if(o!=="0"&&o!=="1")return!1;r=!0}return r&&o!=="_"}if(o==="x"){for(s++;s<e;s++)if(o=t[s],o!=="_"){if(!OF(t.charCodeAt(s)))return!1;r=!0}return r&&o!=="_"}if(o==="o"){for(s++;s<e;s++)if(o=t[s],o!=="_"){if(!NF(t.charCodeAt(s)))return!1;r=!0}return r&&o!=="_"}}if(o==="_")return!1;for(;s<e;s++)if(o=t[s],o!=="_"){if(!PF(t.charCodeAt(s)))return!1;r=!0}return!(!r||o==="_")}function $F(t){var e=t,s=1,r;if(e.indexOf("_")!==-1&&(e=e.replace(/_/g,"")),r=e[0],(r==="-"||r==="+")&&(r==="-"&&(s=-1),e=e.slice(1),r=e[0]),e==="0")return 0;if(r==="0"){if(e[1]==="b")return s*parseInt(e.slice(2),2);if(e[1]==="x")return s*parseInt(e.slice(2),16);if(e[1]==="o")return s*parseInt(e.slice(2),8)}return s*parseInt(e,10)}function YF(t){return Object.prototype.toString.call(t)==="[object Number]"&&t%1===0&&!Pr.isNegativeZero(t)}var UF=new Sr("tag:yaml.org,2002:int",{kind:"scalar",resolve:VF,construct:$F,predicate:YF,represent:{binary:function(t){return t>=0?"0b"+t.toString(2):"-0b"+t.toString(2).slice(1)},octal:function(t){return t>=0?"0o"+t.toString(8):"-0o"+t.toString(8).slice(1)},decimal:function(t){return t.toString(10)},hexadecimal:function(t){return t>=0?"0x"+t.toString(16).toUpperCase():"-0x"+t.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),zF=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function WF(t){return!(t===null||!zF.test(t)||t[t.length-1]==="_")}function HF(t){var e,s;return e=t.replace(/_/g,"").toLowerCase(),s=e[0]==="-"?-1:1,"+-".indexOf(e[0])>=0&&(e=e.slice(1)),e===".inf"?s===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:e===".nan"?NaN:s*parseFloat(e,10)}var jF=/^[-+]?[0-9]+e/;function GF(t,e){var s;if(isNaN(t))switch(e){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===t)switch(e){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===t)switch(e){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(Pr.isNegativeZero(t))return"-0.0";return s=t.toString(10),jF.test(s)?s.replace("e",".e"):s}function qF(t){return Object.prototype.toString.call(t)==="[object Number]"&&(t%1!==0||Pr.isNegativeZero(t))}var XF=new Sr("tag:yaml.org,2002:float",{kind:"scalar",resolve:WF,construct:HF,predicate:qF,represent:GF,defaultStyle:"lowercase"}),KF=b_.extend({implicit:[FF,RF,UF,XF]}),ZF=KF,x_=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),k_=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function QF(t){return t===null?!1:x_.exec(t)!==null||k_.exec(t)!==null}function JF(t){var e,s,r,o,a,u,h,d=0,y=null,_,v,x;if(e=x_.exec(t),e===null&&(e=k_.exec(t)),e===null)throw new Error("Date resolve error");if(s=+e[1],r=+e[2]-1,o=+e[3],!e[4])return new Date(Date.UTC(s,r,o));if(a=+e[4],u=+e[5],h=+e[6],e[7]){for(d=e[7].slice(0,3);d.length<3;)d+="0";d=+d}return e[9]&&(_=+e[10],v=+(e[11]||0),y=(_*60+v)*6e4,e[9]==="-"&&(y=-y)),x=new Date(Date.UTC(s,r,o,a,u,h,d)),y&&x.setTime(x.getTime()-y),x}function tL(t){return t.toISOString()}var eL=new Sr("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:QF,construct:JF,instanceOf:Date,represent:tL});function nL(t){return t==="<<"||t===null}var sL=new Sr("tag:yaml.org,2002:merge",{kind:"scalar",resolve:nL}),jy=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function rL(t){if(t===null)return!1;var e,s,r=0,o=t.length,a=jy;for(s=0;s<o;s++)if(e=a.indexOf(t.charAt(s)),!(e>64)){if(e<0)return!1;r+=6}return r%8===0}function iL(t){var e,s,r=t.replace(/[\r\n=]/g,""),o=r.length,a=jy,u=0,h=[];for(e=0;e<o;e++)e%4===0&&e&&(h.push(u>>16&255),h.push(u>>8&255),h.push(u&255)),u=u<<6|a.indexOf(r.charAt(e));return s=o%4*6,s===0?(h.push(u>>16&255),h.push(u>>8&255),h.push(u&255)):s===18?(h.push(u>>10&255),h.push(u>>2&255)):s===12&&h.push(u>>4&255),new Uint8Array(h)}function oL(t){var e="",s=0,r,o,a=t.length,u=jy;for(r=0;r<a;r++)r%3===0&&r&&(e+=u[s>>18&63],e+=u[s>>12&63],e+=u[s>>6&63],e+=u[s&63]),s=(s<<8)+t[r];return o=a%3,o===0?(e+=u[s>>18&63],e+=u[s>>12&63],e+=u[s>>6&63],e+=u[s&63]):o===2?(e+=u[s>>10&63],e+=u[s>>4&63],e+=u[s<<2&63],e+=u[64]):o===1&&(e+=u[s>>2&63],e+=u[s<<4&63],e+=u[64],e+=u[64]),e}function aL(t){return Object.prototype.toString.call(t)==="[object Uint8Array]"}var lL=new Sr("tag:yaml.org,2002:binary",{kind:"scalar",resolve:rL,construct:iL,predicate:aL,represent:oL}),cL=Object.prototype.hasOwnProperty,uL=Object.prototype.toString;function hL(t){if(t===null)return!0;var e=[],s,r,o,a,u,h=t;for(s=0,r=h.length;s<r;s+=1){if(o=h[s],u=!1,uL.call(o)!=="[object Object]")return!1;for(a in o)if(cL.call(o,a))if(!u)u=!0;else return!1;if(!u)return!1;if(e.indexOf(a)===-1)e.push(a);else return!1}return!0}function pL(t){return t!==null?t:[]}var dL=new Sr("tag:yaml.org,2002:omap",{kind:"sequence",resolve:hL,construct:pL}),fL=Object.prototype.toString;function yL(t){if(t===null)return!0;var e,s,r,o,a,u=t;for(a=new Array(u.length),e=0,s=u.length;e<s;e+=1){if(r=u[e],fL.call(r)!=="[object Object]"||(o=Object.keys(r),o.length!==1))return!1;a[e]=[o[0],r[o[0]]]}return!0}function gL(t){if(t===null)return[];var e,s,r,o,a,u=t;for(a=new Array(u.length),e=0,s=u.length;e<s;e+=1)r=u[e],o=Object.keys(r),a[e]=[o[0],r[o[0]]];return a}var mL=new Sr("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:yL,construct:gL}),_L=Object.prototype.hasOwnProperty;function vL(t){if(t===null)return!0;var e,s=t;for(e in s)if(_L.call(s,e)&&s[e]!==null)return!1;return!0}function bL(t){return t!==null?t:{}}var xL=new Sr("tag:yaml.org,2002:set",{kind:"mapping",resolve:vL,construct:bL}),kL=ZF.extend({implicit:[eL,sL],explicit:[lL,dL,mL,xL]}),$a=Object.prototype.hasOwnProperty,sf=1,C_=2,A_=3,rf=4,Gy=1,CL=2,w_=3,AL=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,wL=/[\x85\u2028\u2029]/,EL=/[,\[\]\{\}]/,E_=/^(?:!|!!|![a-z\-]+!)$/i,B_=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function S_(t){return Object.prototype.toString.call(t)}function vo(t){return t===10||t===13}function Rl(t){return t===9||t===32}function qr(t){return t===9||t===32||t===10||t===13}function tu(t){return t===44||t===91||t===93||t===123||t===125}function BL(t){var e;return 48<=t&&t<=57?t-48:(e=t|32,97<=e&&e<=102?e-97+10:-1)}function SL(t){return t===120?2:t===117?4:t===85?8:0}function TL(t){return 48<=t&&t<=57?t-48:-1}function T_(t){return t===48?"\0":t===97?"\x07":t===98?"\b":t===116||t===9?"	":t===110?`
`:t===118?"\v":t===102?"\f":t===114?"\r":t===101?"\x1B":t===32?" ":t===34?'"':t===47?"/":t===92?"\\":t===78?"":t===95?"":t===76?"\u2028":t===80?"\u2029":""}function DL(t){return t<=65535?String.fromCharCode(t):String.fromCharCode((t-65536>>10)+55296,(t-65536&1023)+56320)}for(var D_=new Array(256),F_=new Array(256),eu=0;eu<256;eu++)D_[eu]=T_(eu)?1:0,F_[eu]=T_(eu);function FL(t,e){this.input=t,this.filename=e.filename||null,this.schema=e.schema||kL,this.onWarning=e.onWarning||null,this.legacy=e.legacy||!1,this.json=e.json||!1,this.listener=e.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=t.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function L_(t,e){var s={name:t.filename,buffer:t.input.slice(0,-1),position:t.position,line:t.line,column:t.position-t.lineStart};return s.snippet=_F(s),new Xo(e,s)}function tn(t,e){throw L_(t,e)}function of(t,e){t.onWarning&&t.onWarning.call(null,L_(t,e))}var I_={YAML:function(e,s,r){var o,a,u;e.version!==null&&tn(e,"duplication of %YAML directive"),r.length!==1&&tn(e,"YAML directive accepts exactly one argument"),o=/^([0-9]+)\.([0-9]+)$/.exec(r[0]),o===null&&tn(e,"ill-formed argument of the YAML directive"),a=parseInt(o[1],10),u=parseInt(o[2],10),a!==1&&tn(e,"unacceptable YAML version of the document"),e.version=r[0],e.checkLineBreaks=u<2,u!==1&&u!==2&&of(e,"unsupported YAML version of the document")},TAG:function(e,s,r){var o,a;r.length!==2&&tn(e,"TAG directive accepts exactly two arguments"),o=r[0],a=r[1],E_.test(o)||tn(e,"ill-formed tag handle (first argument) of the TAG directive"),$a.call(e.tagMap,o)&&tn(e,'there is a previously declared suffix for "'+o+'" tag handle'),B_.test(a)||tn(e,"ill-formed tag prefix (second argument) of the TAG directive");try{a=decodeURIComponent(a)}catch{tn(e,"tag prefix is malformed: "+a)}e.tagMap[o]=a}};function Ya(t,e,s,r){var o,a,u,h;if(e<s){if(h=t.input.slice(e,s),r)for(o=0,a=h.length;o<a;o+=1)u=h.charCodeAt(o),u===9||32<=u&&u<=1114111||tn(t,"expected valid JSON character");else AL.test(h)&&tn(t,"the stream contains non-printable characters");t.result+=h}}function M_(t,e,s,r){var o,a,u,h;for(Pr.isObject(s)||tn(t,"cannot merge mappings; the provided source object is unacceptable"),o=Object.keys(s),u=0,h=o.length;u<h;u+=1)a=o[u],$a.call(e,a)||(e[a]=s[a],r[a]=!0)}function nu(t,e,s,r,o,a,u,h,d){var y,_;if(Array.isArray(o))for(o=Array.prototype.slice.call(o),y=0,_=o.length;y<_;y+=1)Array.isArray(o[y])&&tn(t,"nested arrays are not supported inside keys"),typeof o=="object"&&S_(o[y])==="[object Object]"&&(o[y]="[object Object]");if(typeof o=="object"&&S_(o)==="[object Object]"&&(o="[object Object]"),o=String(o),e===null&&(e={}),r==="tag:yaml.org,2002:merge")if(Array.isArray(a))for(y=0,_=a.length;y<_;y+=1)M_(t,e,a[y],s);else M_(t,e,a,s);else!t.json&&!$a.call(s,o)&&$a.call(e,o)&&(t.line=u||t.line,t.lineStart=h||t.lineStart,t.position=d||t.position,tn(t,"duplicated mapping key")),o==="__proto__"?Object.defineProperty(e,o,{configurable:!0,enumerable:!0,writable:!0,value:a}):e[o]=a,delete s[o];return e}function qy(t){var e;e=t.input.charCodeAt(t.position),e===10?t.position++:e===13?(t.position++,t.input.charCodeAt(t.position)===10&&t.position++):tn(t,"a line break is expected"),t.line+=1,t.lineStart=t.position,t.firstTabInLine=-1}function Us(t,e,s){for(var r=0,o=t.input.charCodeAt(t.position);o!==0;){for(;Rl(o);)o===9&&t.firstTabInLine===-1&&(t.firstTabInLine=t.position),o=t.input.charCodeAt(++t.position);if(e&&o===35)do o=t.input.charCodeAt(++t.position);while(o!==10&&o!==13&&o!==0);if(vo(o))for(qy(t),o=t.input.charCodeAt(t.position),r++,t.lineIndent=0;o===32;)t.lineIndent++,o=t.input.charCodeAt(++t.position);else break}return s!==-1&&r!==0&&t.lineIndent<s&&of(t,"deficient indentation"),r}function af(t){var e=t.position,s;return s=t.input.charCodeAt(e),!!((s===45||s===46)&&s===t.input.charCodeAt(e+1)&&s===t.input.charCodeAt(e+2)&&(e+=3,s=t.input.charCodeAt(e),s===0||qr(s)))}function Xy(t,e){e===1?t.result+=" ":e>1&&(t.result+=Pr.repeat(`
`,e-1))}function LL(t,e,s){var r,o,a,u,h,d,y,_,v=t.kind,x=t.result,k;if(k=t.input.charCodeAt(t.position),qr(k)||tu(k)||k===35||k===38||k===42||k===33||k===124||k===62||k===39||k===34||k===37||k===64||k===96||(k===63||k===45)&&(o=t.input.charCodeAt(t.position+1),qr(o)||s&&tu(o)))return!1;for(t.kind="scalar",t.result="",a=u=t.position,h=!1;k!==0;){if(k===58){if(o=t.input.charCodeAt(t.position+1),qr(o)||s&&tu(o))break}else if(k===35){if(r=t.input.charCodeAt(t.position-1),qr(r))break}else{if(t.position===t.lineStart&&af(t)||s&&tu(k))break;if(vo(k))if(d=t.line,y=t.lineStart,_=t.lineIndent,Us(t,!1,-1),t.lineIndent>=e){h=!0,k=t.input.charCodeAt(t.position);continue}else{t.position=u,t.line=d,t.lineStart=y,t.lineIndent=_;break}}h&&(Ya(t,a,u,!1),Xy(t,t.line-d),a=u=t.position,h=!1),Rl(k)||(u=t.position+1),k=t.input.charCodeAt(++t.position)}return Ya(t,a,u,!1),t.result?!0:(t.kind=v,t.result=x,!1)}function IL(t,e){var s,r,o;if(s=t.input.charCodeAt(t.position),s!==39)return!1;for(t.kind="scalar",t.result="",t.position++,r=o=t.position;(s=t.input.charCodeAt(t.position))!==0;)if(s===39)if(Ya(t,r,t.position,!0),s=t.input.charCodeAt(++t.position),s===39)r=t.position,t.position++,o=t.position;else return!0;else vo(s)?(Ya(t,r,o,!0),Xy(t,Us(t,!1,e)),r=o=t.position):t.position===t.lineStart&&af(t)?tn(t,"unexpected end of the document within a single quoted scalar"):(t.position++,o=t.position);tn(t,"unexpected end of the stream within a single quoted scalar")}function ML(t,e){var s,r,o,a,u,h;if(h=t.input.charCodeAt(t.position),h!==34)return!1;for(t.kind="scalar",t.result="",t.position++,s=r=t.position;(h=t.input.charCodeAt(t.position))!==0;){if(h===34)return Ya(t,s,t.position,!0),t.position++,!0;if(h===92){if(Ya(t,s,t.position,!0),h=t.input.charCodeAt(++t.position),vo(h))Us(t,!1,e);else if(h<256&&D_[h])t.result+=F_[h],t.position++;else if((u=SL(h))>0){for(o=u,a=0;o>0;o--)h=t.input.charCodeAt(++t.position),(u=BL(h))>=0?a=(a<<4)+u:tn(t,"expected hexadecimal character");t.result+=DL(a),t.position++}else tn(t,"unknown escape sequence");s=r=t.position}else vo(h)?(Ya(t,s,r,!0),Xy(t,Us(t,!1,e)),s=r=t.position):t.position===t.lineStart&&af(t)?tn(t,"unexpected end of the document within a double quoted scalar"):(t.position++,r=t.position)}tn(t,"unexpected end of the stream within a double quoted scalar")}function RL(t,e){var s=!0,r,o,a,u=t.tag,h,d=t.anchor,y,_,v,x,k,D=Object.create(null),M,R,Y,V;if(V=t.input.charCodeAt(t.position),V===91)_=93,k=!1,h=[];else if(V===123)_=125,k=!0,h={};else return!1;for(t.anchor!==null&&(t.anchorMap[t.anchor]=h),V=t.input.charCodeAt(++t.position);V!==0;){if(Us(t,!0,e),V=t.input.charCodeAt(t.position),V===_)return t.position++,t.tag=u,t.anchor=d,t.kind=k?"mapping":"sequence",t.result=h,!0;s?V===44&&tn(t,"expected the node content, but found ','"):tn(t,"missed comma between flow collection entries"),R=M=Y=null,v=x=!1,V===63&&(y=t.input.charCodeAt(t.position+1),qr(y)&&(v=x=!0,t.position++,Us(t,!0,e))),r=t.line,o=t.lineStart,a=t.position,su(t,e,sf,!1,!0),R=t.tag,M=t.result,Us(t,!0,e),V=t.input.charCodeAt(t.position),(x||t.line===r)&&V===58&&(v=!0,V=t.input.charCodeAt(++t.position),Us(t,!0,e),su(t,e,sf,!1,!0),Y=t.result),k?nu(t,h,D,R,M,Y,r,o,a):v?h.push(nu(t,null,D,R,M,Y,r,o,a)):h.push(M),Us(t,!0,e),V=t.input.charCodeAt(t.position),V===44?(s=!0,V=t.input.charCodeAt(++t.position)):s=!1}tn(t,"unexpected end of the stream within a flow collection")}function OL(t,e){var s,r,o=Gy,a=!1,u=!1,h=e,d=0,y=!1,_,v;if(v=t.input.charCodeAt(t.position),v===124)r=!1;else if(v===62)r=!0;else return!1;for(t.kind="scalar",t.result="";v!==0;)if(v=t.input.charCodeAt(++t.position),v===43||v===45)Gy===o?o=v===43?w_:CL:tn(t,"repeat of a chomping mode identifier");else if((_=TL(v))>=0)_===0?tn(t,"bad explicit indentation width of a block scalar; it cannot be less than one"):u?tn(t,"repeat of an indentation width identifier"):(h=e+_-1,u=!0);else break;if(Rl(v)){do v=t.input.charCodeAt(++t.position);while(Rl(v));if(v===35)do v=t.input.charCodeAt(++t.position);while(!vo(v)&&v!==0)}for(;v!==0;){for(qy(t),t.lineIndent=0,v=t.input.charCodeAt(t.position);(!u||t.lineIndent<h)&&v===32;)t.lineIndent++,v=t.input.charCodeAt(++t.position);if(!u&&t.lineIndent>h&&(h=t.lineIndent),vo(v)){d++;continue}if(t.lineIndent<h){o===w_?t.result+=Pr.repeat(`
`,a?1+d:d):o===Gy&&a&&(t.result+=`
`);break}for(r?Rl(v)?(y=!0,t.result+=Pr.repeat(`
`,a?1+d:d)):y?(y=!1,t.result+=Pr.repeat(`
`,d+1)):d===0?a&&(t.result+=" "):t.result+=Pr.repeat(`
`,d):t.result+=Pr.repeat(`
`,a?1+d:d),a=!0,u=!0,d=0,s=t.position;!vo(v)&&v!==0;)v=t.input.charCodeAt(++t.position);Ya(t,s,t.position,!1)}return!0}function R_(t,e){var s,r=t.tag,o=t.anchor,a=[],u,h=!1,d;if(t.firstTabInLine!==-1)return!1;for(t.anchor!==null&&(t.anchorMap[t.anchor]=a),d=t.input.charCodeAt(t.position);d!==0&&(t.firstTabInLine!==-1&&(t.position=t.firstTabInLine,tn(t,"tab characters must not be used in indentation")),!(d!==45||(u=t.input.charCodeAt(t.position+1),!qr(u))));){if(h=!0,t.position++,Us(t,!0,-1)&&t.lineIndent<=e){a.push(null),d=t.input.charCodeAt(t.position);continue}if(s=t.line,su(t,e,A_,!1,!0),a.push(t.result),Us(t,!0,-1),d=t.input.charCodeAt(t.position),(t.line===s||t.lineIndent>e)&&d!==0)tn(t,"bad indentation of a sequence entry");else if(t.lineIndent<e)break}return h?(t.tag=r,t.anchor=o,t.kind="sequence",t.result=a,!0):!1}function NL(t,e,s){var r,o,a,u,h,d,y=t.tag,_=t.anchor,v={},x=Object.create(null),k=null,D=null,M=null,R=!1,Y=!1,V;if(t.firstTabInLine!==-1)return!1;for(t.anchor!==null&&(t.anchorMap[t.anchor]=v),V=t.input.charCodeAt(t.position);V!==0;){if(!R&&t.firstTabInLine!==-1&&(t.position=t.firstTabInLine,tn(t,"tab characters must not be used in indentation")),r=t.input.charCodeAt(t.position+1),a=t.line,(V===63||V===58)&&qr(r))V===63?(R&&(nu(t,v,x,k,D,null,u,h,d),k=D=M=null),Y=!0,R=!0,o=!0):R?(R=!1,o=!0):tn(t,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),t.position+=1,V=r;else{if(u=t.line,h=t.lineStart,d=t.position,!su(t,s,C_,!1,!0))break;if(t.line===a){for(V=t.input.charCodeAt(t.position);Rl(V);)V=t.input.charCodeAt(++t.position);if(V===58)V=t.input.charCodeAt(++t.position),qr(V)||tn(t,"a whitespace character is expected after the key-value separator within a block mapping"),R&&(nu(t,v,x,k,D,null,u,h,d),k=D=M=null),Y=!0,R=!1,o=!1,k=t.tag,D=t.result;else if(Y)tn(t,"can not read an implicit mapping pair; a colon is missed");else return t.tag=y,t.anchor=_,!0}else if(Y)tn(t,"can not read a block mapping entry; a multiline key may not be an implicit key");else return t.tag=y,t.anchor=_,!0}if((t.line===a||t.lineIndent>e)&&(R&&(u=t.line,h=t.lineStart,d=t.position),su(t,e,rf,!0,o)&&(R?D=t.result:M=t.result),R||(nu(t,v,x,k,D,M,u,h,d),k=D=M=null),Us(t,!0,-1),V=t.input.charCodeAt(t.position)),(t.line===a||t.lineIndent>e)&&V!==0)tn(t,"bad indentation of a mapping entry");else if(t.lineIndent<e)break}return R&&nu(t,v,x,k,D,null,u,h,d),Y&&(t.tag=y,t.anchor=_,t.kind="mapping",t.result=v),Y}function PL(t){var e,s=!1,r=!1,o,a,u;if(u=t.input.charCodeAt(t.position),u!==33)return!1;if(t.tag!==null&&tn(t,"duplication of a tag property"),u=t.input.charCodeAt(++t.position),u===60?(s=!0,u=t.input.charCodeAt(++t.position)):u===33?(r=!0,o="!!",u=t.input.charCodeAt(++t.position)):o="!",e=t.position,s){do u=t.input.charCodeAt(++t.position);while(u!==0&&u!==62);t.position<t.length?(a=t.input.slice(e,t.position),u=t.input.charCodeAt(++t.position)):tn(t,"unexpected end of the stream within a verbatim tag")}else{for(;u!==0&&!qr(u);)u===33&&(r?tn(t,"tag suffix cannot contain exclamation marks"):(o=t.input.slice(e-1,t.position+1),E_.test(o)||tn(t,"named tag handle cannot contain such characters"),r=!0,e=t.position+1)),u=t.input.charCodeAt(++t.position);a=t.input.slice(e,t.position),EL.test(a)&&tn(t,"tag suffix cannot contain flow indicator characters")}a&&!B_.test(a)&&tn(t,"tag name cannot contain such characters: "+a);try{a=decodeURIComponent(a)}catch{tn(t,"tag name is malformed: "+a)}return s?t.tag=a:$a.call(t.tagMap,o)?t.tag=t.tagMap[o]+a:o==="!"?t.tag="!"+a:o==="!!"?t.tag="tag:yaml.org,2002:"+a:tn(t,'undeclared tag handle "'+o+'"'),!0}function VL(t){var e,s;if(s=t.input.charCodeAt(t.position),s!==38)return!1;for(t.anchor!==null&&tn(t,"duplication of an anchor property"),s=t.input.charCodeAt(++t.position),e=t.position;s!==0&&!qr(s)&&!tu(s);)s=t.input.charCodeAt(++t.position);return t.position===e&&tn(t,"name of an anchor node must contain at least one character"),t.anchor=t.input.slice(e,t.position),!0}function $L(t){var e,s,r;if(r=t.input.charCodeAt(t.position),r!==42)return!1;for(r=t.input.charCodeAt(++t.position),e=t.position;r!==0&&!qr(r)&&!tu(r);)r=t.input.charCodeAt(++t.position);return t.position===e&&tn(t,"name of an alias node must contain at least one character"),s=t.input.slice(e,t.position),$a.call(t.anchorMap,s)||tn(t,'unidentified alias "'+s+'"'),t.result=t.anchorMap[s],Us(t,!0,-1),!0}function su(t,e,s,r,o){var a,u,h,d=1,y=!1,_=!1,v,x,k,D,M,R;if(t.listener!==null&&t.listener("open",t),t.tag=null,t.anchor=null,t.kind=null,t.result=null,a=u=h=rf===s||A_===s,r&&Us(t,!0,-1)&&(y=!0,t.lineIndent>e?d=1:t.lineIndent===e?d=0:t.lineIndent<e&&(d=-1)),d===1)for(;PL(t)||VL(t);)Us(t,!0,-1)?(y=!0,h=a,t.lineIndent>e?d=1:t.lineIndent===e?d=0:t.lineIndent<e&&(d=-1)):h=!1;if(h&&(h=y||o),(d===1||rf===s)&&(sf===s||C_===s?M=e:M=e+1,R=t.position-t.lineStart,d===1?h&&(R_(t,R)||NL(t,R,M))||RL(t,M)?_=!0:(u&&OL(t,M)||IL(t,M)||ML(t,M)?_=!0:$L(t)?(_=!0,(t.tag!==null||t.anchor!==null)&&tn(t,"alias node should not have any properties")):LL(t,M,sf===s)&&(_=!0,t.tag===null&&(t.tag="?")),t.anchor!==null&&(t.anchorMap[t.anchor]=t.result)):d===0&&(_=h&&R_(t,R))),t.tag===null)t.anchor!==null&&(t.anchorMap[t.anchor]=t.result);else if(t.tag==="?"){for(t.result!==null&&t.kind!=="scalar"&&tn(t,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+t.kind+'"'),v=0,x=t.implicitTypes.length;v<x;v+=1)if(D=t.implicitTypes[v],D.resolve(t.result)){t.result=D.construct(t.result),t.tag=D.tag,t.anchor!==null&&(t.anchorMap[t.anchor]=t.result);break}}else if(t.tag!=="!"){if($a.call(t.typeMap[t.kind||"fallback"],t.tag))D=t.typeMap[t.kind||"fallback"][t.tag];else for(D=null,k=t.typeMap.multi[t.kind||"fallback"],v=0,x=k.length;v<x;v+=1)if(t.tag.slice(0,k[v].tag.length)===k[v].tag){D=k[v];break}D||tn(t,"unknown tag !<"+t.tag+">"),t.result!==null&&D.kind!==t.kind&&tn(t,"unacceptable node kind for !<"+t.tag+'> tag; it should be "'+D.kind+'", not "'+t.kind+'"'),D.resolve(t.result,t.tag)?(t.result=D.construct(t.result,t.tag),t.anchor!==null&&(t.anchorMap[t.anchor]=t.result)):tn(t,"cannot resolve a node with !<"+t.tag+"> explicit tag")}return t.listener!==null&&t.listener("close",t),t.tag!==null||t.anchor!==null||_}function YL(t){var e=t.position,s,r,o,a=!1,u;for(t.version=null,t.checkLineBreaks=t.legacy,t.tagMap=Object.create(null),t.anchorMap=Object.create(null);(u=t.input.charCodeAt(t.position))!==0&&(Us(t,!0,-1),u=t.input.charCodeAt(t.position),!(t.lineIndent>0||u!==37));){for(a=!0,u=t.input.charCodeAt(++t.position),s=t.position;u!==0&&!qr(u);)u=t.input.charCodeAt(++t.position);for(r=t.input.slice(s,t.position),o=[],r.length<1&&tn(t,"directive name must not be less than one character in length");u!==0;){for(;Rl(u);)u=t.input.charCodeAt(++t.position);if(u===35){do u=t.input.charCodeAt(++t.position);while(u!==0&&!vo(u));break}if(vo(u))break;for(s=t.position;u!==0&&!qr(u);)u=t.input.charCodeAt(++t.position);o.push(t.input.slice(s,t.position))}u!==0&&qy(t),$a.call(I_,r)?I_[r](t,r,o):of(t,'unknown document directive "'+r+'"')}if(Us(t,!0,-1),t.lineIndent===0&&t.input.charCodeAt(t.position)===45&&t.input.charCodeAt(t.position+1)===45&&t.input.charCodeAt(t.position+2)===45?(t.position+=3,Us(t,!0,-1)):a&&tn(t,"directives end mark is expected"),su(t,t.lineIndent-1,rf,!1,!0),Us(t,!0,-1),t.checkLineBreaks&&wL.test(t.input.slice(e,t.position))&&of(t,"non-ASCII line breaks are interpreted as content"),t.documents.push(t.result),t.position===t.lineStart&&af(t)){t.input.charCodeAt(t.position)===46&&(t.position+=3,Us(t,!0,-1));return}if(t.position<t.length-1)tn(t,"end of the stream or a document separator is expected");else return}function O_(t,e){t=String(t),e=e||{},t.length!==0&&(t.charCodeAt(t.length-1)!==10&&t.charCodeAt(t.length-1)!==13&&(t+=`
`),t.charCodeAt(0)===65279&&(t=t.slice(1)));var s=new FL(t,e),r=t.indexOf("\0");for(r!==-1&&(s.position=r,tn(s,"null byte is not allowed in input")),s.input+="\0";s.input.charCodeAt(s.position)===32;)s.lineIndent+=1,s.position+=1;for(;s.position<s.length-1;)YL(s);return s.documents}function UL(t,e,s){e!==null&&typeof e=="object"&&typeof s>"u"&&(s=e,e=null);var r=O_(t,s);if(typeof e!="function")return r;for(var o=0,a=r.length;o<a;o+=1)e(r[o])}function zL(t,e){var s=O_(t,e);if(s.length!==0){if(s.length===1)return s[0];throw new Xo("expected a single document in the stream, but found more")}}var WL=UL,HL=zL,jL={loadAll:WL,load:HL},GL=b_,qL=jL.load;const N_=/^-{3}\s*[\n\r](.*?)[\n\r]-{3}\s*[\n\r]+/s;function XL(t,e){var s;const r=t.match(N_);if(r){const o=qL(r[1],{schema:GL});return o!=null&&o.title&&((s=e.setDiagramTitle)==null||s.call(e,o.title)),t.slice(r[0].length)}else return t}const KL=/%{2}{\s*(?:(\w+)\s*:|(\w+))\s*(?:(\w+)|((?:(?!}%{2}).|\r?\n)*))?\s*(?:}%{2})?/gi,ZL=/\s*%%.*\n/gm,lf={},Ky=function(t,e){t=t.replace(N_,"").replace(KL,"").replace(ZL,`
`);for(const[s,{detector:r}]of Object.entries(lf))if(r(t,e))return s;throw new Error(`No diagram type detected for text: ${t}`)},P_=(t,e,s)=>{if(lf[t])throw new Error(`Detector with key ${t} already exists`);lf[t]={detector:e,loader:s},w.debug(`Detector with key ${t} added${s?" with loader":""}`)},QL=t=>lf[t].loader,Zy=function(t,e,s){const{depth:r,clobber:o}=Object.assign({depth:2,clobber:!1},s);return Array.isArray(e)&&!Array.isArray(t)?(e.forEach(a=>Zy(t,a,s)),t):Array.isArray(e)&&Array.isArray(t)?(e.forEach(a=>{t.includes(a)||t.push(a)}),t):t===void 0||r<=0?t!=null&&typeof t=="object"&&typeof e=="object"?Object.assign(t,e):e:(e!==void 0&&typeof t=="object"&&typeof e=="object"&&Object.keys(e).forEach(a=>{typeof e[a]=="object"&&(t[a]===void 0||typeof t[a]=="object")?(t[a]===void 0&&(t[a]=Array.isArray(e[a])?[]:{}),t[a]=Zy(t[a],e[a],{depth:r-1,clobber:o})):(o||typeof t[a]!="object"&&typeof e[a]!="object")&&(t[a]=e[a])}),t)},pr=Zy;var JL=typeof lc=="object"&&lc&&lc.Object===Object&&lc;const V_=JL;var tI=typeof self=="object"&&self&&self.Object===Object&&self,eI=V_||tI||Function("return this")();const Vi=eI;var nI=Vi.Symbol;const ki=nI;var $_=Object.prototype,sI=$_.hasOwnProperty,rI=$_.toString,wh=ki?ki.toStringTag:void 0;function iI(t){var e=sI.call(t,wh),s=t[wh];try{t[wh]=void 0;var r=!0}catch{}var o=rI.call(t);return r&&(e?t[wh]=s:delete t[wh]),o}var oI=Object.prototype,aI=oI.toString;function lI(t){return aI.call(t)}var cI="[object Null]",uI="[object Undefined]",Y_=ki?ki.toStringTag:void 0;function Ol(t){return t==null?t===void 0?uI:cI:Y_&&Y_ in Object(t)?iI(t):lI(t)}function ii(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var hI="[object AsyncFunction]",pI="[object Function]",dI="[object GeneratorFunction]",fI="[object Proxy]";function ru(t){if(!ii(t))return!1;var e=Ol(t);return e==pI||e==dI||e==hI||e==fI}var yI=Vi["__core-js_shared__"];const Qy=yI;var U_=function(){var t=/[^.]+$/.exec(Qy&&Qy.keys&&Qy.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function gI(t){return!!U_&&U_ in t}var mI=Function.prototype,_I=mI.toString;function Nl(t){if(t!=null){try{return _I.call(t)}catch{}try{return t+""}catch{}}return""}var vI=/[\\^$.*+?()[\]{}|]/g,bI=/^\[object .+?Constructor\]$/,xI=Function.prototype,kI=Object.prototype,CI=xI.toString,AI=kI.hasOwnProperty,wI=RegExp("^"+CI.call(AI).replace(vI,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function EI(t){if(!ii(t)||gI(t))return!1;var e=ru(t)?wI:bI;return e.test(Nl(t))}function BI(t,e){return t==null?void 0:t[e]}function Pl(t,e){var s=BI(t,e);return EI(s)?s:void 0}var SI=Pl(Object,"create");const Eh=SI;function TI(){this.__data__=Eh?Eh(null):{},this.size=0}function DI(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var FI="__lodash_hash_undefined__",LI=Object.prototype,II=LI.hasOwnProperty;function MI(t){var e=this.__data__;if(Eh){var s=e[t];return s===FI?void 0:s}return II.call(e,t)?e[t]:void 0}var RI=Object.prototype,OI=RI.hasOwnProperty;function NI(t){var e=this.__data__;return Eh?e[t]!==void 0:OI.call(e,t)}var PI="__lodash_hash_undefined__";function VI(t,e){var s=this.__data__;return this.size+=this.has(t)?0:1,s[t]=Eh&&e===void 0?PI:e,this}function Vl(t){var e=-1,s=t==null?0:t.length;for(this.clear();++e<s;){var r=t[e];this.set(r[0],r[1])}}Vl.prototype.clear=TI,Vl.prototype.delete=DI,Vl.prototype.get=MI,Vl.prototype.has=NI,Vl.prototype.set=VI;function $I(){this.__data__=[],this.size=0}function iu(t,e){return t===e||t!==t&&e!==e}function cf(t,e){for(var s=t.length;s--;)if(iu(t[s][0],e))return s;return-1}var YI=Array.prototype,UI=YI.splice;function zI(t){var e=this.__data__,s=cf(e,t);if(s<0)return!1;var r=e.length-1;return s==r?e.pop():UI.call(e,s,1),--this.size,!0}function WI(t){var e=this.__data__,s=cf(e,t);return s<0?void 0:e[s][1]}function HI(t){return cf(this.__data__,t)>-1}function jI(t,e){var s=this.__data__,r=cf(s,t);return r<0?(++this.size,s.push([t,e])):s[r][1]=e,this}function Ko(t){var e=-1,s=t==null?0:t.length;for(this.clear();++e<s;){var r=t[e];this.set(r[0],r[1])}}Ko.prototype.clear=$I,Ko.prototype.delete=zI,Ko.prototype.get=WI,Ko.prototype.has=HI,Ko.prototype.set=jI;var GI=Pl(Vi,"Map");const Bh=GI;function qI(){this.size=0,this.__data__={hash:new Vl,map:new(Bh||Ko),string:new Vl}}function XI(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function uf(t,e){var s=t.__data__;return XI(e)?s[typeof e=="string"?"string":"hash"]:s.map}function KI(t){var e=uf(this,t).delete(t);return this.size-=e?1:0,e}function ZI(t){return uf(this,t).get(t)}function QI(t){return uf(this,t).has(t)}function JI(t,e){var s=uf(this,t),r=s.size;return s.set(t,e),this.size+=s.size==r?0:1,this}function Zo(t){var e=-1,s=t==null?0:t.length;for(this.clear();++e<s;){var r=t[e];this.set(r[0],r[1])}}Zo.prototype.clear=qI,Zo.prototype.delete=KI,Zo.prototype.get=ZI,Zo.prototype.has=QI,Zo.prototype.set=JI;var tM="Expected a function";function ou(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(tM);var s=function(){var r=arguments,o=e?e.apply(this,r):r[0],a=s.cache;if(a.has(o))return a.get(o);var u=t.apply(this,r);return s.cache=a.set(o,u)||a,u};return s.cache=new(ou.Cache||Zo),s}ou.Cache=Zo;const eM={curveBasis:Qc,curveBasisClosed:eD,curveBasisOpen:nD,curveLinear:ri,curveLinearClosed:sD,curveMonotoneX:rD,curveMonotoneY:iD,curveNatural:oD,curveStep:aD,curveStepAfter:cD,curveStepBefore:lD},Jy=/%{2}{\s*(?:(\w+)\s*:|(\w+))\s*(?:(\w+)|((?:(?!}%{2}).|\r?\n)*))?\s*(?:}%{2})?/gi,nM=/\s*(?:(\w+)(?=:):|(\w+))\s*(?:(\w+)|((?:(?!}%{2}).|\r?\n)*))?\s*(?:}%{2})?/gi,sM=function(t,e){const s=z_(t,/(?:init\b)|(?:initialize\b)/);let r={};if(Array.isArray(s)){const o=s.map(a=>a.args);$l(o),r=pr(r,[...o])}else r=s.args;if(r){let o=Ky(t,e);["config"].forEach(a=>{r[a]!==void 0&&(o==="flowchart-v2"&&(o="flowchart"),r[o]=r[a],delete r[a])})}return r},z_=function(t,e=null){try{const s=new RegExp(`[%]{2}(?![{]${nM.source})(?=[}][%]{2}).*
`,"ig");t=t.trim().replace(s,"").replace(/'/gm,'"'),w.debug(`Detecting diagram directive${e!==null?" type:"+e:""} based on the text:${t}`);let r;const o=[];for(;(r=Jy.exec(t))!==null;)if(r.index===Jy.lastIndex&&Jy.lastIndex++,r&&!e||e&&r[1]&&r[1].match(e)||e&&r[2]&&r[2].match(e)){const a=r[1]?r[1]:r[2],u=r[3]?r[3].trim():r[4]?JSON.parse(r[4].trim()):null;o.push({type:a,args:u})}return o.length===0&&o.push({type:t,args:null}),o.length===1?o[0]:o}catch(s){return w.error(`ERROR: ${s.message} - Unable to parse directive
      ${e!==null?" type:"+e:""} based on the text:${t}`),{type:null,args:null}}},rM=function(t,e){for(const[s,r]of e.entries())if(r.match(t))return s;return-1};function $i(t,e){if(!t)return e;const s=`curve${t.charAt(0).toUpperCase()+t.slice(1)}`;return eM[s]||e}function iM(t,e){const s=t.trim();if(s)return e.securityLevel!=="loose"?at(s):s}const oM=(t,...e)=>{const s=t.split("."),r=s.length-1,o=s[r];let a=window;for(let u=0;u<r;u++)if(a=a[s[u]],!a)return;a[o](...e)};function hf(t,e){return t&&e?Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)):0}function aM(t){let e,s=0;t.forEach(a=>{s+=hf(a,e),e=a});let r=s/2,o;return e=void 0,t.forEach(a=>{if(e&&!o){const u=hf(a,e);if(u<r)r-=u;else{const h=r/u;h<=0&&(o=e),h>=1&&(o={x:a.x,y:a.y}),h>0&&h<1&&(o={x:(1-h)*e.x+h*a.x,y:(1-h)*e.y+h*a.y})}}e=a}),o}function lM(t){return t.length===1?t[0]:aM(t)}const cM=(t,e,s)=>{let r;w.info(`our points ${JSON.stringify(e)}`),e[0]!==s&&(e=e.reverse());let a=25,u;r=void 0,e.forEach(_=>{if(r&&!u){const v=hf(_,r);if(v<a)a-=v;else{const x=a/v;x<=0&&(u=r),x>=1&&(u={x:_.x,y:_.y}),x>0&&x<1&&(u={x:(1-x)*r.x+x*_.x,y:(1-x)*r.y+x*_.y})}}r=_});const h=t?10:5,d=Math.atan2(e[0].y-u.y,e[0].x-u.x),y={x:0,y:0};return y.x=Math.sin(d)*h+(e[0].x+u.x)/2,y.y=-Math.cos(d)*h+(e[0].y+u.y)/2,y};function uM(t,e,s){let r=JSON.parse(JSON.stringify(s)),o;w.info("our points",r),e!=="start_left"&&e!=="start_right"&&(r=r.reverse()),r.forEach(v=>{o=v});let u=25+t,h;o=void 0,r.forEach(v=>{if(o&&!h){const x=hf(v,o);if(x<u)u-=x;else{const k=u/x;k<=0&&(h=o),k>=1&&(h={x:v.x,y:v.y}),k>0&&k<1&&(h={x:(1-k)*o.x+k*v.x,y:(1-k)*o.y+k*v.y})}}o=v});const d=10+t*.5,y=Math.atan2(r[0].y-h.y,r[0].x-h.x),_={x:0,y:0};return _.x=Math.sin(y)*d+(r[0].x+h.x)/2,_.y=-Math.cos(y)*d+(r[0].y+h.y)/2,e==="start_left"&&(_.x=Math.sin(y+Math.PI)*d+(r[0].x+h.x)/2,_.y=-Math.cos(y+Math.PI)*d+(r[0].y+h.y)/2),e==="end_right"&&(_.x=Math.sin(y-Math.PI)*d+(r[0].x+h.x)/2-5,_.y=-Math.cos(y-Math.PI)*d+(r[0].y+h.y)/2-5),e==="end_left"&&(_.x=Math.sin(y)*d+(r[0].x+h.x)/2-5,_.y=-Math.cos(y)*d+(r[0].y+h.y)/2-5),_}function Ua(t){let e="",s="";for(const r of t)r!==void 0&&(r.startsWith("color:")||r.startsWith("text-align:")?s=s+r+";":e=e+r+";");return{style:e,labelStyle:s}}let W_=0;const H_=()=>(W_++,"id-"+Math.random().toString(36).substr(2,12)+"-"+W_);function hM(t){let e="";const s="0123456789abcdef",r=s.length;for(let o=0;o<t;o++)e+=s.charAt(Math.floor(Math.random()*r));return e}const j_=t=>hM(t.length),pM=function(){return{x:0,y:0,fill:void 0,anchor:"start",style:"#666",width:100,height:100,textMargin:0,rx:0,ry:0,valign:void 0}},dM=function(t,e){const s=e.text.replace(vn.lineBreakRegex," "),r=t.append("text");r.attr("x",e.x),r.attr("y",e.y),r.style("text-anchor",e.anchor),r.style("font-family",e.fontFamily),r.style("font-size",e.fontSize),r.style("font-weight",e.fontWeight),r.attr("fill",e.fill),e.class!==void 0&&r.attr("class",e.class);const o=r.append("tspan");return o.attr("x",e.x+e.textMargin*2),o.attr("fill",e.fill),o.text(s),r},G_=ou((t,e,s)=>{if(!t||(s=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",joinWith:"<br/>"},s),vn.lineBreakRegex.test(t)))return t;const r=t.split(" "),o=[];let a="";return r.forEach((u,h)=>{const d=bo(`${u} `,s),y=bo(a,s);if(d>e){const{hyphenatedStrings:x,remainingWord:k}=fM(u,e,"-",s);o.push(a,...x),a=k}else y+d>=e?(o.push(a),a=u):a=[a,u].filter(Boolean).join(" ");h+1===r.length&&o.push(a)}),o.filter(u=>u!=="").join(s.joinWith)},(t,e,s)=>`${t}${e}${s.fontSize}${s.fontWeight}${s.fontFamily}${s.joinWith}`),fM=ou((t,e,s="-",r)=>{r=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",margin:0},r);const o=[...t],a=[];let u="";return o.forEach((h,d)=>{const y=`${u}${h}`;if(bo(y,r)>=e){const v=d+1,x=o.length===v,k=`${y}${s}`;a.push(x?y:k),u=""}else u=y}),{hyphenatedStrings:a,remainingWord:u}},(t,e,s="-",r)=>`${t}${e}${s}${r.fontSize}${r.fontWeight}${r.fontFamily}`);function tg(t,e){return e=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",margin:15},e),eg(t,e).height}function bo(t,e){return e=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial"},e),eg(t,e).width}const eg=ou((t,e)=>{e=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial"},e);const{fontSize:s,fontFamily:r,fontWeight:o}=e;if(!t)return{width:0,height:0};const a=["sans-serif",r],u=t.split(vn.lineBreakRegex),h=[],d=ee("body");if(!d.remove)return{width:0,height:0,lineHeight:0};const y=d.append("svg");for(const v of a){let x=0;const k={width:0,height:0,lineHeight:0};for(const D of u){const M=pM();M.text=D;const R=dM(y,M).style("font-size",s).style("font-weight",o).style("font-family",v),Y=(R._groups||R)[0][0].getBBox();k.width=Math.round(Math.max(k.width,Y.width)),x=Math.round(Y.height),k.height+=x,k.lineHeight=Math.round(Math.max(k.lineHeight,x))}h.push(k)}y.remove();const _=isNaN(h[1].height)||isNaN(h[1].width)||isNaN(h[1].lineHeight)||h[0].height>h[1].height&&h[0].width>h[1].width&&h[0].lineHeight>h[1].lineHeight?0:1;return h[_]},(t,e)=>`${t}${e.fontSize}${e.fontWeight}${e.fontFamily}`),yM=class{constructor(e,s){this.deterministic=e,this.seed=s,this.count=s?s.length:0}next(){return this.deterministic?this.count++:Date.now()}};let pf;const gM=function(t){return pf=pf||document.createElement("div"),t=escape(t).replace(/%26/g,"&").replace(/%23/g,"#").replace(/%3B/g,";"),pf.innerHTML=t,unescape(pf.textContent)},$l=t=>{if(w.debug("directiveSanitizer called with",t),typeof t=="object"&&(t.length?t.forEach(e=>$l(e)):Object.keys(t).forEach(e=>{w.debug("Checking key",e),e.startsWith("__")&&(w.debug("sanitize deleting __ option",e),delete t[e]),e.includes("proto")&&(w.debug("sanitize deleting proto option",e),delete t[e]),e.includes("constr")&&(w.debug("sanitize deleting constr option",e),delete t[e]),e.includes("themeCSS")&&(w.debug("sanitizing themeCss option"),t[e]=df(t[e])),e.includes("fontFamily")&&(w.debug("sanitizing fontFamily option"),t[e]=df(t[e])),e.includes("altFontFamily")&&(w.debug("sanitizing altFontFamily option"),t[e]=df(t[e])),rF.includes(e)?typeof t[e]=="object"&&(w.debug("sanitize deleting object",e),$l(t[e])):(w.debug("sanitize deleting option",e),delete t[e])})),t.themeVariables){const e=Object.keys(t.themeVariables);for(const s of e){const r=t.themeVariables[s];r&&r.match&&!r.match(/^[\d "#%(),.;A-Za-z]+$/)&&(t.themeVariables[s]="")}}w.debug("After sanitization",t)},df=t=>{let e=0,s=0;for(const r of t){if(e<s)return"{ /* ERROR: Unbalanced CSS */ }";r==="{"?e++:r==="}"&&s++}return e!==s?"{ /* ERROR: Unbalanced CSS */ }":t};function ng(t){return"str"in t}function mM(t){return t instanceof Error?t.message:String(t)}const wn={assignWithDepth:pr,wrapLabel:G_,calculateTextHeight:tg,calculateTextWidth:bo,calculateTextDimensions:eg,detectInit:sM,detectDirective:z_,isSubstringInArray:rM,interpolateToCurve:$i,calcLabelPosition:lM,calcCardinalityPosition:cM,calcTerminalLabelPosition:uM,formatUrl:iM,getStylesFromArray:Ua,generateId:H_,random:j_,runFunc:oM,entityDecode:gM,initIdGenerator:yM,directiveSanitizer:$l,sanitizeCss:df,insertTitle:(t,e,s,r)=>{if(!r)return;const o=t.node().getBBox();t.append("text").text(r).attr("x",o.x+o.width/2).attr("y",-s).attr("class",e)}};var q_="comm",X_="rule",K_="decl",_M="@import",vM="@keyframes",bM=Math.abs,sg=String.fromCharCode;function Z_(t){return t.trim()}function rg(t,e,s){return t.replace(e,s)}function xM(t,e){return t.indexOf(e)}function ff(t,e){return t.charCodeAt(e)|0}function Sh(t,e,s){return t.slice(e,s)}function za(t){return t.length}function Q_(t){return t.length}function yf(t,e){return e.push(t),t}var gf=1,au=1,J_=0,Ci=0,zs=0,lu="";function ig(t,e,s,r,o,a,u){return{value:t,root:e,parent:s,type:r,props:o,children:a,line:gf,column:au,length:u,return:""}}function kM(){return zs}function CM(){return zs=Ci>0?ff(lu,--Ci):0,au--,zs===10&&(au=1,gf--),zs}function Yi(){return zs=Ci<J_?ff(lu,Ci++):0,au++,zs===10&&(au=1,gf++),zs}function Yl(){return ff(lu,Ci)}function mf(){return Ci}function _f(t,e){return Sh(lu,t,e)}function og(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function AM(t){return gf=au=1,J_=za(lu=t),Ci=0,[]}function wM(t){return lu="",t}function ag(t){return Z_(_f(Ci-1,lg(t===91?t+2:t===40?t+1:t)))}function EM(t){for(;(zs=Yl())&&zs<33;)Yi();return og(t)>2||og(zs)>3?"":" "}function BM(t,e){for(;--e&&Yi()&&!(zs<48||zs>102||zs>57&&zs<65||zs>70&&zs<97););return _f(t,mf()+(e<6&&Yl()==32&&Yi()==32))}function lg(t){for(;Yi();)switch(zs){case t:return Ci;case 34:case 39:t!==34&&t!==39&&lg(zs);break;case 40:t===41&&lg(t);break;case 92:Yi();break}return Ci}function SM(t,e){for(;Yi()&&t+zs!==47+10;)if(t+zs===42+42&&Yl()===47)break;return"/*"+_f(e,Ci-1)+"*"+sg(t===47?t:Yi())}function TM(t){for(;!og(Yl());)Yi();return _f(t,Ci)}function DM(t){return wM(vf("",null,null,null,[""],t=AM(t),0,[0],t))}function vf(t,e,s,r,o,a,u,h,d){for(var y=0,_=0,v=u,x=0,k=0,D=0,M=1,R=1,Y=1,V=0,X="",J=o,rt=a,lt=r,tt=X;R;)switch(D=V,V=Yi()){case 40:if(D!=108&&ff(tt,v-1)==58){xM(tt+=rg(ag(V),"&","&\f"),"&\f")!=-1&&(Y=-1);break}case 34:case 39:case 91:tt+=ag(V);break;case 9:case 10:case 13:case 32:tt+=EM(D);break;case 92:tt+=BM(mf()-1,7);continue;case 47:switch(Yl()){case 42:case 47:yf(FM(SM(Yi(),mf()),e,s),d);break;default:tt+="/"}break;case 123*M:h[y++]=za(tt)*Y;case 125*M:case 59:case 0:switch(V){case 0:case 125:R=0;case 59+_:k>0&&za(tt)-v&&yf(k>32?ev(tt+";",r,s,v-1):ev(rg(tt," ","")+";",r,s,v-2),d);break;case 59:tt+=";";default:if(yf(lt=tv(tt,e,s,y,_,o,h,X,J=[],rt=[],v),a),V===123)if(_===0)vf(tt,e,lt,lt,J,a,v,h,rt);else switch(x){case 100:case 109:case 115:vf(t,lt,lt,r&&yf(tv(t,lt,lt,0,0,o,h,X,o,J=[],v),rt),o,rt,v,h,r?J:rt);break;default:vf(tt,lt,lt,lt,[""],rt,0,h,rt)}}y=_=k=0,M=Y=1,X=tt="",v=u;break;case 58:v=1+za(tt),k=D;default:if(M<1){if(V==123)--M;else if(V==125&&M++==0&&CM()==125)continue}switch(tt+=sg(V),V*M){case 38:Y=_>0?1:(tt+="\f",-1);break;case 44:h[y++]=(za(tt)-1)*Y,Y=1;break;case 64:Yl()===45&&(tt+=ag(Yi())),x=Yl(),_=v=za(X=tt+=TM(mf())),V++;break;case 45:D===45&&za(tt)==2&&(M=0)}}return a}function tv(t,e,s,r,o,a,u,h,d,y,_){for(var v=o-1,x=o===0?a:[""],k=Q_(x),D=0,M=0,R=0;D<r;++D)for(var Y=0,V=Sh(t,v+1,v=bM(M=u[D])),X=t;Y<k;++Y)(X=Z_(M>0?x[Y]+" "+V:rg(V,/&\f/g,x[Y])))&&(d[R++]=X);return ig(t,e,s,o===0?X_:h,d,y,_)}function FM(t,e,s){return ig(t,e,s,q_,sg(kM()),Sh(t,2,-2),0)}function ev(t,e,s,r){return ig(t,e,s,K_,Sh(t,0,r),Sh(t,r+1,-1),r)}function cg(t,e){for(var s="",r=Q_(t),o=0;o<r;o++)s+=e(t[o],o,t,e)||"";return s}function LM(t,e,s,r){switch(t.type){case _M:case K_:return t.return=t.return||t.value;case q_:return"";case vM:return t.return=t.value+"{"+cg(t.children,r)+"}";case X_:t.value=t.props.join(",")}return za(s=cg(t.children,r))?t.return=t.value+"{"+s+"}":""}const bf={name:"mermaid",version:"9.3.0",description:"Markdown-ish syntax for generating flowcharts, sequence diagrams, class diagrams, gantt charts and git graphs.",main:"./dist/mermaid.min.js",module:"./dist/mermaid.core.mjs",types:"./dist/mermaid.d.ts",exports:{".":{require:"./dist/mermaid.min.js",import:"./dist/mermaid.core.mjs",types:"./dist/mermaid.d.ts"},"./*":"./*"},keywords:["diagram","markdown","flowchart","sequence diagram","gantt","class diagram","git graph"],scripts:{clean:"rimraf dist","docs:code":"typedoc src/defaultConfig.ts src/config.ts src/mermaidAPI.ts && prettier --write ./src/docs/config/setup","docs:build":"rimraf ../../docs && pnpm docs:spellcheck && pnpm docs:code && ts-node-esm src/docs.mts","docs:verify":"pnpm docs:spellcheck && pnpm docs:code && ts-node-esm src/docs.mts --verify","docs:pre:vitepress":"rimraf src/vitepress && pnpm docs:code && ts-node-esm src/docs.mts --vitepress","docs:build:vitepress":"pnpm docs:pre:vitepress && vitepress build src/vitepress","docs:dev":'pnpm docs:pre:vitepress && concurrently "vitepress dev src/vitepress" "ts-node-esm src/docs.mts --watch --vitepress"',"docs:serve":"pnpm docs:build:vitepress && vitepress serve src/vitepress","docs:spellcheck":'cspell --config ../../cSpell.json "src/docs/**/*.md"',release:"pnpm build",prepublishOnly:"pnpm -w run build"},repository:{type:"git",url:"https://github.com/mermaid-js/mermaid"},author:"Knut Sveidqvist",license:"MIT",standard:{ignore:["**/parser/*.js","dist/**/*.js","cypress/**/*.js"],globals:["page"]},dependencies:{"@braintree/sanitize-url":"^6.0.0",d3:"^7.0.0","dagre-d3-es":"7.0.6",dompurify:"2.4.1",khroma:"^2.0.0","lodash-es":"^4.17.21","moment-mini":"^2.24.0","non-layered-tidy-tree-layout":"^2.0.2",stylis:"^4.1.2",uuid:"^9.0.0"},devDependencies:{"@types/d3":"^7.4.0","@types/dompurify":"^2.4.0","@types/jsdom":"^20.0.1","@types/lodash-es":"^4.17.6","@types/micromatch":"^4.0.2","@types/prettier":"^2.7.1","@types/stylis":"^4.0.2","@types/uuid":"^8.3.4","@typescript-eslint/eslint-plugin":"^5.42.1","@typescript-eslint/parser":"^5.42.1",chokidar:"^3.5.3",concurrently:"^7.5.0",coveralls:"^3.1.1",cspell:"^6.14.3",globby:"^13.1.2",jison:"^0.4.18","js-base64":"^3.7.2",jsdom:"^20.0.2",micromatch:"^4.0.5",moment:"^2.29.4","path-browserify":"^1.0.1",prettier:"^2.7.1",remark:"^14.0.2",rimraf:"^3.0.2","start-server-and-test":"^1.14.0",typedoc:"^0.23.18","typedoc-plugin-markdown":"^3.13.6",typescript:"^4.8.4","unist-util-flatmap":"^1.0.0",vitepress:"^1.0.0-alpha.28","vitepress-plugin-search":"^1.0.4-alpha.15"},files:["dist","README.md"],sideEffects:["**/*.css","**/*.scss"]},cu=Object.freeze(iF);let Xr=pr({},cu),nv,uu=[],Th=pr({},cu);const xf=(t,e)=>{let s=pr({},t),r={};for(const o of e)iv(o),r=pr(r,o);if(s=pr(s,r),r.theme&&r.theme in qo){const o=pr({},nv),a=pr(o.themeVariables||{},r.themeVariables);s.theme&&s.theme in qo&&(s.themeVariables=qo[s.theme].getThemeVariables(a))}return Th=s,lv(Th),Th},IM=t=>(Xr=pr({},cu),Xr=pr(Xr,t),t.theme&&qo[t.theme]&&(Xr.themeVariables=qo[t.theme].getThemeVariables(t.themeVariables)),xf(Xr,uu),Xr),MM=t=>{nv=pr({},t)},RM=t=>(Xr=pr(Xr,t),xf(Xr,uu),Xr),sv=()=>pr({},Xr),rv=t=>(lv(t),pr(Th,t),ht()),ht=()=>pr({},Th),iv=t=>{var e;["secure",...(e=Xr.secure)!=null?e:[]].forEach(s=>{t[s]!==void 0&&(w.debug(`Denied attempt to modify a secure key ${s}`,t[s]),delete t[s])}),Object.keys(t).forEach(s=>{s.indexOf("__")===0&&delete t[s]}),Object.keys(t).forEach(s=>{typeof t[s]=="string"&&(t[s].includes("<")||t[s].includes(">")||t[s].includes("url(data:"))&&delete t[s],typeof t[s]=="object"&&iv(t[s])})},ug=t=>{t.fontFamily&&(t.themeVariables?t.themeVariables.fontFamily||(t.themeVariables={fontFamily:t.fontFamily}):t.themeVariables={fontFamily:t.fontFamily}),uu.push(t),xf(Xr,uu)},Dh=(t=Xr)=>{uu=[],xf(t,uu)};var ov=(t=>(t.LAZY_LOAD_DEPRECATED="The configuration options lazyLoadedDiagrams and loadExternalDiagramsAtStartup are deprecated. Please use registerExternalDiagrams instead.",t))(ov||{});const av={},OM=t=>{av[t]||(w.warn(ov[t]),av[t]=!0)},lv=t=>{t&&(t.lazyLoadedDiagrams||t.loadExternalDiagramsAtStartup)&&OM("LAZY_LOAD_DEPRECATED")},NM=function(t,e){for(let s of e)t.attr(s[0],s[1])},PM=function(t,e,s){let r=new Map;return s?(r.set("width","100%"),r.set("style",`max-width: ${e}px;`)):(r.set("height",t),r.set("width",e)),r},Ui=function(t,e,s,r){const o=PM(e,s,r);NM(t,o)},kf=function(t,e,s,r){const o=e.node().getBBox(),a=o.width,u=o.height;w.info(`SVG bounds: ${a}x${u}`,o);let h=0,d=0;w.info(`Graph bounds: ${h}x${d}`,t),h=a+s*2,d=u+s*2,w.info(`Calculated bounds: ${h}x${d}`),Ui(e,d,h,r);const y=`${o.x-s} ${o.y-s} ${o.width+2*s} ${o.height+2*s}`;e.attr("viewBox",y)},Fh=t=>`g.classGroup text {
  fill: ${t.nodeBorder};
  fill: ${t.classText};
  stroke: none;
  font-family: ${t.fontFamily};
  font-size: 10px;

  .title {
    font-weight: bolder;
  }

}

.nodeLabel, .edgeLabel {
  color: ${t.classText};
}
.edgeLabel .label rect {
  fill: ${t.mainBkg};
}
.label text {
  fill: ${t.classText};
}
.edgeLabel .label span {
  background: ${t.mainBkg};
}

.classTitle {
  font-weight: bolder;
}
.node rect,
  .node circle,
  .node ellipse,
  .node polygon,
  .node path {
    fill: ${t.mainBkg};
    stroke: ${t.nodeBorder};
    stroke-width: 1px;
  }


.divider {
  stroke: ${t.nodeBorder};
  stroke: 1;
}

g.clickable {
  cursor: pointer;
}

g.classGroup rect {
  fill: ${t.mainBkg};
  stroke: ${t.nodeBorder};
}

g.classGroup line {
  stroke: ${t.nodeBorder};
  stroke-width: 1;
}

.classLabel .box {
  stroke: none;
  stroke-width: 0;
  fill: ${t.mainBkg};
  opacity: 0.5;
}

.classLabel .label {
  fill: ${t.nodeBorder};
  font-size: 10px;
}

.relation {
  stroke: ${t.lineColor};
  stroke-width: 1;
  fill: none;
}

.dashed-line{
  stroke-dasharray: 3;
}

.dotted-line{
  stroke-dasharray: 1 2;
}

#compositionStart, .composition {
  fill: ${t.lineColor} !important;
  stroke: ${t.lineColor} !important;
  stroke-width: 1;
}

#compositionEnd, .composition {
  fill: ${t.lineColor} !important;
  stroke: ${t.lineColor} !important;
  stroke-width: 1;
}

#dependencyStart, .dependency {
  fill: ${t.lineColor} !important;
  stroke: ${t.lineColor} !important;
  stroke-width: 1;
}

#dependencyStart, .dependency {
  fill: ${t.lineColor} !important;
  stroke: ${t.lineColor} !important;
  stroke-width: 1;
}

#extensionStart, .extension {
  fill: ${t.mainBkg} !important;
  stroke: ${t.lineColor} !important;
  stroke-width: 1;
}

#extensionEnd, .extension {
  fill: ${t.mainBkg} !important;
  stroke: ${t.lineColor} !important;
  stroke-width: 1;
}

#aggregationStart, .aggregation {
  fill: ${t.mainBkg} !important;
  stroke: ${t.lineColor} !important;
  stroke-width: 1;
}

#aggregationEnd, .aggregation {
  fill: ${t.mainBkg} !important;
  stroke: ${t.lineColor} !important;
  stroke-width: 1;
}

#lollipopStart, .lollipop {
  fill: ${t.mainBkg} !important;
  stroke: ${t.lineColor} !important;
  stroke-width: 1;
}

#lollipopEnd, .lollipop {
  fill: ${t.mainBkg} !important;
  stroke: ${t.lineColor} !important;
  stroke-width: 1;
}

.edgeTerminals {
  font-size: 11px;
}

.classTitleText {
  text-anchor: middle;
  font-size: 18px;
  fill: ${t.textColor};
}
`,cv=t=>`
  .entityBox {
    fill: ${t.mainBkg};
    stroke: ${t.nodeBorder};
  }

  .attributeBoxOdd {
    fill: ${t.attributeBackgroundColorOdd};
    stroke: ${t.nodeBorder};
  }

  .attributeBoxEven {
    fill:  ${t.attributeBackgroundColorEven};
    stroke: ${t.nodeBorder};
  }

  .relationshipLabelBox {
    fill: ${t.tertiaryColor};
    opacity: 0.7;
    background-color: ${t.tertiaryColor};
      rect {
        opacity: 0.5;
      }
  }

    .relationshipLine {
      stroke: ${t.lineColor};
    }

  .entityTitleText {
    text-anchor: middle;
    font-size: 18px;
    fill: ${t.textColor};
  }    
`,uv=()=>"",Cf=t=>`.label {
    font-family: ${t.fontFamily};
    color: ${t.nodeTextColor||t.textColor};
  }
  .cluster-label text {
    fill: ${t.titleColor};
  }
  .cluster-label span {
    color: ${t.titleColor};
  }

  .label text,span {
    fill: ${t.nodeTextColor||t.textColor};
    color: ${t.nodeTextColor||t.textColor};
  }

  .node rect,
  .node circle,
  .node ellipse,
  .node polygon,
  .node path {
    fill: ${t.mainBkg};
    stroke: ${t.nodeBorder};
    stroke-width: 1px;
  }

  .node .label {
    text-align: center;
  }
  .node.clickable {
    cursor: pointer;
  }

  .arrowheadPath {
    fill: ${t.arrowheadColor};
  }

  .edgePath .path {
    stroke: ${t.lineColor};
    stroke-width: 2.0px;
  }

  .flowchart-link {
    stroke: ${t.lineColor};
    fill: none;
  }

  .edgeLabel {
    background-color: ${t.edgeLabelBackground};
    rect {
      opacity: 0.5;
      background-color: ${t.edgeLabelBackground};
      fill: ${t.edgeLabelBackground};
    }
    text-align: center;
  }

  .cluster rect {
    fill: ${t.clusterBkg};
    stroke: ${t.clusterBorder};
    stroke-width: 1px;
  }

  .cluster text {
    fill: ${t.titleColor};
  }

  .cluster span {
    color: ${t.titleColor};
  }
  /* .cluster div {
    color: ${t.titleColor};
  } */

  div.mermaidTooltip {
    position: absolute;
    text-align: center;
    max-width: 200px;
    padding: 2px;
    font-family: ${t.fontFamily};
    font-size: 12px;
    background: ${t.tertiaryColor};
    border: 1px solid ${t.border2};
    border-radius: 2px;
    pointer-events: none;
    z-index: 100;
  }

  .flowchartTitleText {
    text-anchor: middle;
    font-size: 18px;
    fill: ${t.textColor};
  }
`,hv=t=>`
  .mermaid-main-font {
    font-family: "trebuchet ms", verdana, arial, sans-serif;
    font-family: var(--mermaid-font-family);
  }
  .exclude-range {
    fill: ${t.excludeBkgColor};
  }

  .section {
    stroke: none;
    opacity: 0.2;
  }

  .section0 {
    fill: ${t.sectionBkgColor};
  }

  .section2 {
    fill: ${t.sectionBkgColor2};
  }

  .section1,
  .section3 {
    fill: ${t.altSectionBkgColor};
    opacity: 0.2;
  }

  .sectionTitle0 {
    fill: ${t.titleColor};
  }

  .sectionTitle1 {
    fill: ${t.titleColor};
  }

  .sectionTitle2 {
    fill: ${t.titleColor};
  }

  .sectionTitle3 {
    fill: ${t.titleColor};
  }

  .sectionTitle {
    text-anchor: start;
    // font-size: ${t.ganttFontSize};
    // text-height: 14px;
    font-family: 'trebuchet ms', verdana, arial, sans-serif;
    font-family: var(--mermaid-font-family);

  }


  /* Grid and axis */

  .grid .tick {
    stroke: ${t.gridColor};
    opacity: 0.8;
    shape-rendering: crispEdges;
    text {
      font-family: ${t.fontFamily};
      fill: ${t.textColor};
    }
  }

  .grid path {
    stroke-width: 0;
  }


  /* Today line */

  .today {
    fill: none;
    stroke: ${t.todayLineColor};
    stroke-width: 2px;
  }


  /* Task styling */

  /* Default task */

  .task {
    stroke-width: 2;
  }

  .taskText {
    text-anchor: middle;
    font-family: 'trebuchet ms', verdana, arial, sans-serif;
    font-family: var(--mermaid-font-family);
  }

  // .taskText:not([font-size]) {
  //   font-size: ${t.ganttFontSize};
  // }

  .taskTextOutsideRight {
    fill: ${t.taskTextDarkColor};
    text-anchor: start;
    // font-size: ${t.ganttFontSize};
    font-family: 'trebuchet ms', verdana, arial, sans-serif;
    font-family: var(--mermaid-font-family);

  }

  .taskTextOutsideLeft {
    fill: ${t.taskTextDarkColor};
    text-anchor: end;
    // font-size: ${t.ganttFontSize};
  }

  /* Special case clickable */
  .task.clickable {
    cursor: pointer;
  }
  .taskText.clickable {
    cursor: pointer;
    fill: ${t.taskTextClickableColor} !important;
    font-weight: bold;
  }

  .taskTextOutsideLeft.clickable {
    cursor: pointer;
    fill: ${t.taskTextClickableColor} !important;
    font-weight: bold;
  }

  .taskTextOutsideRight.clickable {
    cursor: pointer;
    fill: ${t.taskTextClickableColor} !important;
    font-weight: bold;
  }

  /* Specific task settings for the sections*/

  .taskText0,
  .taskText1,
  .taskText2,
  .taskText3 {
    fill: ${t.taskTextColor};
  }

  .task0,
  .task1,
  .task2,
  .task3 {
    fill: ${t.taskBkgColor};
    stroke: ${t.taskBorderColor};
  }

  .taskTextOutside0,
  .taskTextOutside2
  {
    fill: ${t.taskTextOutsideColor};
  }

  .taskTextOutside1,
  .taskTextOutside3 {
    fill: ${t.taskTextOutsideColor};
  }


  /* Active task */

  .active0,
  .active1,
  .active2,
  .active3 {
    fill: ${t.activeTaskBkgColor};
    stroke: ${t.activeTaskBorderColor};
  }

  .activeText0,
  .activeText1,
  .activeText2,
  .activeText3 {
    fill: ${t.taskTextDarkColor} !important;
  }


  /* Completed task */

  .done0,
  .done1,
  .done2,
  .done3 {
    stroke: ${t.doneTaskBorderColor};
    fill: ${t.doneTaskBkgColor};
    stroke-width: 2;
  }

  .doneText0,
  .doneText1,
  .doneText2,
  .doneText3 {
    fill: ${t.taskTextDarkColor} !important;
  }


  /* Tasks on the critical line */

  .crit0,
  .crit1,
  .crit2,
  .crit3 {
    stroke: ${t.critBorderColor};
    fill: ${t.critBkgColor};
    stroke-width: 2;
  }

  .activeCrit0,
  .activeCrit1,
  .activeCrit2,
  .activeCrit3 {
    stroke: ${t.critBorderColor};
    fill: ${t.activeTaskBkgColor};
    stroke-width: 2;
  }

  .doneCrit0,
  .doneCrit1,
  .doneCrit2,
  .doneCrit3 {
    stroke: ${t.critBorderColor};
    fill: ${t.doneTaskBkgColor};
    stroke-width: 2;
    cursor: pointer;
    shape-rendering: crispEdges;
  }

  .milestone {
    transform: rotate(45deg) scale(0.8,0.8);
  }

  .milestoneText {
    font-style: italic;
  }
  .doneCritText0,
  .doneCritText1,
  .doneCritText2,
  .doneCritText3 {
    fill: ${t.taskTextDarkColor} !important;
  }

  .activeCritText0,
  .activeCritText1,
  .activeCritText2,
  .activeCritText3 {
    fill: ${t.taskTextDarkColor} !important;
  }

  .titleText {
    text-anchor: middle;
    font-size: 18px;
    fill: ${t.textColor}    ;
    font-family: 'trebuchet ms', verdana, arial, sans-serif;
    font-family: var(--mermaid-font-family);
  }
`,pv=()=>"",dv=t=>`
  .pieCircle{
    stroke: ${t.pieStrokeColor};
    stroke-width : ${t.pieStrokeWidth};
    opacity : ${t.pieOpacity};
  }
  .pieTitleText {
    text-anchor: middle;
    font-size: ${t.pieTitleTextSize};
    fill: ${t.pieTitleTextColor};
    font-family: ${t.fontFamily};
  }
  .slice {
    font-family: ${t.fontFamily};
    fill: ${t.pieSectionTextColor};
    font-size:${t.pieSectionTextSize};
    // fill: white;
  }
  .legend text {
    fill: ${t.pieLegendTextColor};
    font-family: ${t.fontFamily};
    font-size: ${t.pieLegendTextSize};
  }
`,fv=t=>`

  marker {
    fill: ${t.relationColor};
    stroke: ${t.relationColor};
  }

  marker.cross {
    stroke: ${t.lineColor};
  }

  svg {
    font-family: ${t.fontFamily};
    font-size: ${t.fontSize};
  }

  .reqBox {
    fill: ${t.requirementBackground};
    fill-opacity: 100%;
    stroke: ${t.requirementBorderColor};
    stroke-width: ${t.requirementBorderSize};
  }
  
  .reqTitle, .reqLabel{
    fill:  ${t.requirementTextColor};
  }
  .reqLabelBox {
    fill: ${t.relationLabelBackground};
    fill-opacity: 100%;
  }

  .req-title-line {
    stroke: ${t.requirementBorderColor};
    stroke-width: ${t.requirementBorderSize};
  }
  .relationshipLine {
    stroke: ${t.relationColor};
    stroke-width: 1;
  }
  .relationshipLabel {
    fill: ${t.relationLabelColor};
  }

`,yv=t=>`.actor {
    stroke: ${t.actorBorder};
    fill: ${t.actorBkg};
  }

  text.actor > tspan {
    fill: ${t.actorTextColor};
    stroke: none;
  }

  .actor-line {
    stroke: ${t.actorLineColor};
  }

  .messageLine0 {
    stroke-width: 1.5;
    stroke-dasharray: none;
    stroke: ${t.signalColor};
  }

  .messageLine1 {
    stroke-width: 1.5;
    stroke-dasharray: 2, 2;
    stroke: ${t.signalColor};
  }

  #arrowhead path {
    fill: ${t.signalColor};
    stroke: ${t.signalColor};
  }

  .sequenceNumber {
    fill: ${t.sequenceNumberColor};
  }

  #sequencenumber {
    fill: ${t.signalColor};
  }

  #crosshead path {
    fill: ${t.signalColor};
    stroke: ${t.signalColor};
  }

  .messageText {
    fill: ${t.signalTextColor};
    stroke: none;
  }

  .labelBox {
    stroke: ${t.labelBoxBorderColor};
    fill: ${t.labelBoxBkgColor};
  }

  .labelText, .labelText > tspan {
    fill: ${t.labelTextColor};
    stroke: none;
  }

  .loopText, .loopText > tspan {
    fill: ${t.loopTextColor};
    stroke: none;
  }

  .loopLine {
    stroke-width: 2px;
    stroke-dasharray: 2, 2;
    stroke: ${t.labelBoxBorderColor};
    fill: ${t.labelBoxBorderColor};
  }

  .note {
    //stroke: #decc93;
    stroke: ${t.noteBorderColor};
    fill: ${t.noteBkgColor};
  }

  .noteText, .noteText > tspan {
    fill: ${t.noteTextColor};
    stroke: none;
  }

  .activation0 {
    fill: ${t.activationBkgColor};
    stroke: ${t.activationBorderColor};
  }

  .activation1 {
    fill: ${t.activationBkgColor};
    stroke: ${t.activationBorderColor};
  }

  .activation2 {
    fill: ${t.activationBkgColor};
    stroke: ${t.activationBorderColor};
  }

  .actorPopupMenu {
    position: absolute;
  }

  .actorPopupMenuPanel {
    position: absolute;
    fill: ${t.actorBkg};
    box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
    filter: drop-shadow(3px 5px 2px rgb(0 0 0 / 0.4));
}
  .actor-man line {
    stroke: ${t.actorBorder};
    fill: ${t.actorBkg};
  }
  .actor-man circle, line {
    stroke: ${t.actorBorder};
    fill: ${t.actorBkg};
    stroke-width: 2px;
  }
`,Af=t=>`
defs #statediagram-barbEnd {
    fill: ${t.transitionColor};
    stroke: ${t.transitionColor};
  }
g.stateGroup text {
  fill: ${t.nodeBorder};
  stroke: none;
  font-size: 10px;
}
g.stateGroup text {
  fill: ${t.textColor};
  stroke: none;
  font-size: 10px;

}
g.stateGroup .state-title {
  font-weight: bolder;
  fill: ${t.stateLabelColor};
}

g.stateGroup rect {
  fill: ${t.mainBkg};
  stroke: ${t.nodeBorder};
}

g.stateGroup line {
  stroke: ${t.lineColor};
  stroke-width: 1;
}

.transition {
  stroke: ${t.transitionColor};
  stroke-width: 1;
  fill: none;
}

.stateGroup .composit {
  fill: ${t.background};
  border-bottom: 1px
}

.stateGroup .alt-composit {
  fill: #e0e0e0;
  border-bottom: 1px
}

.state-note {
  stroke: ${t.noteBorderColor};
  fill: ${t.noteBkgColor};

  text {
    fill: ${t.noteTextColor};
    stroke: none;
    font-size: 10px;
  }
}

.stateLabel .box {
  stroke: none;
  stroke-width: 0;
  fill: ${t.mainBkg};
  opacity: 0.5;
}

.edgeLabel .label rect {
  fill: ${t.labelBackgroundColor};
  opacity: 0.5;
}
.edgeLabel .label text {
  fill: ${t.transitionLabelColor||t.tertiaryTextColor};
}
.label div .edgeLabel {
  color: ${t.transitionLabelColor||t.tertiaryTextColor};
}

.stateLabel text {
  fill: ${t.stateLabelColor};
  font-size: 10px;
  font-weight: bold;
}

.node circle.state-start {
  fill: ${t.specialStateColor};
  stroke: ${t.specialStateColor};
}

.node .fork-join {
  fill: ${t.specialStateColor};
  stroke: ${t.specialStateColor};
}

.node circle.state-end {
  fill: ${t.innerEndBackground};
  stroke: ${t.background};
  stroke-width: 1.5
}
.end-state-inner {
  fill: ${t.compositeBackground||t.background};
  // stroke: ${t.background};
  stroke-width: 1.5
}

.node rect {
  fill: ${t.stateBkg||t.mainBkg};
  stroke: ${t.stateBorder||t.nodeBorder};
  stroke-width: 1px;
}
.node polygon {
  fill: ${t.mainBkg};
  stroke: ${t.stateBorder||t.nodeBorder};;
  stroke-width: 1px;
}
#statediagram-barbEnd {
  fill: ${t.lineColor};
}

.statediagram-cluster rect {
  fill: ${t.compositeTitleBackground};
  stroke: ${t.stateBorder||t.nodeBorder};
  stroke-width: 1px;
}

.cluster-label, .nodeLabel {
  color: ${t.stateLabelColor};
}

.statediagram-cluster rect.outer {
  rx: 5px;
  ry: 5px;
}
.statediagram-state .divider {
  stroke: ${t.stateBorder||t.nodeBorder};
}

.statediagram-state .title-state {
  rx: 5px;
  ry: 5px;
}
.statediagram-cluster.statediagram-cluster .inner {
  fill: ${t.compositeBackground||t.background};
}
.statediagram-cluster.statediagram-cluster-alt .inner {
  fill: ${t.altBackground?t.altBackground:"#efefef"};
}

.statediagram-cluster .inner {
  rx:0;
  ry:0;
}

.statediagram-state rect.basic {
  rx: 5px;
  ry: 5px;
}
.statediagram-state rect.divider {
  stroke-dasharray: 10,10;
  fill: ${t.altBackground?t.altBackground:"#efefef"};
}

.note-edge {
  stroke-dasharray: 5;
}

.statediagram-note rect {
  fill: ${t.noteBkgColor};
  stroke: ${t.noteBorderColor};
  stroke-width: 1px;
  rx: 0;
  ry: 0;
}
.statediagram-note rect {
  fill: ${t.noteBkgColor};
  stroke: ${t.noteBorderColor};
  stroke-width: 1px;
  rx: 0;
  ry: 0;
}

.statediagram-note text {
  fill: ${t.noteTextColor};
}

.statediagram-note .nodeLabel {
  color: ${t.noteTextColor};
}
.statediagram .edgeLabel {
  color: red; // ${t.noteTextColor};
}

#dependencyStart, #dependencyEnd {
  fill: ${t.lineColor};
  stroke: ${t.lineColor};
  stroke-width: 1;
}

.statediagramTitleText {
  text-anchor: middle;
  font-size: 18px;
  fill: ${t.textColor};
}
`,gv=t=>`.label {
    font-family: 'trebuchet ms', verdana, arial, sans-serif;
    font-family: var(--mermaid-font-family);
    color: ${t.textColor};
  }
  .mouth {
    stroke: #666;
  }

  line {
    stroke: ${t.textColor}
  }

  .legend {
    fill: ${t.textColor};
  }

  .label text {
    fill: #333;
  }
  .label {
    color: ${t.textColor}
  }

  .face {
    ${t.faceColor?`fill: ${t.faceColor}`:"fill: #FFF8DC"};
    stroke: #999;
  }

  .node rect,
  .node circle,
  .node ellipse,
  .node polygon,
  .node path {
    fill: ${t.mainBkg};
    stroke: ${t.nodeBorder};
    stroke-width: 1px;
  }

  .node .label {
    text-align: center;
  }
  .node.clickable {
    cursor: pointer;
  }

  .arrowheadPath {
    fill: ${t.arrowheadColor};
  }

  .edgePath .path {
    stroke: ${t.lineColor};
    stroke-width: 1.5px;
  }

  .flowchart-link {
    stroke: ${t.lineColor};
    fill: none;
  }

  .edgeLabel {
    background-color: ${t.edgeLabelBackground};
    rect {
      opacity: 0.5;
    }
    text-align: center;
  }

  .cluster rect {
  }

  .cluster text {
    fill: ${t.titleColor};
  }

  div.mermaidTooltip {
    position: absolute;
    text-align: center;
    max-width: 200px;
    padding: 2px;
    font-family: 'trebuchet ms', verdana, arial, sans-serif;
    font-family: var(--mermaid-font-family);
    font-size: 12px;
    background: ${t.tertiaryColor};
    border: 1px solid ${t.border2};
    border-radius: 2px;
    pointer-events: none;
    z-index: 100;
  }

  .task-type-0, .section-type-0  {
    ${t.fillType0?`fill: ${t.fillType0}`:""};
  }
  .task-type-1, .section-type-1  {
    ${t.fillType0?`fill: ${t.fillType1}`:""};
  }
  .task-type-2, .section-type-2  {
    ${t.fillType0?`fill: ${t.fillType2}`:""};
  }
  .task-type-3, .section-type-3  {
    ${t.fillType0?`fill: ${t.fillType3}`:""};
  }
  .task-type-4, .section-type-4  {
    ${t.fillType0?`fill: ${t.fillType4}`:""};
  }
  .task-type-5, .section-type-5  {
    ${t.fillType0?`fill: ${t.fillType5}`:""};
  }
  .task-type-6, .section-type-6  {
    ${t.fillType0?`fill: ${t.fillType6}`:""};
  }
  .task-type-7, .section-type-7  {
    ${t.fillType0?`fill: ${t.fillType7}`:""};
  }

  .actor-0 {
    ${t.actor0?`fill: ${t.actor0}`:""};
  }
  .actor-1 {
    ${t.actor1?`fill: ${t.actor1}`:""};
  }
  .actor-2 {
    ${t.actor2?`fill: ${t.actor2}`:""};
  }
  .actor-3 {
    ${t.actor3?`fill: ${t.actor3}`:""};
  }
  .actor-4 {
    ${t.actor4?`fill: ${t.actor4}`:""};
  }
  .actor-5 {
    ${t.actor5?`fill: ${t.actor5}`:""};
  }
`,mv=t=>`.person {
    stroke: ${t.personBorder};
    fill: ${t.personBkg};
  }
`,wf={flowchart:Cf,"flowchart-v2":Cf,sequence:yv,gantt:hv,classDiagram:Fh,"classDiagram-v2":Fh,class:Fh,stateDiagram:Af,state:Af,info:pv,pie:dv,er:cv,error:uv,journey:gv,requirement:fv,c4:mv},VM=(t,e,s)=>{let r="";return t in wf&&wf[t]?r=wf[t](s):w.warn(`No theme found for ${t}`),` & {
    font-family: ${s.fontFamily};
    font-size: ${s.fontSize};
    fill: ${s.textColor}
  }

  /* Classes common for multiple diagrams */

  & .error-icon {
    fill: ${s.errorBkgColor};
  }
  & .error-text {
    fill: ${s.errorTextColor};
    stroke: ${s.errorTextColor};
  }

  & .edge-thickness-normal {
    stroke-width: 2px;
  }
  & .edge-thickness-thick {
    stroke-width: 3.5px
  }
  & .edge-pattern-solid {
    stroke-dasharray: 0;
  }

  & .edge-pattern-dashed{
    stroke-dasharray: 3;
  }
  .edge-pattern-dotted {
    stroke-dasharray: 2;
  }

  & .marker {
    fill: ${s.lineColor};
    stroke: ${s.lineColor};
  }
  & .marker.cross {
    stroke: ${s.lineColor};
  }

  & svg {
    font-family: ${s.fontFamily};
    font-size: ${s.fontSize};
  }

  ${r}

  ${e}
`},$M=(t,e)=>{wf[t]=e},YM=VM,UM=w,zM=z,Lh=ht,WM=t=>Pi(t,Lh()),_v=kf,Ef={},dr=(t,e,s)=>{if(Ef[t])throw new Error(`Diagram ${t} already registered.`);Ef[t]=e,s&&P_(t,s),$M(t,e.styles),e.injectUtils&&e.injectUtils(UM,zM,Lh,WM,_v)},vv=t=>{if(t in Ef)return Ef[t];throw new Error(`Diagram ${t} not found.`)};var hg=function(){var t=function(it,j,W,$){for(W=W||{},$=it.length;$--;W[it[$]]=j);return W},e=[1,4],s=[1,7],r=[1,5],o=[1,9],a=[1,6],u=[2,6],h=[1,16],d=[6,8,14,20,22,24,25,27,29,32,37,40,50,55],y=[8,14,20,22,24,25,27,29,32,37,40],_=[8,13,14,20,22,24,25,27,29,32,37,40],v=[1,26],x=[6,8,14,50,55],k=[8,14,55],D=[1,53],M=[1,52],R=[8,14,30,33,35,38,55],Y=[1,67],V=[1,68],X=[1,69],J=[8,14,33,35,42,55],rt={trace:function(){},yy:{},symbols_:{error:2,start:3,eol:4,directive:5,GG:6,document:7,EOF:8,":":9,DIR:10,options:11,body:12,OPT:13,NL:14,line:15,statement:16,commitStatement:17,mergeStatement:18,cherryPickStatement:19,acc_title:20,acc_title_value:21,acc_descr:22,acc_descr_value:23,acc_descr_multiline_value:24,section:25,branchStatement:26,CHECKOUT:27,ref:28,BRANCH:29,ORDER:30,NUM:31,CHERRY_PICK:32,COMMIT_ID:33,STR:34,COMMIT_TAG:35,EMPTYSTR:36,MERGE:37,COMMIT_TYPE:38,commitType:39,COMMIT:40,commit_arg:41,COMMIT_MSG:42,NORMAL:43,REVERSE:44,HIGHLIGHT:45,openDirective:46,typeDirective:47,closeDirective:48,argDirective:49,open_directive:50,type_directive:51,arg_directive:52,close_directive:53,ID:54,";":55,$accept:0,$end:1},terminals_:{2:"error",6:"GG",8:"EOF",9:":",10:"DIR",13:"OPT",14:"NL",20:"acc_title",21:"acc_title_value",22:"acc_descr",23:"acc_descr_value",24:"acc_descr_multiline_value",25:"section",27:"CHECKOUT",29:"BRANCH",30:"ORDER",31:"NUM",32:"CHERRY_PICK",33:"COMMIT_ID",34:"STR",35:"COMMIT_TAG",36:"EMPTYSTR",37:"MERGE",38:"COMMIT_TYPE",40:"COMMIT",42:"COMMIT_MSG",43:"NORMAL",44:"REVERSE",45:"HIGHLIGHT",50:"open_directive",51:"type_directive",52:"arg_directive",53:"close_directive",54:"ID",55:";"},productions_:[0,[3,2],[3,2],[3,3],[3,4],[3,5],[7,0],[7,2],[11,2],[11,1],[12,0],[12,2],[15,2],[15,1],[16,1],[16,1],[16,1],[16,2],[16,2],[16,1],[16,1],[16,1],[16,2],[26,2],[26,4],[19,3],[19,5],[19,5],[19,5],[19,5],[18,2],[18,4],[18,4],[18,4],[18,6],[18,6],[18,6],[18,6],[18,6],[18,6],[18,8],[18,8],[18,8],[18,8],[18,8],[18,8],[17,2],[17,3],[17,3],[17,5],[17,5],[17,3],[17,5],[17,5],[17,5],[17,5],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,3],[17,5],[17,5],[17,5],[17,5],[17,5],[17,5],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[41,0],[41,1],[39,1],[39,1],[39,1],[5,3],[5,5],[46,1],[47,1],[49,1],[48,1],[28,1],[28,1],[4,1],[4,1],[4,1]],performAction:function(j,W,$,I,H,S,yt){var T=S.length-1;switch(H){case 3:return S[T];case 4:return S[T-1];case 5:return I.setDirection(S[T-3]),S[T-1];case 7:I.setOptions(S[T-1]),this.$=S[T];break;case 8:S[T-1]+=S[T],this.$=S[T-1];break;case 10:this.$=[];break;case 11:S[T-1].push(S[T]),this.$=S[T-1];break;case 12:this.$=S[T-1];break;case 17:this.$=S[T].trim(),I.setAccTitle(this.$);break;case 18:case 19:this.$=S[T].trim(),I.setAccDescription(this.$);break;case 20:I.addSection(S[T].substr(8)),this.$=S[T].substr(8);break;case 22:I.checkout(S[T]);break;case 23:I.branch(S[T]);break;case 24:I.branch(S[T-2],S[T]);break;case 25:I.cherryPick(S[T],"",void 0);break;case 26:I.cherryPick(S[T-2],"",S[T]);break;case 27:case 29:I.cherryPick(S[T-2],"","");break;case 28:I.cherryPick(S[T],"",S[T-2]);break;case 30:I.merge(S[T],"","","");break;case 31:I.merge(S[T-2],S[T],"","");break;case 32:I.merge(S[T-2],"",S[T],"");break;case 33:I.merge(S[T-2],"","",S[T]);break;case 34:I.merge(S[T-4],S[T],"",S[T-2]);break;case 35:I.merge(S[T-4],"",S[T],S[T-2]);break;case 36:I.merge(S[T-4],"",S[T-2],S[T]);break;case 37:I.merge(S[T-4],S[T-2],S[T],"");break;case 38:I.merge(S[T-4],S[T-2],"",S[T]);break;case 39:I.merge(S[T-4],S[T],S[T-2],"");break;case 40:I.merge(S[T-6],S[T-4],S[T-2],S[T]);break;case 41:I.merge(S[T-6],S[T],S[T-4],S[T-2]);break;case 42:I.merge(S[T-6],S[T-4],S[T],S[T-2]);break;case 43:I.merge(S[T-6],S[T-2],S[T-4],S[T]);break;case 44:I.merge(S[T-6],S[T],S[T-2],S[T-4]);break;case 45:I.merge(S[T-6],S[T-2],S[T],S[T-4]);break;case 46:I.commit(S[T]);break;case 47:I.commit("","",I.commitType.NORMAL,S[T]);break;case 48:I.commit("","",S[T],"");break;case 49:I.commit("","",S[T],S[T-2]);break;case 50:I.commit("","",S[T-2],S[T]);break;case 51:I.commit("",S[T],I.commitType.NORMAL,"");break;case 52:I.commit("",S[T-2],I.commitType.NORMAL,S[T]);break;case 53:I.commit("",S[T],I.commitType.NORMAL,S[T-2]);break;case 54:I.commit("",S[T-2],S[T],"");break;case 55:I.commit("",S[T],S[T-2],"");break;case 56:I.commit("",S[T-4],S[T-2],S[T]);break;case 57:I.commit("",S[T-4],S[T],S[T-2]);break;case 58:I.commit("",S[T-2],S[T-4],S[T]);break;case 59:I.commit("",S[T],S[T-4],S[T-2]);break;case 60:I.commit("",S[T],S[T-2],S[T-4]);break;case 61:I.commit("",S[T-2],S[T],S[T-4]);break;case 62:I.commit(S[T],"",I.commitType.NORMAL,"");break;case 63:I.commit(S[T],"",I.commitType.NORMAL,S[T-2]);break;case 64:I.commit(S[T-2],"",I.commitType.NORMAL,S[T]);break;case 65:I.commit(S[T-2],"",S[T],"");break;case 66:I.commit(S[T],"",S[T-2],"");break;case 67:I.commit(S[T],S[T-2],I.commitType.NORMAL,"");break;case 68:I.commit(S[T-2],S[T],I.commitType.NORMAL,"");break;case 69:I.commit(S[T-4],"",S[T-2],S[T]);break;case 70:I.commit(S[T-4],"",S[T],S[T-2]);break;case 71:I.commit(S[T-2],"",S[T-4],S[T]);break;case 72:I.commit(S[T],"",S[T-4],S[T-2]);break;case 73:I.commit(S[T],"",S[T-2],S[T-4]);break;case 74:I.commit(S[T-2],"",S[T],S[T-4]);break;case 75:I.commit(S[T-4],S[T],S[T-2],"");break;case 76:I.commit(S[T-4],S[T-2],S[T],"");break;case 77:I.commit(S[T-2],S[T],S[T-4],"");break;case 78:I.commit(S[T],S[T-2],S[T-4],"");break;case 79:I.commit(S[T],S[T-4],S[T-2],"");break;case 80:I.commit(S[T-2],S[T-4],S[T],"");break;case 81:I.commit(S[T-4],S[T],I.commitType.NORMAL,S[T-2]);break;case 82:I.commit(S[T-4],S[T-2],I.commitType.NORMAL,S[T]);break;case 83:I.commit(S[T-2],S[T],I.commitType.NORMAL,S[T-4]);break;case 84:I.commit(S[T],S[T-2],I.commitType.NORMAL,S[T-4]);break;case 85:I.commit(S[T],S[T-4],I.commitType.NORMAL,S[T-2]);break;case 86:I.commit(S[T-2],S[T-4],I.commitType.NORMAL,S[T]);break;case 87:I.commit(S[T-6],S[T-4],S[T-2],S[T]);break;case 88:I.commit(S[T-6],S[T-4],S[T],S[T-2]);break;case 89:I.commit(S[T-6],S[T-2],S[T-4],S[T]);break;case 90:I.commit(S[T-6],S[T],S[T-4],S[T-2]);break;case 91:I.commit(S[T-6],S[T-2],S[T],S[T-4]);break;case 92:I.commit(S[T-6],S[T],S[T-2],S[T-4]);break;case 93:I.commit(S[T-4],S[T-6],S[T-2],S[T]);break;case 94:I.commit(S[T-4],S[T-6],S[T],S[T-2]);break;case 95:I.commit(S[T-2],S[T-6],S[T-4],S[T]);break;case 96:I.commit(S[T],S[T-6],S[T-4],S[T-2]);break;case 97:I.commit(S[T-2],S[T-6],S[T],S[T-4]);break;case 98:I.commit(S[T],S[T-6],S[T-2],S[T-4]);break;case 99:I.commit(S[T],S[T-4],S[T-2],S[T-6]);break;case 100:I.commit(S[T-2],S[T-4],S[T],S[T-6]);break;case 101:I.commit(S[T],S[T-2],S[T-4],S[T-6]);break;case 102:I.commit(S[T-2],S[T],S[T-4],S[T-6]);break;case 103:I.commit(S[T-4],S[T-2],S[T],S[T-6]);break;case 104:I.commit(S[T-4],S[T],S[T-2],S[T-6]);break;case 105:I.commit(S[T-2],S[T-4],S[T-6],S[T]);break;case 106:I.commit(S[T],S[T-4],S[T-6],S[T-2]);break;case 107:I.commit(S[T-2],S[T],S[T-6],S[T-4]);break;case 108:I.commit(S[T],S[T-2],S[T-6],S[T-4]);break;case 109:I.commit(S[T-4],S[T-2],S[T-6],S[T]);break;case 110:I.commit(S[T-4],S[T],S[T-6],S[T-2]);break;case 111:this.$="";break;case 112:this.$=S[T];break;case 113:this.$=I.commitType.NORMAL;break;case 114:this.$=I.commitType.REVERSE;break;case 115:this.$=I.commitType.HIGHLIGHT;break;case 118:I.parseDirective("%%{","open_directive");break;case 119:I.parseDirective(S[T],"type_directive");break;case 120:S[T]=S[T].trim().replace(/'/g,'"'),I.parseDirective(S[T],"arg_directive");break;case 121:I.parseDirective("}%%","close_directive","gitGraph");break}},table:[{3:1,4:2,5:3,6:e,8:s,14:r,46:8,50:o,55:a},{1:[3]},{3:10,4:2,5:3,6:e,8:s,14:r,46:8,50:o,55:a},{3:11,4:2,5:3,6:e,8:s,14:r,46:8,50:o,55:a},{7:12,8:u,9:[1,13],10:[1,14],11:15,14:h},t(d,[2,124]),t(d,[2,125]),t(d,[2,126]),{47:17,51:[1,18]},{51:[2,118]},{1:[2,1]},{1:[2,2]},{8:[1,19]},{7:20,8:u,11:15,14:h},{9:[1,21]},t(y,[2,10],{12:22,13:[1,23]}),t(_,[2,9]),{9:[1,25],48:24,53:v},t([9,53],[2,119]),{1:[2,3]},{8:[1,27]},{7:28,8:u,11:15,14:h},{8:[2,7],14:[1,31],15:29,16:30,17:32,18:33,19:34,20:[1,35],22:[1,36],24:[1,37],25:[1,38],26:39,27:[1,40],29:[1,44],32:[1,43],37:[1,42],40:[1,41]},t(_,[2,8]),t(x,[2,116]),{49:45,52:[1,46]},t(x,[2,121]),{1:[2,4]},{8:[1,47]},t(y,[2,11]),{4:48,8:s,14:r,55:a},t(y,[2,13]),t(k,[2,14]),t(k,[2,15]),t(k,[2,16]),{21:[1,49]},{23:[1,50]},t(k,[2,19]),t(k,[2,20]),t(k,[2,21]),{28:51,34:D,54:M},t(k,[2,111],{41:54,33:[1,57],34:[1,59],35:[1,55],38:[1,56],42:[1,58]}),{28:60,34:D,54:M},{33:[1,61],35:[1,62]},{28:63,34:D,54:M},{48:64,53:v},{53:[2,120]},{1:[2,5]},t(y,[2,12]),t(k,[2,17]),t(k,[2,18]),t(k,[2,22]),t(R,[2,122]),t(R,[2,123]),t(k,[2,46]),{34:[1,65]},{39:66,43:Y,44:V,45:X},{34:[1,70]},{34:[1,71]},t(k,[2,112]),t(k,[2,30],{33:[1,72],35:[1,74],38:[1,73]}),{34:[1,75]},{34:[1,76],36:[1,77]},t(k,[2,23],{30:[1,78]}),t(x,[2,117]),t(k,[2,47],{33:[1,80],38:[1,79],42:[1,81]}),t(k,[2,48],{33:[1,83],35:[1,82],42:[1,84]}),t(J,[2,113]),t(J,[2,114]),t(J,[2,115]),t(k,[2,51],{35:[1,85],38:[1,86],42:[1,87]}),t(k,[2,62],{33:[1,90],35:[1,88],38:[1,89]}),{34:[1,91]},{39:92,43:Y,44:V,45:X},{34:[1,93]},t(k,[2,25],{35:[1,94]}),{33:[1,95]},{33:[1,96]},{31:[1,97]},{39:98,43:Y,44:V,45:X},{34:[1,99]},{34:[1,100]},{34:[1,101]},{34:[1,102]},{34:[1,103]},{34:[1,104]},{39:105,43:Y,44:V,45:X},{34:[1,106]},{34:[1,107]},{39:108,43:Y,44:V,45:X},{34:[1,109]},t(k,[2,31],{35:[1,111],38:[1,110]}),t(k,[2,32],{33:[1,113],35:[1,112]}),t(k,[2,33],{33:[1,114],38:[1,115]}),{34:[1,116],36:[1,117]},{34:[1,118]},{34:[1,119]},t(k,[2,24]),t(k,[2,49],{33:[1,120],42:[1,121]}),t(k,[2,53],{38:[1,122],42:[1,123]}),t(k,[2,63],{33:[1,125],38:[1,124]}),t(k,[2,50],{33:[1,126],42:[1,127]}),t(k,[2,55],{35:[1,128],42:[1,129]}),t(k,[2,66],{33:[1,131],35:[1,130]}),t(k,[2,52],{38:[1,132],42:[1,133]}),t(k,[2,54],{35:[1,134],42:[1,135]}),t(k,[2,67],{35:[1,137],38:[1,136]}),t(k,[2,64],{33:[1,139],38:[1,138]}),t(k,[2,65],{33:[1,141],35:[1,140]}),t(k,[2,68],{35:[1,143],38:[1,142]}),{39:144,43:Y,44:V,45:X},{34:[1,145]},{34:[1,146]},{34:[1,147]},{34:[1,148]},{39:149,43:Y,44:V,45:X},t(k,[2,26]),t(k,[2,27]),t(k,[2,28]),t(k,[2,29]),{34:[1,150]},{34:[1,151]},{39:152,43:Y,44:V,45:X},{34:[1,153]},{39:154,43:Y,44:V,45:X},{34:[1,155]},{34:[1,156]},{34:[1,157]},{34:[1,158]},{34:[1,159]},{34:[1,160]},{34:[1,161]},{39:162,43:Y,44:V,45:X},{34:[1,163]},{34:[1,164]},{34:[1,165]},{39:166,43:Y,44:V,45:X},{34:[1,167]},{39:168,43:Y,44:V,45:X},{34:[1,169]},{34:[1,170]},{34:[1,171]},{39:172,43:Y,44:V,45:X},{34:[1,173]},t(k,[2,37],{35:[1,174]}),t(k,[2,38],{38:[1,175]}),t(k,[2,36],{33:[1,176]}),t(k,[2,39],{35:[1,177]}),t(k,[2,34],{38:[1,178]}),t(k,[2,35],{33:[1,179]}),t(k,[2,60],{42:[1,180]}),t(k,[2,73],{33:[1,181]}),t(k,[2,61],{42:[1,182]}),t(k,[2,84],{38:[1,183]}),t(k,[2,74],{33:[1,184]}),t(k,[2,83],{38:[1,185]}),t(k,[2,59],{42:[1,186]}),t(k,[2,72],{33:[1,187]}),t(k,[2,58],{42:[1,188]}),t(k,[2,78],{35:[1,189]}),t(k,[2,71],{33:[1,190]}),t(k,[2,77],{35:[1,191]}),t(k,[2,57],{42:[1,192]}),t(k,[2,85],{38:[1,193]}),t(k,[2,56],{42:[1,194]}),t(k,[2,79],{35:[1,195]}),t(k,[2,80],{35:[1,196]}),t(k,[2,86],{38:[1,197]}),t(k,[2,70],{33:[1,198]}),t(k,[2,81],{38:[1,199]}),t(k,[2,69],{33:[1,200]}),t(k,[2,75],{35:[1,201]}),t(k,[2,76],{35:[1,202]}),t(k,[2,82],{38:[1,203]}),{34:[1,204]},{39:205,43:Y,44:V,45:X},{34:[1,206]},{34:[1,207]},{39:208,43:Y,44:V,45:X},{34:[1,209]},{34:[1,210]},{34:[1,211]},{34:[1,212]},{39:213,43:Y,44:V,45:X},{34:[1,214]},{39:215,43:Y,44:V,45:X},{34:[1,216]},{34:[1,217]},{34:[1,218]},{34:[1,219]},{34:[1,220]},{34:[1,221]},{34:[1,222]},{39:223,43:Y,44:V,45:X},{34:[1,224]},{34:[1,225]},{34:[1,226]},{39:227,43:Y,44:V,45:X},{34:[1,228]},{39:229,43:Y,44:V,45:X},{34:[1,230]},{34:[1,231]},{34:[1,232]},{39:233,43:Y,44:V,45:X},t(k,[2,40]),t(k,[2,42]),t(k,[2,41]),t(k,[2,43]),t(k,[2,45]),t(k,[2,44]),t(k,[2,101]),t(k,[2,102]),t(k,[2,99]),t(k,[2,100]),t(k,[2,104]),t(k,[2,103]),t(k,[2,108]),t(k,[2,107]),t(k,[2,106]),t(k,[2,105]),t(k,[2,110]),t(k,[2,109]),t(k,[2,98]),t(k,[2,97]),t(k,[2,96]),t(k,[2,95]),t(k,[2,93]),t(k,[2,94]),t(k,[2,92]),t(k,[2,91]),t(k,[2,90]),t(k,[2,89]),t(k,[2,87]),t(k,[2,88])],defaultActions:{9:[2,118],10:[2,1],11:[2,2],19:[2,3],27:[2,4],46:[2,120],47:[2,5]},parseError:function(j,W){if(W.recoverable)this.trace(j);else{var $=new Error(j);throw $.hash=W,$}},parse:function(j){var W=this,$=[0],I=[],H=[null],S=[],yt=this.table,T="",Dt=0,ce=0,Gt=2,ut=1,Et=S.slice.call(arguments,1),bt=Object.create(this.lexer),xt={yy:{}};for(var Tt in this.yy)Object.prototype.hasOwnProperty.call(this.yy,Tt)&&(xt.yy[Tt]=this.yy[Tt]);bt.setInput(j,xt.yy),xt.yy.lexer=bt,xt.yy.parser=this,typeof bt.yylloc>"u"&&(bt.yylloc={});var Wt=bt.yylloc;S.push(Wt);var dt=bt.options&&bt.options.ranges;typeof xt.yy.parseError=="function"?this.parseError=xt.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function ve(){var Be;return Be=I.pop()||bt.lex()||ut,typeof Be!="number"&&(Be instanceof Array&&(I=Be,Be=I.pop()),Be=W.symbols_[Be]||Be),Be}for(var et,st,pt,Z,q={},U,mt,N,Lt;;){if(st=$[$.length-1],this.defaultActions[st]?pt=this.defaultActions[st]:((et===null||typeof et>"u")&&(et=ve()),pt=yt[st]&&yt[st][et]),typeof pt>"u"||!pt.length||!pt[0]){var nt="";Lt=[];for(U in yt[st])this.terminals_[U]&&U>Gt&&Lt.push("'"+this.terminals_[U]+"'");bt.showPosition?nt="Parse error on line "+(Dt+1)+`:
`+bt.showPosition()+`
Expecting `+Lt.join(", ")+", got '"+(this.terminals_[et]||et)+"'":nt="Parse error on line "+(Dt+1)+": Unexpected "+(et==ut?"end of input":"'"+(this.terminals_[et]||et)+"'"),this.parseError(nt,{text:bt.match,token:this.terminals_[et]||et,line:bt.yylineno,loc:Wt,expected:Lt})}if(pt[0]instanceof Array&&pt.length>1)throw new Error("Parse Error: multiple actions possible at state: "+st+", token: "+et);switch(pt[0]){case 1:$.push(et),H.push(bt.yytext),S.push(bt.yylloc),$.push(pt[1]),et=null,ce=bt.yyleng,T=bt.yytext,Dt=bt.yylineno,Wt=bt.yylloc;break;case 2:if(mt=this.productions_[pt[1]][1],q.$=H[H.length-mt],q._$={first_line:S[S.length-(mt||1)].first_line,last_line:S[S.length-1].last_line,first_column:S[S.length-(mt||1)].first_column,last_column:S[S.length-1].last_column},dt&&(q._$.range=[S[S.length-(mt||1)].range[0],S[S.length-1].range[1]]),Z=this.performAction.apply(q,[T,ce,Dt,xt.yy,pt[1],H,S].concat(Et)),typeof Z<"u")return Z;mt&&($=$.slice(0,-1*mt*2),H=H.slice(0,-1*mt),S=S.slice(0,-1*mt)),$.push(this.productions_[pt[1]][0]),H.push(q.$),S.push(q._$),N=yt[$[$.length-2]][$[$.length-1]],$.push(N);break;case 3:return!0}}return!0}},lt=function(){var it={EOF:1,parseError:function(W,$){if(this.yy.parser)this.yy.parser.parseError(W,$);else throw new Error(W)},setInput:function(j,W){return this.yy=W||this.yy||{},this._input=j,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var j=this._input[0];this.yytext+=j,this.yyleng++,this.offset++,this.match+=j,this.matched+=j;var W=j.match(/(?:\r\n?|\n).*/g);return W?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),j},unput:function(j){var W=j.length,$=j.split(/(?:\r\n?|\n)/g);this._input=j+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-W),this.offset-=W;var I=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),$.length-1&&(this.yylineno-=$.length-1);var H=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:$?($.length===I.length?this.yylloc.first_column:0)+I[I.length-$.length].length-$[0].length:this.yylloc.first_column-W},this.options.ranges&&(this.yylloc.range=[H[0],H[0]+this.yyleng-W]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(j){this.unput(this.match.slice(j))},pastInput:function(){var j=this.matched.substr(0,this.matched.length-this.match.length);return(j.length>20?"...":"")+j.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var j=this.match;return j.length<20&&(j+=this._input.substr(0,20-j.length)),(j.substr(0,20)+(j.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var j=this.pastInput(),W=new Array(j.length+1).join("-");return j+this.upcomingInput()+`
`+W+"^"},test_match:function(j,W){var $,I,H;if(this.options.backtrack_lexer&&(H={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(H.yylloc.range=this.yylloc.range.slice(0))),I=j[0].match(/(?:\r\n?|\n).*/g),I&&(this.yylineno+=I.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:I?I[I.length-1].length-I[I.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+j[0].length},this.yytext+=j[0],this.match+=j[0],this.matches=j,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(j[0].length),this.matched+=j[0],$=this.performAction.call(this,this.yy,this,W,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),$)return $;if(this._backtrack){for(var S in H)this[S]=H[S];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var j,W,$,I;this._more||(this.yytext="",this.match="");for(var H=this._currentRules(),S=0;S<H.length;S++)if($=this._input.match(this.rules[H[S]]),$&&(!W||$[0].length>W[0].length)){if(W=$,I=S,this.options.backtrack_lexer){if(j=this.test_match($,H[S]),j!==!1)return j;if(this._backtrack){W=!1;continue}else return!1}else if(!this.options.flex)break}return W?(j=this.test_match(W,H[I]),j!==!1?j:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var W=this.next();return W||this.lex()},begin:function(W){this.conditionStack.push(W)},popState:function(){var W=this.conditionStack.length-1;return W>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(W){return W=this.conditionStack.length-1-Math.abs(W||0),W>=0?this.conditionStack[W]:"INITIAL"},pushState:function(W){this.begin(W)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(W,$,I,H){switch(I){case 0:return this.begin("open_directive"),50;case 1:return this.begin("type_directive"),51;case 2:return this.popState(),this.begin("arg_directive"),9;case 3:return this.popState(),this.popState(),53;case 4:return 52;case 5:return this.begin("acc_title"),20;case 6:return this.popState(),"acc_title_value";case 7:return this.begin("acc_descr"),22;case 8:return this.popState(),"acc_descr_value";case 9:this.begin("acc_descr_multiline");break;case 10:this.popState();break;case 11:return"acc_descr_multiline_value";case 12:return 14;case 13:break;case 14:break;case 15:return 6;case 16:return 40;case 17:return 33;case 18:return 38;case 19:return 42;case 20:return 43;case 21:return 44;case 22:return 45;case 23:return 35;case 24:return 29;case 25:return 30;case 26:return 37;case 27:return 32;case 28:return 27;case 29:return 10;case 30:return 10;case 31:return 9;case 32:return"CARET";case 33:this.begin("options");break;case 34:this.popState();break;case 35:return 13;case 36:return 36;case 37:this.begin("string");break;case 38:this.popState();break;case 39:return 34;case 40:return 31;case 41:return 54;case 42:return 8}},rules:[/^(?:%%\{)/i,/^(?:((?:(?!\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\}%%)/i,/^(?:((?:(?!\}%%).|\n)*))/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:(\r?\n)+)/i,/^(?:#[^\n]*)/i,/^(?:%[^\n]*)/i,/^(?:gitGraph\b)/i,/^(?:commit(?=\s|$))/i,/^(?:id:)/i,/^(?:type:)/i,/^(?:msg:)/i,/^(?:NORMAL\b)/i,/^(?:REVERSE\b)/i,/^(?:HIGHLIGHT\b)/i,/^(?:tag:)/i,/^(?:branch(?=\s|$))/i,/^(?:order:)/i,/^(?:merge(?=\s|$))/i,/^(?:cherry-pick(?=\s|$))/i,/^(?:checkout(?=\s|$))/i,/^(?:LR\b)/i,/^(?:BT\b)/i,/^(?::)/i,/^(?:\^)/i,/^(?:options\r?\n)/i,/^(?:[ \r\n\t]+end\b)/i,/^(?:[\s\S]+(?=[ \r\n\t]+end))/i,/^(?:["]["])/i,/^(?:["])/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:[0-9]+(?=\s|$))/i,/^(?:\w([-\./\w]*[-\w])?)/i,/^(?:$)/i,/^(?:\s+)/i],conditions:{acc_descr_multiline:{rules:[10,11],inclusive:!1},acc_descr:{rules:[8],inclusive:!1},acc_title:{rules:[6],inclusive:!1},close_directive:{rules:[],inclusive:!1},arg_directive:{rules:[3,4],inclusive:!1},type_directive:{rules:[2,3],inclusive:!1},open_directive:{rules:[1],inclusive:!1},options:{rules:[34,35],inclusive:!1},string:{rules:[38,39],inclusive:!1},INITIAL:{rules:[0,5,7,9,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,36,37,40,41,42,43],inclusive:!0}}};return it}();rt.lexer=lt;function tt(){this.yy={}}return tt.prototype=rt,rt.Parser=tt,new tt}();hg.parser=hg;const HM=hg,jM=t=>t.match(/^\s*gitGraph/)!==null;let pg="",Bf="",dg="";const fg=t=>Pi(t,ht()),zi=function(){pg="",dg="",Bf=""},Ai=function(t){pg=fg(t).replace(/^\s+/g,"")},Wi=function(){return pg||Bf},Hi=function(t){dg=fg(t).replace(/\n\s+/g,`
`)},ji=function(){return dg},Qo=function(t){Bf=fg(t)},Jo=function(){return Bf};let Sf=ht().gitGraph.mainBranchName,GM=ht().gitGraph.mainBranchOrder,er={},Vr=null,Ih={};Ih[Sf]={name:Sf,order:GM};let Ws={};Ws[Sf]=Vr;let fr=Sf,bv="LR",Ul=0;function yg(){return j_({length:7})}const qM=function(t,e,s){Bs.parseDirective(this,t,e,s)};function XM(t,e){const s=Object.create(null);return t.reduce((r,o)=>{const a=e(o);return s[a]||(s[a]=!0,r.push(o)),r},[])}const KM=function(t){bv=t};let xv={};const ZM=function(t){w.debug("options str",t),t=t&&t.trim(),t=t||"{}";try{xv=JSON.parse(t)}catch(e){w.error("error while parsing gitGraph options",e.message)}},QM=function(){return xv},JM=function(t,e,s,r){w.debug("Entering commit:",t,e,s,r),e=vn.sanitizeText(e,ht()),t=vn.sanitizeText(t,ht()),r=vn.sanitizeText(r,ht());const o={id:e||Ul+"-"+yg(),message:t,seq:Ul++,type:s||Mh.NORMAL,tag:r||"",parents:Vr==null?[]:[Vr.id],branch:fr};Vr=o,er[o.id]=o,Ws[fr]=o.id,w.debug("in pushCommit "+o.id)},tR=function(t,e){if(t=vn.sanitizeText(t,ht()),Ws[t]===void 0)Ws[t]=Vr!=null?Vr.id:null,Ih[t]={name:t,order:e?parseInt(e,10):null},kv(t),w.debug("in createBranch");else{let s=new Error('Trying to create an existing branch. (Help: Either use a new name if you want create a new branch or try using "checkout '+t+'")');throw s.hash={text:"branch "+t,token:"branch "+t,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:['"checkout '+t+'"']},s}},eR=function(t,e,s,r){t=vn.sanitizeText(t,ht()),e=vn.sanitizeText(e,ht());const o=er[Ws[fr]],a=er[Ws[t]];if(fr===t){let h=new Error('Incorrect usage of "merge". Cannot merge a branch to itself');throw h.hash={text:"merge "+t,token:"merge "+t,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["branch abc"]},h}else if(o===void 0||!o){let h=new Error('Incorrect usage of "merge". Current branch ('+fr+")has no commits");throw h.hash={text:"merge "+t,token:"merge "+t,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["commit"]},h}else if(Ws[t]===void 0){let h=new Error('Incorrect usage of "merge". Branch to be merged ('+t+") does not exist");throw h.hash={text:"merge "+t,token:"merge "+t,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["branch "+t]},h}else if(a===void 0||!a){let h=new Error('Incorrect usage of "merge". Branch to be merged ('+t+") has no commits");throw h.hash={text:"merge "+t,token:"merge "+t,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:['"commit"']},h}else if(o===a){let h=new Error('Incorrect usage of "merge". Both branches have same head');throw h.hash={text:"merge "+t,token:"merge "+t,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["branch abc"]},h}else if(e&&er[e]!==void 0){let h=new Error('Incorrect usage of "merge". Commit with id:'+e+" already exists, use different custom Id");throw h.hash={text:"merge "+t+e+s+r,token:"merge "+t+e+s+r,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["merge "+t+" "+e+"_UNIQUE "+s+" "+r]},h}const u={id:e||Ul+"-"+yg(),message:"merged branch "+t+" into "+fr,seq:Ul++,parents:[Vr==null?null:Vr.id,Ws[t]],branch:fr,type:Mh.MERGE,customType:s,customId:!!e,tag:r||""};Vr=u,er[u.id]=u,Ws[fr]=u.id,w.debug(Ws),w.debug("in mergeBranch")},nR=function(t,e,s){if(w.debug("Entering cherryPick:",t,e,s),t=vn.sanitizeText(t,ht()),e=vn.sanitizeText(e,ht()),s=vn.sanitizeText(s,ht()),!t||er[t]===void 0){let a=new Error('Incorrect usage of "cherryPick". Source commit id should exist and provided');throw a.hash={text:"cherryPick "+t+" "+e,token:"cherryPick "+t+" "+e,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["cherry-pick abc"]},a}let r=er[t],o=r.branch;if(r.type===Mh.MERGE){let a=new Error('Incorrect usage of "cherryPick". Source commit should not be a merge commit');throw a.hash={text:"cherryPick "+t+" "+e,token:"cherryPick "+t+" "+e,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["cherry-pick abc"]},a}if(!e||er[e]===void 0){if(o===fr){let h=new Error('Incorrect usage of "cherryPick". Source commit is already on current branch');throw h.hash={text:"cherryPick "+t+" "+e,token:"cherryPick "+t+" "+e,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["cherry-pick abc"]},h}const a=er[Ws[fr]];if(a===void 0||!a){let h=new Error('Incorrect usage of "cherry-pick". Current branch ('+fr+")has no commits");throw h.hash={text:"cherryPick "+t+" "+e,token:"cherryPick "+t+" "+e,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["cherry-pick abc"]},h}const u={id:Ul+"-"+yg(),message:"cherry-picked "+r+" into "+fr,seq:Ul++,parents:[Vr==null?null:Vr.id,r.id],branch:fr,type:Mh.CHERRY_PICK,tag:s??"cherry-pick:"+r.id};Vr=u,er[u.id]=u,Ws[fr]=u.id,w.debug(Ws),w.debug("in cherryPick")}},kv=function(t){if(t=vn.sanitizeText(t,ht()),Ws[t]===void 0){let e=new Error('Trying to checkout branch which is not yet created. (Help try using "branch '+t+'")');throw e.hash={text:"checkout "+t,token:"checkout "+t,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:['"branch '+t+'"']},e}else{fr=t;const e=Ws[fr];Vr=er[e]}};function Cv(t,e,s){const r=t.indexOf(e);r===-1?t.push(s):t.splice(r,1,s)}function Av(t){const e=t.reduce((o,a)=>o.seq>a.seq?o:a,t[0]);let s="";t.forEach(function(o){o===e?s+="	*":s+="	|"});const r=[s,e.id,e.seq];for(let o in Ws)Ws[o]===e.id&&r.push(o);if(w.debug(r.join(" ")),e.parents&&e.parents.length==2){const o=er[e.parents[0]];Cv(t,e,o),t.push(er[e.parents[1]])}else{if(e.parents.length==0)return;{const o=er[e.parents];Cv(t,e,o)}}t=XM(t,o=>o.id),Av(t)}const sR=function(){w.debug(er);const t=wv()[0];Av([t])},rR=function(){er={},Vr=null;let t=ht().gitGraph.mainBranchName,e=ht().gitGraph.mainBranchOrder;Ws={},Ws[t]=null,Ih={},Ih[t]={name:t,order:e},fr=t,Ul=0,zi()},iR=function(){return Object.values(Ih).map((e,s)=>e.order!==null?e:{...e,order:parseFloat(`0.${s}`,10)}).sort((e,s)=>e.order-s.order).map(({name:e})=>({name:e}))},oR=function(){return Ws},aR=function(){return er},wv=function(){const t=Object.keys(er).map(function(e){return er[e]});return t.forEach(function(e){w.debug(e.id)}),t.sort((e,s)=>e.seq-s.seq),t},lR=function(){return fr},cR=function(){return bv},uR=function(){return Vr},Mh={NORMAL:0,REVERSE:1,HIGHLIGHT:2,MERGE:3,CHERRY_PICK:4},hR={parseDirective:qM,getConfig:()=>ht().gitGraph,setDirection:KM,setOptions:ZM,getOptions:QM,commit:JM,branch:tR,merge:eR,cherryPick:nR,checkout:kv,prettyPrint:sR,clear:rR,getBranchesAsObjArray:iR,getBranches:oR,getCommits:aR,getCommitsArray:wv,getCurrentBranch:lR,getDirection:cR,getHead:uR,setAccTitle:Ai,getAccTitle:Wi,getAccDescription:ji,setAccDescription:Hi,setDiagramTitle:Qo,getDiagramTitle:Jo,commitType:Mh};let Rh={};const oi={NORMAL:0,REVERSE:1,HIGHLIGHT:2,MERGE:3,CHERRY_PICK:4},zl=8;let Kr={},Tf={},Df=[],Ff=0;const pR=()=>{Kr={},Tf={},Rh={},Ff=0,Df=[]},dR=t=>{const e=document.createElementNS("http://www.w3.org/2000/svg","text");let s=[];typeof t=="string"?s=t.split(/\\n|\n|<br\s*\/?>/gi):Array.isArray(t)?s=t:s=[];for(const r of s){const o=document.createElementNS("http://www.w3.org/2000/svg","tspan");o.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),o.setAttribute("dy","1em"),o.setAttribute("x","0"),o.setAttribute("class","row"),o.textContent=r.trim(),e.appendChild(o)}return e},Ev=(t,e,s)=>{const r=Lh().gitGraph,o=t.append("g").attr("class","commit-bullets"),a=t.append("g").attr("class","commit-labels");let u=0;Object.keys(e).sort((y,_)=>e[y].seq-e[_].seq).forEach(y=>{const _=e[y],v=Kr[_.branch].pos,x=u+10;if(s){let k,D=_.customType!==void 0&&_.customType!==""?_.customType:_.type;switch(D){case oi.NORMAL:k="commit-normal";break;case oi.REVERSE:k="commit-reverse";break;case oi.HIGHLIGHT:k="commit-highlight";break;case oi.MERGE:k="commit-merge";break;case oi.CHERRY_PICK:k="commit-cherry-pick";break;default:k="commit-normal"}if(D===oi.HIGHLIGHT){const M=o.append("rect");M.attr("x",x-10),M.attr("y",v-10),M.attr("height",20),M.attr("width",20),M.attr("class",`commit ${_.id} commit-highlight${Kr[_.branch].index%zl} ${k}-outer`),o.append("rect").attr("x",x-6).attr("y",v-6).attr("height",12).attr("width",12).attr("class",`commit ${_.id} commit${Kr[_.branch].index%zl} ${k}-inner`)}else if(D===oi.CHERRY_PICK)o.append("circle").attr("cx",x).attr("cy",v).attr("r",10).attr("class",`commit ${_.id} ${k}`),o.append("circle").attr("cx",x-3).attr("cy",v+2).attr("r",2.75).attr("fill","#fff").attr("class",`commit ${_.id} ${k}`),o.append("circle").attr("cx",x+3).attr("cy",v+2).attr("r",2.75).attr("fill","#fff").attr("class",`commit ${_.id} ${k}`),o.append("line").attr("x1",x+3).attr("y1",v+1).attr("x2",x).attr("y2",v-5).attr("stroke","#fff").attr("class",`commit ${_.id} ${k}`),o.append("line").attr("x1",x-3).attr("y1",v+1).attr("x2",x).attr("y2",v-5).attr("stroke","#fff").attr("class",`commit ${_.id} ${k}`);else{const M=o.append("circle");if(M.attr("cx",x),M.attr("cy",v),M.attr("r",_.type===oi.MERGE?9:10),M.attr("class",`commit ${_.id} commit${Kr[_.branch].index%zl}`),D===oi.MERGE){const R=o.append("circle");R.attr("cx",x),R.attr("cy",v),R.attr("r",6),R.attr("class",`commit ${k} ${_.id} commit${Kr[_.branch].index%zl}`)}D===oi.REVERSE&&o.append("path").attr("d",`M ${x-5},${v-5}L${x+5},${v+5}M${x-5},${v+5}L${x+5},${v-5}`).attr("class",`commit ${k} ${_.id} commit${Kr[_.branch].index%zl}`)}}if(Tf[_.id]={x:u+10,y:v},s){if(_.type!==oi.CHERRY_PICK&&(_.customId&&_.type===oi.MERGE||_.type!==oi.MERGE)&&r.showCommitLabel){const M=a.append("g"),R=M.insert("rect").attr("class","commit-label-bkg"),Y=M.append("text").attr("x",u).attr("y",v+25).attr("class","commit-label").text(_.id);let V=Y.node().getBBox();if(R.attr("x",u+10-V.width/2-2).attr("y",v+13.5).attr("width",V.width+2*2).attr("height",V.height+2*2),Y.attr("x",u+10-V.width/2),r.rotateCommitLabel){let X=-7.5-(V.width+10)/25*9.5,J=10+V.width/25*8.5;M.attr("transform","translate("+X+", "+J+") rotate("+-45+", "+u+", "+v+")")}}if(_.tag){const M=a.insert("polygon"),R=a.append("circle"),Y=a.append("text").attr("y",v-16).attr("class","tag-label").text(_.tag);let V=Y.node().getBBox();Y.attr("x",u+10-V.width/2);const X=V.height/2,J=v-19.2;M.attr("class","tag-label-bkg").attr("points",`
          ${u-V.width/2-4/2},${J+2}
          ${u-V.width/2-4/2},${J-2}
          ${u+10-V.width/2-4},${J-X-2}
          ${u+10+V.width/2+4},${J-X-2}
          ${u+10+V.width/2+4},${J+X+2}
          ${u+10-V.width/2-4},${J+X+2}`),R.attr("cx",u-V.width/2+4/2).attr("cy",J).attr("r",1.5).attr("class","tag-hole")}}u+=50,u>Ff&&(Ff=u)})},fR=(t,e,s)=>Object.keys(s).filter(a=>s[a].branch===e.branch&&s[a].seq>t.seq&&s[a].seq<e.seq).length>0,gg=(t,e,s=0)=>{const r=t+Math.abs(t-e)/2;if(s>5)return r;if(Df.every(u=>Math.abs(u-r)>=10))return Df.push(r),r;const a=Math.abs(t-e);return gg(t,e-a/5,s+1)},yR=(t,e,s,r)=>{const o=Tf[e.id],a=Tf[s.id],u=fR(e,s,r);let h="",d="",y=0,_=0,v=Kr[s.branch].index,x;if(u){h="A 10 10, 0, 0, 0,",d="A 10 10, 0, 0, 1,",y=10,_=10,v=Kr[s.branch].index;const k=o.y<a.y?gg(o.y,a.y):gg(a.y,o.y);o.y<a.y?x=`M ${o.x} ${o.y} L ${o.x} ${k-y} ${h} ${o.x+_} ${k} L ${a.x-y} ${k} ${d} ${a.x} ${k+_} L ${a.x} ${a.y}`:x=`M ${o.x} ${o.y} L ${o.x} ${k+y} ${d} ${o.x+_} ${k} L ${a.x-y} ${k} ${h} ${a.x} ${k-_} L ${a.x} ${a.y}`}else o.y<a.y&&(h="A 20 20, 0, 0, 0,",y=20,_=20,v=Kr[s.branch].index,x=`M ${o.x} ${o.y} L ${o.x} ${a.y-y} ${h} ${o.x+_} ${a.y} L ${a.x} ${a.y}`),o.y>a.y&&(h="A 20 20, 0, 0, 0,",y=20,_=20,v=Kr[e.branch].index,x=`M ${o.x} ${o.y} L ${a.x-y} ${o.y} ${h} ${a.x} ${o.y-_} L ${a.x} ${a.y}`),o.y===a.y&&(v=Kr[e.branch].index,x=`M ${o.x} ${o.y} L ${o.x} ${a.y-y} ${h} ${o.x+_} ${a.y} L ${a.x} ${a.y}`);t.append("path").attr("d",x).attr("class","arrow arrow"+v%zl)},gR=(t,e)=>{const s=t.append("g").attr("class","commit-arrows");Object.keys(e).forEach(r=>{const o=e[r];o.parents&&o.parents.length>0&&o.parents.forEach(a=>{yR(s,e[a],o,e)})})},mR=(t,e)=>{const s=Lh().gitGraph,r=t.append("g");e.forEach((o,a)=>{const u=a%zl,h=Kr[o.name].pos,d=r.append("line");d.attr("x1",0),d.attr("y1",h),d.attr("x2",Ff),d.attr("y2",h),d.attr("class","branch branch"+u),Df.push(h);let y=o.name;const _=dR(y),v=r.insert("rect"),k=r.insert("g").attr("class","branchLabel").insert("g").attr("class","label branch-label"+u);k.node().appendChild(_);let D=_.getBBox();v.attr("class","branchLabelBkg label"+u).attr("rx",4).attr("ry",4).attr("x",-D.width-4-(s.rotateCommitLabel===!0?30:0)).attr("y",-D.height/2+8).attr("width",D.width+18).attr("height",D.height+4),k.attr("transform","translate("+(-D.width-14-(s.rotateCommitLabel===!0?30:0))+", "+(h-D.height/2-1)+")"),v.attr("transform","translate("+-19+", "+(h-D.height/2)+")")})},_R={draw:function(t,e,s,r){var o;pR();const a=Lh(),u=a.gitGraph;w.debug("in gitgraph renderer",t+`
`,"id:",e,s),Rh=r.db.getCommits();const h=r.db.getBranchesAsObjArray();let d=0;h.forEach((_,v)=>{Kr[_.name]={pos:d,index:v},d+=50+(u.rotateCommitLabel?40:0)});const y=ee(`[id="${e}"]`);Ev(y,Rh,!1),u.showBranches&&mR(y,h),gR(y,Rh),Ev(y,Rh,!0),wn.insertTitle(y,"gitTitleText",u.titleTopMargin,r.db.getDiagramTitle()),_v(void 0,y,u.diagramPadding,(o=u.useMaxWidth)!=null?o:a.useMaxWidth)}},vR=t=>`
  .commit-id,
  .commit-msg,
  .branch-label {
    fill: lightgrey;
    color: lightgrey;
    font-family: 'trebuchet ms', verdana, arial, sans-serif;
    font-family: var(--mermaid-font-family);
  }
  ${[0,1,2,3,4,5,6,7].map(e=>`
        .branch-label${e} { fill: ${t["gitBranchLabel"+e]}; }
        .commit${e} { stroke: ${t["git"+e]}; fill: ${t["git"+e]}; }
        .commit-highlight${e} { stroke: ${t["gitInv"+e]}; fill: ${t["gitInv"+e]}; }
        .label${e}  { fill: ${t["git"+e]}; }
        .arrow${e} { stroke: ${t["git"+e]}; }
        `).join(`
`)}

  .branch {
    stroke-width: 1;
    stroke: ${t.lineColor};
    stroke-dasharray: 2;
  }
  .commit-label { font-size: ${t.commitLabelFontSize}; fill: ${t.commitLabelColor};}
  .commit-label-bkg { font-size: ${t.commitLabelFontSize}; fill: ${t.commitLabelBackground}; opacity: 0.5; }
  .tag-label { font-size: ${t.tagLabelFontSize}; fill: ${t.tagLabelColor};}
  .tag-label-bkg { fill: ${t.tagLabelBackground}; stroke: ${t.tagLabelBorder}; }
  .tag-hole { fill: ${t.textColor}; }

  .commit-merge {
    stroke: ${t.primaryColor};
    fill: ${t.primaryColor};
  }
  .commit-reverse {
    stroke: ${t.primaryColor};
    fill: ${t.primaryColor};
    stroke-width: 3;
  }
  .commit-highlight-outer {
  }
  .commit-highlight-inner {
    stroke: ${t.primaryColor};
    fill: ${t.primaryColor};
  }

  .arrow { stroke-width: 8; stroke-linecap: round; fill: none}
  .gitTitleText {
    text-anchor: middle;
    font-size: 18px;
    fill: ${t.textColor};
  }
  }
`;var Lf=function(){var t=function(we,Ht,Rt,ae){for(Rt=Rt||{},ae=we.length;ae--;Rt[we[ae]]=Ht);return Rt},e=[1,6],s=[1,7],r=[1,8],o=[1,9],a=[1,16],u=[1,11],h=[1,12],d=[1,13],y=[1,14],_=[1,15],v=[1,27],x=[1,33],k=[1,34],D=[1,35],M=[1,36],R=[1,37],Y=[1,72],V=[1,73],X=[1,74],J=[1,75],rt=[1,76],lt=[1,77],tt=[1,78],it=[1,38],j=[1,39],W=[1,40],$=[1,41],I=[1,42],H=[1,43],S=[1,44],yt=[1,45],T=[1,46],Dt=[1,47],ce=[1,48],Gt=[1,49],ut=[1,50],Et=[1,51],bt=[1,52],xt=[1,53],Tt=[1,54],Wt=[1,55],dt=[1,56],ve=[1,57],et=[1,59],st=[1,60],pt=[1,61],Z=[1,62],q=[1,63],U=[1,64],mt=[1,65],N=[1,66],Lt=[1,67],nt=[1,68],Be=[1,69],vt=[24,52],de=[24,44,46,47,48,49,50,51,52,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84],Xt=[15,24,44,46,47,48,49,50,51,52,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84],Nt=[1,94],Qt=[1,95],qt=[1,96],Ot=[1,97],Ct=[15,24,52],gn=[7,8,9,10,18,22,25,26,27,28],We=[15,24,43,52],Ue=[15,24,43,52,86,87,89,90],je=[15,43],Oe=[44,46,47,48,49,50,51,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84],zn={trace:function(){},yy:{},symbols_:{error:2,start:3,mermaidDoc:4,direction:5,directive:6,direction_tb:7,direction_bt:8,direction_rl:9,direction_lr:10,graphConfig:11,openDirective:12,typeDirective:13,closeDirective:14,NEWLINE:15,":":16,argDirective:17,open_directive:18,type_directive:19,arg_directive:20,close_directive:21,C4_CONTEXT:22,statements:23,EOF:24,C4_CONTAINER:25,C4_COMPONENT:26,C4_DYNAMIC:27,C4_DEPLOYMENT:28,otherStatements:29,diagramStatements:30,otherStatement:31,title:32,accDescription:33,acc_title:34,acc_title_value:35,acc_descr:36,acc_descr_value:37,acc_descr_multiline_value:38,boundaryStatement:39,boundaryStartStatement:40,boundaryStopStatement:41,boundaryStart:42,LBRACE:43,ENTERPRISE_BOUNDARY:44,attributes:45,SYSTEM_BOUNDARY:46,BOUNDARY:47,CONTAINER_BOUNDARY:48,NODE:49,NODE_L:50,NODE_R:51,RBRACE:52,diagramStatement:53,PERSON:54,PERSON_EXT:55,SYSTEM:56,SYSTEM_DB:57,SYSTEM_QUEUE:58,SYSTEM_EXT:59,SYSTEM_EXT_DB:60,SYSTEM_EXT_QUEUE:61,CONTAINER:62,CONTAINER_DB:63,CONTAINER_QUEUE:64,CONTAINER_EXT:65,CONTAINER_EXT_DB:66,CONTAINER_EXT_QUEUE:67,COMPONENT:68,COMPONENT_DB:69,COMPONENT_QUEUE:70,COMPONENT_EXT:71,COMPONENT_EXT_DB:72,COMPONENT_EXT_QUEUE:73,REL:74,BIREL:75,REL_U:76,REL_D:77,REL_L:78,REL_R:79,REL_B:80,REL_INDEX:81,UPDATE_EL_STYLE:82,UPDATE_REL_STYLE:83,UPDATE_LAYOUT_CONFIG:84,attribute:85,STR:86,STR_KEY:87,STR_VALUE:88,ATTRIBUTE:89,ATTRIBUTE_EMPTY:90,$accept:0,$end:1},terminals_:{2:"error",7:"direction_tb",8:"direction_bt",9:"direction_rl",10:"direction_lr",15:"NEWLINE",16:":",18:"open_directive",19:"type_directive",20:"arg_directive",21:"close_directive",22:"C4_CONTEXT",24:"EOF",25:"C4_CONTAINER",26:"C4_COMPONENT",27:"C4_DYNAMIC",28:"C4_DEPLOYMENT",32:"title",33:"accDescription",34:"acc_title",35:"acc_title_value",36:"acc_descr",37:"acc_descr_value",38:"acc_descr_multiline_value",43:"LBRACE",44:"ENTERPRISE_BOUNDARY",46:"SYSTEM_BOUNDARY",47:"BOUNDARY",48:"CONTAINER_BOUNDARY",49:"NODE",50:"NODE_L",51:"NODE_R",52:"RBRACE",54:"PERSON",55:"PERSON_EXT",56:"SYSTEM",57:"SYSTEM_DB",58:"SYSTEM_QUEUE",59:"SYSTEM_EXT",60:"SYSTEM_EXT_DB",61:"SYSTEM_EXT_QUEUE",62:"CONTAINER",63:"CONTAINER_DB",64:"CONTAINER_QUEUE",65:"CONTAINER_EXT",66:"CONTAINER_EXT_DB",67:"CONTAINER_EXT_QUEUE",68:"COMPONENT",69:"COMPONENT_DB",70:"COMPONENT_QUEUE",71:"COMPONENT_EXT",72:"COMPONENT_EXT_DB",73:"COMPONENT_EXT_QUEUE",74:"REL",75:"BIREL",76:"REL_U",77:"REL_D",78:"REL_L",79:"REL_R",80:"REL_B",81:"REL_INDEX",82:"UPDATE_EL_STYLE",83:"UPDATE_REL_STYLE",84:"UPDATE_LAYOUT_CONFIG",86:"STR",87:"STR_KEY",88:"STR_VALUE",89:"ATTRIBUTE",90:"ATTRIBUTE_EMPTY"},productions_:[0,[3,1],[3,1],[3,2],[5,1],[5,1],[5,1],[5,1],[4,1],[6,4],[6,6],[12,1],[13,1],[17,1],[14,1],[11,4],[11,4],[11,4],[11,4],[11,4],[23,1],[23,1],[23,2],[29,1],[29,2],[29,3],[31,1],[31,1],[31,2],[31,2],[31,1],[39,3],[40,3],[40,3],[40,4],[42,2],[42,2],[42,2],[42,2],[42,2],[42,2],[42,2],[41,1],[30,1],[30,2],[30,3],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,1],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[45,1],[45,2],[85,1],[85,2],[85,1],[85,1]],performAction:function(Ht,Rt,ae,Ut,Te,wt,cn){var Mt=wt.length-1;switch(Te){case 4:Ut.setDirection("TB");break;case 5:Ut.setDirection("BT");break;case 6:Ut.setDirection("RL");break;case 7:Ut.setDirection("LR");break;case 11:Ut.parseDirective("%%{","open_directive");break;case 12:break;case 13:wt[Mt]=wt[Mt].trim().replace(/'/g,'"'),Ut.parseDirective(wt[Mt],"arg_directive");break;case 14:Ut.parseDirective("}%%","close_directive","c4Context");break;case 15:case 16:case 17:case 18:case 19:Ut.setC4Type(wt[Mt-3]);break;case 26:Ut.setTitle(wt[Mt].substring(6)),this.$=wt[Mt].substring(6);break;case 27:Ut.setAccDescription(wt[Mt].substring(15)),this.$=wt[Mt].substring(15);break;case 28:this.$=wt[Mt].trim(),Ut.setTitle(this.$);break;case 29:case 30:this.$=wt[Mt].trim(),Ut.setAccDescription(this.$);break;case 35:case 36:wt[Mt].splice(2,0,"ENTERPRISE"),Ut.addPersonOrSystemBoundary(...wt[Mt]),this.$=wt[Mt];break;case 37:Ut.addPersonOrSystemBoundary(...wt[Mt]),this.$=wt[Mt];break;case 38:wt[Mt].splice(2,0,"CONTAINER"),Ut.addContainerBoundary(...wt[Mt]),this.$=wt[Mt];break;case 39:Ut.addDeploymentNode("node",...wt[Mt]),this.$=wt[Mt];break;case 40:Ut.addDeploymentNode("nodeL",...wt[Mt]),this.$=wt[Mt];break;case 41:Ut.addDeploymentNode("nodeR",...wt[Mt]),this.$=wt[Mt];break;case 42:Ut.popBoundaryParseStack();break;case 46:Ut.addPersonOrSystem("person",...wt[Mt]),this.$=wt[Mt];break;case 47:Ut.addPersonOrSystem("external_person",...wt[Mt]),this.$=wt[Mt];break;case 48:Ut.addPersonOrSystem("system",...wt[Mt]),this.$=wt[Mt];break;case 49:Ut.addPersonOrSystem("system_db",...wt[Mt]),this.$=wt[Mt];break;case 50:Ut.addPersonOrSystem("system_queue",...wt[Mt]),this.$=wt[Mt];break;case 51:Ut.addPersonOrSystem("external_system",...wt[Mt]),this.$=wt[Mt];break;case 52:Ut.addPersonOrSystem("external_system_db",...wt[Mt]),this.$=wt[Mt];break;case 53:Ut.addPersonOrSystem("external_system_queue",...wt[Mt]),this.$=wt[Mt];break;case 54:Ut.addContainer("container",...wt[Mt]),this.$=wt[Mt];break;case 55:Ut.addContainer("container_db",...wt[Mt]),this.$=wt[Mt];break;case 56:Ut.addContainer("container_queue",...wt[Mt]),this.$=wt[Mt];break;case 57:Ut.addContainer("external_container",...wt[Mt]),this.$=wt[Mt];break;case 58:Ut.addContainer("external_container_db",...wt[Mt]),this.$=wt[Mt];break;case 59:Ut.addContainer("external_container_queue",...wt[Mt]),this.$=wt[Mt];break;case 60:Ut.addComponent("component",...wt[Mt]),this.$=wt[Mt];break;case 61:Ut.addComponent("component_db",...wt[Mt]),this.$=wt[Mt];break;case 62:Ut.addComponent("component_queue",...wt[Mt]),this.$=wt[Mt];break;case 63:Ut.addComponent("external_component",...wt[Mt]),this.$=wt[Mt];break;case 64:Ut.addComponent("external_component_db",...wt[Mt]),this.$=wt[Mt];break;case 65:Ut.addComponent("external_component_queue",...wt[Mt]),this.$=wt[Mt];break;case 67:Ut.addRel("rel",...wt[Mt]),this.$=wt[Mt];break;case 68:Ut.addRel("birel",...wt[Mt]),this.$=wt[Mt];break;case 69:Ut.addRel("rel_u",...wt[Mt]),this.$=wt[Mt];break;case 70:Ut.addRel("rel_d",...wt[Mt]),this.$=wt[Mt];break;case 71:Ut.addRel("rel_l",...wt[Mt]),this.$=wt[Mt];break;case 72:Ut.addRel("rel_r",...wt[Mt]),this.$=wt[Mt];break;case 73:Ut.addRel("rel_b",...wt[Mt]),this.$=wt[Mt];break;case 74:wt[Mt].splice(0,1),Ut.addRel("rel",...wt[Mt]),this.$=wt[Mt];break;case 75:Ut.updateElStyle("update_el_style",...wt[Mt]),this.$=wt[Mt];break;case 76:Ut.updateRelStyle("update_rel_style",...wt[Mt]),this.$=wt[Mt];break;case 77:Ut.updateLayoutConfig("update_layout_config",...wt[Mt]),this.$=wt[Mt];break;case 78:this.$=[wt[Mt]];break;case 79:wt[Mt].unshift(wt[Mt-1]),this.$=wt[Mt];break;case 80:case 82:this.$=wt[Mt].trim();break;case 81:let rn={};rn[wt[Mt-1].trim()]=wt[Mt].trim(),this.$=rn;break;case 83:this.$="";break}},table:[{3:1,4:2,5:3,6:4,7:e,8:s,9:r,10:o,11:5,12:10,18:a,22:u,25:h,26:d,27:y,28:_},{1:[3]},{1:[2,1]},{1:[2,2]},{3:17,4:2,5:3,6:4,7:e,8:s,9:r,10:o,11:5,12:10,18:a,22:u,25:h,26:d,27:y,28:_},{1:[2,8]},{1:[2,4]},{1:[2,5]},{1:[2,6]},{1:[2,7]},{13:18,19:[1,19]},{15:[1,20]},{15:[1,21]},{15:[1,22]},{15:[1,23]},{15:[1,24]},{19:[2,11]},{1:[2,3]},{14:25,16:[1,26],21:v},t([16,21],[2,12]),{23:28,29:29,30:30,31:31,32:x,33:k,34:D,36:M,38:R,39:58,40:70,42:71,44:Y,46:V,47:X,48:J,49:rt,50:lt,51:tt,53:32,54:it,55:j,56:W,57:$,58:I,59:H,60:S,61:yt,62:T,63:Dt,64:ce,65:Gt,66:ut,67:Et,68:bt,69:xt,70:Tt,71:Wt,72:dt,73:ve,74:et,75:st,76:pt,77:Z,78:q,79:U,80:mt,81:N,82:Lt,83:nt,84:Be},{23:79,29:29,30:30,31:31,32:x,33:k,34:D,36:M,38:R,39:58,40:70,42:71,44:Y,46:V,47:X,48:J,49:rt,50:lt,51:tt,53:32,54:it,55:j,56:W,57:$,58:I,59:H,60:S,61:yt,62:T,63:Dt,64:ce,65:Gt,66:ut,67:Et,68:bt,69:xt,70:Tt,71:Wt,72:dt,73:ve,74:et,75:st,76:pt,77:Z,78:q,79:U,80:mt,81:N,82:Lt,83:nt,84:Be},{23:80,29:29,30:30,31:31,32:x,33:k,34:D,36:M,38:R,39:58,40:70,42:71,44:Y,46:V,47:X,48:J,49:rt,50:lt,51:tt,53:32,54:it,55:j,56:W,57:$,58:I,59:H,60:S,61:yt,62:T,63:Dt,64:ce,65:Gt,66:ut,67:Et,68:bt,69:xt,70:Tt,71:Wt,72:dt,73:ve,74:et,75:st,76:pt,77:Z,78:q,79:U,80:mt,81:N,82:Lt,83:nt,84:Be},{23:81,29:29,30:30,31:31,32:x,33:k,34:D,36:M,38:R,39:58,40:70,42:71,44:Y,46:V,47:X,48:J,49:rt,50:lt,51:tt,53:32,54:it,55:j,56:W,57:$,58:I,59:H,60:S,61:yt,62:T,63:Dt,64:ce,65:Gt,66:ut,67:Et,68:bt,69:xt,70:Tt,71:Wt,72:dt,73:ve,74:et,75:st,76:pt,77:Z,78:q,79:U,80:mt,81:N,82:Lt,83:nt,84:Be},{23:82,29:29,30:30,31:31,32:x,33:k,34:D,36:M,38:R,39:58,40:70,42:71,44:Y,46:V,47:X,48:J,49:rt,50:lt,51:tt,53:32,54:it,55:j,56:W,57:$,58:I,59:H,60:S,61:yt,62:T,63:Dt,64:ce,65:Gt,66:ut,67:Et,68:bt,69:xt,70:Tt,71:Wt,72:dt,73:ve,74:et,75:st,76:pt,77:Z,78:q,79:U,80:mt,81:N,82:Lt,83:nt,84:Be},{15:[1,83]},{17:84,20:[1,85]},{15:[2,14]},{24:[1,86]},t(vt,[2,20],{53:32,39:58,40:70,42:71,30:87,44:Y,46:V,47:X,48:J,49:rt,50:lt,51:tt,54:it,55:j,56:W,57:$,58:I,59:H,60:S,61:yt,62:T,63:Dt,64:ce,65:Gt,66:ut,67:Et,68:bt,69:xt,70:Tt,71:Wt,72:dt,73:ve,74:et,75:st,76:pt,77:Z,78:q,79:U,80:mt,81:N,82:Lt,83:nt,84:Be}),t(vt,[2,21]),t(de,[2,23],{15:[1,88]}),t(vt,[2,43],{15:[1,89]}),t(Xt,[2,26]),t(Xt,[2,27]),{35:[1,90]},{37:[1,91]},t(Xt,[2,30]),{45:92,85:93,86:Nt,87:Qt,89:qt,90:Ot},{45:98,85:93,86:Nt,87:Qt,89:qt,90:Ot},{45:99,85:93,86:Nt,87:Qt,89:qt,90:Ot},{45:100,85:93,86:Nt,87:Qt,89:qt,90:Ot},{45:101,85:93,86:Nt,87:Qt,89:qt,90:Ot},{45:102,85:93,86:Nt,87:Qt,89:qt,90:Ot},{45:103,85:93,86:Nt,87:Qt,89:qt,90:Ot},{45:104,85:93,86:Nt,87:Qt,89:qt,90:Ot},{45:105,85:93,86:Nt,87:Qt,89:qt,90:Ot},{45:106,85:93,86:Nt,87:Qt,89:qt,90:Ot},{45:107,85:93,86:Nt,87:Qt,89:qt,90:Ot},{45:108,85:93,86:Nt,87:Qt,89:qt,90:Ot},{45:109,85:93,86:Nt,87:Qt,89:qt,90:Ot},{45:110,85:93,86:Nt,87:Qt,89:qt,90:Ot},{45:111,85:93,86:Nt,87:Qt,89:qt,90:Ot},{45:112,85:93,86:Nt,87:Qt,89:qt,90:Ot},{45:113,85:93,86:Nt,87:Qt,89:qt,90:Ot},{45:114,85:93,86:Nt,87:Qt,89:qt,90:Ot},{45:115,85:93,86:Nt,87:Qt,89:qt,90:Ot},{45:116,85:93,86:Nt,87:Qt,89:qt,90:Ot},t(Ct,[2,66]),{45:117,85:93,86:Nt,87:Qt,89:qt,90:Ot},{45:118,85:93,86:Nt,87:Qt,89:qt,90:Ot},{45:119,85:93,86:Nt,87:Qt,89:qt,90:Ot},{45:120,85:93,86:Nt,87:Qt,89:qt,90:Ot},{45:121,85:93,86:Nt,87:Qt,89:qt,90:Ot},{45:122,85:93,86:Nt,87:Qt,89:qt,90:Ot},{45:123,85:93,86:Nt,87:Qt,89:qt,90:Ot},{45:124,85:93,86:Nt,87:Qt,89:qt,90:Ot},{45:125,85:93,86:Nt,87:Qt,89:qt,90:Ot},{45:126,85:93,86:Nt,87:Qt,89:qt,90:Ot},{45:127,85:93,86:Nt,87:Qt,89:qt,90:Ot},{30:128,39:58,40:70,42:71,44:Y,46:V,47:X,48:J,49:rt,50:lt,51:tt,53:32,54:it,55:j,56:W,57:$,58:I,59:H,60:S,61:yt,62:T,63:Dt,64:ce,65:Gt,66:ut,67:Et,68:bt,69:xt,70:Tt,71:Wt,72:dt,73:ve,74:et,75:st,76:pt,77:Z,78:q,79:U,80:mt,81:N,82:Lt,83:nt,84:Be},{15:[1,130],43:[1,129]},{45:131,85:93,86:Nt,87:Qt,89:qt,90:Ot},{45:132,85:93,86:Nt,87:Qt,89:qt,90:Ot},{45:133,85:93,86:Nt,87:Qt,89:qt,90:Ot},{45:134,85:93,86:Nt,87:Qt,89:qt,90:Ot},{45:135,85:93,86:Nt,87:Qt,89:qt,90:Ot},{45:136,85:93,86:Nt,87:Qt,89:qt,90:Ot},{45:137,85:93,86:Nt,87:Qt,89:qt,90:Ot},{24:[1,138]},{24:[1,139]},{24:[1,140]},{24:[1,141]},t(gn,[2,9]),{14:142,21:v},{21:[2,13]},{1:[2,15]},t(vt,[2,22]),t(de,[2,24],{31:31,29:143,32:x,33:k,34:D,36:M,38:R}),t(vt,[2,44],{29:29,30:30,31:31,53:32,39:58,40:70,42:71,23:144,32:x,33:k,34:D,36:M,38:R,44:Y,46:V,47:X,48:J,49:rt,50:lt,51:tt,54:it,55:j,56:W,57:$,58:I,59:H,60:S,61:yt,62:T,63:Dt,64:ce,65:Gt,66:ut,67:Et,68:bt,69:xt,70:Tt,71:Wt,72:dt,73:ve,74:et,75:st,76:pt,77:Z,78:q,79:U,80:mt,81:N,82:Lt,83:nt,84:Be}),t(Xt,[2,28]),t(Xt,[2,29]),t(Ct,[2,46]),t(We,[2,78],{85:93,45:145,86:Nt,87:Qt,89:qt,90:Ot}),t(Ue,[2,80]),{88:[1,146]},t(Ue,[2,82]),t(Ue,[2,83]),t(Ct,[2,47]),t(Ct,[2,48]),t(Ct,[2,49]),t(Ct,[2,50]),t(Ct,[2,51]),t(Ct,[2,52]),t(Ct,[2,53]),t(Ct,[2,54]),t(Ct,[2,55]),t(Ct,[2,56]),t(Ct,[2,57]),t(Ct,[2,58]),t(Ct,[2,59]),t(Ct,[2,60]),t(Ct,[2,61]),t(Ct,[2,62]),t(Ct,[2,63]),t(Ct,[2,64]),t(Ct,[2,65]),t(Ct,[2,67]),t(Ct,[2,68]),t(Ct,[2,69]),t(Ct,[2,70]),t(Ct,[2,71]),t(Ct,[2,72]),t(Ct,[2,73]),t(Ct,[2,74]),t(Ct,[2,75]),t(Ct,[2,76]),t(Ct,[2,77]),{41:147,52:[1,148]},{15:[1,149]},{43:[1,150]},t(je,[2,35]),t(je,[2,36]),t(je,[2,37]),t(je,[2,38]),t(je,[2,39]),t(je,[2,40]),t(je,[2,41]),{1:[2,16]},{1:[2,17]},{1:[2,18]},{1:[2,19]},{15:[1,151]},t(de,[2,25]),t(vt,[2,45]),t(We,[2,79]),t(Ue,[2,81]),t(Ct,[2,31]),t(Ct,[2,42]),t(Oe,[2,32]),t(Oe,[2,33],{15:[1,152]}),t(gn,[2,10]),t(Oe,[2,34])],defaultActions:{2:[2,1],3:[2,2],5:[2,8],6:[2,4],7:[2,5],8:[2,6],9:[2,7],16:[2,11],17:[2,3],27:[2,14],85:[2,13],86:[2,15],138:[2,16],139:[2,17],140:[2,18],141:[2,19]},parseError:function(Ht,Rt){if(Rt.recoverable)this.trace(Ht);else{var ae=new Error(Ht);throw ae.hash=Rt,ae}},parse:function(Ht){var Rt=this,ae=[0],Ut=[],Te=[null],wt=[],cn=this.table,Mt="",rn=0,kn=0,Sn=2,Tn=1,In=wt.slice.call(arguments,1),ze=Object.create(this.lexer),un={yy:{}};for(var En in this.yy)Object.prototype.hasOwnProperty.call(this.yy,En)&&(un.yy[En]=this.yy[En]);ze.setInput(Ht,un.yy),un.yy.lexer=ze,un.yy.parser=this,typeof ze.yylloc>"u"&&(ze.yylloc={});var en=ze.yylloc;wt.push(en);var to=ze.options&&ze.options.ranges;typeof un.yy.parseError=="function"?this.parseError=un.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function ci(){var ft;return ft=Ut.pop()||ze.lex()||Tn,typeof ft!="number"&&(ft instanceof Array&&(Ut=ft,ft=Ut.pop()),ft=Rt.symbols_[ft]||ft),ft}for(var rs,hn,fs,ms,xs={},ks,ys,Ms,qs;;){if(hn=ae[ae.length-1],this.defaultActions[hn]?fs=this.defaultActions[hn]:((rs===null||typeof rs>"u")&&(rs=ci()),fs=cn[hn]&&cn[hn][rs]),typeof fs>"u"||!fs.length||!fs[0]){var De="";qs=[];for(ks in cn[hn])this.terminals_[ks]&&ks>Sn&&qs.push("'"+this.terminals_[ks]+"'");ze.showPosition?De="Parse error on line "+(rn+1)+`:
`+ze.showPosition()+`
Expecting `+qs.join(", ")+", got '"+(this.terminals_[rs]||rs)+"'":De="Parse error on line "+(rn+1)+": Unexpected "+(rs==Tn?"end of input":"'"+(this.terminals_[rs]||rs)+"'"),this.parseError(De,{text:ze.match,token:this.terminals_[rs]||rs,line:ze.yylineno,loc:en,expected:qs})}if(fs[0]instanceof Array&&fs.length>1)throw new Error("Parse Error: multiple actions possible at state: "+hn+", token: "+rs);switch(fs[0]){case 1:ae.push(rs),Te.push(ze.yytext),wt.push(ze.yylloc),ae.push(fs[1]),rs=null,kn=ze.yyleng,Mt=ze.yytext,rn=ze.yylineno,en=ze.yylloc;break;case 2:if(ys=this.productions_[fs[1]][1],xs.$=Te[Te.length-ys],xs._$={first_line:wt[wt.length-(ys||1)].first_line,last_line:wt[wt.length-1].last_line,first_column:wt[wt.length-(ys||1)].first_column,last_column:wt[wt.length-1].last_column},to&&(xs._$.range=[wt[wt.length-(ys||1)].range[0],wt[wt.length-1].range[1]]),ms=this.performAction.apply(xs,[Mt,kn,rn,un.yy,fs[1],Te,wt].concat(In)),typeof ms<"u")return ms;ys&&(ae=ae.slice(0,-1*ys*2),Te=Te.slice(0,-1*ys),wt=wt.slice(0,-1*ys)),ae.push(this.productions_[fs[1]][0]),Te.push(xs.$),wt.push(xs._$),Ms=cn[ae[ae.length-2]][ae[ae.length-1]],ae.push(Ms);break;case 3:return!0}}return!0}},Me=function(){var we={EOF:1,parseError:function(Rt,ae){if(this.yy.parser)this.yy.parser.parseError(Rt,ae);else throw new Error(Rt)},setInput:function(Ht,Rt){return this.yy=Rt||this.yy||{},this._input=Ht,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var Ht=this._input[0];this.yytext+=Ht,this.yyleng++,this.offset++,this.match+=Ht,this.matched+=Ht;var Rt=Ht.match(/(?:\r\n?|\n).*/g);return Rt?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),Ht},unput:function(Ht){var Rt=Ht.length,ae=Ht.split(/(?:\r\n?|\n)/g);this._input=Ht+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-Rt),this.offset-=Rt;var Ut=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),ae.length-1&&(this.yylineno-=ae.length-1);var Te=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:ae?(ae.length===Ut.length?this.yylloc.first_column:0)+Ut[Ut.length-ae.length].length-ae[0].length:this.yylloc.first_column-Rt},this.options.ranges&&(this.yylloc.range=[Te[0],Te[0]+this.yyleng-Rt]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(Ht){this.unput(this.match.slice(Ht))},pastInput:function(){var Ht=this.matched.substr(0,this.matched.length-this.match.length);return(Ht.length>20?"...":"")+Ht.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var Ht=this.match;return Ht.length<20&&(Ht+=this._input.substr(0,20-Ht.length)),(Ht.substr(0,20)+(Ht.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var Ht=this.pastInput(),Rt=new Array(Ht.length+1).join("-");return Ht+this.upcomingInput()+`
`+Rt+"^"},test_match:function(Ht,Rt){var ae,Ut,Te;if(this.options.backtrack_lexer&&(Te={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(Te.yylloc.range=this.yylloc.range.slice(0))),Ut=Ht[0].match(/(?:\r\n?|\n).*/g),Ut&&(this.yylineno+=Ut.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:Ut?Ut[Ut.length-1].length-Ut[Ut.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+Ht[0].length},this.yytext+=Ht[0],this.match+=Ht[0],this.matches=Ht,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(Ht[0].length),this.matched+=Ht[0],ae=this.performAction.call(this,this.yy,this,Rt,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),ae)return ae;if(this._backtrack){for(var wt in Te)this[wt]=Te[wt];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var Ht,Rt,ae,Ut;this._more||(this.yytext="",this.match="");for(var Te=this._currentRules(),wt=0;wt<Te.length;wt++)if(ae=this._input.match(this.rules[Te[wt]]),ae&&(!Rt||ae[0].length>Rt[0].length)){if(Rt=ae,Ut=wt,this.options.backtrack_lexer){if(Ht=this.test_match(ae,Te[wt]),Ht!==!1)return Ht;if(this._backtrack){Rt=!1;continue}else return!1}else if(!this.options.flex)break}return Rt?(Ht=this.test_match(Rt,Te[Ut]),Ht!==!1?Ht:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var Rt=this.next();return Rt||this.lex()},begin:function(Rt){this.conditionStack.push(Rt)},popState:function(){var Rt=this.conditionStack.length-1;return Rt>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(Rt){return Rt=this.conditionStack.length-1-Math.abs(Rt||0),Rt>=0?this.conditionStack[Rt]:"INITIAL"},pushState:function(Rt){this.begin(Rt)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(Rt,ae,Ut,Te){switch(Ut){case 0:return this.begin("open_directive"),18;case 1:return 7;case 2:return 8;case 3:return 9;case 4:return 10;case 5:return this.begin("type_directive"),19;case 6:return this.popState(),this.begin("arg_directive"),16;case 7:return this.popState(),this.popState(),21;case 8:return 20;case 9:return 32;case 10:return 33;case 11:return this.begin("acc_title"),34;case 12:return this.popState(),"acc_title_value";case 13:return this.begin("acc_descr"),36;case 14:return this.popState(),"acc_descr_value";case 15:this.begin("acc_descr_multiline");break;case 16:this.popState();break;case 17:return"acc_descr_multiline_value";case 18:break;case 19:c;break;case 20:return 15;case 21:break;case 22:return 22;case 23:return 25;case 24:return 26;case 25:return 27;case 26:return 28;case 27:return this.begin("person_ext"),55;case 28:return this.begin("person"),54;case 29:return this.begin("system_ext_queue"),61;case 30:return this.begin("system_ext_db"),60;case 31:return this.begin("system_ext"),59;case 32:return this.begin("system_queue"),58;case 33:return this.begin("system_db"),57;case 34:return this.begin("system"),56;case 35:return this.begin("boundary"),47;case 36:return this.begin("enterprise_boundary"),44;case 37:return this.begin("system_boundary"),46;case 38:return this.begin("container_ext_queue"),67;case 39:return this.begin("container_ext_db"),66;case 40:return this.begin("container_ext"),65;case 41:return this.begin("container_queue"),64;case 42:return this.begin("container_db"),63;case 43:return this.begin("container"),62;case 44:return this.begin("container_boundary"),48;case 45:return this.begin("component_ext_queue"),73;case 46:return this.begin("component_ext_db"),72;case 47:return this.begin("component_ext"),71;case 48:return this.begin("component_queue"),70;case 49:return this.begin("component_db"),69;case 50:return this.begin("component"),68;case 51:return this.begin("node"),49;case 52:return this.begin("node"),49;case 53:return this.begin("node_l"),50;case 54:return this.begin("node_r"),51;case 55:return this.begin("rel"),74;case 56:return this.begin("birel"),75;case 57:return this.begin("rel_u"),76;case 58:return this.begin("rel_u"),76;case 59:return this.begin("rel_d"),77;case 60:return this.begin("rel_d"),77;case 61:return this.begin("rel_l"),78;case 62:return this.begin("rel_l"),78;case 63:return this.begin("rel_r"),79;case 64:return this.begin("rel_r"),79;case 65:return this.begin("rel_b"),80;case 66:return this.begin("rel_index"),81;case 67:return this.begin("update_el_style"),82;case 68:return this.begin("update_rel_style"),83;case 69:return this.begin("update_layout_config"),84;case 70:return"EOF_IN_STRUCT";case 71:return this.begin("attribute"),"ATTRIBUTE_EMPTY";case 72:this.begin("attribute");break;case 73:this.popState(),this.popState();break;case 74:return 90;case 75:break;case 76:return 90;case 77:this.begin("string");break;case 78:this.popState();break;case 79:return"STR";case 80:this.begin("string_kv");break;case 81:return this.begin("string_kv_key"),"STR_KEY";case 82:this.popState(),this.begin("string_kv_value");break;case 83:return"STR_VALUE";case 84:this.popState(),this.popState();break;case 85:return"STR";case 86:return"LBRACE";case 87:return"RBRACE";case 88:return"SPACE";case 89:return"EOL";case 90:return 24}},rules:[/^(?:%%\{)/,/^(?:.*direction\s+TB[^\n]*)/,/^(?:.*direction\s+BT[^\n]*)/,/^(?:.*direction\s+RL[^\n]*)/,/^(?:.*direction\s+LR[^\n]*)/,/^(?:((?:(?!\}%%)[^:.])*))/,/^(?::)/,/^(?:\}%%)/,/^(?:((?:(?!\}%%).|\n)*))/,/^(?:title\s[^#\n;]+)/,/^(?:accDescription\s[^#\n;]+)/,/^(?:accTitle\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*\{\s*)/,/^(?:[\}])/,/^(?:[^\}]*)/,/^(?:%%(?!\{)*[^\n]*(\r?\n?)+)/,/^(?:%%[^\n]*(\r?\n)*)/,/^(?:\s*(\r?\n)+)/,/^(?:\s+)/,/^(?:C4Context\b)/,/^(?:C4Container\b)/,/^(?:C4Component\b)/,/^(?:C4Dynamic\b)/,/^(?:C4Deployment\b)/,/^(?:Person_Ext\b)/,/^(?:Person\b)/,/^(?:SystemQueue_Ext\b)/,/^(?:SystemDb_Ext\b)/,/^(?:System_Ext\b)/,/^(?:SystemQueue\b)/,/^(?:SystemDb\b)/,/^(?:System\b)/,/^(?:Boundary\b)/,/^(?:Enterprise_Boundary\b)/,/^(?:System_Boundary\b)/,/^(?:ContainerQueue_Ext\b)/,/^(?:ContainerDb_Ext\b)/,/^(?:Container_Ext\b)/,/^(?:ContainerQueue\b)/,/^(?:ContainerDb\b)/,/^(?:Container\b)/,/^(?:Container_Boundary\b)/,/^(?:ComponentQueue_Ext\b)/,/^(?:ComponentDb_Ext\b)/,/^(?:Component_Ext\b)/,/^(?:ComponentQueue\b)/,/^(?:ComponentDb\b)/,/^(?:Component\b)/,/^(?:Deployment_Node\b)/,/^(?:Node\b)/,/^(?:Node_L\b)/,/^(?:Node_R\b)/,/^(?:Rel\b)/,/^(?:BiRel\b)/,/^(?:Rel_Up\b)/,/^(?:Rel_U\b)/,/^(?:Rel_Down\b)/,/^(?:Rel_D\b)/,/^(?:Rel_Left\b)/,/^(?:Rel_L\b)/,/^(?:Rel_Right\b)/,/^(?:Rel_R\b)/,/^(?:Rel_Back\b)/,/^(?:RelIndex\b)/,/^(?:UpdateElementStyle\b)/,/^(?:UpdateRelStyle\b)/,/^(?:UpdateLayoutConfig\b)/,/^(?:$)/,/^(?:[(][ ]*[,])/,/^(?:[(])/,/^(?:[)])/,/^(?:,,)/,/^(?:,)/,/^(?:[ ]*["]["])/,/^(?:[ ]*["])/,/^(?:["])/,/^(?:[^"]*)/,/^(?:[ ]*[\$])/,/^(?:[^=]*)/,/^(?:[=][ ]*["])/,/^(?:[^"]+)/,/^(?:["])/,/^(?:[^,]+)/,/^(?:\{)/,/^(?:\})/,/^(?:[\s]+)/,/^(?:[\n\r]+)/,/^(?:$)/],conditions:{acc_descr_multiline:{rules:[16,17],inclusive:!1},acc_descr:{rules:[14],inclusive:!1},acc_title:{rules:[12],inclusive:!1},close_directive:{rules:[],inclusive:!1},arg_directive:{rules:[7,8],inclusive:!1},type_directive:{rules:[6,7],inclusive:!1},open_directive:{rules:[5],inclusive:!1},string_kv_value:{rules:[83,84],inclusive:!1},string_kv_key:{rules:[82],inclusive:!1},string_kv:{rules:[81],inclusive:!1},string:{rules:[78,79],inclusive:!1},attribute:{rules:[73,74,75,76,77,80,85],inclusive:!1},update_layout_config:{rules:[70,71,72,73],inclusive:!1},update_rel_style:{rules:[70,71,72,73],inclusive:!1},update_el_style:{rules:[70,71,72,73],inclusive:!1},rel_b:{rules:[70,71,72,73],inclusive:!1},rel_r:{rules:[70,71,72,73],inclusive:!1},rel_l:{rules:[70,71,72,73],inclusive:!1},rel_d:{rules:[70,71,72,73],inclusive:!1},rel_u:{rules:[70,71,72,73],inclusive:!1},rel_bi:{rules:[],inclusive:!1},rel:{rules:[70,71,72,73],inclusive:!1},node_r:{rules:[70,71,72,73],inclusive:!1},node_l:{rules:[70,71,72,73],inclusive:!1},node:{rules:[70,71,72,73],inclusive:!1},index:{rules:[],inclusive:!1},rel_index:{rules:[70,71,72,73],inclusive:!1},component_ext_queue:{rules:[],inclusive:!1},component_ext_db:{rules:[70,71,72,73],inclusive:!1},component_ext:{rules:[70,71,72,73],inclusive:!1},component_queue:{rules:[70,71,72,73],inclusive:!1},component_db:{rules:[70,71,72,73],inclusive:!1},component:{rules:[70,71,72,73],inclusive:!1},container_boundary:{rules:[70,71,72,73],inclusive:!1},container_ext_queue:{rules:[],inclusive:!1},container_ext_db:{rules:[70,71,72,73],inclusive:!1},container_ext:{rules:[70,71,72,73],inclusive:!1},container_queue:{rules:[70,71,72,73],inclusive:!1},container_db:{rules:[70,71,72,73],inclusive:!1},container:{rules:[70,71,72,73],inclusive:!1},birel:{rules:[70,71,72,73],inclusive:!1},system_boundary:{rules:[70,71,72,73],inclusive:!1},enterprise_boundary:{rules:[70,71,72,73],inclusive:!1},boundary:{rules:[70,71,72,73],inclusive:!1},system_ext_queue:{rules:[70,71,72,73],inclusive:!1},system_ext_db:{rules:[70,71,72,73],inclusive:!1},system_ext:{rules:[70,71,72,73],inclusive:!1},system_queue:{rules:[70,71,72,73],inclusive:!1},system_db:{rules:[70,71,72,73],inclusive:!1},system:{rules:[70,71,72,73],inclusive:!1},person_ext:{rules:[70,71,72,73],inclusive:!1},person:{rules:[70,71,72,73],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,9,10,11,13,15,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,86,87,88,89,90],inclusive:!0}}};return we}();zn.lexer=Me;function Se(){this.yy={}}return Se.prototype=zn,zn.Parser=Se,new Se}();Lf.parser=Lf;const bR=Lf,xR=t=>t.match(/^\s*C4Context|C4Container|C4Component|C4Dynamic|C4Deployment/)!==null;let Gi=[],Wa=[""],$r="global",qi="",xo=[{alias:"global",label:{text:"global"},type:{text:"global"},tags:null,link:null,parentBoundary:""}],Oh=[],mg="",_g=!1,If=4,Mf=2;var Bv;const kR=function(){return Bv},CR=function(t){Bv=Pi(t,ht())},AR=function(t,e,s){Bs.parseDirective(this,t,e,s)},wR=function(t,e,s,r,o,a,u,h,d){if(t==null||e===void 0||e===null||s===void 0||s===null||r===void 0||r===null)return;let y={};const _=Oh.find(v=>v.from===e&&v.to===s);if(_?y=_:Oh.push(y),y.type=t,y.from=e,y.to=s,y.label={text:r},o==null)y.techn={text:""};else if(typeof o=="object"){let[v,x]=Object.entries(o)[0];y[v]={text:x}}else y.techn={text:o};if(a==null)y.descr={text:""};else if(typeof a=="object"){let[v,x]=Object.entries(a)[0];y[v]={text:x}}else y.descr={text:a};if(typeof u=="object"){let[v,x]=Object.entries(u)[0];y[v]=x}else y.sprite=u;if(typeof h=="object"){let[v,x]=Object.entries(h)[0];y[v]=x}else y.tags=h;if(typeof d=="object"){let[v,x]=Object.entries(d)[0];y[v]=x}else y.link=d;y.wrap=Ha()},ER=function(t,e,s,r,o,a,u){if(e===null||s===null)return;let h={};const d=Gi.find(y=>y.alias===e);if(d&&e===d.alias?h=d:(h.alias=e,Gi.push(h)),s==null?h.label={text:""}:h.label={text:s},r==null)h.descr={text:""};else if(typeof r=="object"){let[y,_]=Object.entries(r)[0];h[y]={text:_}}else h.descr={text:r};if(typeof o=="object"){let[y,_]=Object.entries(o)[0];h[y]=_}else h.sprite=o;if(typeof a=="object"){let[y,_]=Object.entries(a)[0];h[y]=_}else h.tags=a;if(typeof u=="object"){let[y,_]=Object.entries(u)[0];h[y]=_}else h.link=u;h.typeC4Shape={text:t},h.parentBoundary=$r,h.wrap=Ha()},BR=function(t,e,s,r,o,a,u,h){if(e===null||s===null)return;let d={};const y=Gi.find(_=>_.alias===e);if(y&&e===y.alias?d=y:(d.alias=e,Gi.push(d)),s==null?d.label={text:""}:d.label={text:s},r==null)d.techn={text:""};else if(typeof r=="object"){let[_,v]=Object.entries(r)[0];d[_]={text:v}}else d.techn={text:r};if(o==null)d.descr={text:""};else if(typeof o=="object"){let[_,v]=Object.entries(o)[0];d[_]={text:v}}else d.descr={text:o};if(typeof a=="object"){let[_,v]=Object.entries(a)[0];d[_]=v}else d.sprite=a;if(typeof u=="object"){let[_,v]=Object.entries(u)[0];d[_]=v}else d.tags=u;if(typeof h=="object"){let[_,v]=Object.entries(h)[0];d[_]=v}else d.link=h;d.wrap=Ha(),d.typeC4Shape={text:t},d.parentBoundary=$r},SR=function(t,e,s,r,o,a,u,h){if(e===null||s===null)return;let d={};const y=Gi.find(_=>_.alias===e);if(y&&e===y.alias?d=y:(d.alias=e,Gi.push(d)),s==null?d.label={text:""}:d.label={text:s},r==null)d.techn={text:""};else if(typeof r=="object"){let[_,v]=Object.entries(r)[0];d[_]={text:v}}else d.techn={text:r};if(o==null)d.descr={text:""};else if(typeof o=="object"){let[_,v]=Object.entries(o)[0];d[_]={text:v}}else d.descr={text:o};if(typeof a=="object"){let[_,v]=Object.entries(a)[0];d[_]=v}else d.sprite=a;if(typeof u=="object"){let[_,v]=Object.entries(u)[0];d[_]=v}else d.tags=u;if(typeof h=="object"){let[_,v]=Object.entries(h)[0];d[_]=v}else d.link=h;d.wrap=Ha(),d.typeC4Shape={text:t},d.parentBoundary=$r},TR=function(t,e,s,r,o){if(t===null||e===null)return;let a={};const u=xo.find(h=>h.alias===t);if(u&&t===u.alias?a=u:(a.alias=t,xo.push(a)),e==null?a.label={text:""}:a.label={text:e},s==null)a.type={text:"system"};else if(typeof s=="object"){let[h,d]=Object.entries(s)[0];a[h]={text:d}}else a.type={text:s};if(typeof r=="object"){let[h,d]=Object.entries(r)[0];a[h]=d}else a.tags=r;if(typeof o=="object"){let[h,d]=Object.entries(o)[0];a[h]=d}else a.link=o;a.parentBoundary=$r,a.wrap=Ha(),qi=$r,$r=t,Wa.push(qi)},DR=function(t,e,s,r,o){if(t===null||e===null)return;let a={};const u=xo.find(h=>h.alias===t);if(u&&t===u.alias?a=u:(a.alias=t,xo.push(a)),e==null?a.label={text:""}:a.label={text:e},s==null)a.type={text:"container"};else if(typeof s=="object"){let[h,d]=Object.entries(s)[0];a[h]={text:d}}else a.type={text:s};if(typeof r=="object"){let[h,d]=Object.entries(r)[0];a[h]=d}else a.tags=r;if(typeof o=="object"){let[h,d]=Object.entries(o)[0];a[h]=d}else a.link=o;a.parentBoundary=$r,a.wrap=Ha(),qi=$r,$r=t,Wa.push(qi)},FR=function(t,e,s,r,o,a,u,h){if(e===null||s===null)return;let d={};const y=xo.find(_=>_.alias===e);if(y&&e===y.alias?d=y:(d.alias=e,xo.push(d)),s==null?d.label={text:""}:d.label={text:s},r==null)d.type={text:"node"};else if(typeof r=="object"){let[_,v]=Object.entries(r)[0];d[_]={text:v}}else d.type={text:r};if(o==null)d.descr={text:""};else if(typeof o=="object"){let[_,v]=Object.entries(o)[0];d[_]={text:v}}else d.descr={text:o};if(typeof u=="object"){let[_,v]=Object.entries(u)[0];d[_]=v}else d.tags=u;if(typeof h=="object"){let[_,v]=Object.entries(h)[0];d[_]=v}else d.link=h;d.nodeType=t,d.parentBoundary=$r,d.wrap=Ha(),qi=$r,$r=e,Wa.push(qi)},LR=function(){$r=qi,Wa.pop(),qi=Wa.pop(),Wa.push(qi)},IR=function(t,e,s,r,o,a,u,h,d,y,_){let v=Gi.find(x=>x.alias===e);if(!(v===void 0&&(v=xo.find(x=>x.alias===e),v===void 0))){if(s!=null)if(typeof s=="object"){let[x,k]=Object.entries(s)[0];v[x]=k}else v.bgColor=s;if(r!=null)if(typeof r=="object"){let[x,k]=Object.entries(r)[0];v[x]=k}else v.fontColor=r;if(o!=null)if(typeof o=="object"){let[x,k]=Object.entries(o)[0];v[x]=k}else v.borderColor=o;if(a!=null)if(typeof a=="object"){let[x,k]=Object.entries(a)[0];v[x]=k}else v.shadowing=a;if(u!=null)if(typeof u=="object"){let[x,k]=Object.entries(u)[0];v[x]=k}else v.shape=u;if(h!=null)if(typeof h=="object"){let[x,k]=Object.entries(h)[0];v[x]=k}else v.sprite=h;if(d!=null)if(typeof d=="object"){let[x,k]=Object.entries(d)[0];v[x]=k}else v.techn=d;if(y!=null)if(typeof y=="object"){let[x,k]=Object.entries(y)[0];v[x]=k}else v.legendText=y;if(_!=null)if(typeof _=="object"){let[x,k]=Object.entries(_)[0];v[x]=k}else v.legendSprite=_}},MR=function(t,e,s,r,o,a,u){const h=Oh.find(d=>d.from===e&&d.to===s);if(h!==void 0){if(r!=null)if(typeof r=="object"){let[d,y]=Object.entries(r)[0];h[d]=y}else h.textColor=r;if(o!=null)if(typeof o=="object"){let[d,y]=Object.entries(o)[0];h[d]=y}else h.lineColor=o;if(a!=null)if(typeof a=="object"){let[d,y]=Object.entries(a)[0];h[d]=parseInt(y)}else h.offsetX=parseInt(a);if(u!=null)if(typeof u=="object"){let[d,y]=Object.entries(u)[0];h[d]=parseInt(y)}else h.offsetY=parseInt(u)}},RR=function(t,e,s){let r=If,o=Mf;if(typeof e=="object"){const a=Object.values(e)[0];r=parseInt(a)}else r=parseInt(e);if(typeof s=="object"){const a=Object.values(s)[0];o=parseInt(a)}else o=parseInt(s);r>=1&&(If=r),o>=1&&(Mf=o)},OR=function(){return If},NR=function(){return Mf},PR=function(){return $r},VR=function(){return qi},Sv=function(t){return t==null?Gi:Gi.filter(e=>e.parentBoundary===t)},$R=function(t){return Gi.find(e=>e.alias===t)},YR=function(t){return Object.keys(Sv(t))},UR=function(t){return t==null?xo:xo.filter(e=>e.parentBoundary===t)},zR=function(){return Oh},WR=function(){return mg},HR=function(t){_g=t},Ha=function(){return _g},Tv={addPersonOrSystem:ER,addPersonOrSystemBoundary:TR,addContainer:BR,addContainerBoundary:DR,addComponent:SR,addDeploymentNode:FR,popBoundaryParseStack:LR,addRel:wR,updateElStyle:IR,updateRelStyle:MR,updateLayoutConfig:RR,autoWrap:Ha,setWrap:HR,getC4ShapeArray:Sv,getC4Shape:$R,getC4ShapeKeys:YR,getBoundarys:UR,getCurrentBoundaryParse:PR,getParentBoundaryParse:VR,getRels:zR,getTitle:WR,getC4Type:kR,getC4ShapeInRow:OR,getC4BoundaryInRow:NR,setAccTitle:Ai,getAccTitle:Wi,getAccDescription:ji,setAccDescription:Hi,parseDirective:AR,getConfig:()=>ht().c4,clear:function(){Gi=[],xo=[{alias:"global",label:{text:"global"},type:{text:"global"},tags:null,link:null,parentBoundary:""}],qi="",$r="global",Wa=[""],Oh=[],Wa=[""],mg="",_g=!1,If=4,Mf=2},LINETYPE:{SOLID:0,DOTTED:1,NOTE:2,SOLID_CROSS:3,DOTTED_CROSS:4,SOLID_OPEN:5,DOTTED_OPEN:6,LOOP_START:10,LOOP_END:11,ALT_START:12,ALT_ELSE:13,ALT_END:14,OPT_START:15,OPT_END:16,ACTIVE_START:17,ACTIVE_END:18,PAR_START:19,PAR_AND:20,PAR_END:21,RECT_START:22,RECT_END:23,SOLID_POINT:24,DOTTED_POINT:25},ARROWTYPE:{FILLED:0,OPEN:1},PLACEMENT:{LEFTOF:0,RIGHTOF:1,OVER:2},setTitle:function(t){mg=Pi(t,ht())},setC4Type:CR},vg=function(t,e){const s=t.append("rect");if(s.attr("x",e.x),s.attr("y",e.y),s.attr("fill",e.fill),s.attr("stroke",e.stroke),s.attr("width",e.width),s.attr("height",e.height),s.attr("rx",e.rx),s.attr("ry",e.ry),e.attrs!=="undefined"&&e.attrs!==null)for(let r in e.attrs)s.attr(r,e.attrs[r]);return e.class!=="undefined"&&s.attr("class",e.class),s},Dv=function(t,e,s,r,o,a){const u=t.append("image");u.attr("width",e),u.attr("height",s),u.attr("x",r),u.attr("y",o);let h=a.startsWith("data:image/png;base64")?a:at(a);u.attr("xlink:href",h)},jR=(t,e,s)=>{const r=t.append("g");let o=0;for(let a of e){let u=a.textColor?a.textColor:"#444444",h=a.lineColor?a.lineColor:"#444444",d=a.offsetX?parseInt(a.offsetX):0,y=a.offsetY?parseInt(a.offsetY):0,_="";if(o===0){let x=r.append("line");x.attr("x1",a.startPoint.x),x.attr("y1",a.startPoint.y),x.attr("x2",a.endPoint.x),x.attr("y2",a.endPoint.y),x.attr("stroke-width","1"),x.attr("stroke",h),x.style("fill","none"),a.type!=="rel_b"&&x.attr("marker-end","url("+_+"#arrowhead)"),(a.type==="birel"||a.type==="rel_b")&&x.attr("marker-start","url("+_+"#arrowend)"),o=-1}else{let x=r.append("path");x.attr("fill","none").attr("stroke-width","1").attr("stroke",h).attr("d","Mstartx,starty Qcontrolx,controly stopx,stopy ".replaceAll("startx",a.startPoint.x).replaceAll("starty",a.startPoint.y).replaceAll("controlx",a.startPoint.x+(a.endPoint.x-a.startPoint.x)/2-(a.endPoint.x-a.startPoint.x)/4).replaceAll("controly",a.startPoint.y+(a.endPoint.y-a.startPoint.y)/2).replaceAll("stopx",a.endPoint.x).replaceAll("stopy",a.endPoint.y)),a.type!=="rel_b"&&x.attr("marker-end","url("+_+"#arrowhead)"),(a.type==="birel"||a.type==="rel_b")&&x.attr("marker-start","url("+_+"#arrowend)")}let v=s.messageFont();ta(s)(a.label.text,r,Math.min(a.startPoint.x,a.endPoint.x)+Math.abs(a.endPoint.x-a.startPoint.x)/2+d,Math.min(a.startPoint.y,a.endPoint.y)+Math.abs(a.endPoint.y-a.startPoint.y)/2+y,a.label.width,a.label.height,{fill:u},v),a.techn&&a.techn.text!==""&&(v=s.messageFont(),ta(s)("["+a.techn.text+"]",r,Math.min(a.startPoint.x,a.endPoint.x)+Math.abs(a.endPoint.x-a.startPoint.x)/2+d,Math.min(a.startPoint.y,a.endPoint.y)+Math.abs(a.endPoint.y-a.startPoint.y)/2+s.messageFontSize+5+y,Math.max(a.label.width,a.techn.width),a.techn.height,{fill:u,"font-style":"italic"},v))}},GR=function(t,e,s){const r=t.append("g");let o=e.bgColor?e.bgColor:"none",a=e.borderColor?e.borderColor:"#444444",u=e.fontColor?e.fontColor:"black",h={"stroke-width":1,"stroke-dasharray":"7.0,7.0"};e.nodeType&&(h={"stroke-width":1});let d={x:e.x,y:e.y,fill:o,stroke:a,width:e.width,height:e.height,rx:2.5,ry:2.5,attrs:h};vg(r,d);let y=s.boundaryFont();y.fontWeight="bold",y.fontSize=y.fontSize+2,y.fontColor=u,ta(s)(e.label.text,r,e.x,e.y+e.label.Y,e.width,e.height,{fill:"#444444"},y),e.type&&e.type.text!==""&&(y=s.boundaryFont(),y.fontColor=u,ta(s)(e.type.text,r,e.x,e.y+e.type.Y,e.width,e.height,{fill:"#444444"},y)),e.descr&&e.descr.text!==""&&(y=s.boundaryFont(),y.fontSize=y.fontSize-2,y.fontColor=u,ta(s)(e.descr.text,r,e.x,e.y+e.descr.Y,e.width,e.height,{fill:"#444444"},y))},qR=function(t,e,s){let r=e.bgColor?e.bgColor:s[e.typeC4Shape.text+"_bg_color"],o=e.borderColor?e.borderColor:s[e.typeC4Shape.text+"_border_color"],a=e.fontColor?e.fontColor:"#FFFFFF",u="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAIAAADYYG7QAAACD0lEQVR4Xu2YoU4EMRCGT+4j8Ai8AhaH4QHgAUjQuFMECUgMIUgwJAgMhgQsAYUiJCiQIBBY+EITsjfTdme6V24v4c8vyGbb+ZjOtN0bNcvjQXmkH83WvYBWto6PLm6v7p7uH1/w2fXD+PBycX1Pv2l3IdDm/vn7x+dXQiAubRzoURa7gRZWd0iGRIiJbOnhnfYBQZNJjNbuyY2eJG8fkDE3bbG4ep6MHUAsgYxmE3nVs6VsBWJSGccsOlFPmLIViMzLOB7pCVO2AtHJMohH7Fh6zqitQK7m0rJvAVYgGcEpe//PLdDz65sM4pF9N7ICcXDKIB5Nv6j7tD0NoSdM2QrU9Gg0ewE1LqBhHR3BBdvj2vapnidjHxD/q6vd7Pvhr31AwcY8eXMTXAKECZZJFXuEq27aLgQK5uLMohCenGGuGewOxSjBvYBqeG6B+Nqiblggdjnc+ZXDy+FNFpFzw76O3UBAROuXh6FoiAcf5g9eTvUgzy0nWg6I8cXHRUpg5bOVBCo+KDpFajOf23GgPme7RSQ+lacIENUgJ6gg1k6HjgOlqnLqip4tEuhv0hNEMXUD0clyXE3p6pZA0S2nnvTlXwLJEZWlb7cTQH1+USgTN4VhAenm/wea1OCAOmqo6fE1WCb9WSKBah+rbUWPWAmE2Rvk0ApiB45eOyNAzU8xcTvj8KvkKEoOaIYeHNA3ZuygAvFMUO0AAAAASUVORK5CYII=";switch(e.typeC4Shape.text){case"person":u="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAIAAADYYG7QAAACD0lEQVR4Xu2YoU4EMRCGT+4j8Ai8AhaH4QHgAUjQuFMECUgMIUgwJAgMhgQsAYUiJCiQIBBY+EITsjfTdme6V24v4c8vyGbb+ZjOtN0bNcvjQXmkH83WvYBWto6PLm6v7p7uH1/w2fXD+PBycX1Pv2l3IdDm/vn7x+dXQiAubRzoURa7gRZWd0iGRIiJbOnhnfYBQZNJjNbuyY2eJG8fkDE3bbG4ep6MHUAsgYxmE3nVs6VsBWJSGccsOlFPmLIViMzLOB7pCVO2AtHJMohH7Fh6zqitQK7m0rJvAVYgGcEpe//PLdDz65sM4pF9N7ICcXDKIB5Nv6j7tD0NoSdM2QrU9Gg0ewE1LqBhHR3BBdvj2vapnidjHxD/q6vd7Pvhr31AwcY8eXMTXAKECZZJFXuEq27aLgQK5uLMohCenGGuGewOxSjBvYBqeG6B+Nqiblggdjnc+ZXDy+FNFpFzw76O3UBAROuXh6FoiAcf5g9eTvUgzy0nWg6I8cXHRUpg5bOVBCo+KDpFajOf23GgPme7RSQ+lacIENUgJ6gg1k6HjgOlqnLqip4tEuhv0hNEMXUD0clyXE3p6pZA0S2nnvTlXwLJEZWlb7cTQH1+USgTN4VhAenm/wea1OCAOmqo6fE1WCb9WSKBah+rbUWPWAmE2Rvk0ApiB45eOyNAzU8xcTvj8KvkKEoOaIYeHNA3ZuygAvFMUO0AAAAASUVORK5CYII=";break;case"external_person":u="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAIAAADYYG7QAAAB6ElEQVR4Xu2YLY+EMBCG9+dWr0aj0Wg0Go1Go0+j8Xdv2uTCvv1gpt0ebHKPuhDaeW4605Z9mJvx4AdXUyTUdd08z+u6flmWZRnHsWkafk9DptAwDPu+f0eAYtu2PEaGWuj5fCIZrBAC2eLBAnRCsEkkxmeaJp7iDJ2QMDdHsLg8SxKFEJaAo8lAXnmuOFIhTMpxxKATebo4UiFknuNo4OniSIXQyRxEA3YsnjGCVEjVXD7yLUAqxBGUyPv/Y4W2beMgGuS7kVQIBycH0fD+oi5pezQETxdHKmQKGk1eQEYldK+jw5GxPfZ9z7Mk0Qnhf1W1m3w//EUn5BDmSZsbR44QQLBEqrBHqOrmSKaQAxdnLArCrxZcM7A7ZKs4ioRq8LFC+NpC3WCBJsvpVw5edm9iEXFuyNfxXAgSwfrFQ1c0iNda8AdejvUgnktOtJQQxmcfFzGglc5WVCj7oDgFqU18boeFSs52CUh8LE8BIVQDT1ABrB0HtgSEYlX5doJnCwv9TXocKCaKbnwhdDKPq4lf3SwU3HLq4V/+WYhHVMa/3b4IlfyikAduCkcBc7mQ3/z/Qq/cTuikhkzB12Ae/mcJC9U+Vo8Ej1gWAtgbeGgFsAMHr50BIWOLCbezvhpBFUdY6EJuJ/QDW0XoMX60zZ0AAAAASUVORK5CYII=";break}const h=t.append("g");h.attr("class","person-man");const d=Fv();switch(e.typeC4Shape.text){case"person":case"external_person":case"system":case"external_system":case"container":case"external_container":case"component":case"external_component":d.x=e.x,d.y=e.y,d.fill=r,d.width=e.width,d.height=e.height,d.style="stroke:"+o+";stroke-width:0.5;",d.rx=2.5,d.ry=2.5,vg(h,d);break;case"system_db":case"external_system_db":case"container_db":case"external_container_db":case"component_db":case"external_component_db":h.append("path").attr("fill",r).attr("stroke-width","0.5").attr("stroke",o).attr("d","Mstartx,startyc0,-10 half,-10 half,-10c0,0 half,0 half,10l0,heightc0,10 -half,10 -half,10c0,0 -half,0 -half,-10l0,-height".replaceAll("startx",e.x).replaceAll("starty",e.y).replaceAll("half",e.width/2).replaceAll("height",e.height)),h.append("path").attr("fill","none").attr("stroke-width","0.5").attr("stroke",o).attr("d","Mstartx,startyc0,10 half,10 half,10c0,0 half,0 half,-10".replaceAll("startx",e.x).replaceAll("starty",e.y).replaceAll("half",e.width/2));break;case"system_queue":case"external_system_queue":case"container_queue":case"external_container_queue":case"component_queue":case"external_component_queue":h.append("path").attr("fill",r).attr("stroke-width","0.5").attr("stroke",o).attr("d","Mstartx,startylwidth,0c5,0 5,half 5,halfc0,0 0,half -5,halfl-width,0c-5,0 -5,-half -5,-halfc0,0 0,-half 5,-half".replaceAll("startx",e.x).replaceAll("starty",e.y).replaceAll("width",e.width).replaceAll("half",e.height/2)),h.append("path").attr("fill","none").attr("stroke-width","0.5").attr("stroke",o).attr("d","Mstartx,startyc-5,0 -5,half -5,halfc0,half 5,half 5,half".replaceAll("startx",e.x+e.width).replaceAll("starty",e.y).replaceAll("half",e.height/2));break}let y=sO(s,e.typeC4Shape.text);switch(h.append("text").attr("fill",a).attr("font-family",y.fontFamily).attr("font-size",y.fontSize-2).attr("font-style","italic").attr("lengthAdjust","spacing").attr("textLength",e.typeC4Shape.width).attr("x",e.x+e.width/2-e.typeC4Shape.width/2).attr("y",e.y+e.typeC4Shape.Y).text("<<"+e.typeC4Shape.text+">>"),e.typeC4Shape.text){case"person":case"external_person":Dv(h,48,48,e.x+e.width/2-24,e.y+e.image.Y,u);break}let _=s[e.typeC4Shape.text+"Font"]();return _.fontWeight="bold",_.fontSize=_.fontSize+2,_.fontColor=a,ta(s)(e.label.text,h,e.x,e.y+e.label.Y,e.width,e.height,{fill:a},_),_=s[e.typeC4Shape.text+"Font"](),_.fontColor=a,e.thchn&&e.thchn.text!==""?ta(s)(e.thchn.text,h,e.x,e.y+e.thchn.Y,e.width,e.height,{fill:a,"font-style":"italic"},_):e.type&&e.type.text!==""&&ta(s)(e.type.text,h,e.x,e.y+e.type.Y,e.width,e.height,{fill:a,"font-style":"italic"},_),e.descr&&e.descr.text!==""&&(_=s.personFont(),_.fontColor=a,ta(s)(e.descr.text,h,e.x,e.y+e.descr.Y,e.width,e.height,{fill:a},_)),e.height},XR=function(t){t.append("defs").append("symbol").attr("id","database").attr("fill-rule","evenodd").attr("clip-rule","evenodd").append("path").attr("transform","scale(.5)").attr("d","M12.258.001l.256.004.255.005.253.008.251.01.249.012.247.015.246.016.242.019.241.02.239.023.236.024.233.027.231.028.229.031.225.032.223.034.22.036.217.038.214.04.211.041.208.043.205.045.201.046.198.048.194.05.191.051.187.053.183.054.18.056.175.057.172.059.168.06.163.061.16.063.155.064.15.066.074.033.073.033.071.034.07.034.069.035.068.035.067.035.066.035.064.036.064.036.062.036.06.036.06.037.058.037.058.037.055.038.055.038.053.038.052.038.051.039.05.039.048.039.047.039.045.04.044.04.043.04.041.04.04.041.039.041.037.041.036.041.034.041.033.042.032.042.03.042.029.042.027.042.026.043.024.043.023.043.021.043.02.043.018.044.017.043.015.044.013.044.012.044.011.045.009.044.007.045.006.045.004.045.002.045.001.045v17l-.001.045-.002.045-.004.045-.006.045-.007.045-.009.044-.011.045-.012.044-.013.044-.015.044-.017.043-.018.044-.02.043-.021.043-.023.043-.024.043-.026.043-.027.042-.029.042-.03.042-.032.042-.033.042-.034.041-.036.041-.037.041-.039.041-.04.041-.041.04-.043.04-.044.04-.045.04-.047.039-.048.039-.05.039-.051.039-.052.038-.053.038-.055.038-.055.038-.058.037-.058.037-.06.037-.06.036-.062.036-.064.036-.064.036-.066.035-.067.035-.068.035-.069.035-.07.034-.071.034-.073.033-.074.033-.15.066-.155.064-.16.063-.163.061-.168.06-.172.059-.175.057-.18.056-.183.054-.187.053-.191.051-.194.05-.198.048-.201.046-.205.045-.208.043-.211.041-.214.04-.217.038-.22.036-.223.034-.225.032-.229.031-.231.028-.233.027-.236.024-.239.023-.241.02-.242.019-.246.016-.247.015-.249.012-.251.01-.253.008-.255.005-.256.004-.258.001-.258-.001-.256-.004-.255-.005-.253-.008-.251-.01-.249-.012-.247-.015-.245-.016-.243-.019-.241-.02-.238-.023-.236-.024-.234-.027-.231-.028-.228-.031-.226-.032-.223-.034-.22-.036-.217-.038-.214-.04-.211-.041-.208-.043-.204-.045-.201-.046-.198-.048-.195-.05-.19-.051-.187-.053-.184-.054-.179-.056-.176-.057-.172-.059-.167-.06-.164-.061-.159-.063-.155-.064-.151-.066-.074-.033-.072-.033-.072-.034-.07-.034-.069-.035-.068-.035-.067-.035-.066-.035-.064-.036-.063-.036-.062-.036-.061-.036-.06-.037-.058-.037-.057-.037-.056-.038-.055-.038-.053-.038-.052-.038-.051-.039-.049-.039-.049-.039-.046-.039-.046-.04-.044-.04-.043-.04-.041-.04-.04-.041-.039-.041-.037-.041-.036-.041-.034-.041-.033-.042-.032-.042-.03-.042-.029-.042-.027-.042-.026-.043-.024-.043-.023-.043-.021-.043-.02-.043-.018-.044-.017-.043-.015-.044-.013-.044-.012-.044-.011-.045-.009-.044-.007-.045-.006-.045-.004-.045-.002-.045-.001-.045v-17l.001-.045.002-.045.004-.045.006-.045.007-.045.009-.044.011-.045.012-.044.013-.044.015-.044.017-.043.018-.044.02-.043.021-.043.023-.043.024-.043.026-.043.027-.042.029-.042.03-.042.032-.042.033-.042.034-.041.036-.041.037-.041.039-.041.04-.041.041-.04.043-.04.044-.04.046-.04.046-.039.049-.039.049-.039.051-.039.052-.038.053-.038.055-.038.056-.038.057-.037.058-.037.06-.037.061-.036.062-.036.063-.036.064-.036.066-.035.067-.035.068-.035.069-.035.07-.034.072-.034.072-.033.074-.033.151-.066.155-.064.159-.063.164-.061.167-.06.172-.059.176-.057.179-.056.184-.054.187-.053.19-.051.195-.05.198-.048.201-.046.204-.045.208-.043.211-.041.214-.04.217-.038.22-.036.223-.034.226-.032.228-.031.231-.028.234-.027.236-.024.238-.023.241-.02.243-.019.245-.016.247-.015.249-.012.251-.01.253-.008.255-.005.256-.004.258-.001.258.001zm-9.258 20.499v.01l.001.021.003.021.004.022.005.021.006.022.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.023.018.024.019.024.021.024.022.025.023.024.024.025.052.049.056.05.061.051.066.051.07.051.075.051.079.052.084.052.088.052.092.052.097.052.102.051.105.052.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.048.144.049.147.047.152.047.155.047.16.045.163.045.167.043.171.043.176.041.178.041.183.039.187.039.19.037.194.035.197.035.202.033.204.031.209.03.212.029.216.027.219.025.222.024.226.021.23.02.233.018.236.016.24.015.243.012.246.01.249.008.253.005.256.004.259.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.021.224-.024.22-.026.216-.027.212-.028.21-.031.205-.031.202-.034.198-.034.194-.036.191-.037.187-.039.183-.04.179-.04.175-.042.172-.043.168-.044.163-.045.16-.046.155-.046.152-.047.148-.048.143-.049.139-.049.136-.05.131-.05.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.053.083-.051.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.05.023-.024.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.023.01-.022.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.127l-.077.055-.08.053-.083.054-.085.053-.087.052-.09.052-.093.051-.095.05-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.045-.118.044-.12.043-.122.042-.124.042-.126.041-.128.04-.13.04-.132.038-.134.038-.135.037-.138.037-.139.035-.142.035-.143.034-.144.033-.147.032-.148.031-.15.03-.151.03-.153.029-.154.027-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.01-.179.008-.179.008-.181.006-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.006-.179-.008-.179-.008-.178-.01-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.027-.153-.029-.151-.03-.15-.03-.148-.031-.146-.032-.145-.033-.143-.034-.141-.035-.14-.035-.137-.037-.136-.037-.134-.038-.132-.038-.13-.04-.128-.04-.126-.041-.124-.042-.122-.042-.12-.044-.117-.043-.116-.045-.113-.045-.112-.046-.109-.047-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.05-.093-.052-.09-.051-.087-.052-.085-.053-.083-.054-.08-.054-.077-.054v4.127zm0-5.654v.011l.001.021.003.021.004.021.005.022.006.022.007.022.009.022.01.022.011.023.012.023.013.023.015.024.016.023.017.024.018.024.019.024.021.024.022.024.023.025.024.024.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.052.11.051.114.051.119.052.123.05.127.051.131.05.135.049.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.044.171.042.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.022.23.02.233.018.236.016.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.012.241-.015.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.048.139-.05.136-.049.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.051.051-.049.023-.025.023-.024.021-.025.02-.024.019-.024.018-.024.017-.024.015-.023.014-.023.013-.024.012-.022.01-.023.01-.023.008-.022.006-.022.006-.022.004-.021.004-.022.001-.021.001-.021v-4.139l-.077.054-.08.054-.083.054-.085.052-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.044-.118.044-.12.044-.122.042-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.035-.143.033-.144.033-.147.033-.148.031-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.009-.179.009-.179.007-.181.007-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.007-.179-.007-.179-.009-.178-.009-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.031-.146-.033-.145-.033-.143-.033-.141-.035-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.04-.126-.041-.124-.042-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.051-.093-.051-.09-.051-.087-.053-.085-.052-.083-.054-.08-.054-.077-.054v4.139zm0-5.666v.011l.001.02.003.022.004.021.005.022.006.021.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.024.018.023.019.024.021.025.022.024.023.024.024.025.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.051.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.043.171.043.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.021.23.02.233.018.236.017.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.013.241-.014.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.049.139-.049.136-.049.131-.051.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.049.023-.025.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.022.01-.023.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.153l-.077.054-.08.054-.083.053-.085.053-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.048-.105.048-.106.048-.109.046-.111.046-.114.046-.115.044-.118.044-.12.043-.122.043-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.034-.143.034-.144.033-.147.032-.148.032-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.024-.161.024-.162.023-.163.023-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.01-.178.01-.179.009-.179.007-.181.006-.182.006-.182.004-.184.003-.184.001-.185.001-.185-.001-.184-.001-.184-.003-.182-.004-.182-.006-.181-.006-.179-.007-.179-.009-.178-.01-.176-.01-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.023-.162-.023-.161-.024-.159-.024-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.032-.146-.032-.145-.033-.143-.034-.141-.034-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.041-.126-.041-.124-.041-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.048-.105-.048-.102-.048-.1-.05-.097-.049-.095-.051-.093-.051-.09-.052-.087-.052-.085-.053-.083-.053-.08-.054-.077-.054v4.153zm8.74-8.179l-.257.004-.254.005-.25.008-.247.011-.244.012-.241.014-.237.016-.233.018-.231.021-.226.022-.224.023-.22.026-.216.027-.212.028-.21.031-.205.032-.202.033-.198.034-.194.036-.191.038-.187.038-.183.04-.179.041-.175.042-.172.043-.168.043-.163.045-.16.046-.155.046-.152.048-.148.048-.143.048-.139.049-.136.05-.131.05-.126.051-.123.051-.118.051-.114.052-.11.052-.106.052-.101.052-.096.052-.092.052-.088.052-.083.052-.079.052-.074.051-.07.052-.065.051-.06.05-.056.05-.051.05-.023.025-.023.024-.021.024-.02.025-.019.024-.018.024-.017.023-.015.024-.014.023-.013.023-.012.023-.01.023-.01.022-.008.022-.006.023-.006.021-.004.022-.004.021-.001.021-.001.021.001.021.001.021.004.021.004.022.006.021.006.023.008.022.01.022.01.023.012.023.013.023.014.023.015.024.017.023.018.024.019.024.02.025.021.024.023.024.023.025.051.05.056.05.06.05.065.051.07.052.074.051.079.052.083.052.088.052.092.052.096.052.101.052.106.052.11.052.114.052.118.051.123.051.126.051.131.05.136.05.139.049.143.048.148.048.152.048.155.046.16.046.163.045.168.043.172.043.175.042.179.041.183.04.187.038.191.038.194.036.198.034.202.033.205.032.21.031.212.028.216.027.22.026.224.023.226.022.231.021.233.018.237.016.241.014.244.012.247.011.25.008.254.005.257.004.26.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.022.224-.023.22-.026.216-.027.212-.028.21-.031.205-.032.202-.033.198-.034.194-.036.191-.038.187-.038.183-.04.179-.041.175-.042.172-.043.168-.043.163-.045.16-.046.155-.046.152-.048.148-.048.143-.048.139-.049.136-.05.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.05.051-.05.023-.025.023-.024.021-.024.02-.025.019-.024.018-.024.017-.023.015-.024.014-.023.013-.023.012-.023.01-.023.01-.022.008-.022.006-.023.006-.021.004-.022.004-.021.001-.021.001-.021-.001-.021-.001-.021-.004-.021-.004-.022-.006-.021-.006-.023-.008-.022-.01-.022-.01-.023-.012-.023-.013-.023-.014-.023-.015-.024-.017-.023-.018-.024-.019-.024-.02-.025-.021-.024-.023-.024-.023-.025-.051-.05-.056-.05-.06-.05-.065-.051-.07-.052-.074-.051-.079-.052-.083-.052-.088-.052-.092-.052-.096-.052-.101-.052-.106-.052-.11-.052-.114-.052-.118-.051-.123-.051-.126-.051-.131-.05-.136-.05-.139-.049-.143-.048-.148-.048-.152-.048-.155-.046-.16-.046-.163-.045-.168-.043-.172-.043-.175-.042-.179-.041-.183-.04-.187-.038-.191-.038-.194-.036-.198-.034-.202-.033-.205-.032-.21-.031-.212-.028-.216-.027-.22-.026-.224-.023-.226-.022-.231-.021-.233-.018-.237-.016-.241-.014-.244-.012-.247-.011-.25-.008-.254-.005-.257-.004-.26-.001-.26.001z")},KR=function(t){t.append("defs").append("symbol").attr("id","computer").attr("width","24").attr("height","24").append("path").attr("transform","scale(.5)").attr("d","M2 2v13h20v-13h-20zm18 11h-16v-9h16v9zm-10.228 6l.466-1h3.524l.467 1h-4.457zm14.228 3h-24l2-6h2.104l-1.33 4h18.45l-1.297-4h2.073l2 6zm-5-10h-14v-7h14v7z")},ZR=function(t){t.append("defs").append("symbol").attr("id","clock").attr("width","24").attr("height","24").append("path").attr("transform","scale(.5)").attr("d","M12 2c5.514 0 10 4.486 10 10s-4.486 10-10 10-10-4.486-10-10 4.486-10 10-10zm0-2c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm5.848 12.459c.202.038.202.333.001.372-1.907.361-6.045 1.111-6.547 1.111-.719 0-1.301-.582-1.301-1.301 0-.512.77-5.447 1.125-7.445.034-.192.312-.181.343.014l.985 6.238 5.394 1.011z")},QR=function(t){t.append("defs").append("marker").attr("id","arrowhead").attr("refX",9).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z")},JR=function(t){t.append("defs").append("marker").attr("id","arrowend").attr("refX",1).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 10 0 L 0 5 L 10 10 z")},tO=function(t){t.append("defs").append("marker").attr("id","filled-head").attr("refX",18).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},eO=function(t){t.append("defs").append("marker").attr("id","sequencenumber").attr("refX",15).attr("refY",15).attr("markerWidth",60).attr("markerHeight",40).attr("orient","auto").append("circle").attr("cx",15).attr("cy",15).attr("r",6)},nO=function(t){const s=t.append("defs").append("marker").attr("id","crosshead").attr("markerWidth",15).attr("markerHeight",8).attr("orient","auto").attr("refX",16).attr("refY",4);s.append("path").attr("fill","black").attr("stroke","#000000").style("stroke-dasharray","0, 0").attr("stroke-width","1px").attr("d","M 9,2 V 6 L16,4 Z"),s.append("path").attr("fill","none").attr("stroke","#000000").style("stroke-dasharray","0, 0").attr("stroke-width","1px").attr("d","M 0,1 L 6,7 M 6,1 L 0,7")},Fv=function(){return{x:0,y:0,fill:"#EDF2AE",stroke:"#666",width:100,anchor:"start",height:100,rx:0,ry:0}},sO=(t,e)=>({fontFamily:t[e+"FontFamily"],fontSize:t[e+"FontSize"],fontWeight:t[e+"FontWeight"]}),ta=function(){function t(o,a,u,h,d,y,_){const v=a.append("text").attr("x",u+d/2).attr("y",h+y/2+5).style("text-anchor","middle").text(o);r(v,_)}function e(o,a,u,h,d,y,_,v){const{fontSize:x,fontFamily:k,fontWeight:D}=v,M=o.split(vn.lineBreakRegex);for(let R=0;R<M.length;R++){const Y=R*x-x*(M.length-1)/2,V=a.append("text").attr("x",u+d/2).attr("y",h).style("text-anchor","middle").attr("dominant-baseline","middle").style("font-size",x).style("font-weight",D).style("font-family",k);V.append("tspan").attr("dy",Y).text(M[R]).attr("alignment-baseline","mathematical"),r(V,_)}}function s(o,a,u,h,d,y,_,v){const x=a.append("switch"),D=x.append("foreignObject").attr("x",u).attr("y",h).attr("width",d).attr("height",y).append("xhtml:div").style("display","table").style("height","100%").style("width","100%");D.append("div").style("display","table-cell").style("text-align","center").style("vertical-align","middle").text(o),e(o,x,u,h,d,y,_,v),r(D,_)}function r(o,a){for(const u in a)a.hasOwnProperty(u)&&o.attr(u,a[u])}return function(o){return o.textPlacement==="fo"?s:o.textPlacement==="old"?t:e}}(),ko={drawRect:vg,drawBoundary:GR,drawC4Shape:qR,drawRels:jR,drawImage:Dv,insertArrowHead:QR,insertArrowEnd:JR,insertArrowFilledHead:tO,insertDynamicNumber:eO,insertArrowCrossHead:nO,insertDatabaseIcon:XR,insertComputerIcon:KR,insertClockIcon:ZR,getNoteRect:Fv,sanitizeUrl:at};let Rf=0,Of=0,Lv=4,bg=2;Lf.yy=Tv;let Ge={};class Iv{constructor(e){this.name="",this.data={},this.data.startx=void 0,this.data.stopx=void 0,this.data.starty=void 0,this.data.stopy=void 0,this.data.widthLimit=void 0,this.nextData={},this.nextData.startx=void 0,this.nextData.stopx=void 0,this.nextData.starty=void 0,this.nextData.stopy=void 0,this.nextData.cnt=0,xg(e.db.getConfig())}setData(e,s,r,o){this.nextData.startx=this.data.startx=e,this.nextData.stopx=this.data.stopx=s,this.nextData.starty=this.data.starty=r,this.nextData.stopy=this.data.stopy=o}updateVal(e,s,r,o){e[s]===void 0?e[s]=r:e[s]=o(r,e[s])}insert(e){this.nextData.cnt=this.nextData.cnt+1;let s=this.nextData.startx===this.nextData.stopx?this.nextData.stopx+e.margin:this.nextData.stopx+e.margin*2,r=s+e.width,o=this.nextData.starty+e.margin*2,a=o+e.height;(s>=this.data.widthLimit||r>=this.data.widthLimit||this.nextData.cnt>Lv)&&(s=this.nextData.startx+e.margin+Ge.nextLinePaddingX,o=this.nextData.stopy+e.margin*2,this.nextData.stopx=r=s+e.width,this.nextData.starty=this.nextData.stopy,this.nextData.stopy=a=o+e.height,this.nextData.cnt=1),e.x=s,e.y=o,this.updateVal(this.data,"startx",s,Math.min),this.updateVal(this.data,"starty",o,Math.min),this.updateVal(this.data,"stopx",r,Math.max),this.updateVal(this.data,"stopy",a,Math.max),this.updateVal(this.nextData,"startx",s,Math.min),this.updateVal(this.nextData,"starty",o,Math.min),this.updateVal(this.nextData,"stopx",r,Math.max),this.updateVal(this.nextData,"stopy",a,Math.max)}init(e){this.name="",this.data={startx:void 0,stopx:void 0,starty:void 0,stopy:void 0,widthLimit:void 0},this.nextData={startx:void 0,stopx:void 0,starty:void 0,stopy:void 0,cnt:0},xg(e.db.getConfig())}bumpLastMargin(e){this.data.stopx+=e,this.data.stopy+=e}}const xg=function(t){pr(Ge,t),t.fontFamily&&(Ge.personFontFamily=Ge.systemFontFamily=Ge.messageFontFamily=t.fontFamily),t.fontSize&&(Ge.personFontSize=Ge.systemFontSize=Ge.messageFontSize=t.fontSize),t.fontWeight&&(Ge.personFontWeight=Ge.systemFontWeight=Ge.messageFontWeight=t.fontWeight)},Nh=(t,e)=>({fontFamily:t[e+"FontFamily"],fontSize:t[e+"FontSize"],fontWeight:t[e+"FontWeight"]}),Nf=t=>({fontFamily:t.boundaryFontFamily,fontSize:t.boundaryFontSize,fontWeight:t.boundaryFontWeight}),rO=t=>({fontFamily:t.messageFontFamily,fontSize:t.messageFontSize,fontWeight:t.messageFontWeight});function Xi(t,e,s,r,o){if(!e[t].width)if(s)e[t].text=G_(e[t].text,o,r),e[t].textLines=e[t].text.split(vn.lineBreakRegex).length,e[t].width=o,e[t].height=tg(e[t].text,r);else{let a=e[t].text.split(vn.lineBreakRegex);e[t].textLines=a.length;let u=0;e[t].height=0,e[t].width=0;for(const h of a)e[t].width=Math.max(bo(h,r),e[t].width),u=tg(h,r),e[t].height=e[t].height+u}}const Mv=function(t,e,s){e.x=s.data.startx,e.y=s.data.starty,e.width=s.data.stopx-s.data.startx,e.height=s.data.stopy-s.data.starty,e.label.y=Ge.c4ShapeMargin-35;let r=e.wrap&&Ge.wrap,o=Nf(Ge);o.fontSize=o.fontSize+2,o.fontWeight="bold";let a=bo(e.label.text,o);Xi("label",e,r,o,a),ko.drawBoundary(t,e,Ge)},Rv=function(t,e,s,r){let o=0;for(const a of r){o=0;const u=s[a];let h=Nh(Ge,u.typeC4Shape.text);switch(h.fontSize=h.fontSize-2,u.typeC4Shape.width=bo("<<"+u.typeC4Shape.text+">>",h),u.typeC4Shape.height=h.fontSize+2,u.typeC4Shape.Y=Ge.c4ShapePadding,o=u.typeC4Shape.Y+u.typeC4Shape.height-4,u.image={width:0,height:0,Y:0},u.typeC4Shape.text){case"person":case"external_person":u.image.width=48,u.image.height=48,u.image.Y=o,o=u.image.Y+u.image.height;break}u.sprite&&(u.image.width=48,u.image.height=48,u.image.Y=o,o=u.image.Y+u.image.height);let d=u.wrap&&Ge.wrap,y=Ge.width-Ge.c4ShapePadding*2,_=Nh(Ge,u.typeC4Shape.text);if(_.fontSize=_.fontSize+2,_.fontWeight="bold",Xi("label",u,d,_,y),u.label.Y=o+8,o=u.label.Y+u.label.height,u.type&&u.type.text!==""){u.type.text="["+u.type.text+"]";let k=Nh(Ge,u.typeC4Shape.text);Xi("type",u,d,k,y),u.type.Y=o+5,o=u.type.Y+u.type.height}else if(u.techn&&u.techn.text!==""){u.techn.text="["+u.techn.text+"]";let k=Nh(Ge,u.techn.text);Xi("techn",u,d,k,y),u.techn.Y=o+5,o=u.techn.Y+u.techn.height}let v=o,x=u.label.width;if(u.descr&&u.descr.text!==""){let k=Nh(Ge,u.typeC4Shape.text);Xi("descr",u,d,k,y),u.descr.Y=o+20,o=u.descr.Y+u.descr.height,x=Math.max(u.label.width,u.descr.width),v=o-u.descr.textLines*5}x=x+Ge.c4ShapePadding,u.width=Math.max(u.width||Ge.width,x,Ge.width),u.height=Math.max(u.height||Ge.height,v,Ge.height),u.margin=u.margin||Ge.c4ShapeMargin,t.insert(u),ko.drawC4Shape(e,u,Ge)}t.bumpLastMargin(Ge.c4ShapeMargin)};class wi{constructor(e,s){this.x=e,this.y=s}}let Ov=function(t,e){let s=t.x,r=t.y,o=e.x,a=e.y,u=s+t.width/2,h=r+t.height/2,d=Math.abs(s-o),y=Math.abs(r-a),_=y/d,v=t.height/t.width,x=null;return r==a&&s<o?x=new wi(s+t.width,h):r==a&&s>o?x=new wi(s,h):s==o&&r<a?x=new wi(u,r+t.height):s==o&&r>a&&(x=new wi(u,r)),s>o&&r<a?v>=_?x=new wi(s,h+_*t.width/2):x=new wi(u-d/y*t.height/2,r+t.height):s<o&&r<a?v>=_?x=new wi(s+t.width,h+_*t.width/2):x=new wi(u+d/y*t.height/2,r+t.height):s<o&&r>a?v>=_?x=new wi(s+t.width,h-_*t.width/2):x=new wi(u+t.height/2*d/y,r):s>o&&r>a&&(v>=_?x=new wi(s,h-t.width/2*_):x=new wi(u-t.height/2*d/y,r)),x},iO=function(t,e){let s={x:0,y:0};s.x=e.x+e.width/2,s.y=e.y+e.height/2;let r=Ov(t,s);s.x=t.x+t.width/2,s.y=t.y+t.height/2;let o=Ov(e,s);return{startPoint:r,endPoint:o}};const oO=function(t,e,s,r){let o=0;for(let a of e){o=o+1;let u=a.wrap&&Ge.wrap,h=rO(Ge);r.db.getC4Type()==="C4Dynamic"&&(a.label.text=o+": "+a.label.text);let y=bo(a.label.text,h);Xi("label",a,u,h,y),a.techn&&a.techn.text!==""&&(y=bo(a.techn.text,h),Xi("techn",a,u,h,y)),a.descr&&a.descr.text!==""&&(y=bo(a.descr.text,h),Xi("descr",a,u,h,y));let _=s(a.from),v=s(a.to),x=iO(_,v);a.startPoint=x.startPoint,a.endPoint=x.endPoint}ko.drawRels(t,e,Ge)};function Nv(t,e,s,r,o){let a=new Iv(o);a.data.widthLimit=s.data.widthLimit/Math.min(bg,r.length);for(let[u,h]of r.entries()){let d=0;h.image={width:0,height:0,Y:0},h.sprite&&(h.image.width=48,h.image.height=48,h.image.Y=d,d=h.image.Y+h.image.height);let y=h.wrap&&Ge.wrap,_=Nf(Ge);if(_.fontSize=_.fontSize+2,_.fontWeight="bold",Xi("label",h,y,_,a.data.widthLimit),h.label.Y=d+8,d=h.label.Y+h.label.height,h.type&&h.type.text!==""){h.type.text="["+h.type.text+"]";let D=Nf(Ge);Xi("type",h,y,D,a.data.widthLimit),h.type.Y=d+5,d=h.type.Y+h.type.height}if(h.descr&&h.descr.text!==""){let D=Nf(Ge);D.fontSize=D.fontSize-2,Xi("descr",h,y,D,a.data.widthLimit),h.descr.Y=d+20,d=h.descr.Y+h.descr.height}if(u==0||u%bg===0){let D=s.data.startx+Ge.diagramMarginX,M=s.data.stopy+Ge.diagramMarginY+d;a.setData(D,D,M,M)}else{let D=a.data.stopx!==a.data.startx?a.data.stopx+Ge.diagramMarginX:a.data.startx,M=a.data.starty;a.setData(D,D,M,M)}a.name=h.alias;let v=o.db.getC4ShapeArray(h.alias),x=o.db.getC4ShapeKeys(h.alias);x.length>0&&Rv(a,t,v,x),e=h.alias;let k=o.db.getBoundarys(e);k.length>0&&Nv(t,e,a,k,o),h.alias!=="global"&&Mv(t,h,a),s.data.stopy=Math.max(a.data.stopy+Ge.c4ShapeMargin,s.data.stopy),s.data.stopx=Math.max(a.data.stopx+Ge.c4ShapeMargin,s.data.stopx),Rf=Math.max(Rf,s.data.stopx),Of=Math.max(Of,s.data.stopy)}}const Pv={drawPersonOrSystemArray:Rv,drawBoundary:Mv,setConf:xg,draw:function(t,e,s,r){Ge=ht().c4;const o=ht().securityLevel;let a;o==="sandbox"&&(a=ee("#i"+e));const u=ee(o==="sandbox"?a.nodes()[0].contentDocument.body:"body");let h=r.db;r.db.setWrap(Ge.wrap),Lv=h.getC4ShapeInRow(),bg=h.getC4BoundaryInRow(),w.debug(`C:${JSON.stringify(Ge,null,2)}`);const d=o==="sandbox"?u.select(`[id="${e}"]`):ee(`[id="${e}"]`);ko.insertComputerIcon(d),ko.insertDatabaseIcon(d),ko.insertClockIcon(d);let y=new Iv(r);y.setData(Ge.diagramMarginX,Ge.diagramMarginX,Ge.diagramMarginY,Ge.diagramMarginY),y.data.widthLimit=screen.availWidth,Rf=Ge.diagramMarginX,Of=Ge.diagramMarginY;const _=r.db.getTitle();let v=r.db.getBoundarys("");Nv(d,"",y,v,r),ko.insertArrowHead(d),ko.insertArrowEnd(d),ko.insertArrowCrossHead(d),ko.insertArrowFilledHead(d),oO(d,r.db.getRels(),r.db.getC4Shape,r),y.data.stopx=Rf,y.data.stopy=Of;const x=y.data;let D=x.stopy-x.starty+2*Ge.diagramMarginY;const R=x.stopx-x.startx+2*Ge.diagramMarginX;_&&d.append("text").text(_).attr("x",(x.stopx-x.startx)/2-4*Ge.diagramMarginX).attr("y",x.starty+Ge.diagramMarginY),Ui(d,D,R,Ge.useMaxWidth);const Y=_?60:0;d.attr("viewBox",x.startx-Ge.diagramMarginX+" -"+(Ge.diagramMarginY+Y)+" "+R+" "+(D+Y)),w.debug("models:",x)}};var kg=function(){var t=function(Z,q,U,mt){for(U=U||{},mt=Z.length;mt--;U[Z[mt]]=q);return U},e=[1,3],s=[1,7],r=[1,8],o=[1,9],a=[1,10],u=[1,13],h=[1,12],d=[1,16,25],y=[1,20],_=[1,32],v=[1,33],x=[1,34],k=[1,36],D=[1,39],M=[1,37],R=[1,38],Y=[1,44],V=[1,45],X=[1,40],J=[1,41],rt=[1,42],lt=[1,43],tt=[1,48],it=[1,49],j=[1,50],W=[1,51],$=[16,25],I=[1,65],H=[1,66],S=[1,67],yt=[1,68],T=[1,69],Dt=[1,70],ce=[1,71],Gt=[1,80],ut=[16,25,32,45,46,54,60,61,62,63,64,65,66,71,73],Et=[16,25,30,32,45,46,50,54,60,61,62,63,64,65,66,71,73,88,89,90,91],bt=[5,8,9,10,11,16,19,23,25],xt=[54,88,89,90,91],Tt=[54,65,66,88,89,90,91],Wt=[54,60,61,62,63,64,88,89,90,91],dt=[16,25,32],ve=[1,107],et={trace:function(){},yy:{},symbols_:{error:2,start:3,mermaidDoc:4,statments:5,direction:6,directive:7,direction_tb:8,direction_bt:9,direction_rl:10,direction_lr:11,graphConfig:12,openDirective:13,typeDirective:14,closeDirective:15,NEWLINE:16,":":17,argDirective:18,open_directive:19,type_directive:20,arg_directive:21,close_directive:22,CLASS_DIAGRAM:23,statements:24,EOF:25,statement:26,className:27,alphaNumToken:28,classLiteralName:29,GENERICTYPE:30,relationStatement:31,LABEL:32,classStatement:33,methodStatement:34,annotationStatement:35,clickStatement:36,cssClassStatement:37,noteStatement:38,acc_title:39,acc_title_value:40,acc_descr:41,acc_descr_value:42,acc_descr_multiline_value:43,CLASS:44,STYLE_SEPARATOR:45,STRUCT_START:46,members:47,STRUCT_STOP:48,ANNOTATION_START:49,ANNOTATION_END:50,MEMBER:51,SEPARATOR:52,relation:53,STR:54,NOTE_FOR:55,noteText:56,NOTE:57,relationType:58,lineType:59,AGGREGATION:60,EXTENSION:61,COMPOSITION:62,DEPENDENCY:63,LOLLIPOP:64,LINE:65,DOTTED_LINE:66,CALLBACK:67,LINK:68,LINK_TARGET:69,CLICK:70,CALLBACK_NAME:71,CALLBACK_ARGS:72,HREF:73,CSSCLASS:74,commentToken:75,textToken:76,graphCodeTokens:77,textNoTagsToken:78,TAGSTART:79,TAGEND:80,"==":81,"--":82,PCT:83,DEFAULT:84,SPACE:85,MINUS:86,keywords:87,UNICODE_TEXT:88,NUM:89,ALPHA:90,BQUOTE_STR:91,$accept:0,$end:1},terminals_:{2:"error",5:"statments",8:"direction_tb",9:"direction_bt",10:"direction_rl",11:"direction_lr",16:"NEWLINE",17:":",19:"open_directive",20:"type_directive",21:"arg_directive",22:"close_directive",23:"CLASS_DIAGRAM",25:"EOF",30:"GENERICTYPE",32:"LABEL",39:"acc_title",40:"acc_title_value",41:"acc_descr",42:"acc_descr_value",43:"acc_descr_multiline_value",44:"CLASS",45:"STYLE_SEPARATOR",46:"STRUCT_START",48:"STRUCT_STOP",49:"ANNOTATION_START",50:"ANNOTATION_END",51:"MEMBER",52:"SEPARATOR",54:"STR",55:"NOTE_FOR",57:"NOTE",60:"AGGREGATION",61:"EXTENSION",62:"COMPOSITION",63:"DEPENDENCY",64:"LOLLIPOP",65:"LINE",66:"DOTTED_LINE",67:"CALLBACK",68:"LINK",69:"LINK_TARGET",70:"CLICK",71:"CALLBACK_NAME",72:"CALLBACK_ARGS",73:"HREF",74:"CSSCLASS",77:"graphCodeTokens",79:"TAGSTART",80:"TAGEND",81:"==",82:"--",83:"PCT",84:"DEFAULT",85:"SPACE",86:"MINUS",87:"keywords",88:"UNICODE_TEXT",89:"NUM",90:"ALPHA",91:"BQUOTE_STR"},productions_:[0,[3,1],[3,1],[3,1],[3,2],[6,1],[6,1],[6,1],[6,1],[4,1],[7,4],[7,6],[13,1],[14,1],[18,1],[15,1],[12,4],[24,1],[24,2],[24,3],[27,1],[27,1],[27,2],[27,2],[27,2],[26,1],[26,2],[26,1],[26,1],[26,1],[26,1],[26,1],[26,1],[26,1],[26,1],[26,2],[26,2],[26,1],[33,2],[33,4],[33,5],[33,7],[35,4],[47,1],[47,2],[34,1],[34,2],[34,1],[34,1],[31,3],[31,4],[31,4],[31,5],[38,3],[38,2],[53,3],[53,2],[53,2],[53,1],[58,1],[58,1],[58,1],[58,1],[58,1],[59,1],[59,1],[36,3],[36,4],[36,3],[36,4],[36,4],[36,5],[36,3],[36,4],[36,4],[36,5],[36,3],[36,4],[36,4],[36,5],[37,3],[75,1],[75,1],[76,1],[76,1],[76,1],[76,1],[76,1],[76,1],[76,1],[78,1],[78,1],[78,1],[78,1],[28,1],[28,1],[28,1],[29,1],[56,1]],performAction:function(q,U,mt,N,Lt,nt,Be){var vt=nt.length-1;switch(Lt){case 5:N.setDirection("TB");break;case 6:N.setDirection("BT");break;case 7:N.setDirection("RL");break;case 8:N.setDirection("LR");break;case 12:N.parseDirective("%%{","open_directive");break;case 13:N.parseDirective(nt[vt],"type_directive");break;case 14:nt[vt]=nt[vt].trim().replace(/'/g,'"'),N.parseDirective(nt[vt],"arg_directive");break;case 15:N.parseDirective("}%%","close_directive","class");break;case 20:case 21:this.$=nt[vt];break;case 22:this.$=nt[vt-1]+nt[vt];break;case 23:case 24:this.$=nt[vt-1]+"~"+nt[vt];break;case 25:N.addRelation(nt[vt]);break;case 26:nt[vt-1].title=N.cleanupLabel(nt[vt]),N.addRelation(nt[vt-1]);break;case 35:this.$=nt[vt].trim(),N.setAccTitle(this.$);break;case 36:case 37:this.$=nt[vt].trim(),N.setAccDescription(this.$);break;case 38:N.addClass(nt[vt]);break;case 39:N.addClass(nt[vt-2]),N.setCssClass(nt[vt-2],nt[vt]);break;case 40:N.addClass(nt[vt-3]),N.addMembers(nt[vt-3],nt[vt-1]);break;case 41:N.addClass(nt[vt-5]),N.setCssClass(nt[vt-5],nt[vt-3]),N.addMembers(nt[vt-5],nt[vt-1]);break;case 42:N.addAnnotation(nt[vt],nt[vt-2]);break;case 43:this.$=[nt[vt]];break;case 44:nt[vt].push(nt[vt-1]),this.$=nt[vt];break;case 45:break;case 46:N.addMember(nt[vt-1],N.cleanupLabel(nt[vt]));break;case 47:break;case 48:break;case 49:this.$={id1:nt[vt-2],id2:nt[vt],relation:nt[vt-1],relationTitle1:"none",relationTitle2:"none"};break;case 50:this.$={id1:nt[vt-3],id2:nt[vt],relation:nt[vt-1],relationTitle1:nt[vt-2],relationTitle2:"none"};break;case 51:this.$={id1:nt[vt-3],id2:nt[vt],relation:nt[vt-2],relationTitle1:"none",relationTitle2:nt[vt-1]};break;case 52:this.$={id1:nt[vt-4],id2:nt[vt],relation:nt[vt-2],relationTitle1:nt[vt-3],relationTitle2:nt[vt-1]};break;case 53:N.addNote(nt[vt],nt[vt-1]);break;case 54:N.addNote(nt[vt]);break;case 55:this.$={type1:nt[vt-2],type2:nt[vt],lineType:nt[vt-1]};break;case 56:this.$={type1:"none",type2:nt[vt],lineType:nt[vt-1]};break;case 57:this.$={type1:nt[vt-1],type2:"none",lineType:nt[vt]};break;case 58:this.$={type1:"none",type2:"none",lineType:nt[vt]};break;case 59:this.$=N.relationType.AGGREGATION;break;case 60:this.$=N.relationType.EXTENSION;break;case 61:this.$=N.relationType.COMPOSITION;break;case 62:this.$=N.relationType.DEPENDENCY;break;case 63:this.$=N.relationType.LOLLIPOP;break;case 64:this.$=N.lineType.LINE;break;case 65:this.$=N.lineType.DOTTED_LINE;break;case 66:case 72:this.$=nt[vt-2],N.setClickEvent(nt[vt-1],nt[vt]);break;case 67:case 73:this.$=nt[vt-3],N.setClickEvent(nt[vt-2],nt[vt-1]),N.setTooltip(nt[vt-2],nt[vt]);break;case 68:case 76:this.$=nt[vt-2],N.setLink(nt[vt-1],nt[vt]);break;case 69:this.$=nt[vt-3],N.setLink(nt[vt-2],nt[vt-1],nt[vt]);break;case 70:case 78:this.$=nt[vt-3],N.setLink(nt[vt-2],nt[vt-1]),N.setTooltip(nt[vt-2],nt[vt]);break;case 71:case 79:this.$=nt[vt-4],N.setLink(nt[vt-3],nt[vt-2],nt[vt]),N.setTooltip(nt[vt-3],nt[vt-1]);break;case 74:this.$=nt[vt-3],N.setClickEvent(nt[vt-2],nt[vt-1],nt[vt]);break;case 75:this.$=nt[vt-4],N.setClickEvent(nt[vt-3],nt[vt-2],nt[vt-1]),N.setTooltip(nt[vt-3],nt[vt]);break;case 77:this.$=nt[vt-3],N.setLink(nt[vt-2],nt[vt-1],nt[vt]);break;case 80:N.setCssClass(nt[vt-1],nt[vt]);break}},table:[{3:1,4:2,5:e,6:4,7:5,8:s,9:r,10:o,11:a,12:6,13:11,19:u,23:h},{1:[3]},{1:[2,1]},{1:[2,2]},{1:[2,3]},{3:14,4:2,5:e,6:4,7:5,8:s,9:r,10:o,11:a,12:6,13:11,19:u,23:h},{1:[2,9]},t(d,[2,5]),t(d,[2,6]),t(d,[2,7]),t(d,[2,8]),{14:15,20:[1,16]},{16:[1,17]},{20:[2,12]},{1:[2,4]},{15:18,17:[1,19],22:y},t([17,22],[2,13]),{6:31,7:30,8:s,9:r,10:o,11:a,13:11,19:u,24:21,26:22,27:35,28:46,29:47,31:23,33:24,34:25,35:26,36:27,37:28,38:29,39:_,41:v,43:x,44:k,49:D,51:M,52:R,55:Y,57:V,67:X,68:J,70:rt,74:lt,88:tt,89:it,90:j,91:W},{16:[1,52]},{18:53,21:[1,54]},{16:[2,15]},{25:[1,55]},{16:[1,56],25:[2,17]},t($,[2,25],{32:[1,57]}),t($,[2,27]),t($,[2,28]),t($,[2,29]),t($,[2,30]),t($,[2,31]),t($,[2,32]),t($,[2,33]),t($,[2,34]),{40:[1,58]},{42:[1,59]},t($,[2,37]),t($,[2,45],{53:60,58:63,59:64,32:[1,62],54:[1,61],60:I,61:H,62:S,63:yt,64:T,65:Dt,66:ce}),{27:72,28:46,29:47,88:tt,89:it,90:j,91:W},t($,[2,47]),t($,[2,48]),{28:73,88:tt,89:it,90:j},{27:74,28:46,29:47,88:tt,89:it,90:j,91:W},{27:75,28:46,29:47,88:tt,89:it,90:j,91:W},{27:76,28:46,29:47,88:tt,89:it,90:j,91:W},{54:[1,77]},{27:78,28:46,29:47,88:tt,89:it,90:j,91:W},{54:Gt,56:79},t(ut,[2,20],{28:46,29:47,27:81,30:[1,82],88:tt,89:it,90:j,91:W}),t(ut,[2,21],{30:[1,83]}),t(Et,[2,94]),t(Et,[2,95]),t(Et,[2,96]),t([16,25,30,32,45,46,54,60,61,62,63,64,65,66,71,73],[2,97]),t(bt,[2,10]),{15:84,22:y},{22:[2,14]},{1:[2,16]},{6:31,7:30,8:s,9:r,10:o,11:a,13:11,19:u,24:85,25:[2,18],26:22,27:35,28:46,29:47,31:23,33:24,34:25,35:26,36:27,37:28,38:29,39:_,41:v,43:x,44:k,49:D,51:M,52:R,55:Y,57:V,67:X,68:J,70:rt,74:lt,88:tt,89:it,90:j,91:W},t($,[2,26]),t($,[2,35]),t($,[2,36]),{27:86,28:46,29:47,54:[1,87],88:tt,89:it,90:j,91:W},{53:88,58:63,59:64,60:I,61:H,62:S,63:yt,64:T,65:Dt,66:ce},t($,[2,46]),{59:89,65:Dt,66:ce},t(xt,[2,58],{58:90,60:I,61:H,62:S,63:yt,64:T}),t(Tt,[2,59]),t(Tt,[2,60]),t(Tt,[2,61]),t(Tt,[2,62]),t(Tt,[2,63]),t(Wt,[2,64]),t(Wt,[2,65]),t($,[2,38],{45:[1,91],46:[1,92]}),{50:[1,93]},{54:[1,94]},{54:[1,95]},{71:[1,96],73:[1,97]},{28:98,88:tt,89:it,90:j},{54:Gt,56:99},t($,[2,54]),t($,[2,98]),t(ut,[2,22]),t(ut,[2,23]),t(ut,[2,24]),{16:[1,100]},{25:[2,19]},t(dt,[2,49]),{27:101,28:46,29:47,88:tt,89:it,90:j,91:W},{27:102,28:46,29:47,54:[1,103],88:tt,89:it,90:j,91:W},t(xt,[2,57],{58:104,60:I,61:H,62:S,63:yt,64:T}),t(xt,[2,56]),{28:105,88:tt,89:it,90:j},{47:106,51:ve},{27:108,28:46,29:47,88:tt,89:it,90:j,91:W},t($,[2,66],{54:[1,109]}),t($,[2,68],{54:[1,111],69:[1,110]}),t($,[2,72],{54:[1,112],72:[1,113]}),t($,[2,76],{54:[1,115],69:[1,114]}),t($,[2,80]),t($,[2,53]),t(bt,[2,11]),t(dt,[2,51]),t(dt,[2,50]),{27:116,28:46,29:47,88:tt,89:it,90:j,91:W},t(xt,[2,55]),t($,[2,39],{46:[1,117]}),{48:[1,118]},{47:119,48:[2,43],51:ve},t($,[2,42]),t($,[2,67]),t($,[2,69]),t($,[2,70],{69:[1,120]}),t($,[2,73]),t($,[2,74],{54:[1,121]}),t($,[2,77]),t($,[2,78],{69:[1,122]}),t(dt,[2,52]),{47:123,51:ve},t($,[2,40]),{48:[2,44]},t($,[2,71]),t($,[2,75]),t($,[2,79]),{48:[1,124]},t($,[2,41])],defaultActions:{2:[2,1],3:[2,2],4:[2,3],6:[2,9],13:[2,12],14:[2,4],20:[2,15],54:[2,14],55:[2,16],85:[2,19],119:[2,44]},parseError:function(q,U){if(U.recoverable)this.trace(q);else{var mt=new Error(q);throw mt.hash=U,mt}},parse:function(q){var U=this,mt=[0],N=[],Lt=[null],nt=[],Be=this.table,vt="",de=0,Xt=0,Nt=2,Qt=1,qt=nt.slice.call(arguments,1),Ot=Object.create(this.lexer),Ct={yy:{}};for(var gn in this.yy)Object.prototype.hasOwnProperty.call(this.yy,gn)&&(Ct.yy[gn]=this.yy[gn]);Ot.setInput(q,Ct.yy),Ct.yy.lexer=Ot,Ct.yy.parser=this,typeof Ot.yylloc>"u"&&(Ot.yylloc={});var We=Ot.yylloc;nt.push(We);var Ue=Ot.options&&Ot.options.ranges;typeof Ct.yy.parseError=="function"?this.parseError=Ct.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function je(){var wt;return wt=N.pop()||Ot.lex()||Qt,typeof wt!="number"&&(wt instanceof Array&&(N=wt,wt=N.pop()),wt=U.symbols_[wt]||wt),wt}for(var Oe,zn,Me,Se,we={},Ht,Rt,ae,Ut;;){if(zn=mt[mt.length-1],this.defaultActions[zn]?Me=this.defaultActions[zn]:((Oe===null||typeof Oe>"u")&&(Oe=je()),Me=Be[zn]&&Be[zn][Oe]),typeof Me>"u"||!Me.length||!Me[0]){var Te="";Ut=[];for(Ht in Be[zn])this.terminals_[Ht]&&Ht>Nt&&Ut.push("'"+this.terminals_[Ht]+"'");Ot.showPosition?Te="Parse error on line "+(de+1)+`:
`+Ot.showPosition()+`
Expecting `+Ut.join(", ")+", got '"+(this.terminals_[Oe]||Oe)+"'":Te="Parse error on line "+(de+1)+": Unexpected "+(Oe==Qt?"end of input":"'"+(this.terminals_[Oe]||Oe)+"'"),this.parseError(Te,{text:Ot.match,token:this.terminals_[Oe]||Oe,line:Ot.yylineno,loc:We,expected:Ut})}if(Me[0]instanceof Array&&Me.length>1)throw new Error("Parse Error: multiple actions possible at state: "+zn+", token: "+Oe);switch(Me[0]){case 1:mt.push(Oe),Lt.push(Ot.yytext),nt.push(Ot.yylloc),mt.push(Me[1]),Oe=null,Xt=Ot.yyleng,vt=Ot.yytext,de=Ot.yylineno,We=Ot.yylloc;break;case 2:if(Rt=this.productions_[Me[1]][1],we.$=Lt[Lt.length-Rt],we._$={first_line:nt[nt.length-(Rt||1)].first_line,last_line:nt[nt.length-1].last_line,first_column:nt[nt.length-(Rt||1)].first_column,last_column:nt[nt.length-1].last_column},Ue&&(we._$.range=[nt[nt.length-(Rt||1)].range[0],nt[nt.length-1].range[1]]),Se=this.performAction.apply(we,[vt,Xt,de,Ct.yy,Me[1],Lt,nt].concat(qt)),typeof Se<"u")return Se;Rt&&(mt=mt.slice(0,-1*Rt*2),Lt=Lt.slice(0,-1*Rt),nt=nt.slice(0,-1*Rt)),mt.push(this.productions_[Me[1]][0]),Lt.push(we.$),nt.push(we._$),ae=Be[mt[mt.length-2]][mt[mt.length-1]],mt.push(ae);break;case 3:return!0}}return!0}},st=function(){var Z={EOF:1,parseError:function(U,mt){if(this.yy.parser)this.yy.parser.parseError(U,mt);else throw new Error(U)},setInput:function(q,U){return this.yy=U||this.yy||{},this._input=q,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var q=this._input[0];this.yytext+=q,this.yyleng++,this.offset++,this.match+=q,this.matched+=q;var U=q.match(/(?:\r\n?|\n).*/g);return U?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),q},unput:function(q){var U=q.length,mt=q.split(/(?:\r\n?|\n)/g);this._input=q+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-U),this.offset-=U;var N=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),mt.length-1&&(this.yylineno-=mt.length-1);var Lt=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:mt?(mt.length===N.length?this.yylloc.first_column:0)+N[N.length-mt.length].length-mt[0].length:this.yylloc.first_column-U},this.options.ranges&&(this.yylloc.range=[Lt[0],Lt[0]+this.yyleng-U]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(q){this.unput(this.match.slice(q))},pastInput:function(){var q=this.matched.substr(0,this.matched.length-this.match.length);return(q.length>20?"...":"")+q.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var q=this.match;return q.length<20&&(q+=this._input.substr(0,20-q.length)),(q.substr(0,20)+(q.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var q=this.pastInput(),U=new Array(q.length+1).join("-");return q+this.upcomingInput()+`
`+U+"^"},test_match:function(q,U){var mt,N,Lt;if(this.options.backtrack_lexer&&(Lt={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(Lt.yylloc.range=this.yylloc.range.slice(0))),N=q[0].match(/(?:\r\n?|\n).*/g),N&&(this.yylineno+=N.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:N?N[N.length-1].length-N[N.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+q[0].length},this.yytext+=q[0],this.match+=q[0],this.matches=q,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(q[0].length),this.matched+=q[0],mt=this.performAction.call(this,this.yy,this,U,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),mt)return mt;if(this._backtrack){for(var nt in Lt)this[nt]=Lt[nt];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var q,U,mt,N;this._more||(this.yytext="",this.match="");for(var Lt=this._currentRules(),nt=0;nt<Lt.length;nt++)if(mt=this._input.match(this.rules[Lt[nt]]),mt&&(!U||mt[0].length>U[0].length)){if(U=mt,N=nt,this.options.backtrack_lexer){if(q=this.test_match(mt,Lt[nt]),q!==!1)return q;if(this._backtrack){U=!1;continue}else return!1}else if(!this.options.flex)break}return U?(q=this.test_match(U,Lt[N]),q!==!1?q:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var U=this.next();return U||this.lex()},begin:function(U){this.conditionStack.push(U)},popState:function(){var U=this.conditionStack.length-1;return U>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(U){return U=this.conditionStack.length-1-Math.abs(U||0),U>=0?this.conditionStack[U]:"INITIAL"},pushState:function(U){this.begin(U)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(U,mt,N,Lt){switch(N){case 0:return this.begin("open_directive"),19;case 1:return 8;case 2:return 9;case 3:return 10;case 4:return 11;case 5:return this.begin("type_directive"),20;case 6:return this.popState(),this.begin("arg_directive"),17;case 7:return this.popState(),this.popState(),22;case 8:return 21;case 9:break;case 10:break;case 11:return this.begin("acc_title"),39;case 12:return this.popState(),"acc_title_value";case 13:return this.begin("acc_descr"),41;case 14:return this.popState(),"acc_descr_value";case 15:this.begin("acc_descr_multiline");break;case 16:this.popState();break;case 17:return"acc_descr_multiline_value";case 18:return 16;case 19:break;case 20:return 23;case 21:return 23;case 22:return this.begin("struct"),46;case 23:return"EDGE_STATE";case 24:return"EOF_IN_STRUCT";case 25:return"OPEN_IN_STRUCT";case 26:return this.popState(),48;case 27:break;case 28:return"MEMBER";case 29:return 44;case 30:return 74;case 31:return 67;case 32:return 68;case 33:return 70;case 34:return 55;case 35:return 57;case 36:return 49;case 37:return 50;case 38:this.begin("generic");break;case 39:this.popState();break;case 40:return"GENERICTYPE";case 41:this.begin("string");break;case 42:this.popState();break;case 43:return"STR";case 44:this.begin("bqstring");break;case 45:this.popState();break;case 46:return"BQUOTE_STR";case 47:this.begin("href");break;case 48:this.popState();break;case 49:return 73;case 50:this.begin("callback_name");break;case 51:this.popState();break;case 52:this.popState(),this.begin("callback_args");break;case 53:return 71;case 54:this.popState();break;case 55:return 72;case 56:return 69;case 57:return 69;case 58:return 69;case 59:return 69;case 60:return 61;case 61:return 61;case 62:return 63;case 63:return 63;case 64:return 62;case 65:return 60;case 66:return 64;case 67:return 65;case 68:return 66;case 69:return 32;case 70:return 45;case 71:return 86;case 72:return"DOT";case 73:return"PLUS";case 74:return 83;case 75:return"EQUALS";case 76:return"EQUALS";case 77:return 90;case 78:return"PUNCTUATION";case 79:return 89;case 80:return 88;case 81:return 85;case 82:return 25}},rules:[/^(?:%%\{)/,/^(?:.*direction\s+TB[^\n]*)/,/^(?:.*direction\s+BT[^\n]*)/,/^(?:.*direction\s+RL[^\n]*)/,/^(?:.*direction\s+LR[^\n]*)/,/^(?:((?:(?!\}%%)[^:.])*))/,/^(?::)/,/^(?:\}%%)/,/^(?:((?:(?!\}%%).|\n)*))/,/^(?:%%(?!\{)*[^\n]*(\r?\n?)+)/,/^(?:%%[^\n]*(\r?\n)*)/,/^(?:accTitle\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*\{\s*)/,/^(?:[\}])/,/^(?:[^\}]*)/,/^(?:\s*(\r?\n)+)/,/^(?:\s+)/,/^(?:classDiagram-v2\b)/,/^(?:classDiagram\b)/,/^(?:[{])/,/^(?:\[\*\])/,/^(?:$)/,/^(?:[{])/,/^(?:[}])/,/^(?:[\n])/,/^(?:[^{}\n]*)/,/^(?:class\b)/,/^(?:cssClass\b)/,/^(?:callback\b)/,/^(?:link\b)/,/^(?:click\b)/,/^(?:note for\b)/,/^(?:note\b)/,/^(?:<<)/,/^(?:>>)/,/^(?:[~])/,/^(?:[~])/,/^(?:[^~]*)/,/^(?:["])/,/^(?:["])/,/^(?:[^"]*)/,/^(?:[`])/,/^(?:[`])/,/^(?:[^`]+)/,/^(?:href[\s]+["])/,/^(?:["])/,/^(?:[^"]*)/,/^(?:call[\s]+)/,/^(?:\([\s]*\))/,/^(?:\()/,/^(?:[^(]*)/,/^(?:\))/,/^(?:[^)]*)/,/^(?:_self\b)/,/^(?:_blank\b)/,/^(?:_parent\b)/,/^(?:_top\b)/,/^(?:\s*<\|)/,/^(?:\s*\|>)/,/^(?:\s*>)/,/^(?:\s*<)/,/^(?:\s*\*)/,/^(?:\s*o\b)/,/^(?:\s*\(\))/,/^(?:--)/,/^(?:\.\.)/,/^(?::{1}[^:\n;]+)/,/^(?::{3})/,/^(?:-)/,/^(?:\.)/,/^(?:\+)/,/^(?:%)/,/^(?:=)/,/^(?:=)/,/^(?:\w+)/,/^(?:[!"#$%&'*+,-.`?\\/])/,/^(?:[0-9]+)/,/^(?:[\u00AA\u00B5\u00BA\u00C0-\u00D6\u00D8-\u00F6]|[\u00F8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377]|[\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5]|[\u03F7-\u0481\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA]|[\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE]|[\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA]|[\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0]|[\u08A2-\u08AC\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0977]|[\u0979-\u097F\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2]|[\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A]|[\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39]|[\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8]|[\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C]|[\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C]|[\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99]|[\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0]|[\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D]|[\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3]|[\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10]|[\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1]|[\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81]|[\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3]|[\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6]|[\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A]|[\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081]|[\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D]|[\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0]|[\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310]|[\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C]|[\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u1700-\u170C\u170E-\u1711]|[\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7]|[\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C]|[\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16]|[\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF]|[\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC]|[\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D]|[\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D]|[\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3]|[\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F]|[\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128]|[\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184]|[\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3]|[\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6]|[\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE]|[\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C]|[\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D]|[\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC]|[\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B]|[\uA640-\uA66E\uA67F-\uA697\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788]|[\uA78B-\uA78E\uA790-\uA793\uA7A0-\uA7AA\uA7F8-\uA801\uA803-\uA805]|[\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB]|[\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uAA00-\uAA28]|[\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA80-\uAAAF\uAAB1\uAAB5]|[\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4]|[\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E]|[\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D]|[\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36]|[\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D]|[\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC]|[\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF]|[\uFFD2-\uFFD7\uFFDA-\uFFDC])/,/^(?:\s)/,/^(?:$)/],conditions:{acc_descr_multiline:{rules:[16,17],inclusive:!1},acc_descr:{rules:[14],inclusive:!1},acc_title:{rules:[12],inclusive:!1},arg_directive:{rules:[7,8],inclusive:!1},type_directive:{rules:[6,7],inclusive:!1},open_directive:{rules:[5],inclusive:!1},callback_args:{rules:[54,55],inclusive:!1},callback_name:{rules:[51,52,53],inclusive:!1},href:{rules:[48,49],inclusive:!1},struct:{rules:[23,24,25,26,27,28],inclusive:!1},generic:{rules:[39,40],inclusive:!1},bqstring:{rules:[45,46],inclusive:!1},string:{rules:[42,43],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,9,10,11,13,15,18,19,20,21,22,23,29,30,31,32,33,34,35,36,37,38,41,44,47,50,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82],inclusive:!0}}};return Z}();et.lexer=st;function pt(){this.yy={}}return pt.prototype=et,et.Parser=pt,new pt}();kg.parser=kg;const Vv=kg,aO=(t,e)=>{var s;return((s=e==null?void 0:e.class)==null?void 0:s.defaultRenderer)==="dagre-wrapper"?!1:t.match(/^\s*classDiagram/)!==null},lO=(t,e)=>{var s;return t.match(/^\s*classDiagram/)!==null&&((s=e==null?void 0:e.class)==null?void 0:s.defaultRenderer)==="dagre-wrapper"?!0:t.match(/^\s*classDiagram-v2/)!==null},Cg="classid-";let Ag=[],Ns={},Pf=[],$v=0,Ph=[];const Vh=t=>vn.sanitizeText(t,ht()),cO=function(t,e,s){Bs.parseDirective(this,t,e,s)},$h=function(t){let e="",s=t;if(t.indexOf("~")>0){let r=t.split("~");s=r[0],e=vn.sanitizeText(r[1],ht())}return{className:s,type:e}},wg=function(t){let e=$h(t);Ns[e.className]===void 0&&(Ns[e.className]={id:e.className,type:e.type,cssClasses:[],methods:[],members:[],annotations:[],domId:Cg+e.className+"-"+$v},$v++)},Yv=function(t){const e=Object.keys(Ns);for(const s of e)if(Ns[s].id===t)return Ns[s].domId},uO=function(){Ag=[],Ns={},Pf=[],Ph=[],Ph.push(zv),zi()},hO=function(t){return Ns[t]},pO=function(){return Ns},dO=function(){return Ag},fO=function(){return Pf},yO=function(t){w.debug("Adding relation: "+JSON.stringify(t)),wg(t.id1),wg(t.id2),t.id1=$h(t.id1).className,t.id2=$h(t.id2).className,t.relationTitle1=vn.sanitizeText(t.relationTitle1.trim(),ht()),t.relationTitle2=vn.sanitizeText(t.relationTitle2.trim(),ht()),Ag.push(t)},gO=function(t,e){const s=$h(t).className;Ns[s].annotations.push(e)},Uv=function(t,e){const s=$h(t).className,r=Ns[s];if(typeof e=="string"){const o=e.trim();o.startsWith("<<")&&o.endsWith(">>")?r.annotations.push(Vh(o.substring(2,o.length-2))):o.indexOf(")")>0?r.methods.push(Vh(o)):o&&r.members.push(Vh(o))}},mO=function(t,e){Array.isArray(e)&&(e.reverse(),e.forEach(s=>Uv(t,s)))},_O=function(t,e){const s={id:`note${Pf.length}`,class:e,text:t};Pf.push(s)},vO=function(t){return t.substring(0,1)===":"?vn.sanitizeText(t.substr(1).trim(),ht()):Vh(t.trim())},Eg=function(t,e){t.split(",").forEach(function(s){let r=s;s[0].match(/\d/)&&(r=Cg+r),Ns[r]!==void 0&&Ns[r].cssClasses.push(e)})},bO=function(t,e){const s=ht();t.split(",").forEach(function(r){e!==void 0&&(Ns[r].tooltip=vn.sanitizeText(e,s))})},xO=function(t){return Ns[t].tooltip},kO=function(t,e,s){const r=ht();t.split(",").forEach(function(o){let a=o;o[0].match(/\d/)&&(a=Cg+a),Ns[a]!==void 0&&(Ns[a].link=wn.formatUrl(e,r),r.securityLevel==="sandbox"?Ns[a].linkTarget="_top":typeof s=="string"?Ns[a].linkTarget=Vh(s):Ns[a].linkTarget="_blank")}),Eg(t,"clickable")},CO=function(t,e,s){t.split(",").forEach(function(r){AO(r,e,s),Ns[r].haveCallback=!0}),Eg(t,"clickable")},AO=function(t,e,s){const r=ht();let o=t,a=Yv(o);if(r.securityLevel==="loose"&&e!==void 0&&Ns[o]!==void 0){let u=[];if(typeof s=="string"){u=s.split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)/);for(let h=0;h<u.length;h++){let d=u[h].trim();d.charAt(0)==='"'&&d.charAt(d.length-1)==='"'&&(d=d.substr(1,d.length-2)),u[h]=d}}u.length===0&&u.push(a),Ph.push(function(){const h=document.querySelector(`[id="${a}"]`);h!==null&&h.addEventListener("click",function(){wn.runFunc(e,...u)},!1)})}},wO=function(t){Ph.forEach(function(e){e(t)})},EO={LINE:0,DOTTED_LINE:1},BO={AGGREGATION:0,EXTENSION:1,COMPOSITION:2,DEPENDENCY:3,LOLLIPOP:4},zv=function(t){let e=ee(".mermaidTooltip");(e._groups||e)[0][0]===null&&(e=ee("body").append("div").attr("class","mermaidTooltip").style("opacity",0)),ee(t).select("svg").selectAll("g.node").on("mouseover",function(){const o=ee(this);if(o.attr("title")===null)return;const u=this.getBoundingClientRect();e.transition().duration(200).style("opacity",".9"),e.text(o.attr("title")).style("left",window.scrollX+u.left+(u.right-u.left)/2+"px").style("top",window.scrollY+u.top-14+document.body.scrollTop+"px"),e.html(e.html().replace(/&lt;br\/&gt;/g,"<br/>")),o.classed("hover",!0)}).on("mouseout",function(){e.transition().duration(500).style("opacity",0),ee(this).classed("hover",!1)})};Ph.push(zv);let Wv="TB";const hu={parseDirective:cO,setAccTitle:Ai,getAccTitle:Wi,getAccDescription:ji,setAccDescription:Hi,getConfig:()=>ht().class,addClass:wg,bindFunctions:wO,clear:uO,getClass:hO,getClasses:pO,getNotes:fO,addAnnotation:gO,addNote:_O,getRelations:dO,addRelation:yO,getDirection:()=>Wv,setDirection:t=>{Wv=t},addMember:Uv,addMembers:mO,cleanupLabel:vO,lineType:EO,relationType:BO,setClickEvent:CO,setCssClass:Eg,setLink:kO,getTooltip:xO,setTooltip:bO,lookUpDomId:Yv,setDiagramTitle:Qo,getDiagramTitle:Jo};function Co(t){return t!=null&&typeof t=="object"}var SO="[object Symbol]";function Wl(t){return typeof t=="symbol"||Co(t)&&Ol(t)==SO}function pu(t,e){for(var s=-1,r=t==null?0:t.length,o=Array(r);++s<r;)o[s]=e(t[s],s,t);return o}var TO=Array.isArray;const Hs=TO;var DO=1/0,Hv=ki?ki.prototype:void 0,jv=Hv?Hv.toString:void 0;function Gv(t){if(typeof t=="string")return t;if(Hs(t))return pu(t,Gv)+"";if(Wl(t))return jv?jv.call(t):"";var e=t+"";return e=="0"&&1/t==-DO?"-0":e}var FO=/\s/;function LO(t){for(var e=t.length;e--&&FO.test(t.charAt(e)););return e}var IO=/^\s+/;function MO(t){return t&&t.slice(0,LO(t)+1).replace(IO,"")}var qv=0/0,RO=/^[-+]0x[0-9a-f]+$/i,OO=/^0b[01]+$/i,NO=/^0o[0-7]+$/i,PO=parseInt;function VO(t){if(typeof t=="number")return t;if(Wl(t))return qv;if(ii(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=ii(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=MO(t);var s=OO.test(t);return s||NO.test(t)?PO(t.slice(2),s?2:8):RO.test(t)?qv:+t}var Xv=1/0,$O=17976931348623157e292;function Vf(t){if(!t)return t===0?t:0;if(t=VO(t),t===Xv||t===-Xv){var e=t<0?-1:1;return e*$O}return t===t?t:0}function YO(t){var e=Vf(t),s=e%1;return e===e?s?e-s:e:0}function Hl(t){return t}var UO=Pl(Vi,"WeakMap");const Bg=UO;var Kv=Object.create,zO=function(){function t(){}return function(e){if(!ii(e))return{};if(Kv)return Kv(e);t.prototype=e;var s=new t;return t.prototype=void 0,s}}();const WO=zO;function HO(t,e,s){switch(s.length){case 0:return t.call(e);case 1:return t.call(e,s[0]);case 2:return t.call(e,s[0],s[1]);case 3:return t.call(e,s[0],s[1],s[2])}return t.apply(e,s)}function jO(){}function Zv(t,e){var s=-1,r=t.length;for(e||(e=Array(r));++s<r;)e[s]=t[s];return e}var GO=800,qO=16,XO=Date.now;function KO(t){var e=0,s=0;return function(){var r=XO(),o=qO-(r-s);if(s=r,o>0){if(++e>=GO)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}function du(t){return function(){return t}}var ZO=function(){try{var t=Pl(Object,"defineProperty");return t({},"",{}),t}catch{}}();const $f=ZO;var QO=$f?function(t,e){return $f(t,"toString",{configurable:!0,enumerable:!1,value:du(e),writable:!0})}:Hl,JO=KO(QO);const Qv=JO;function Jv(t,e){for(var s=-1,r=t==null?0:t.length;++s<r&&e(t[s],s,t)!==!1;);return t}function t4(t,e,s,r){for(var o=t.length,a=s+(r?1:-1);r?a--:++a<o;)if(e(t[a],a,t))return a;return-1}function tN(t){return t!==t}function eN(t,e,s){for(var r=s-1,o=t.length;++r<o;)if(t[r]===e)return r;return-1}function nN(t,e,s){return e===e?eN(t,e,s):t4(t,tN,s)}function sN(t,e){var s=t==null?0:t.length;return!!s&&nN(t,e,0)>-1}var rN=9007199254740991,iN=/^(?:0|[1-9]\d*)$/;function Yf(t,e){var s=typeof t;return e=e??rN,!!e&&(s=="number"||s!="symbol"&&iN.test(t))&&t>-1&&t%1==0&&t<e}function Uf(t,e,s){e=="__proto__"&&$f?$f(t,e,{configurable:!0,enumerable:!0,value:s,writable:!0}):t[e]=s}var oN=Object.prototype,aN=oN.hasOwnProperty;function zf(t,e,s){var r=t[e];(!(aN.call(t,e)&&iu(r,s))||s===void 0&&!(e in t))&&Uf(t,e,s)}function Yh(t,e,s,r){var o=!s;s||(s={});for(var a=-1,u=e.length;++a<u;){var h=e[a],d=r?r(s[h],t[h],h,s,t):void 0;d===void 0&&(d=t[h]),o?Uf(s,h,d):zf(s,h,d)}return s}var e4=Math.max;function n4(t,e,s){return e=e4(e===void 0?t.length-1:e,0),function(){for(var r=arguments,o=-1,a=e4(r.length-e,0),u=Array(a);++o<a;)u[o]=r[e+o];o=-1;for(var h=Array(e+1);++o<e;)h[o]=r[o];return h[e]=s(u),HO(t,this,h)}}function Wf(t,e){return Qv(n4(t,e,Hl),t+"")}var lN=9007199254740991;function Sg(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=lN}function ja(t){return t!=null&&Sg(t.length)&&!ru(t)}function Uh(t,e,s){if(!ii(s))return!1;var r=typeof e;return(r=="number"?ja(s)&&Yf(e,s.length):r=="string"&&e in s)?iu(s[e],t):!1}function cN(t){return Wf(function(e,s){var r=-1,o=s.length,a=o>1?s[o-1]:void 0,u=o>2?s[2]:void 0;for(a=t.length>3&&typeof a=="function"?(o--,a):void 0,u&&Uh(s[0],s[1],u)&&(a=o<3?void 0:a,o=1),e=Object(e);++r<o;){var h=s[r];h&&t(e,h,r,a)}return e})}var uN=Object.prototype;function Hf(t){var e=t&&t.constructor,s=typeof e=="function"&&e.prototype||uN;return t===s}function hN(t,e){for(var s=-1,r=Array(t);++s<t;)r[s]=e(s);return r}var pN="[object Arguments]";function s4(t){return Co(t)&&Ol(t)==pN}var r4=Object.prototype,dN=r4.hasOwnProperty,fN=r4.propertyIsEnumerable,yN=s4(function(){return arguments}())?s4:function(t){return Co(t)&&dN.call(t,"callee")&&!fN.call(t,"callee")};const fu=yN;function gN(){return!1}var i4=l&&!l.nodeType&&l,o4=i4&&!0&&i&&!i.nodeType&&i,mN=o4&&o4.exports===i4,a4=mN?Vi.Buffer:void 0,_N=a4?a4.isBuffer:void 0,vN=_N||gN;const yu=vN;var bN="[object Arguments]",xN="[object Array]",kN="[object Boolean]",CN="[object Date]",AN="[object Error]",wN="[object Function]",EN="[object Map]",BN="[object Number]",SN="[object Object]",TN="[object RegExp]",DN="[object Set]",FN="[object String]",LN="[object WeakMap]",IN="[object ArrayBuffer]",MN="[object DataView]",RN="[object Float32Array]",ON="[object Float64Array]",NN="[object Int8Array]",PN="[object Int16Array]",VN="[object Int32Array]",$N="[object Uint8Array]",YN="[object Uint8ClampedArray]",UN="[object Uint16Array]",zN="[object Uint32Array]",bs={};bs[RN]=bs[ON]=bs[NN]=bs[PN]=bs[VN]=bs[$N]=bs[YN]=bs[UN]=bs[zN]=!0,bs[bN]=bs[xN]=bs[IN]=bs[kN]=bs[MN]=bs[CN]=bs[AN]=bs[wN]=bs[EN]=bs[BN]=bs[SN]=bs[TN]=bs[DN]=bs[FN]=bs[LN]=!1;function WN(t){return Co(t)&&Sg(t.length)&&!!bs[Ol(t)]}function jf(t){return function(e){return t(e)}}var l4=l&&!l.nodeType&&l,zh=l4&&!0&&i&&!i.nodeType&&i,HN=zh&&zh.exports===l4,Tg=HN&&V_.process,jN=function(){try{var t=zh&&zh.require&&zh.require("util").types;return t||Tg&&Tg.binding&&Tg.binding("util")}catch{}}();const gu=jN;var c4=gu&&gu.isTypedArray,GN=c4?jf(c4):WN;const Gf=GN;var qN=Object.prototype,XN=qN.hasOwnProperty;function u4(t,e){var s=Hs(t),r=!s&&fu(t),o=!s&&!r&&yu(t),a=!s&&!r&&!o&&Gf(t),u=s||r||o||a,h=u?hN(t.length,String):[],d=h.length;for(var y in t)(e||XN.call(t,y))&&!(u&&(y=="length"||o&&(y=="offset"||y=="parent")||a&&(y=="buffer"||y=="byteLength"||y=="byteOffset")||Yf(y,d)))&&h.push(y);return h}function h4(t,e){return function(s){return t(e(s))}}var KN=h4(Object.keys,Object);const ZN=KN;var QN=Object.prototype,JN=QN.hasOwnProperty;function p4(t){if(!Hf(t))return ZN(t);var e=[];for(var s in Object(t))JN.call(t,s)&&s!="constructor"&&e.push(s);return e}function ai(t){return ja(t)?u4(t):p4(t)}function tP(t){var e=[];if(t!=null)for(var s in Object(t))e.push(s);return e}var eP=Object.prototype,nP=eP.hasOwnProperty;function sP(t){if(!ii(t))return tP(t);var e=Hf(t),s=[];for(var r in t)r=="constructor"&&(e||!nP.call(t,r))||s.push(r);return s}function jl(t){return ja(t)?u4(t,!0):sP(t)}var rP=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,iP=/^\w*$/;function Dg(t,e){if(Hs(t))return!1;var s=typeof t;return s=="number"||s=="symbol"||s=="boolean"||t==null||Wl(t)?!0:iP.test(t)||!rP.test(t)||e!=null&&t in Object(e)}var oP=500;function aP(t){var e=ou(t,function(r){return s.size===oP&&s.clear(),r}),s=e.cache;return e}var lP=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,cP=/\\(\\)?/g,uP=aP(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(lP,function(s,r,o,a){e.push(o?a.replace(cP,"$1"):r||s)}),e});const hP=uP;function d4(t){return t==null?"":Gv(t)}function qf(t,e){return Hs(t)?t:Dg(t,e)?[t]:hP(d4(t))}var pP=1/0;function Wh(t){if(typeof t=="string"||Wl(t))return t;var e=t+"";return e=="0"&&1/t==-pP?"-0":e}function Xf(t,e){e=qf(e,t);for(var s=0,r=e.length;t!=null&&s<r;)t=t[Wh(e[s++])];return s&&s==r?t:void 0}function dP(t,e,s){var r=t==null?void 0:Xf(t,e);return r===void 0?s:r}function Fg(t,e){for(var s=-1,r=e.length,o=t.length;++s<r;)t[o+s]=e[s];return t}var f4=ki?ki.isConcatSpreadable:void 0;function fP(t){return Hs(t)||fu(t)||!!(f4&&t&&t[f4])}function Kf(t,e,s,r,o){var a=-1,u=t.length;for(s||(s=fP),o||(o=[]);++a<u;){var h=t[a];e>0&&s(h)?e>1?Kf(h,e-1,s,r,o):Fg(o,h):r||(o[o.length]=h)}return o}function mu(t){var e=t==null?0:t.length;return e?Kf(t,1):[]}function yP(t){return Qv(n4(t,void 0,mu),t+"")}var gP=h4(Object.getPrototypeOf,Object);const Lg=gP;var mP="[object Object]",_P=Function.prototype,vP=Object.prototype,y4=_P.toString,bP=vP.hasOwnProperty,xP=y4.call(Object);function g4(t){if(!Co(t)||Ol(t)!=mP)return!1;var e=Lg(t);if(e===null)return!0;var s=bP.call(e,"constructor")&&e.constructor;return typeof s=="function"&&s instanceof s&&y4.call(s)==xP}function kP(t,e,s,r){var o=-1,a=t==null?0:t.length;for(r&&a&&(s=t[++o]);++o<a;)s=e(s,t[o],o,t);return s}function CP(){this.__data__=new Ko,this.size=0}function AP(t){var e=this.__data__,s=e.delete(t);return this.size=e.size,s}function wP(t){return this.__data__.get(t)}function EP(t){return this.__data__.has(t)}var BP=200;function SP(t,e){var s=this.__data__;if(s instanceof Ko){var r=s.__data__;if(!Bh||r.length<BP-1)return r.push([t,e]),this.size=++s.size,this;s=this.__data__=new Zo(r)}return s.set(t,e),this.size=s.size,this}function Ki(t){var e=this.__data__=new Ko(t);this.size=e.size}Ki.prototype.clear=CP,Ki.prototype.delete=AP,Ki.prototype.get=wP,Ki.prototype.has=EP,Ki.prototype.set=SP;function TP(t,e){return t&&Yh(e,ai(e),t)}function DP(t,e){return t&&Yh(e,jl(e),t)}var m4=l&&!l.nodeType&&l,_4=m4&&!0&&i&&!i.nodeType&&i,FP=_4&&_4.exports===m4,v4=FP?Vi.Buffer:void 0,b4=v4?v4.allocUnsafe:void 0;function x4(t,e){if(e)return t.slice();var s=t.length,r=b4?b4(s):new t.constructor(s);return t.copy(r),r}function k4(t,e){for(var s=-1,r=t==null?0:t.length,o=0,a=[];++s<r;){var u=t[s];e(u,s,t)&&(a[o++]=u)}return a}function C4(){return[]}var LP=Object.prototype,IP=LP.propertyIsEnumerable,A4=Object.getOwnPropertySymbols,MP=A4?function(t){return t==null?[]:(t=Object(t),k4(A4(t),function(e){return IP.call(t,e)}))}:C4;const Ig=MP;function RP(t,e){return Yh(t,Ig(t),e)}var OP=Object.getOwnPropertySymbols,NP=OP?function(t){for(var e=[];t;)Fg(e,Ig(t)),t=Lg(t);return e}:C4;const w4=NP;function PP(t,e){return Yh(t,w4(t),e)}function E4(t,e,s){var r=e(t);return Hs(t)?r:Fg(r,s(t))}function Mg(t){return E4(t,ai,Ig)}function VP(t){return E4(t,jl,w4)}var $P=Pl(Vi,"DataView");const Rg=$P;var YP=Pl(Vi,"Promise");const Og=YP;var UP=Pl(Vi,"Set");const _u=UP;var B4="[object Map]",zP="[object Object]",S4="[object Promise]",T4="[object Set]",D4="[object WeakMap]",F4="[object DataView]",WP=Nl(Rg),HP=Nl(Bh),jP=Nl(Og),GP=Nl(_u),qP=Nl(Bg),Gl=Ol;(Rg&&Gl(new Rg(new ArrayBuffer(1)))!=F4||Bh&&Gl(new Bh)!=B4||Og&&Gl(Og.resolve())!=S4||_u&&Gl(new _u)!=T4||Bg&&Gl(new Bg)!=D4)&&(Gl=function(t){var e=Ol(t),s=e==zP?t.constructor:void 0,r=s?Nl(s):"";if(r)switch(r){case WP:return F4;case HP:return B4;case jP:return S4;case GP:return T4;case qP:return D4}return e});const vu=Gl;var XP=Object.prototype,KP=XP.hasOwnProperty;function ZP(t){var e=t.length,s=new t.constructor(e);return e&&typeof t[0]=="string"&&KP.call(t,"index")&&(s.index=t.index,s.input=t.input),s}var QP=Vi.Uint8Array;const Zf=QP;function Ng(t){var e=new t.constructor(t.byteLength);return new Zf(e).set(new Zf(t)),e}function JP(t,e){var s=e?Ng(t.buffer):t.buffer;return new t.constructor(s,t.byteOffset,t.byteLength)}var tV=/\w*$/;function eV(t){var e=new t.constructor(t.source,tV.exec(t));return e.lastIndex=t.lastIndex,e}var L4=ki?ki.prototype:void 0,I4=L4?L4.valueOf:void 0;function nV(t){return I4?Object(I4.call(t)):{}}function M4(t,e){var s=e?Ng(t.buffer):t.buffer;return new t.constructor(s,t.byteOffset,t.length)}var sV="[object Boolean]",rV="[object Date]",iV="[object Map]",oV="[object Number]",aV="[object RegExp]",lV="[object Set]",cV="[object String]",uV="[object Symbol]",hV="[object ArrayBuffer]",pV="[object DataView]",dV="[object Float32Array]",fV="[object Float64Array]",yV="[object Int8Array]",gV="[object Int16Array]",mV="[object Int32Array]",_V="[object Uint8Array]",vV="[object Uint8ClampedArray]",bV="[object Uint16Array]",xV="[object Uint32Array]";function kV(t,e,s){var r=t.constructor;switch(e){case hV:return Ng(t);case sV:case rV:return new r(+t);case pV:return JP(t,s);case dV:case fV:case yV:case gV:case mV:case _V:case vV:case bV:case xV:return M4(t,s);case iV:return new r;case oV:case cV:return new r(t);case aV:return eV(t);case lV:return new r;case uV:return nV(t)}}function R4(t){return typeof t.constructor=="function"&&!Hf(t)?WO(Lg(t)):{}}var CV="[object Map]";function AV(t){return Co(t)&&vu(t)==CV}var O4=gu&&gu.isMap,wV=O4?jf(O4):AV;const EV=wV;var BV="[object Set]";function SV(t){return Co(t)&&vu(t)==BV}var N4=gu&&gu.isSet,TV=N4?jf(N4):SV;const DV=TV;var FV=1,LV=2,IV=4,P4="[object Arguments]",MV="[object Array]",RV="[object Boolean]",OV="[object Date]",NV="[object Error]",V4="[object Function]",PV="[object GeneratorFunction]",VV="[object Map]",$V="[object Number]",$4="[object Object]",YV="[object RegExp]",UV="[object Set]",zV="[object String]",WV="[object Symbol]",HV="[object WeakMap]",jV="[object ArrayBuffer]",GV="[object DataView]",qV="[object Float32Array]",XV="[object Float64Array]",KV="[object Int8Array]",ZV="[object Int16Array]",QV="[object Int32Array]",JV="[object Uint8Array]",t$="[object Uint8ClampedArray]",e$="[object Uint16Array]",n$="[object Uint32Array]",gs={};gs[P4]=gs[MV]=gs[jV]=gs[GV]=gs[RV]=gs[OV]=gs[qV]=gs[XV]=gs[KV]=gs[ZV]=gs[QV]=gs[VV]=gs[$V]=gs[$4]=gs[YV]=gs[UV]=gs[zV]=gs[WV]=gs[JV]=gs[t$]=gs[e$]=gs[n$]=!0,gs[NV]=gs[V4]=gs[HV]=!1;function Hh(t,e,s,r,o,a){var u,h=e&FV,d=e&LV,y=e&IV;if(s&&(u=o?s(t,r,o,a):s(t)),u!==void 0)return u;if(!ii(t))return t;var _=Hs(t);if(_){if(u=ZP(t),!h)return Zv(t,u)}else{var v=vu(t),x=v==V4||v==PV;if(yu(t))return x4(t,h);if(v==$4||v==P4||x&&!o){if(u=d||x?{}:R4(t),!h)return d?PP(t,DP(u,t)):RP(t,TP(u,t))}else{if(!gs[v])return o?t:{};u=kV(t,v,h)}}a||(a=new Ki);var k=a.get(t);if(k)return k;a.set(t,u),DV(t)?t.forEach(function(R){u.add(Hh(R,e,s,R,t,a))}):EV(t)&&t.forEach(function(R,Y){u.set(Y,Hh(R,e,s,Y,t,a))});var D=y?d?VP:Mg:d?jl:ai,M=_?void 0:D(t);return Jv(M||t,function(R,Y){M&&(Y=R,R=t[Y]),zf(u,Y,Hh(R,e,s,Y,t,a))}),u}var s$=4;function r$(t){return Hh(t,s$)}var i$=1,o$=4;function a$(t){return Hh(t,i$|o$)}var l$="__lodash_hash_undefined__";function c$(t){return this.__data__.set(t,l$),this}function u$(t){return this.__data__.has(t)}function jh(t){var e=-1,s=t==null?0:t.length;for(this.__data__=new Zo;++e<s;)this.add(t[e])}jh.prototype.add=jh.prototype.push=c$,jh.prototype.has=u$;function h$(t,e){for(var s=-1,r=t==null?0:t.length;++s<r;)if(e(t[s],s,t))return!0;return!1}function Y4(t,e){return t.has(e)}var p$=1,d$=2;function U4(t,e,s,r,o,a){var u=s&p$,h=t.length,d=e.length;if(h!=d&&!(u&&d>h))return!1;var y=a.get(t),_=a.get(e);if(y&&_)return y==e&&_==t;var v=-1,x=!0,k=s&d$?new jh:void 0;for(a.set(t,e),a.set(e,t);++v<h;){var D=t[v],M=e[v];if(r)var R=u?r(M,D,v,e,t,a):r(D,M,v,t,e,a);if(R!==void 0){if(R)continue;x=!1;break}if(k){if(!h$(e,function(Y,V){if(!Y4(k,V)&&(D===Y||o(D,Y,s,r,a)))return k.push(V)})){x=!1;break}}else if(!(D===M||o(D,M,s,r,a))){x=!1;break}}return a.delete(t),a.delete(e),x}function f$(t){var e=-1,s=Array(t.size);return t.forEach(function(r,o){s[++e]=[o,r]}),s}function Pg(t){var e=-1,s=Array(t.size);return t.forEach(function(r){s[++e]=r}),s}var y$=1,g$=2,m$="[object Boolean]",_$="[object Date]",v$="[object Error]",b$="[object Map]",x$="[object Number]",k$="[object RegExp]",C$="[object Set]",A$="[object String]",w$="[object Symbol]",E$="[object ArrayBuffer]",B$="[object DataView]",z4=ki?ki.prototype:void 0,Vg=z4?z4.valueOf:void 0;function S$(t,e,s,r,o,a,u){switch(s){case B$:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case E$:return!(t.byteLength!=e.byteLength||!a(new Zf(t),new Zf(e)));case m$:case _$:case x$:return iu(+t,+e);case v$:return t.name==e.name&&t.message==e.message;case k$:case A$:return t==e+"";case b$:var h=f$;case C$:var d=r&y$;if(h||(h=Pg),t.size!=e.size&&!d)return!1;var y=u.get(t);if(y)return y==e;r|=g$,u.set(t,e);var _=U4(h(t),h(e),r,o,a,u);return u.delete(t),_;case w$:if(Vg)return Vg.call(t)==Vg.call(e)}return!1}var T$=1,D$=Object.prototype,F$=D$.hasOwnProperty;function L$(t,e,s,r,o,a){var u=s&T$,h=Mg(t),d=h.length,y=Mg(e),_=y.length;if(d!=_&&!u)return!1;for(var v=d;v--;){var x=h[v];if(!(u?x in e:F$.call(e,x)))return!1}var k=a.get(t),D=a.get(e);if(k&&D)return k==e&&D==t;var M=!0;a.set(t,e),a.set(e,t);for(var R=u;++v<d;){x=h[v];var Y=t[x],V=e[x];if(r)var X=u?r(V,Y,x,e,t,a):r(Y,V,x,t,e,a);if(!(X===void 0?Y===V||o(Y,V,s,r,a):X)){M=!1;break}R||(R=x=="constructor")}if(M&&!R){var J=t.constructor,rt=e.constructor;J!=rt&&"constructor"in t&&"constructor"in e&&!(typeof J=="function"&&J instanceof J&&typeof rt=="function"&&rt instanceof rt)&&(M=!1)}return a.delete(t),a.delete(e),M}var I$=1,W4="[object Arguments]",H4="[object Array]",Qf="[object Object]",M$=Object.prototype,j4=M$.hasOwnProperty;function R$(t,e,s,r,o,a){var u=Hs(t),h=Hs(e),d=u?H4:vu(t),y=h?H4:vu(e);d=d==W4?Qf:d,y=y==W4?Qf:y;var _=d==Qf,v=y==Qf,x=d==y;if(x&&yu(t)){if(!yu(e))return!1;u=!0,_=!1}if(x&&!_)return a||(a=new Ki),u||Gf(t)?U4(t,e,s,r,o,a):S$(t,e,d,s,r,o,a);if(!(s&I$)){var k=_&&j4.call(t,"__wrapped__"),D=v&&j4.call(e,"__wrapped__");if(k||D){var M=k?t.value():t,R=D?e.value():e;return a||(a=new Ki),o(M,R,s,r,a)}}return x?(a||(a=new Ki),L$(t,e,s,r,o,a)):!1}function $g(t,e,s,r,o){return t===e?!0:t==null||e==null||!Co(t)&&!Co(e)?t!==t&&e!==e:R$(t,e,s,r,$g,o)}var O$=1,N$=2;function P$(t,e,s,r){var o=s.length,a=o,u=!r;if(t==null)return!a;for(t=Object(t);o--;){var h=s[o];if(u&&h[2]?h[1]!==t[h[0]]:!(h[0]in t))return!1}for(;++o<a;){h=s[o];var d=h[0],y=t[d],_=h[1];if(u&&h[2]){if(y===void 0&&!(d in t))return!1}else{var v=new Ki;if(r)var x=r(y,_,d,t,e,v);if(!(x===void 0?$g(_,y,O$|N$,r,v):x))return!1}}return!0}function G4(t){return t===t&&!ii(t)}function V$(t){for(var e=ai(t),s=e.length;s--;){var r=e[s],o=t[r];e[s]=[r,o,G4(o)]}return e}function q4(t,e){return function(s){return s==null?!1:s[t]===e&&(e!==void 0||t in Object(s))}}function $$(t){var e=V$(t);return e.length==1&&e[0][2]?q4(e[0][0],e[0][1]):function(s){return s===t||P$(s,t,e)}}function Y$(t,e){return t!=null&&e in Object(t)}function X4(t,e,s){e=qf(e,t);for(var r=-1,o=e.length,a=!1;++r<o;){var u=Wh(e[r]);if(!(a=t!=null&&s(t,u)))break;t=t[u]}return a||++r!=o?a:(o=t==null?0:t.length,!!o&&Sg(o)&&Yf(u,o)&&(Hs(t)||fu(t)))}function K4(t,e){return t!=null&&X4(t,e,Y$)}var U$=1,z$=2;function W$(t,e){return Dg(t)&&G4(e)?q4(Wh(t),e):function(s){var r=dP(s,t);return r===void 0&&r===e?K4(s,t):$g(e,r,U$|z$)}}function H$(t){return function(e){return e==null?void 0:e[t]}}function j$(t){return function(e){return Xf(e,t)}}function G$(t){return Dg(t)?H$(Wh(t)):j$(t)}function Ga(t){return typeof t=="function"?t:t==null?Hl:typeof t=="object"?Hs(t)?W$(t[0],t[1]):$$(t):G$(t)}function q$(t){return function(e,s,r){for(var o=-1,a=Object(e),u=r(e),h=u.length;h--;){var d=u[t?h:++o];if(s(a[d],d,a)===!1)break}return e}}var X$=q$();const Yg=X$;function Z4(t,e){return t&&Yg(t,e,ai)}function K$(t,e){return function(s,r){if(s==null)return s;if(!ja(s))return t(s,r);for(var o=s.length,a=e?o:-1,u=Object(s);(e?a--:++a<o)&&r(u[a],a,u)!==!1;);return s}}var Z$=K$(Z4);const Jf=Z$;var Q$=function(){return Vi.Date.now()};const Q4=Q$;var J4=Object.prototype,J$=J4.hasOwnProperty,tY=Wf(function(t,e){t=Object(t);var s=-1,r=e.length,o=r>2?e[2]:void 0;for(o&&Uh(e[0],e[1],o)&&(r=1);++s<r;)for(var a=e[s],u=jl(a),h=-1,d=u.length;++h<d;){var y=u[h],_=t[y];(_===void 0||iu(_,J4[y])&&!J$.call(t,y))&&(t[y]=a[y])}return t});const bu=tY;function Ug(t,e,s){(s!==void 0&&!iu(t[e],s)||s===void 0&&!(e in t))&&Uf(t,e,s)}function tb(t){return Co(t)&&ja(t)}function zg(t,e){if(!(e==="constructor"&&typeof t[e]=="function")&&e!="__proto__")return t[e]}function eY(t){return Yh(t,jl(t))}function nY(t,e,s,r,o,a,u){var h=zg(t,s),d=zg(e,s),y=u.get(d);if(y){Ug(t,s,y);return}var _=a?a(h,d,s+"",t,e,u):void 0,v=_===void 0;if(v){var x=Hs(d),k=!x&&yu(d),D=!x&&!k&&Gf(d);_=d,x||k||D?Hs(h)?_=h:tb(h)?_=Zv(h):k?(v=!1,_=x4(d,!0)):D?(v=!1,_=M4(d,!0)):_=[]:g4(d)||fu(d)?(_=h,fu(h)?_=eY(h):(!ii(h)||ru(h))&&(_=R4(d))):v=!1}v&&(u.set(d,_),o(_,d,r,a,u),u.delete(d)),Ug(t,s,_)}function eb(t,e,s,r,o){t!==e&&Yg(e,function(a,u){if(o||(o=new Ki),ii(a))nY(t,e,u,s,eb,r,o);else{var h=r?r(zg(t,u),a,u+"",t,e,o):void 0;h===void 0&&(h=a),Ug(t,u,h)}},jl)}function sY(t,e,s){for(var r=-1,o=t==null?0:t.length;++r<o;)if(s(e,t[r]))return!0;return!1}function t1(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}function nb(t){return typeof t=="function"?t:Hl}function jt(t,e){var s=Hs(t)?Jv:Jf;return s(t,nb(e))}function rY(t,e){var s=[];return Jf(t,function(r,o,a){e(r,o,a)&&s.push(r)}),s}function ea(t,e){var s=Hs(t)?k4:rY;return s(t,Ga(e))}function iY(t){return function(e,s,r){var o=Object(e);if(!ja(e)){var a=Ga(s);e=ai(e),s=function(h){return a(o[h],h,o)}}var u=t(e,s,r);return u>-1?o[a?e[u]:u]:void 0}}var oY=Math.max;function aY(t,e,s){var r=t==null?0:t.length;if(!r)return-1;var o=s==null?0:YO(s);return o<0&&(o=oY(r+o,0)),t4(t,Ga(e),o)}var lY=iY(aY);const Wg=lY;function sb(t,e){var s=-1,r=ja(t)?Array(t.length):[];return Jf(t,function(o,a,u){r[++s]=e(o,a,u)}),r}function js(t,e){var s=Hs(t)?pu:sb;return s(t,Ga(e))}function cY(t,e){return t==null?t:Yg(t,nb(e),jl)}function uY(t,e){return t>e}var hY=Object.prototype,pY=hY.hasOwnProperty;function dY(t,e){return t!=null&&pY.call(t,e)}function Bn(t,e){return t!=null&&X4(t,e,dY)}function fY(t,e){return pu(e,function(s){return t[s]})}function na(t){return t==null?[]:fY(t,ai(t))}var yY="[object Map]",gY="[object Set]",mY=Object.prototype,_Y=mY.hasOwnProperty;function xu(t){if(t==null)return!0;if(ja(t)&&(Hs(t)||typeof t=="string"||typeof t.splice=="function"||yu(t)||Gf(t)||fu(t)))return!t.length;var e=vu(t);if(e==yY||e==gY)return!t.size;if(Hf(t))return!p4(t).length;for(var s in t)if(_Y.call(t,s))return!1;return!0}function Ps(t){return t===void 0}function rb(t,e){return t<e}function e1(t,e){var s={};return e=Ga(e),Z4(t,function(r,o,a){Uf(s,o,e(r,o,a))}),s}function Hg(t,e,s){for(var r=-1,o=t.length;++r<o;){var a=t[r],u=e(a);if(u!=null&&(h===void 0?u===u&&!Wl(u):s(u,h)))var h=u,d=a}return d}function ql(t){return t&&t.length?Hg(t,Hl,uY):void 0}var vY=cN(function(t,e,s){eb(t,e,s)});const jg=vY;function Gh(t){return t&&t.length?Hg(t,Hl,rb):void 0}function Gg(t,e){return t&&t.length?Hg(t,Ga(e),rb):void 0}function bY(t,e,s,r){if(!ii(t))return t;e=qf(e,t);for(var o=-1,a=e.length,u=a-1,h=t;h!=null&&++o<a;){var d=Wh(e[o]),y=s;if(d==="__proto__"||d==="constructor"||d==="prototype")return t;if(o!=u){var _=h[d];y=r?r(_,d,h):void 0,y===void 0&&(y=ii(_)?_:Yf(e[o+1])?[]:{})}zf(h,d,y),h=h[d]}return t}function xY(t,e,s){for(var r=-1,o=e.length,a={};++r<o;){var u=e[r],h=Xf(t,u);s(h,u)&&bY(a,qf(u,t),h)}return a}function kY(t,e){var s=t.length;for(t.sort(e);s--;)t[s]=t[s].value;return t}function CY(t,e){if(t!==e){var s=t!==void 0,r=t===null,o=t===t,a=Wl(t),u=e!==void 0,h=e===null,d=e===e,y=Wl(e);if(!h&&!y&&!a&&t>e||a&&u&&d&&!h&&!y||r&&u&&d||!s&&d||!o)return 1;if(!r&&!a&&!y&&t<e||y&&s&&o&&!r&&!a||h&&s&&o||!u&&o||!d)return-1}return 0}function AY(t,e,s){for(var r=-1,o=t.criteria,a=e.criteria,u=o.length,h=s.length;++r<u;){var d=CY(o[r],a[r]);if(d){if(r>=h)return d;var y=s[r];return d*(y=="desc"?-1:1)}}return t.index-e.index}function wY(t,e,s){e.length?e=pu(e,function(a){return Hs(a)?function(u){return Xf(u,a.length===1?a[0]:a)}:a}):e=[Hl];var r=-1;e=pu(e,jf(Ga));var o=sb(t,function(a,u,h){var d=pu(e,function(y){return y(a)});return{criteria:d,index:++r,value:a}});return kY(o,function(a,u){return AY(a,u,s)})}function EY(t,e){return xY(t,e,function(s,r){return K4(t,r)})}var BY=yP(function(t,e){return t==null?{}:EY(t,e)});const qh=BY;var SY=Math.ceil,TY=Math.max;function DY(t,e,s,r){for(var o=-1,a=TY(SY((e-t)/(s||1)),0),u=Array(a);a--;)u[r?a:++o]=t,t+=s;return u}function FY(t){return function(e,s,r){return r&&typeof r!="number"&&Uh(e,s,r)&&(s=r=void 0),e=Vf(e),s===void 0?(s=e,e=0):s=Vf(s),r=r===void 0?e<s?1:-1:Vf(r),DY(e,s,r,t)}}var LY=FY();const Xl=LY;function IY(t,e,s,r,o){return o(t,function(a,u,h){s=r?(r=!1,a):e(s,a,u,h)}),s}function Xh(t,e,s){var r=Hs(t)?kP:IY,o=arguments.length<3;return r(t,Ga(e),s,o,Jf)}var MY=Wf(function(t,e){if(t==null)return[];var s=e.length;return s>1&&Uh(t,e[0],e[1])?e=[]:s>2&&Uh(e[0],e[1],e[2])&&(e=[e[0]]),wY(t,Kf(e,1),[])});const Kh=MY;var RY=1/0,OY=_u&&1/Pg(new _u([,-0]))[1]==RY?function(t){return new _u(t)}:jO;const NY=OY;var PY=200;function VY(t,e,s){var r=-1,o=sN,a=t.length,u=!0,h=[],d=h;if(s)u=!1,o=sY;else if(a>=PY){var y=e?null:NY(t);if(y)return Pg(y);u=!1,o=Y4,d=new jh}else d=e?[]:h;t:for(;++r<a;){var _=t[r],v=e?e(_):_;if(_=s||_!==0?_:0,u&&v===v){for(var x=d.length;x--;)if(d[x]===v)continue t;e&&d.push(v),h.push(_)}else o(d,v,s)||(d!==h&&d.push(v),h.push(_))}return h}var $Y=Wf(function(t){return VY(Kf(t,1,tb,!0))});const YY=$Y;var UY=0;function n1(t){var e=++UY;return d4(t)+e}function zY(t,e,s){for(var r=-1,o=t.length,a=e.length,u={};++r<o;){var h=r<a?e[r]:void 0;s(u,t[r],h)}return u}function WY(t,e){return zY(t||[],e||[],zf)}var HY="\0",Kl="\0",ib="";class Gs{constructor(e={}){this._isDirected=Bn(e,"directed")?e.directed:!0,this._isMultigraph=Bn(e,"multigraph")?e.multigraph:!1,this._isCompound=Bn(e,"compound")?e.compound:!1,this._label=void 0,this._defaultNodeLabelFn=du(void 0),this._defaultEdgeLabelFn=du(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[Kl]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}isDirected(){return this._isDirected}isMultigraph(){return this._isMultigraph}isCompound(){return this._isCompound}setGraph(e){return this._label=e,this}graph(){return this._label}setDefaultNodeLabel(e){return ru(e)||(e=du(e)),this._defaultNodeLabelFn=e,this}nodeCount(){return this._nodeCount}nodes(){return ai(this._nodes)}sources(){var e=this;return ea(this.nodes(),function(s){return xu(e._in[s])})}sinks(){var e=this;return ea(this.nodes(),function(s){return xu(e._out[s])})}setNodes(e,s){var r=arguments,o=this;return jt(e,function(a){r.length>1?o.setNode(a,s):o.setNode(a)}),this}setNode(e,s){return Bn(this._nodes,e)?(arguments.length>1&&(this._nodes[e]=s),this):(this._nodes[e]=arguments.length>1?s:this._defaultNodeLabelFn(e),this._isCompound&&(this._parent[e]=Kl,this._children[e]={},this._children[Kl][e]=!0),this._in[e]={},this._preds[e]={},this._out[e]={},this._sucs[e]={},++this._nodeCount,this)}node(e){return this._nodes[e]}hasNode(e){return Bn(this._nodes,e)}removeNode(e){var s=this;if(Bn(this._nodes,e)){var r=function(o){s.removeEdge(s._edgeObjs[o])};delete this._nodes[e],this._isCompound&&(this._removeFromParentsChildList(e),delete this._parent[e],jt(this.children(e),function(o){s.setParent(o)}),delete this._children[e]),jt(ai(this._in[e]),r),delete this._in[e],delete this._preds[e],jt(ai(this._out[e]),r),delete this._out[e],delete this._sucs[e],--this._nodeCount}return this}setParent(e,s){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(Ps(s))s=Kl;else{s+="";for(var r=s;!Ps(r);r=this.parent(r))if(r===e)throw new Error("Setting "+s+" as parent of "+e+" would create a cycle");this.setNode(s)}return this.setNode(e),this._removeFromParentsChildList(e),this._parent[e]=s,this._children[s][e]=!0,this}_removeFromParentsChildList(e){delete this._children[this._parent[e]][e]}parent(e){if(this._isCompound){var s=this._parent[e];if(s!==Kl)return s}}children(e){if(Ps(e)&&(e=Kl),this._isCompound){var s=this._children[e];if(s)return ai(s)}else{if(e===Kl)return this.nodes();if(this.hasNode(e))return[]}}predecessors(e){var s=this._preds[e];if(s)return ai(s)}successors(e){var s=this._sucs[e];if(s)return ai(s)}neighbors(e){var s=this.predecessors(e);if(s)return YY(s,this.successors(e))}isLeaf(e){var s;return this.isDirected()?s=this.successors(e):s=this.neighbors(e),s.length===0}filterNodes(e){var s=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});s.setGraph(this.graph());var r=this;jt(this._nodes,function(u,h){e(h)&&s.setNode(h,u)}),jt(this._edgeObjs,function(u){s.hasNode(u.v)&&s.hasNode(u.w)&&s.setEdge(u,r.edge(u))});var o={};function a(u){var h=r.parent(u);return h===void 0||s.hasNode(h)?(o[u]=h,h):h in o?o[h]:a(h)}return this._isCompound&&jt(s.nodes(),function(u){s.setParent(u,a(u))}),s}setDefaultEdgeLabel(e){return ru(e)||(e=du(e)),this._defaultEdgeLabelFn=e,this}edgeCount(){return this._edgeCount}edges(){return na(this._edgeObjs)}setPath(e,s){var r=this,o=arguments;return Xh(e,function(a,u){return o.length>1?r.setEdge(a,u,s):r.setEdge(a,u),u}),this}setEdge(){var e,s,r,o,a=!1,u=arguments[0];typeof u=="object"&&u!==null&&"v"in u?(e=u.v,s=u.w,r=u.name,arguments.length===2&&(o=arguments[1],a=!0)):(e=u,s=arguments[1],r=arguments[3],arguments.length>2&&(o=arguments[2],a=!0)),e=""+e,s=""+s,Ps(r)||(r=""+r);var h=Zh(this._isDirected,e,s,r);if(Bn(this._edgeLabels,h))return a&&(this._edgeLabels[h]=o),this;if(!Ps(r)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(e),this.setNode(s),this._edgeLabels[h]=a?o:this._defaultEdgeLabelFn(e,s,r);var d=jY(this._isDirected,e,s,r);return e=d.v,s=d.w,Object.freeze(d),this._edgeObjs[h]=d,ob(this._preds[s],e),ob(this._sucs[e],s),this._in[s][h]=d,this._out[e][h]=d,this._edgeCount++,this}edge(e,s,r){var o=arguments.length===1?qg(this._isDirected,arguments[0]):Zh(this._isDirected,e,s,r);return this._edgeLabels[o]}hasEdge(e,s,r){var o=arguments.length===1?qg(this._isDirected,arguments[0]):Zh(this._isDirected,e,s,r);return Bn(this._edgeLabels,o)}removeEdge(e,s,r){var o=arguments.length===1?qg(this._isDirected,arguments[0]):Zh(this._isDirected,e,s,r),a=this._edgeObjs[o];return a&&(e=a.v,s=a.w,delete this._edgeLabels[o],delete this._edgeObjs[o],ab(this._preds[s],e),ab(this._sucs[e],s),delete this._in[s][o],delete this._out[e][o],this._edgeCount--),this}inEdges(e,s){var r=this._in[e];if(r){var o=na(r);return s?ea(o,function(a){return a.v===s}):o}}outEdges(e,s){var r=this._out[e];if(r){var o=na(r);return s?ea(o,function(a){return a.w===s}):o}}nodeEdges(e,s){var r=this.inEdges(e,s);if(r)return r.concat(this.outEdges(e,s))}}Gs.prototype._nodeCount=0,Gs.prototype._edgeCount=0;function ob(t,e){t[e]?t[e]++:t[e]=1}function ab(t,e){--t[e]||delete t[e]}function Zh(t,e,s,r){var o=""+e,a=""+s;if(!t&&o>a){var u=o;o=a,a=u}return o+ib+a+ib+(Ps(r)?HY:r)}function jY(t,e,s,r){var o=""+e,a=""+s;if(!t&&o>a){var u=o;o=a,a=u}var h={v:o,w:a};return r&&(h.name=r),h}function qg(t,e){return Zh(t,e.v,e.w,e.name)}class GY{constructor(){var e={};e._next=e._prev=e,this._sentinel=e}dequeue(){var e=this._sentinel,s=e._prev;if(s!==e)return lb(s),s}enqueue(e){var s=this._sentinel;e._prev&&e._next&&lb(e),e._next=s._next,s._next._prev=e,s._next=e,e._prev=s}toString(){for(var e=[],s=this._sentinel,r=s._prev;r!==s;)e.push(JSON.stringify(r,qY)),r=r._prev;return"["+e.join(", ")+"]"}}function lb(t){t._prev._next=t._next,t._next._prev=t._prev,delete t._next,delete t._prev}function qY(t,e){if(t!=="_next"&&t!=="_prev")return e}var XY=du(1);function KY(t,e){if(t.nodeCount()<=1)return[];var s=QY(t,e||XY),r=ZY(s.graph,s.buckets,s.zeroIdx);return mu(js(r,function(o){return t.outEdges(o.v,o.w)}))}function ZY(t,e,s){for(var r=[],o=e[e.length-1],a=e[0],u;t.nodeCount();){for(;u=a.dequeue();)Xg(t,e,s,u);for(;u=o.dequeue();)Xg(t,e,s,u);if(t.nodeCount()){for(var h=e.length-2;h>0;--h)if(u=e[h].dequeue(),u){r=r.concat(Xg(t,e,s,u,!0));break}}}return r}function Xg(t,e,s,r,o){var a=o?[]:void 0;return jt(t.inEdges(r.v),function(u){var h=t.edge(u),d=t.node(u.v);o&&a.push({v:u.v,w:u.w}),d.out-=h,Kg(e,s,d)}),jt(t.outEdges(r.v),function(u){var h=t.edge(u),d=u.w,y=t.node(d);y.in-=h,Kg(e,s,y)}),t.removeNode(r.v),a}function QY(t,e){var s=new Gs,r=0,o=0;jt(t.nodes(),function(h){s.setNode(h,{v:h,in:0,out:0})}),jt(t.edges(),function(h){var d=s.edge(h.v,h.w)||0,y=e(h),_=d+y;s.setEdge(h.v,h.w,_),o=Math.max(o,s.node(h.v).out+=y),r=Math.max(r,s.node(h.w).in+=y)});var a=Xl(o+r+3).map(function(){return new GY}),u=r+1;return jt(s.nodes(),function(h){Kg(a,u,s.node(h))}),{graph:s,buckets:a,zeroIdx:u}}function Kg(t,e,s){s.out?s.in?t[s.out-s.in+e].enqueue(s):t[t.length-1].enqueue(s):t[0].enqueue(s)}function JY(t){var e=t.graph().acyclicer==="greedy"?KY(t,s(t)):tU(t);jt(e,function(r){var o=t.edge(r);t.removeEdge(r),o.forwardName=r.name,o.reversed=!0,t.setEdge(r.w,r.v,o,n1("rev"))});function s(r){return function(o){return r.edge(o).weight}}}function tU(t){var e=[],s={},r={};function o(a){Bn(r,a)||(r[a]=!0,s[a]=!0,jt(t.outEdges(a),function(u){Bn(s,u.w)?e.push(u):o(u.w)}),delete s[a])}return jt(t.nodes(),o),e}function eU(t){jt(t.edges(),function(e){var s=t.edge(e);if(s.reversed){t.removeEdge(e);var r=s.forwardName;delete s.reversed,delete s.forwardName,t.setEdge(e.w,e.v,s,r)}})}function ku(t,e,s,r){var o;do o=n1(r);while(t.hasNode(o));return s.dummy=e,t.setNode(o,s),o}function nU(t){var e=new Gs().setGraph(t.graph());return jt(t.nodes(),function(s){e.setNode(s,t.node(s))}),jt(t.edges(),function(s){var r=e.edge(s.v,s.w)||{weight:0,minlen:1},o=t.edge(s);e.setEdge(s.v,s.w,{weight:r.weight+o.weight,minlen:Math.max(r.minlen,o.minlen)})}),e}function cb(t){var e=new Gs({multigraph:t.isMultigraph()}).setGraph(t.graph());return jt(t.nodes(),function(s){t.children(s).length||e.setNode(s,t.node(s))}),jt(t.edges(),function(s){e.setEdge(s,t.edge(s))}),e}function ub(t,e){var s=t.x,r=t.y,o=e.x-s,a=e.y-r,u=t.width/2,h=t.height/2;if(!o&&!a)throw new Error("Not possible to find intersection inside of the rectangle");var d,y;return Math.abs(a)*u>Math.abs(o)*h?(a<0&&(h=-h),d=h*o/a,y=h):(o<0&&(u=-u),d=u,y=u*a/o),{x:s+d,y:r+y}}function s1(t){var e=js(Xl(pb(t)+1),function(){return[]});return jt(t.nodes(),function(s){var r=t.node(s),o=r.rank;Ps(o)||(e[o][r.order]=s)}),e}function sU(t){var e=Gh(js(t.nodes(),function(s){return t.node(s).rank}));jt(t.nodes(),function(s){var r=t.node(s);Bn(r,"rank")&&(r.rank-=e)})}function rU(t){var e=Gh(js(t.nodes(),function(a){return t.node(a).rank})),s=[];jt(t.nodes(),function(a){var u=t.node(a).rank-e;s[u]||(s[u]=[]),s[u].push(a)});var r=0,o=t.graph().nodeRankFactor;jt(s,function(a,u){Ps(a)&&u%o!==0?--r:r&&jt(a,function(h){t.node(h).rank+=r})})}function hb(t,e,s,r){var o={width:0,height:0};return arguments.length>=4&&(o.rank=s,o.order=r),ku(t,"border",o,e)}function pb(t){return ql(js(t.nodes(),function(e){var s=t.node(e).rank;if(!Ps(s))return s}))}function iU(t,e){var s={lhs:[],rhs:[]};return jt(t,function(r){e(r)?s.lhs.push(r):s.rhs.push(r)}),s}function oU(t,e){var s=Q4();try{return e()}finally{console.log(t+" time: "+(Q4()-s)+"ms")}}function aU(t,e){return e()}function lU(t){function e(s){var r=t.children(s),o=t.node(s);if(r.length&&jt(r,e),Bn(o,"minRank")){o.borderLeft=[],o.borderRight=[];for(var a=o.minRank,u=o.maxRank+1;a<u;++a)db(t,"borderLeft","_bl",s,o,a),db(t,"borderRight","_br",s,o,a)}}jt(t.children(),e)}function db(t,e,s,r,o,a){var u={width:0,height:0,rank:a,borderType:e},h=o[e][a-1],d=ku(t,"border",u,s);o[e][a]=d,t.setParent(d,r),h&&t.setEdge(h,d,{weight:1})}function cU(t){var e=t.graph().rankdir.toLowerCase();(e==="lr"||e==="rl")&&fb(t)}function uU(t){var e=t.graph().rankdir.toLowerCase();(e==="bt"||e==="rl")&&hU(t),(e==="lr"||e==="rl")&&(pU(t),fb(t))}function fb(t){jt(t.nodes(),function(e){yb(t.node(e))}),jt(t.edges(),function(e){yb(t.edge(e))})}function yb(t){var e=t.width;t.width=t.height,t.height=e}function hU(t){jt(t.nodes(),function(e){Zg(t.node(e))}),jt(t.edges(),function(e){var s=t.edge(e);jt(s.points,Zg),Bn(s,"y")&&Zg(s)})}function Zg(t){t.y=-t.y}function pU(t){jt(t.nodes(),function(e){Qg(t.node(e))}),jt(t.edges(),function(e){var s=t.edge(e);jt(s.points,Qg),Bn(s,"x")&&Qg(s)})}function Qg(t){var e=t.x;t.x=t.y,t.y=e}function dU(t){var e=ku(t,"root",{},"_root"),s=fU(t),r=ql(na(s))-1,o=2*r+1;t.graph().nestingRoot=e,jt(t.edges(),function(u){t.edge(u).minlen*=o});var a=yU(t)+1;jt(t.children(),function(u){gb(t,e,o,a,r,s,u)}),t.graph().nodeRankFactor=o}function gb(t,e,s,r,o,a,u){var h=t.children(u);if(!h.length){u!==e&&t.setEdge(e,u,{weight:0,minlen:s});return}var d=hb(t,"_bt"),y=hb(t,"_bb"),_=t.node(u);t.setParent(d,u),_.borderTop=d,t.setParent(y,u),_.borderBottom=y,jt(h,function(v){gb(t,e,s,r,o,a,v);var x=t.node(v),k=x.borderTop?x.borderTop:v,D=x.borderBottom?x.borderBottom:v,M=x.borderTop?r:2*r,R=k!==D?1:o-a[u]+1;t.setEdge(d,k,{weight:M,minlen:R,nestingEdge:!0}),t.setEdge(D,y,{weight:M,minlen:R,nestingEdge:!0})}),t.parent(u)||t.setEdge(e,d,{weight:0,minlen:o+a[u]})}function fU(t){var e={};function s(r,o){var a=t.children(r);a&&a.length&&jt(a,function(u){s(u,o+1)}),e[r]=o}return jt(t.children(),function(r){s(r,1)}),e}function yU(t){return Xh(t.edges(),function(e,s){return e+t.edge(s).weight},0)}function gU(t){var e=t.graph();t.removeNode(e.nestingRoot),delete e.nestingRoot,jt(t.edges(),function(s){var r=t.edge(s);r.nestingEdge&&t.removeEdge(s)})}function mU(t,e,s){var r={},o;jt(s,function(a){for(var u=t.parent(a),h,d;u;){if(h=t.parent(u),h?(d=r[h],r[h]=u):(d=o,o=u),d&&d!==u){e.setEdge(d,u);return}u=h}})}function _U(t,e,s){var r=vU(t),o=new Gs({compound:!0}).setGraph({root:r}).setDefaultNodeLabel(function(a){return t.node(a)});return jt(t.nodes(),function(a){var u=t.node(a),h=t.parent(a);(u.rank===e||u.minRank<=e&&e<=u.maxRank)&&(o.setNode(a),o.setParent(a,h||r),jt(t[s](a),function(d){var y=d.v===a?d.w:d.v,_=o.edge(y,a),v=Ps(_)?0:_.weight;o.setEdge(y,a,{weight:t.edge(d).weight+v})}),Bn(u,"minRank")&&o.setNode(a,{borderLeft:u.borderLeft[e],borderRight:u.borderRight[e]}))}),o}function vU(t){for(var e;t.hasNode(e=n1("_root")););return e}function bU(t,e){for(var s=0,r=1;r<e.length;++r)s+=xU(t,e[r-1],e[r]);return s}function xU(t,e,s){for(var r=WY(s,js(s,function(y,_){return _})),o=mu(js(e,function(y){return Kh(js(t.outEdges(y),function(_){return{pos:r[_.w],weight:t.edge(_).weight}}),"pos")})),a=1;a<s.length;)a<<=1;var u=2*a-1;a-=1;var h=js(new Array(u),function(){return 0}),d=0;return jt(o.forEach(function(y){var _=y.pos+a;h[_]+=y.weight;for(var v=0;_>0;)_%2&&(v+=h[_+1]),_=_-1>>1,h[_]+=y.weight;d+=y.weight*v})),d}function kU(t){var e={},s=ea(t.nodes(),function(h){return!t.children(h).length}),r=ql(js(s,function(h){return t.node(h).rank})),o=js(Xl(r+1),function(){return[]});function a(h){if(!Bn(e,h)){e[h]=!0;var d=t.node(h);o[d.rank].push(h),jt(t.successors(h),a)}}var u=Kh(s,function(h){return t.node(h).rank});return jt(u,a),o}function CU(t,e){return js(e,function(s){var r=t.inEdges(s);if(r.length){var o=Xh(r,function(a,u){var h=t.edge(u),d=t.node(u.v);return{sum:a.sum+h.weight*d.order,weight:a.weight+h.weight}},{sum:0,weight:0});return{v:s,barycenter:o.sum/o.weight,weight:o.weight}}else return{v:s}})}function AU(t,e){var s={};jt(t,function(o,a){var u=s[o.v]={indegree:0,in:[],out:[],vs:[o.v],i:a};Ps(o.barycenter)||(u.barycenter=o.barycenter,u.weight=o.weight)}),jt(e.edges(),function(o){var a=s[o.v],u=s[o.w];!Ps(a)&&!Ps(u)&&(u.indegree++,a.out.push(s[o.w]))});var r=ea(s,function(o){return!o.indegree});return wU(r)}function wU(t){var e=[];function s(a){return function(u){u.merged||(Ps(u.barycenter)||Ps(a.barycenter)||u.barycenter>=a.barycenter)&&EU(a,u)}}function r(a){return function(u){u.in.push(a),--u.indegree===0&&t.push(u)}}for(;t.length;){var o=t.pop();e.push(o),jt(o.in.reverse(),s(o)),jt(o.out,r(o))}return js(ea(e,function(a){return!a.merged}),function(a){return qh(a,["vs","i","barycenter","weight"])})}function EU(t,e){var s=0,r=0;t.weight&&(s+=t.barycenter*t.weight,r+=t.weight),e.weight&&(s+=e.barycenter*e.weight,r+=e.weight),t.vs=e.vs.concat(t.vs),t.barycenter=s/r,t.weight=r,t.i=Math.min(e.i,t.i),e.merged=!0}function BU(t,e){var s=iU(t,function(_){return Bn(_,"barycenter")}),r=s.lhs,o=Kh(s.rhs,function(_){return-_.i}),a=[],u=0,h=0,d=0;r.sort(SU(!!e)),d=mb(a,o,d),jt(r,function(_){d+=_.vs.length,a.push(_.vs),u+=_.barycenter*_.weight,h+=_.weight,d=mb(a,o,d)});var y={vs:mu(a)};return h&&(y.barycenter=u/h,y.weight=h),y}function mb(t,e,s){for(var r;e.length&&(r=t1(e)).i<=s;)e.pop(),t.push(r.vs),s++;return s}function SU(t){return function(e,s){return e.barycenter<s.barycenter?-1:e.barycenter>s.barycenter?1:t?s.i-e.i:e.i-s.i}}function _b(t,e,s,r){var o=t.children(e),a=t.node(e),u=a?a.borderLeft:void 0,h=a?a.borderRight:void 0,d={};u&&(o=ea(o,function(D){return D!==u&&D!==h}));var y=CU(t,o);jt(y,function(D){if(t.children(D.v).length){var M=_b(t,D.v,s,r);d[D.v]=M,Bn(M,"barycenter")&&DU(D,M)}});var _=AU(y,s);TU(_,d);var v=BU(_,r);if(u&&(v.vs=mu([u,v.vs,h]),t.predecessors(u).length)){var x=t.node(t.predecessors(u)[0]),k=t.node(t.predecessors(h)[0]);Bn(v,"barycenter")||(v.barycenter=0,v.weight=0),v.barycenter=(v.barycenter*v.weight+x.order+k.order)/(v.weight+2),v.weight+=2}return v}function TU(t,e){jt(t,function(s){s.vs=mu(s.vs.map(function(r){return e[r]?e[r].vs:r}))})}function DU(t,e){Ps(t.barycenter)?(t.barycenter=e.barycenter,t.weight=e.weight):(t.barycenter=(t.barycenter*t.weight+e.barycenter*e.weight)/(t.weight+e.weight),t.weight+=e.weight)}function FU(t){var e=pb(t),s=vb(t,Xl(1,e+1),"inEdges"),r=vb(t,Xl(e-1,-1,-1),"outEdges"),o=kU(t);bb(t,o);for(var a=Number.POSITIVE_INFINITY,u,h=0,d=0;d<4;++h,++d){LU(h%2?s:r,h%4>=2),o=s1(t);var y=bU(t,o);y<a&&(d=0,u=a$(o),a=y)}bb(t,u)}function vb(t,e,s){return js(e,function(r){return _U(t,r,s)})}function LU(t,e){var s=new Gs;jt(t,function(r){var o=r.graph().root,a=_b(r,o,s,e);jt(a.vs,function(u,h){r.node(u).order=h}),mU(r,s,a.vs)})}function bb(t,e){jt(e,function(s){jt(s,function(r,o){t.node(r).order=o})})}function IU(t){var e=RU(t);jt(t.graph().dummyChains,function(s){for(var r=t.node(s),o=r.edgeObj,a=MU(t,e,o.v,o.w),u=a.path,h=a.lca,d=0,y=u[d],_=!0;s!==o.w;){if(r=t.node(s),_){for(;(y=u[d])!==h&&t.node(y).maxRank<r.rank;)d++;y===h&&(_=!1)}if(!_){for(;d<u.length-1&&t.node(y=u[d+1]).minRank<=r.rank;)d++;y=u[d]}t.setParent(s,y),s=t.successors(s)[0]}})}function MU(t,e,s,r){var o=[],a=[],u=Math.min(e[s].low,e[r].low),h=Math.max(e[s].lim,e[r].lim),d,y;d=s;do d=t.parent(d),o.push(d);while(d&&(e[d].low>u||h>e[d].lim));for(y=d,d=r;(d=t.parent(d))!==y;)a.push(d);return{path:o.concat(a.reverse()),lca:y}}function RU(t){var e={},s=0;function r(o){var a=s;jt(t.children(o),r),e[o]={low:a,lim:s++}}return jt(t.children(),r),e}function OU(t,e){var s={};function r(o,a){var u=0,h=0,d=o.length,y=t1(a);return jt(a,function(_,v){var x=PU(t,_),k=x?t.node(x).order:d;(x||_===y)&&(jt(a.slice(h,v+1),function(D){jt(t.predecessors(D),function(M){var R=t.node(M),Y=R.order;(Y<u||k<Y)&&!(R.dummy&&t.node(D).dummy)&&xb(s,M,D)})}),h=v+1,u=k)}),a}return Xh(e,r),s}function NU(t,e){var s={};function r(a,u,h,d,y){var _;jt(Xl(u,h),function(v){_=a[v],t.node(_).dummy&&jt(t.predecessors(_),function(x){var k=t.node(x);k.dummy&&(k.order<d||k.order>y)&&xb(s,x,_)})})}function o(a,u){var h=-1,d,y=0;return jt(u,function(_,v){if(t.node(_).dummy==="border"){var x=t.predecessors(_);x.length&&(d=t.node(x[0]).order,r(u,y,v,h,d),y=v,h=d)}r(u,y,u.length,d,a.length)}),u}return Xh(e,o),s}function PU(t,e){if(t.node(e).dummy)return Wg(t.predecessors(e),function(s){return t.node(s).dummy})}function xb(t,e,s){if(e>s){var r=e;e=s,s=r}var o=t[e];o||(t[e]=o={}),o[s]=!0}function VU(t,e,s){if(e>s){var r=e;e=s,s=r}return Bn(t[e],s)}function $U(t,e,s,r){var o={},a={},u={};return jt(e,function(h){jt(h,function(d,y){o[d]=d,a[d]=d,u[d]=y})}),jt(e,function(h){var d=-1;jt(h,function(y){var _=r(y);if(_.length){_=Kh(_,function(M){return u[M]});for(var v=(_.length-1)/2,x=Math.floor(v),k=Math.ceil(v);x<=k;++x){var D=_[x];a[y]===y&&d<u[D]&&!VU(s,y,D)&&(a[D]=y,a[y]=o[y]=o[D],d=u[D])}}})}),{root:o,align:a}}function YU(t,e,s,r,o){var a={},u=UU(t,e,s,o),h=o?"borderLeft":"borderRight";function d(v,x){for(var k=u.nodes(),D=k.pop(),M={};D;)M[D]?v(D):(M[D]=!0,k.push(D),k=k.concat(x(D))),D=k.pop()}function y(v){a[v]=u.inEdges(v).reduce(function(x,k){return Math.max(x,a[k.v]+u.edge(k))},0)}function _(v){var x=u.outEdges(v).reduce(function(D,M){return Math.min(D,a[M.w]-u.edge(M))},Number.POSITIVE_INFINITY),k=t.node(v);x!==Number.POSITIVE_INFINITY&&k.borderType!==h&&(a[v]=Math.max(a[v],x))}return d(y,u.predecessors.bind(u)),d(_,u.successors.bind(u)),jt(r,function(v){a[v]=a[s[v]]}),a}function UU(t,e,s,r){var o=new Gs,a=t.graph(),u=GU(a.nodesep,a.edgesep,r);return jt(e,function(h){var d;jt(h,function(y){var _=s[y];if(o.setNode(_),d){var v=s[d],x=o.edge(v,_);o.setEdge(v,_,Math.max(u(t,y,d),x||0))}d=y})}),o}function zU(t,e){return Gg(na(e),function(s){var r=Number.NEGATIVE_INFINITY,o=Number.POSITIVE_INFINITY;return cY(s,function(a,u){var h=qU(t,u)/2;r=Math.max(a+h,r),o=Math.min(a-h,o)}),r-o})}function WU(t,e){var s=na(e),r=Gh(s),o=ql(s);jt(["u","d"],function(a){jt(["l","r"],function(u){var h=a+u,d=t[h],y;if(d!==e){var _=na(d);y=u==="l"?r-Gh(_):o-ql(_),y&&(t[h]=e1(d,function(v){return v+y}))}})})}function HU(t,e){return e1(t.ul,function(s,r){if(e)return t[e.toLowerCase()][r];var o=Kh(js(t,r));return(o[1]+o[2])/2})}function jU(t){var e=s1(t),s=jg(OU(t,e),NU(t,e)),r={},o;jt(["u","d"],function(u){o=u==="u"?e:na(e).reverse(),jt(["l","r"],function(h){h==="r"&&(o=js(o,function(v){return na(v).reverse()}));var d=(u==="u"?t.predecessors:t.successors).bind(t),y=$U(t,o,s,d),_=YU(t,o,y.root,y.align,h==="r");h==="r"&&(_=e1(_,function(v){return-v})),r[u+h]=_})});var a=zU(t,r);return WU(r,a),HU(r,t.graph().align)}function GU(t,e,s){return function(r,o,a){var u=r.node(o),h=r.node(a),d=0,y;if(d+=u.width/2,Bn(u,"labelpos"))switch(u.labelpos.toLowerCase()){case"l":y=-u.width/2;break;case"r":y=u.width/2;break}if(y&&(d+=s?y:-y),y=0,d+=(u.dummy?e:t)/2,d+=(h.dummy?e:t)/2,d+=h.width/2,Bn(h,"labelpos"))switch(h.labelpos.toLowerCase()){case"l":y=h.width/2;break;case"r":y=-h.width/2;break}return y&&(d+=s?y:-y),y=0,d}}function qU(t,e){return t.node(e).width}function XU(t){t=cb(t),KU(t),jt(jU(t),function(e,s){t.node(s).x=e})}function KU(t){var e=s1(t),s=t.graph().ranksep,r=0;jt(e,function(o){var a=ql(js(o,function(u){return t.node(u).height}));jt(o,function(u){t.node(u).y=r+a/2}),r+=a+s})}function Cu(t,e){var s=e&&e.debugTiming?oU:aU;s("layout",function(){var r=s("  buildLayoutGraph",function(){return az(t)});s("  runLayout",function(){ZU(r,s)}),s("  updateInputGraph",function(){QU(t,r)})})}function ZU(t,e){e("    makeSpaceForEdgeLabels",function(){lz(t)}),e("    removeSelfEdges",function(){mz(t)}),e("    acyclic",function(){JY(t)}),e("    nestingGraph.run",function(){dU(t)}),e("    rank",function(){Fz(cb(t))}),e("    injectEdgeLabelProxies",function(){cz(t)}),e("    removeEmptyRanks",function(){rU(t)}),e("    nestingGraph.cleanup",function(){gU(t)}),e("    normalizeRanks",function(){sU(t)}),e("    assignRankMinMax",function(){uz(t)}),e("    removeEdgeLabelProxies",function(){hz(t)}),e("    normalize.run",function(){bz(t)}),e("    parentDummyChains",function(){IU(t)}),e("    addBorderSegments",function(){lU(t)}),e("    order",function(){FU(t)}),e("    insertSelfEdges",function(){_z(t)}),e("    adjustCoordinateSystem",function(){cU(t)}),e("    position",function(){XU(t)}),e("    positionSelfEdges",function(){vz(t)}),e("    removeBorderNodes",function(){gz(t)}),e("    normalize.undo",function(){kz(t)}),e("    fixupEdgeLabelCoords",function(){fz(t)}),e("    undoCoordinateSystem",function(){uU(t)}),e("    translateGraph",function(){pz(t)}),e("    assignNodeIntersects",function(){dz(t)}),e("    reversePoints",function(){yz(t)}),e("    acyclic.undo",function(){eU(t)})}function QU(t,e){jt(t.nodes(),function(s){var r=t.node(s),o=e.node(s);r&&(r.x=o.x,r.y=o.y,e.children(s).length&&(r.width=o.width,r.height=o.height))}),jt(t.edges(),function(s){var r=t.edge(s),o=e.edge(s);r.points=o.points,Bn(o,"x")&&(r.x=o.x,r.y=o.y)}),t.graph().width=e.graph().width,t.graph().height=e.graph().height}var JU=["nodesep","edgesep","ranksep","marginx","marginy"],tz={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},ez=["acyclicer","ranker","rankdir","align"],nz=["width","height"],sz={width:0,height:0},rz=["minlen","weight","width","height","labeloffset"],iz={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},oz=["labelpos"];function az(t){var e=new Gs({multigraph:!0,compound:!0}),s=tm(t.graph());return e.setGraph(jg({},tz,Jg(s,JU),qh(s,ez))),jt(t.nodes(),function(r){var o=tm(t.node(r));e.setNode(r,bu(Jg(o,nz),sz)),e.setParent(r,t.parent(r))}),jt(t.edges(),function(r){var o=tm(t.edge(r));e.setEdge(r,jg({},iz,Jg(o,rz),qh(o,oz)))}),e}function lz(t){var e=t.graph();e.ranksep/=2,jt(t.edges(),function(s){var r=t.edge(s);r.minlen*=2,r.labelpos.toLowerCase()!=="c"&&(e.rankdir==="TB"||e.rankdir==="BT"?r.width+=r.labeloffset:r.height+=r.labeloffset)})}function cz(t){jt(t.edges(),function(e){var s=t.edge(e);if(s.width&&s.height){var r=t.node(e.v),o=t.node(e.w),a={rank:(o.rank-r.rank)/2+r.rank,e};ku(t,"edge-proxy",a,"_ep")}})}function uz(t){var e=0;jt(t.nodes(),function(s){var r=t.node(s);r.borderTop&&(r.minRank=t.node(r.borderTop).rank,r.maxRank=t.node(r.borderBottom).rank,e=ql(e,r.maxRank))}),t.graph().maxRank=e}function hz(t){jt(t.nodes(),function(e){var s=t.node(e);s.dummy==="edge-proxy"&&(t.edge(s.e).labelRank=s.rank,t.removeNode(e))})}function pz(t){var e=Number.POSITIVE_INFINITY,s=0,r=Number.POSITIVE_INFINITY,o=0,a=t.graph(),u=a.marginx||0,h=a.marginy||0;function d(y){var _=y.x,v=y.y,x=y.width,k=y.height;e=Math.min(e,_-x/2),s=Math.max(s,_+x/2),r=Math.min(r,v-k/2),o=Math.max(o,v+k/2)}jt(t.nodes(),function(y){d(t.node(y))}),jt(t.edges(),function(y){var _=t.edge(y);Bn(_,"x")&&d(_)}),e-=u,r-=h,jt(t.nodes(),function(y){var _=t.node(y);_.x-=e,_.y-=r}),jt(t.edges(),function(y){var _=t.edge(y);jt(_.points,function(v){v.x-=e,v.y-=r}),Bn(_,"x")&&(_.x-=e),Bn(_,"y")&&(_.y-=r)}),a.width=s-e+u,a.height=o-r+h}function dz(t){jt(t.edges(),function(e){var s=t.edge(e),r=t.node(e.v),o=t.node(e.w),a,u;s.points?(a=s.points[0],u=s.points[s.points.length-1]):(s.points=[],a=o,u=r),s.points.unshift(ub(r,a)),s.points.push(ub(o,u))})}function fz(t){jt(t.edges(),function(e){var s=t.edge(e);if(Bn(s,"x"))switch((s.labelpos==="l"||s.labelpos==="r")&&(s.width-=s.labeloffset),s.labelpos){case"l":s.x-=s.width/2+s.labeloffset;break;case"r":s.x+=s.width/2+s.labeloffset;break}})}function yz(t){jt(t.edges(),function(e){var s=t.edge(e);s.reversed&&s.points.reverse()})}function gz(t){jt(t.nodes(),function(e){if(t.children(e).length){var s=t.node(e),r=t.node(s.borderTop),o=t.node(s.borderBottom),a=t.node(t1(s.borderLeft)),u=t.node(t1(s.borderRight));s.width=Math.abs(u.x-a.x),s.height=Math.abs(o.y-r.y),s.x=a.x+s.width/2,s.y=r.y+s.height/2}}),jt(t.nodes(),function(e){t.node(e).dummy==="border"&&t.removeNode(e)})}function mz(t){jt(t.edges(),function(e){if(e.v===e.w){var s=t.node(e.v);s.selfEdges||(s.selfEdges=[]),s.selfEdges.push({e,label:t.edge(e)}),t.removeEdge(e)}})}function _z(t){var e=s1(t);jt(e,function(s){var r=0;jt(s,function(o,a){var u=t.node(o);u.order=a+r,jt(u.selfEdges,function(h){ku(t,"selfedge",{width:h.label.width,height:h.label.height,rank:u.rank,order:a+ ++r,e:h.e,label:h.label},"_se")}),delete u.selfEdges})})}function vz(t){jt(t.nodes(),function(e){var s=t.node(e);if(s.dummy==="selfedge"){var r=t.node(s.e.v),o=r.x+r.width/2,a=r.y,u=s.x-o,h=r.height/2;t.setEdge(s.e,s.label),t.removeNode(e),s.label.points=[{x:o+2*u/3,y:a-h},{x:o+5*u/6,y:a-h},{x:o+u,y:a},{x:o+5*u/6,y:a+h},{x:o+2*u/3,y:a+h}],s.label.x=s.x,s.label.y=s.y}})}function Jg(t,e){return e1(qh(t,e),Number)}function tm(t){var e={};return jt(t,function(s,r){e[r.toLowerCase()]=s}),e}function bz(t){t.graph().dummyChains=[],jt(t.edges(),function(e){xz(t,e)})}function xz(t,e){var s=e.v,r=t.node(s).rank,o=e.w,a=t.node(o).rank,u=e.name,h=t.edge(e),d=h.labelRank;if(a!==r+1){t.removeEdge(e);var y,_,v;for(v=0,++r;r<a;++v,++r)h.points=[],_={width:0,height:0,edgeLabel:h,edgeObj:e,rank:r},y=ku(t,"edge",_,"_d"),r===d&&(_.width=h.width,_.height=h.height,_.dummy="edge-label",_.labelpos=h.labelpos),t.setEdge(s,y,{weight:h.weight},u),v===0&&t.graph().dummyChains.push(y),s=y;t.setEdge(s,o,{weight:h.weight},u)}}function kz(t){jt(t.graph().dummyChains,function(e){var s=t.node(e),r=s.edgeLabel,o;for(t.setEdge(s.edgeObj,r);s.dummy;)o=t.successors(e)[0],t.removeNode(e),r.points.push({x:s.x,y:s.y}),s.dummy==="edge-label"&&(r.x=s.x,r.y=s.y,r.width=s.width,r.height=s.height),e=o,s=t.node(e)})}function em(t){var e={};function s(r){var o=t.node(r);if(Bn(e,r))return o.rank;e[r]=!0;var a=Gh(js(t.outEdges(r),function(u){return s(u.w)-t.edge(u).minlen}));return(a===Number.POSITIVE_INFINITY||a===void 0||a===null)&&(a=0),o.rank=a}jt(t.sources(),s)}function Qh(t,e){return t.node(e.w).rank-t.node(e.v).rank-t.edge(e).minlen}function kb(t){var e=new Gs({directed:!1}),s=t.nodes()[0],r=t.nodeCount();e.setNode(s,{});for(var o,a;Cz(e,t)<r;)o=Az(e,t),a=e.hasNode(o.v)?Qh(t,o):-Qh(t,o),wz(e,t,a);return e}function Cz(t,e){function s(r){jt(e.nodeEdges(r),function(o){var a=o.v,u=r===a?o.w:a;!t.hasNode(u)&&!Qh(e,o)&&(t.setNode(u,{}),t.setEdge(r,u,{}),s(u))})}return jt(t.nodes(),s),t.nodeCount()}function Az(t,e){return Gg(e.edges(),function(s){if(t.hasNode(s.v)!==t.hasNode(s.w))return Qh(e,s)})}function wz(t,e,s){jt(t.nodes(),function(r){e.node(r).rank+=s})}function Cb(t,e,s){Hs(e)||(e=[e]);var r=(t.isDirected()?t.successors:t.neighbors).bind(t),o=[],a={};return jt(e,function(u){if(!t.hasNode(u))throw new Error("Graph does not have node: "+u);Ab(t,u,s==="post",a,r,o)}),o}function Ab(t,e,s,r,o,a){Bn(r,e)||(r[e]=!0,s||a.push(e),jt(o(e),function(u){Ab(t,u,s,r,o,a)}),s&&a.push(e))}function Ez(t,e){return Cb(t,e,"post")}function Bz(t,e){return Cb(t,e,"pre")}Zl.initLowLimValues=sm,Zl.initCutValues=nm,Zl.calcCutValue=wb,Zl.leaveEdge=Bb,Zl.enterEdge=Sb,Zl.exchangeEdges=Tb;function Zl(t){t=nU(t),em(t);var e=kb(t);sm(e),nm(e,t);for(var s,r;s=Bb(e);)r=Sb(e,t,s),Tb(e,t,s,r)}function nm(t,e){var s=Ez(t,t.nodes());s=s.slice(0,s.length-1),jt(s,function(r){Sz(t,e,r)})}function Sz(t,e,s){var r=t.node(s),o=r.parent;t.edge(s,o).cutvalue=wb(t,e,s)}function wb(t,e,s){var r=t.node(s),o=r.parent,a=!0,u=e.edge(s,o),h=0;return u||(a=!1,u=e.edge(o,s)),h=u.weight,jt(e.nodeEdges(s),function(d){var y=d.v===s,_=y?d.w:d.v;if(_!==o){var v=y===a,x=e.edge(d).weight;if(h+=v?x:-x,Dz(t,s,_)){var k=t.edge(s,_).cutvalue;h+=v?-k:k}}}),h}function sm(t,e){arguments.length<2&&(e=t.nodes()[0]),Eb(t,{},1,e)}function Eb(t,e,s,r,o){var a=s,u=t.node(r);return e[r]=!0,jt(t.neighbors(r),function(h){Bn(e,h)||(s=Eb(t,e,s,h,r))}),u.low=a,u.lim=s++,o?u.parent=o:delete u.parent,s}function Bb(t){return Wg(t.edges(),function(e){return t.edge(e).cutvalue<0})}function Sb(t,e,s){var r=s.v,o=s.w;e.hasEdge(r,o)||(r=s.w,o=s.v);var a=t.node(r),u=t.node(o),h=a,d=!1;a.lim>u.lim&&(h=u,d=!0);var y=ea(e.edges(),function(_){return d===Db(t,t.node(_.v),h)&&d!==Db(t,t.node(_.w),h)});return Gg(y,function(_){return Qh(e,_)})}function Tb(t,e,s,r){var o=s.v,a=s.w;t.removeEdge(o,a),t.setEdge(r.v,r.w,{}),sm(t),nm(t,e),Tz(t,e)}function Tz(t,e){var s=Wg(t.nodes(),function(o){return!e.node(o).parent}),r=Bz(t,s);r=r.slice(1),jt(r,function(o){var a=t.node(o).parent,u=e.edge(o,a),h=!1;u||(u=e.edge(a,o),h=!0),e.node(o).rank=e.node(a).rank+(h?u.minlen:-u.minlen)})}function Dz(t,e,s){return t.hasEdge(e,s)}function Db(t,e,s){return s.low<=e.lim&&e.lim<=s.lim}function Fz(t){switch(t.graph().ranker){case"network-simplex":Fb(t);break;case"tight-tree":Iz(t);break;case"longest-path":Lz(t);break;default:Fb(t)}}var Lz=em;function Iz(t){em(t),kb(t)}function Fb(t){Zl(t)}let Lb=0;const Mz=function(t,e,s,r,o){const a=function(V){switch(V){case o.db.relationType.AGGREGATION:return"aggregation";case o.db.relationType.EXTENSION:return"extension";case o.db.relationType.COMPOSITION:return"composition";case o.db.relationType.DEPENDENCY:return"dependency";case o.db.relationType.LOLLIPOP:return"lollipop"}};e.points=e.points.filter(V=>!Number.isNaN(V.y));const u=e.points,h=Zc().x(function(V){return V.x}).y(function(V){return V.y}).curve(Qc),d=t.append("path").attr("d",h(u)).attr("id","edge"+Lb).attr("class","relation");let y="";r.arrowMarkerAbsolute&&(y=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,y=y.replace(/\(/g,"\\("),y=y.replace(/\)/g,"\\)")),s.relation.lineType==1&&d.attr("class","relation dashed-line"),s.relation.lineType==10&&d.attr("class","relation dotted-line"),s.relation.type1!=="none"&&d.attr("marker-start","url("+y+"#"+a(s.relation.type1)+"Start)"),s.relation.type2!=="none"&&d.attr("marker-end","url("+y+"#"+a(s.relation.type2)+"End)");let _,v;const x=e.points.length;let k=wn.calcLabelPosition(e.points);_=k.x,v=k.y;let D,M,R,Y;if(x%2!==0&&x>1){let V=wn.calcCardinalityPosition(s.relation.type1!=="none",e.points,e.points[0]),X=wn.calcCardinalityPosition(s.relation.type2!=="none",e.points,e.points[x-1]);w.debug("cardinality_1_point "+JSON.stringify(V)),w.debug("cardinality_2_point "+JSON.stringify(X)),D=V.x,M=V.y,R=X.x,Y=X.y}if(s.title!==void 0){const V=t.append("g").attr("class","classLabel"),X=V.append("text").attr("class","label").attr("x",_).attr("y",v).attr("fill","red").attr("text-anchor","middle").text(s.title);window.label=X;const J=X.node().getBBox();V.insert("rect",":first-child").attr("class","box").attr("x",J.x-r.padding/2).attr("y",J.y-r.padding/2).attr("width",J.width+r.padding).attr("height",J.height+r.padding)}w.info("Rendering relation "+JSON.stringify(s)),s.relationTitle1!==void 0&&s.relationTitle1!=="none"&&t.append("g").attr("class","cardinality").append("text").attr("class","type1").attr("x",D).attr("y",M).attr("fill","black").attr("font-size","6").text(s.relationTitle1),s.relationTitle2!==void 0&&s.relationTitle2!=="none"&&t.append("g").attr("class","cardinality").append("text").attr("class","type2").attr("x",R).attr("y",Y).attr("fill","black").attr("font-size","6").text(s.relationTitle2),Lb++},Rz=function(t,e,s,r){w.debug("Rendering class ",e,s);const o=e.id,a={id:o,label:e.id,width:0,height:0},u=t.append("g").attr("id",r.db.lookUpDomId(o)).attr("class","classGroup");let h;e.link?h=u.append("svg:a").attr("xlink:href",e.link).attr("target",e.linkTarget).append("text").attr("y",s.textHeight+s.padding).attr("x",0):h=u.append("text").attr("y",s.textHeight+s.padding).attr("x",0);let d=!0;e.annotations.forEach(function(rt){const lt=h.append("tspan").text(""+rt+"");d||lt.attr("dy",s.textHeight),d=!1});let y=e.id;e.type!==void 0&&e.type!==""&&(y+="<"+e.type+">");const _=h.append("tspan").text(y).attr("class","title");d||_.attr("dy",s.textHeight);const v=h.node().getBBox().height,x=u.append("line").attr("x1",0).attr("y1",s.padding+v+s.dividerMargin/2).attr("y2",s.padding+v+s.dividerMargin/2),k=u.append("text").attr("x",s.padding).attr("y",v+s.dividerMargin+s.textHeight).attr("fill","white").attr("class","classText");d=!0,e.members.forEach(function(rt){Ib(k,rt,d,s),d=!1});const D=k.node().getBBox(),M=u.append("line").attr("x1",0).attr("y1",s.padding+v+s.dividerMargin+D.height).attr("y2",s.padding+v+s.dividerMargin+D.height),R=u.append("text").attr("x",s.padding).attr("y",v+2*s.dividerMargin+D.height+s.textHeight).attr("fill","white").attr("class","classText");d=!0,e.methods.forEach(function(rt){Ib(R,rt,d,s),d=!1});const Y=u.node().getBBox();var V=" ";e.cssClasses.length>0&&(V=V+e.cssClasses.join(" "));const J=u.insert("rect",":first-child").attr("x",0).attr("y",0).attr("width",Y.width+2*s.padding).attr("height",Y.height+s.padding+.5*s.dividerMargin).attr("class",V).node().getBBox().width;return h.node().childNodes.forEach(function(rt){rt.setAttribute("x",(J-rt.getBBox().width)/2)}),e.tooltip&&h.insert("title").text(e.tooltip),x.attr("x2",J),M.attr("x2",J),a.width=J,a.height=Y.height+s.padding+.5*s.dividerMargin,a},Oz=function(t,e,s,r){w.debug("Rendering note ",e,s);const o=e.id,a={id:o,text:e.text,width:0,height:0},u=t.append("g").attr("id",o).attr("class","classGroup");let h=u.append("text").attr("y",s.textHeight+s.padding).attr("x",0);const d=JSON.parse(`"${e.text}"`).split(`
`);d.forEach(function(x){w.debug(`Adding line: ${x}`),h.append("tspan").text(x).attr("class","title").attr("dy",s.textHeight)});const y=u.node().getBBox(),v=u.insert("rect",":first-child").attr("x",0).attr("y",0).attr("width",y.width+2*s.padding).attr("height",y.height+d.length*s.textHeight+s.padding+.5*s.dividerMargin).node().getBBox().width;return h.node().childNodes.forEach(function(x){x.setAttribute("x",(v-x.getBBox().width)/2)}),a.width=v,a.height=y.height+d.length*s.textHeight+s.padding+.5*s.dividerMargin,a},r1=function(t){const e=/^([#+~-])?(\w+)(~\w+~|\[])?\s+(\w+) *([$*])?$/,s=/^([#+|~-])?(\w+) *\( *(.*)\) *([$*])? *(\w*[[\]|~]*\s*\w*~?)$/;let r=t.match(e),o=t.match(s);return r&&!o?Nz(r):o?Pz(o):Vz(t)},Nz=function(t){let e="",s="";try{let r=t[1]?t[1].trim():"",o=t[2]?t[2].trim():"",a=t[3]?Na(t[3].trim()):"",u=t[4]?t[4].trim():"",h=t[5]?t[5].trim():"";s=r+o+a+" "+u,e=rm(h)}catch{s=t}return{displayText:s,cssStyle:e}},Pz=function(t){let e="",s="";try{let r=t[1]?t[1].trim():"",o=t[2]?t[2].trim():"",a=t[3]?Na(t[3].trim()):"",u=t[4]?t[4].trim():"",h=t[5]?" : "+Na(t[5]).trim():"";s=r+o+"("+a+")"+h,e=rm(u)}catch{s=t}return{displayText:s,cssStyle:e}},Vz=function(t){let e="",s="",r="",o=t.indexOf("("),a=t.indexOf(")");if(o>1&&a>o&&a<=t.length){let u="",h="",d=t.substring(0,1);d.match(/\w/)?h=t.substring(0,o).trim():(d.match(/[#+~-]/)&&(u=d),h=t.substring(1,o).trim());const y=t.substring(o+1,a);t.substring(a+1,1),s=rm(t.substring(a+1,a+2)),e=u+h+"("+Na(y.trim())+")",a<t.length&&(r=t.substring(a+2).trim(),r!==""&&(r=" : "+Na(r),e+=r))}else e=Na(t);return{displayText:e,cssStyle:s}},Ib=function(t,e,s,r){let o=r1(e);const a=t.append("tspan").attr("x",r.padding).text(o.displayText);o.cssStyle!==""&&a.attr("style",o.cssStyle),s||a.attr("dy",r.textHeight)},rm=function(t){switch(t){case"*":return"font-style:italic;";case"$":return"text-decoration:underline;";default:return""}},im={drawClass:Rz,drawEdge:Mz,drawNote:Oz,parseMember:r1};let i1={};const o1=20,Jh=function(t){const e=Object.entries(i1).find(s=>s[1].label===t);if(e)return e[0]},$z=function(t){t.append("defs").append("marker").attr("id","extensionStart").attr("class","extension").attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 1,7 L18,13 V 1 Z"),t.append("defs").append("marker").attr("id","extensionEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 1,1 V 13 L18,7 Z"),t.append("defs").append("marker").attr("id","compositionStart").attr("class","extension").attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),t.append("defs").append("marker").attr("id","compositionEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),t.append("defs").append("marker").attr("id","aggregationStart").attr("class","extension").attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),t.append("defs").append("marker").attr("id","aggregationEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),t.append("defs").append("marker").attr("id","dependencyStart").attr("class","extension").attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 5,7 L9,13 L1,7 L9,1 Z"),t.append("defs").append("marker").attr("id","dependencyEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},Yz={draw:function(t,e,s,r){const o=ht().class;i1={},w.info("Rendering diagram "+t);const a=ht().securityLevel;let u;a==="sandbox"&&(u=ee("#i"+e));const h=ee(a==="sandbox"?u.nodes()[0].contentDocument.body:"body"),d=h.select(`[id='${e}']`);$z(d);const y=new Gs({multigraph:!0});y.setGraph({isMultiGraph:!0}),y.setDefaultEdgeLabel(function(){return{}});const _=r.db.getClasses(),v=Object.keys(_);for(const V of v){const X=_[V],J=im.drawClass(d,X,o,r);i1[J.id]=J,y.setNode(J.id,J),w.info("Org height: "+J.height)}r.db.getRelations().forEach(function(V){w.info("tjoho"+Jh(V.id1)+Jh(V.id2)+JSON.stringify(V)),y.setEdge(Jh(V.id1),Jh(V.id2),{relation:V},V.title||"DEFAULT")}),r.db.getNotes().forEach(function(V){w.debug(`Adding note: ${JSON.stringify(V)}`);const X=im.drawNote(d,V,o,r);i1[X.id]=X,y.setNode(X.id,X),V.class&&V.class in _&&y.setEdge(V.id,Jh(V.class),{relation:{id1:V.id,id2:V.class,relation:{type1:"none",type2:"none",lineType:10}}},"DEFAULT")}),Cu(y),y.nodes().forEach(function(V){V!==void 0&&y.node(V)!==void 0&&(w.debug("Node "+V+": "+JSON.stringify(y.node(V))),h.select("#"+(r.db.lookUpDomId(V)||V)).attr("transform","translate("+(y.node(V).x-y.node(V).width/2)+","+(y.node(V).y-y.node(V).height/2)+" )"))}),y.edges().forEach(function(V){V!==void 0&&y.edge(V)!==void 0&&(w.debug("Edge "+V.v+" -> "+V.w+": "+JSON.stringify(y.edge(V))),im.drawEdge(d,y.edge(V),y.edge(V).relation,o,r))});const D=d.node().getBBox(),M=D.width+o1*2,R=D.height+o1*2;Ui(d,R,M,o.useMaxWidth);const Y=`${D.x-o1} ${D.y-o1} ${M} ${R}`;w.debug(`viewBox ${Y}`),d.attr("viewBox",Y)}};function sa(t){var e={options:{directed:t.isDirected(),multigraph:t.isMultigraph(),compound:t.isCompound()},nodes:Uz(t),edges:zz(t)};return Ps(t.graph())||(e.value=r$(t.graph())),e}function Uz(t){return js(t.nodes(),function(e){var s=t.node(e),r=t.parent(e),o={v:e};return Ps(s)||(o.value=s),Ps(r)||(o.parent=r),o})}function zz(t){return js(t.edges(),function(e){var s=t.edge(e),r={v:e.v,w:e.w};return Ps(e.name)||(r.name=e.name),Ps(s)||(r.value=s),r})}const Wz=(t,e,s,r)=>{e.forEach(o=>{Hz[o](t,s,r)})},Hz={extension:(t,e,s)=>{w.trace("Making markers for ",s),t.append("defs").append("marker").attr("id",e+"-extensionStart").attr("class","marker extension "+e).attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 1,7 L18,13 V 1 Z"),t.append("defs").append("marker").attr("id",e+"-extensionEnd").attr("class","marker extension "+e).attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 1,1 V 13 L18,7 Z")},composition:(t,e)=>{t.append("defs").append("marker").attr("id",e+"-compositionStart").attr("class","marker composition "+e).attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),t.append("defs").append("marker").attr("id",e+"-compositionEnd").attr("class","marker composition "+e).attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},aggregation:(t,e)=>{t.append("defs").append("marker").attr("id",e+"-aggregationStart").attr("class","marker aggregation "+e).attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),t.append("defs").append("marker").attr("id",e+"-aggregationEnd").attr("class","marker aggregation "+e).attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},dependency:(t,e)=>{t.append("defs").append("marker").attr("id",e+"-dependencyStart").attr("class","marker dependency "+e).attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 5,7 L9,13 L1,7 L9,1 Z"),t.append("defs").append("marker").attr("id",e+"-dependencyEnd").attr("class","marker dependency "+e).attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},lollipop:(t,e)=>{t.append("defs").append("marker").attr("id",e+"-lollipopStart").attr("class","marker lollipop "+e).attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","white").attr("cx",6).attr("cy",7).attr("r",6)},point:(t,e)=>{t.append("marker").attr("id",e+"-pointEnd").attr("class","marker "+e).attr("viewBox","0 0 10 10").attr("refX",10).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),t.append("marker").attr("id",e+"-pointStart").attr("class","marker "+e).attr("viewBox","0 0 10 10").attr("refX",0).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 0 5 L 10 10 L 10 0 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},circle:(t,e)=>{t.append("marker").attr("id",e+"-circleEnd").attr("class","marker "+e).attr("viewBox","0 0 10 10").attr("refX",11).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),t.append("marker").attr("id",e+"-circleStart").attr("class","marker "+e).attr("viewBox","0 0 10 10").attr("refX",-1).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},cross:(t,e)=>{t.append("marker").attr("id",e+"-crossEnd").attr("class","marker cross "+e).attr("viewBox","0 0 11 11").attr("refX",12).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0"),t.append("marker").attr("id",e+"-crossStart").attr("class","marker cross "+e).attr("viewBox","0 0 11 11").attr("refX",-1).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0")},barb:(t,e)=>{t.append("defs").append("marker").attr("id",e+"-barbEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",14).attr("markerUnits","strokeWidth").attr("orient","auto").append("path").attr("d","M 19,7 L9,13 L14,7 L9,1 Z")}},jz=Wz;function Gz(t,e){e&&t.attr("style",e)}function qz(t){const e=ee(document.createElementNS("http://www.w3.org/2000/svg","foreignObject")),s=e.append("xhtml:div"),r=t.label,o=t.isNode?"nodeLabel":"edgeLabel";return s.html('<span class="'+o+'" '+(t.labelStyle?'style="'+t.labelStyle+'"':"")+">"+r+"</span>"),Gz(s,t.labelStyle),s.style("display","inline-block"),s.style("white-space","nowrap"),s.attr("xmlns","http://www.w3.org/1999/xhtml"),e.node()}const Zr=(t,e,s,r)=>{let o=t||"";if(typeof o=="object"&&(o=o[0]),hr(ht().flowchart.htmlLabels)){o=o.replace(/\\n|\n/g,"<br />"),w.info("vertexText"+o);const a={isNode:r,label:_2(o).replace(/fa[blrs]?:fa-[\w-]+/g,h=>`<i class='${h.replace(":"," ")}'></i>`),labelStyle:e.replace("fill:","color:")};return qz(a)}else{const a=document.createElementNS("http://www.w3.org/2000/svg","text");a.setAttribute("style",e.replace("color:","fill:"));let u=[];typeof o=="string"?u=o.split(/\\n|\n|<br\s*\/?>/gi):Array.isArray(o)?u=o:u=[];for(const h of u){const d=document.createElementNS("http://www.w3.org/2000/svg","tspan");d.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),d.setAttribute("dy","1em"),d.setAttribute("x","0"),s?d.setAttribute("class","title-row"):d.setAttribute("class","row"),d.textContent=h.trim(),a.appendChild(d)}return a}},Tr=(t,e,s,r)=>{let o;s?o=s:o="node default";const a=t.insert("g").attr("class",o).attr("id",e.domId||e.id),u=a.insert("g").attr("class","label").attr("style",e.labelStyle);let h;e.labelText===void 0?h="":h=typeof e.labelText=="string"?e.labelText:e.labelText[0];const d=u.node().appendChild(Zr(Pi(_2(h),ht()),e.labelStyle,!1,r));let y=d.getBBox();if(hr(ht().flowchart.htmlLabels)){const v=d.children[0],x=ee(d);y=v.getBoundingClientRect(),x.attr("width",y.width),x.attr("height",y.height)}const _=e.padding/2;return u.attr("transform","translate("+-y.width/2+", "+-y.height/2+")"),{shapeSvg:a,bbox:y,halfPadding:_,label:u}},Vs=(t,e)=>{const s=e.node().getBBox();t.width=s.width,t.height=s.height};function ra(t,e,s,r){return t.insert("polygon",":first-child").attr("points",r.map(function(o){return o.x+","+o.y}).join(" ")).attr("class","label-container").attr("transform","translate("+-e/2+","+s/2+")")}let Yn={},Zi={},Mb={};const Xz=()=>{Zi={},Mb={},Yn={}},a1=(t,e)=>(w.trace("In isDecendant",e," ",t," = ",Zi[e].includes(t)),!!Zi[e].includes(t)),Kz=(t,e)=>(w.info("Decendants of ",e," is ",Zi[e]),w.info("Edge is ",t),t.v===e||t.w===e?!1:Zi[e]?Zi[e].includes(t.v)||a1(t.v,e)||a1(t.w,e)||Zi[e].includes(t.w):(w.debug("Tilt, ",e,",not in decendants"),!1)),Rb=(t,e,s,r)=>{w.warn("Copying children of ",t,"root",r,"data",e.node(t),r);const o=e.children(t)||[];t!==r&&o.push(t),w.warn("Copying (nodes) clusterId",t,"nodes",o),o.forEach(a=>{if(e.children(a).length>0)Rb(a,e,s,r);else{const u=e.node(a);w.info("cp ",a," to ",r," with parent ",t),s.setNode(a,u),r!==e.parent(a)&&(w.warn("Setting parent",a,e.parent(a)),s.setParent(a,e.parent(a))),t!==r&&a!==t?(w.debug("Setting parent",a,t),s.setParent(a,t)):(w.info("In copy ",t,"root",r,"data",e.node(t),r),w.debug("Not Setting parent for node=",a,"cluster!==rootId",t!==r,"node!==clusterId",a!==t));const h=e.edges(a);w.debug("Copying Edges",h),h.forEach(d=>{w.info("Edge",d);const y=e.edge(d.v,d.w,d.name);w.info("Edge data",y,r);try{Kz(d,r)?(w.info("Copying as ",d.v,d.w,y,d.name),s.setEdge(d.v,d.w,y,d.name),w.info("newGraph edges ",s.edges(),s.edge(s.edges()[0]))):w.info("Skipping copy of edge ",d.v,"-->",d.w," rootId: ",r," clusterId:",t)}catch(_){w.error(_)}})}w.debug("Removing node",a),e.removeNode(a)})},Ob=(t,e)=>{const s=e.children(t);let r=[...s];for(const o of s)Mb[o]=t,r=[...r,...Ob(o,e)];return r},tp=(t,e)=>{w.trace("Searching",t);const s=e.children(t);if(w.trace("Searching children of id ",t,s),s.length<1)return w.trace("This is a valid node",t),t;for(const r of s){const o=tp(r,e);if(o)return w.trace("Found replacement for",t," => ",o),o}},l1=t=>!Yn[t]||!Yn[t].externalConnections?t:Yn[t]?Yn[t].id:t,Zz=(t,e)=>{if(!t||e>10){w.debug("Opting out, no graph ");return}else w.debug("Opting in, graph ");t.nodes().forEach(function(s){t.children(s).length>0&&(w.warn("Cluster identified",s," Replacement id in edges: ",tp(s,t)),Zi[s]=Ob(s,t),Yn[s]={id:tp(s,t),clusterData:t.node(s)})}),t.nodes().forEach(function(s){const r=t.children(s),o=t.edges();r.length>0?(w.debug("Cluster identified",s,Zi),o.forEach(a=>{if(a.v!==s&&a.w!==s){const u=a1(a.v,s),h=a1(a.w,s);u^h&&(w.warn("Edge: ",a," leaves cluster ",s),w.warn("Decendants of XXX ",s,": ",Zi[s]),Yn[s].externalConnections=!0)}})):w.debug("Not a cluster ",s,Zi)}),t.edges().forEach(function(s){const r=t.edge(s);w.warn("Edge "+s.v+" -> "+s.w+": "+JSON.stringify(s)),w.warn("Edge "+s.v+" -> "+s.w+": "+JSON.stringify(t.edge(s)));let o=s.v,a=s.w;if(w.warn("Fix XXX",Yn,"ids:",s.v,s.w,"Translating: ",Yn[s.v]," --- ",Yn[s.w]),Yn[s.v]&&Yn[s.w]&&Yn[s.v]===Yn[s.w]){w.warn("Fixing and trixing link to self - removing XXX",s.v,s.w,s.name),w.warn("Fixing and trixing - removing XXX",s.v,s.w,s.name),o=l1(s.v),a=l1(s.w),t.removeEdge(s.v,s.w,s.name);const u=s.w+"---"+s.v;t.setNode(u,{domId:u,id:u,labelStyle:"",labelText:r.label,padding:0,shape:"labelRect",style:""});const h=JSON.parse(JSON.stringify(r)),d=JSON.parse(JSON.stringify(r));h.label="",h.arrowTypeEnd="none",d.label="",h.fromCluster=s.v,d.toCluster=s.v,t.setEdge(o,u,h,s.name+"-cyclic-special"),t.setEdge(u,a,d,s.name+"-cyclic-special")}else(Yn[s.v]||Yn[s.w])&&(w.warn("Fixing and trixing - removing XXX",s.v,s.w,s.name),o=l1(s.v),a=l1(s.w),t.removeEdge(s.v,s.w,s.name),o!==s.v&&(r.fromCluster=s.v),a!==s.w&&(r.toCluster=s.w),w.warn("Fix Replacing with XXX",o,a,s.name),t.setEdge(o,a,r,s.name))}),w.warn("Adjusted Graph",sa(t)),Nb(t,0),w.trace(Yn)},Nb=(t,e)=>{if(w.warn("extractor - ",e,sa(t),t.children("D")),e>10){w.error("Bailing out");return}let s=t.nodes(),r=!1;for(const o of s){const a=t.children(o);r=r||a.length>0}if(!r){w.debug("Done, no node has children",t.nodes());return}w.debug("Nodes = ",s,e);for(const o of s)if(w.debug("Extracting node",o,Yn,Yn[o]&&!Yn[o].externalConnections,!t.parent(o),t.node(o),t.children("D")," Depth ",e),!Yn[o])w.debug("Not a cluster",o,e);else if(!Yn[o].externalConnections&&t.children(o)&&t.children(o).length>0){w.warn("Cluster without external connections, without a parent and with children",o,e);let u=t.graph().rankdir==="TB"?"LR":"TB";Yn[o]&&Yn[o].clusterData&&Yn[o].clusterData.dir&&(u=Yn[o].clusterData.dir,w.warn("Fixing dir",Yn[o].clusterData.dir,u));const h=new Gs({multigraph:!0,compound:!0}).setGraph({rankdir:u,nodesep:50,ranksep:50,marginx:8,marginy:8}).setDefaultEdgeLabel(function(){return{}});w.warn("Old graph before copy",sa(t)),Rb(o,t,h,o),t.setNode(o,{clusterNode:!0,id:o,clusterData:Yn[o].clusterData,labelText:Yn[o].labelText,graph:h}),w.warn("New graph after copy node: (",o,")",sa(h)),w.debug("Old graph after copy",sa(t))}else w.warn("Cluster ** ",o," **not meeting the criteria !externalConnections:",!Yn[o].externalConnections," no parent: ",!t.parent(o)," children ",t.children(o)&&t.children(o).length>0,t.children("D"),e),w.debug(Yn);s=t.nodes(),w.warn("New list of nodes",s);for(const o of s){const a=t.node(o);w.warn(" Now next level",o,a),a.clusterNode&&Nb(a.graph,e+1)}},Pb=(t,e)=>{if(e.length===0)return[];let s=Object.assign(e);return e.forEach(r=>{const o=t.children(r),a=Pb(t,o);s=[...s,...a]}),s},Qz=t=>Pb(t,t.children());function Jz(t,e){return t.intersect(e)}function Vb(t,e,s,r){var o=t.x,a=t.y,u=o-r.x,h=a-r.y,d=Math.sqrt(e*e*h*h+s*s*u*u),y=Math.abs(e*s*u/d);r.x<o&&(y=-y);var _=Math.abs(e*s*h/d);return r.y<a&&(_=-_),{x:o+y,y:a+_}}function tW(t,e,s){return Vb(t,e,e,s)}function eW(t,e,s,r){var o,a,u,h,d,y,_,v,x,k,D,M,R,Y,V;if(o=e.y-t.y,u=t.x-e.x,d=e.x*t.y-t.x*e.y,x=o*s.x+u*s.y+d,k=o*r.x+u*r.y+d,!(x!==0&&k!==0&&$b(x,k))&&(a=r.y-s.y,h=s.x-r.x,y=r.x*s.y-s.x*r.y,_=a*t.x+h*t.y+y,v=a*e.x+h*e.y+y,!(_!==0&&v!==0&&$b(_,v))&&(D=o*h-a*u,D!==0)))return M=Math.abs(D/2),R=u*y-h*d,Y=R<0?(R-M)/D:(R+M)/D,R=a*d-o*y,V=R<0?(R-M)/D:(R+M)/D,{x:Y,y:V}}function $b(t,e){return t*e>0}function nW(t,e,s){var r=t.x,o=t.y,a=[],u=Number.POSITIVE_INFINITY,h=Number.POSITIVE_INFINITY;typeof e.forEach=="function"?e.forEach(function(D){u=Math.min(u,D.x),h=Math.min(h,D.y)}):(u=Math.min(u,e.x),h=Math.min(h,e.y));for(var d=r-t.width/2-u,y=o-t.height/2-h,_=0;_<e.length;_++){var v=e[_],x=e[_<e.length-1?_+1:0],k=eW(t,s,{x:d+v.x,y:y+v.y},{x:d+x.x,y:y+x.y});k&&a.push(k)}return a.length?(a.length>1&&a.sort(function(D,M){var R=D.x-s.x,Y=D.y-s.y,V=Math.sqrt(R*R+Y*Y),X=M.x-s.x,J=M.y-s.y,rt=Math.sqrt(X*X+J*J);return V<rt?-1:V===rt?0:1}),a[0]):t}const ep=(t,e)=>{var s=t.x,r=t.y,o=e.x-s,a=e.y-r,u=t.width/2,h=t.height/2,d,y;return Math.abs(a)*u>Math.abs(o)*h?(a<0&&(h=-h),d=a===0?0:h*o/a,y=h):(o<0&&(u=-u),d=u,y=o===0?0:u*a/o),{x:s+d,y:r+y}},Fs={node:Jz,circle:tW,ellipse:Vb,polygon:nW,rect:ep},sW=(t,e)=>{const{shapeSvg:s,bbox:r,halfPadding:o}=Tr(t,e,"node "+e.classes,!0);w.info("Classes = ",e.classes);const a=s.insert("rect",":first-child");return a.attr("rx",e.rx).attr("ry",e.ry).attr("x",-r.width/2-o).attr("y",-r.height/2-o).attr("width",r.width+e.padding).attr("height",r.height+e.padding),Vs(e,a),e.intersect=function(u){return Fs.rect(e,u)},s},rW=(t,e)=>{const{shapeSvg:s,bbox:r}=Tr(t,e,void 0,!0),o=r.width+e.padding,a=r.height+e.padding,u=o+a,h=[{x:u/2,y:0},{x:u,y:-u/2},{x:u/2,y:-u},{x:0,y:-u/2}];w.info("Question main (Circle)");const d=ra(s,u,u,h);return d.attr("style",e.style),Vs(e,d),e.intersect=function(y){return w.warn("Intersect called"),Fs.polygon(e,h,y)},s},iW=(t,e)=>{const s=t.insert("g").attr("class","node default").attr("id",e.domId||e.id),r=28,o=[{x:0,y:r/2},{x:r/2,y:0},{x:0,y:-r/2},{x:-r/2,y:0}];return s.insert("polygon",":first-child").attr("points",o.map(function(u){return u.x+","+u.y}).join(" ")).attr("class","state-start").attr("r",7).attr("width",28).attr("height",28),e.width=28,e.height=28,e.intersect=function(u){return Fs.circle(e,14,u)},s},oW=(t,e)=>{const{shapeSvg:s,bbox:r}=Tr(t,e,void 0,!0),o=4,a=r.height+e.padding,u=a/o,h=r.width+2*u+e.padding,d=[{x:u,y:0},{x:h-u,y:0},{x:h,y:-a/2},{x:h-u,y:-a},{x:u,y:-a},{x:0,y:-a/2}],y=ra(s,h,a,d);return y.attr("style",e.style),Vs(e,y),e.intersect=function(_){return Fs.polygon(e,d,_)},s},aW=(t,e)=>{const{shapeSvg:s,bbox:r}=Tr(t,e,void 0,!0),o=r.width+e.padding,a=r.height+e.padding,u=[{x:-a/2,y:0},{x:o,y:0},{x:o,y:-a},{x:-a/2,y:-a},{x:0,y:-a/2}];return ra(s,o,a,u).attr("style",e.style),e.width=o+a,e.height=a,e.intersect=function(d){return Fs.polygon(e,u,d)},s},lW=(t,e)=>{const{shapeSvg:s,bbox:r}=Tr(t,e,void 0,!0),o=r.width+e.padding,a=r.height+e.padding,u=[{x:-2*a/6,y:0},{x:o-a/6,y:0},{x:o+2*a/6,y:-a},{x:a/6,y:-a}],h=ra(s,o,a,u);return h.attr("style",e.style),Vs(e,h),e.intersect=function(d){return Fs.polygon(e,u,d)},s},cW=(t,e)=>{const{shapeSvg:s,bbox:r}=Tr(t,e,void 0,!0),o=r.width+e.padding,a=r.height+e.padding,u=[{x:2*a/6,y:0},{x:o+a/6,y:0},{x:o-2*a/6,y:-a},{x:-a/6,y:-a}],h=ra(s,o,a,u);return h.attr("style",e.style),Vs(e,h),e.intersect=function(d){return Fs.polygon(e,u,d)},s},uW=(t,e)=>{const{shapeSvg:s,bbox:r}=Tr(t,e,void 0,!0),o=r.width+e.padding,a=r.height+e.padding,u=[{x:-2*a/6,y:0},{x:o+2*a/6,y:0},{x:o-a/6,y:-a},{x:a/6,y:-a}],h=ra(s,o,a,u);return h.attr("style",e.style),Vs(e,h),e.intersect=function(d){return Fs.polygon(e,u,d)},s},hW=(t,e)=>{const{shapeSvg:s,bbox:r}=Tr(t,e,void 0,!0),o=r.width+e.padding,a=r.height+e.padding,u=[{x:a/6,y:0},{x:o-a/6,y:0},{x:o+2*a/6,y:-a},{x:-2*a/6,y:-a}],h=ra(s,o,a,u);return h.attr("style",e.style),Vs(e,h),e.intersect=function(d){return Fs.polygon(e,u,d)},s},pW=(t,e)=>{const{shapeSvg:s,bbox:r}=Tr(t,e,void 0,!0),o=r.width+e.padding,a=r.height+e.padding,u=[{x:0,y:0},{x:o+a/2,y:0},{x:o,y:-a/2},{x:o+a/2,y:-a},{x:0,y:-a}],h=ra(s,o,a,u);return h.attr("style",e.style),Vs(e,h),e.intersect=function(d){return Fs.polygon(e,u,d)},s},dW=(t,e)=>{const{shapeSvg:s,bbox:r}=Tr(t,e,void 0,!0),o=r.width+e.padding,a=o/2,u=a/(2.5+o/50),h=r.height+u+e.padding,d="M 0,"+u+" a "+a+","+u+" 0,0,0 "+o+" 0 a "+a+","+u+" 0,0,0 "+-o+" 0 l 0,"+h+" a "+a+","+u+" 0,0,0 "+o+" 0 l 0,"+-h,y=s.attr("label-offset-y",u).insert("path",":first-child").attr("style",e.style).attr("d",d).attr("transform","translate("+-o/2+","+-(h/2+u)+")");return Vs(e,y),e.intersect=function(_){const v=Fs.rect(e,_),x=v.x-e.x;if(a!=0&&(Math.abs(x)<e.width/2||Math.abs(x)==e.width/2&&Math.abs(v.y-e.y)>e.height/2-u)){let k=u*u*(1-x*x/(a*a));k!=0&&(k=Math.sqrt(k)),k=u-k,_.y-e.y>0&&(k=-k),v.y+=k}return v},s},fW=(t,e)=>{const{shapeSvg:s,bbox:r,halfPadding:o}=Tr(t,e,"node "+e.classes,!0);w.trace("Classes = ",e.classes);const a=s.insert("rect",":first-child"),u=r.width+e.padding,h=r.height+e.padding;if(a.attr("class","basic label-container").attr("style",e.style).attr("rx",e.rx).attr("ry",e.ry).attr("x",-r.width/2-o).attr("y",-r.height/2-o).attr("width",u).attr("height",h),e.props){const d=new Set(Object.keys(e.props));e.props.borders&&(Yb(a,e.props.borders,u,h),d.delete("borders")),d.forEach(y=>{w.warn(`Unknown node property ${y}`)})}return Vs(e,a),e.intersect=function(d){return Fs.rect(e,d)},s},yW=(t,e)=>{const{shapeSvg:s}=Tr(t,e,"label",!0);w.trace("Classes = ",e.classes);const r=s.insert("rect",":first-child"),o=0,a=0;if(r.attr("width",o).attr("height",a),s.attr("class","label edgeLabel"),e.props){const u=new Set(Object.keys(e.props));e.props.borders&&(Yb(r,e.props.borders,o,a),u.delete("borders")),u.forEach(h=>{w.warn(`Unknown node property ${h}`)})}return Vs(e,r),e.intersect=function(u){return Fs.rect(e,u)},s};function Yb(t,e,s,r){const o=[],a=h=>{o.push(h,0)},u=h=>{o.push(0,h)};e.includes("t")?(w.debug("add top border"),a(s)):u(s),e.includes("r")?(w.debug("add right border"),a(r)):u(r),e.includes("b")?(w.debug("add bottom border"),a(s)):u(s),e.includes("l")?(w.debug("add left border"),a(r)):u(r),t.attr("stroke-dasharray",o.join(" "))}const gW=(t,e)=>{let s;e.classes?s="node "+e.classes:s="node default";const r=t.insert("g").attr("class",s).attr("id",e.domId||e.id),o=r.insert("rect",":first-child"),a=r.insert("line"),u=r.insert("g").attr("class","label"),h=e.labelText.flat?e.labelText.flat():e.labelText;let d="";typeof h=="object"?d=h[0]:d=h,w.info("Label text abc79",d,h,typeof h=="object");const y=u.node().appendChild(Zr(d,e.labelStyle,!0,!0));let _={width:0,height:0};if(hr(ht().flowchart.htmlLabels)){const M=y.children[0],R=ee(y);_=M.getBoundingClientRect(),R.attr("width",_.width),R.attr("height",_.height)}w.info("Text 2",h);const v=h.slice(1,h.length);let x=y.getBBox();const k=u.node().appendChild(Zr(v.join?v.join("<br/>"):v,e.labelStyle,!0,!0));if(hr(ht().flowchart.htmlLabels)){const M=k.children[0],R=ee(k);_=M.getBoundingClientRect(),R.attr("width",_.width),R.attr("height",_.height)}const D=e.padding/2;return ee(k).attr("transform","translate( "+(_.width>x.width?0:(x.width-_.width)/2)+", "+(x.height+D+5)+")"),ee(y).attr("transform","translate( "+(_.width<x.width?0:-(x.width-_.width)/2)+", "+0+")"),_=u.node().getBBox(),u.attr("transform","translate("+-_.width/2+", "+(-_.height/2-D+3)+")"),o.attr("class","outer title-state").attr("x",-_.width/2-D).attr("y",-_.height/2-D).attr("width",_.width+e.padding).attr("height",_.height+e.padding),a.attr("class","divider").attr("x1",-_.width/2-D).attr("x2",_.width/2+D).attr("y1",-_.height/2-D+x.height+D).attr("y2",-_.height/2-D+x.height+D),Vs(e,o),e.intersect=function(M){return Fs.rect(e,M)},r},mW=(t,e)=>{const{shapeSvg:s,bbox:r}=Tr(t,e,void 0,!0),o=r.height+e.padding,a=r.width+o/4+e.padding,u=s.insert("rect",":first-child").attr("style",e.style).attr("rx",o/2).attr("ry",o/2).attr("x",-a/2).attr("y",-o/2).attr("width",a).attr("height",o);return Vs(e,u),e.intersect=function(h){return Fs.rect(e,h)},s},_W=(t,e)=>{const{shapeSvg:s,bbox:r,halfPadding:o}=Tr(t,e,void 0,!0),a=s.insert("circle",":first-child");return a.attr("style",e.style).attr("rx",e.rx).attr("ry",e.ry).attr("r",r.width/2+o).attr("width",r.width+e.padding).attr("height",r.height+e.padding),w.info("Circle main"),Vs(e,a),e.intersect=function(u){return w.info("Circle intersect",e,r.width/2+o,u),Fs.circle(e,r.width/2+o,u)},s},vW=(t,e)=>{const{shapeSvg:s,bbox:r,halfPadding:o}=Tr(t,e,void 0,!0),a=5,u=s.insert("g",":first-child"),h=u.insert("circle"),d=u.insert("circle");return h.attr("style",e.style).attr("rx",e.rx).attr("ry",e.ry).attr("r",r.width/2+o+a).attr("width",r.width+e.padding+a*2).attr("height",r.height+e.padding+a*2),d.attr("style",e.style).attr("rx",e.rx).attr("ry",e.ry).attr("r",r.width/2+o).attr("width",r.width+e.padding).attr("height",r.height+e.padding),w.info("DoubleCircle main"),Vs(e,h),e.intersect=function(y){return w.info("DoubleCircle intersect",e,r.width/2+o+a,y),Fs.circle(e,r.width/2+o+a,y)},s},bW=(t,e)=>{const{shapeSvg:s,bbox:r}=Tr(t,e,void 0,!0),o=r.width+e.padding,a=r.height+e.padding,u=[{x:0,y:0},{x:o,y:0},{x:o,y:-a},{x:0,y:-a},{x:0,y:0},{x:-8,y:0},{x:o+8,y:0},{x:o+8,y:-a},{x:-8,y:-a},{x:-8,y:0}],h=ra(s,o,a,u);return h.attr("style",e.style),Vs(e,h),e.intersect=function(d){return Fs.polygon(e,u,d)},s},xW=(t,e)=>{const s=t.insert("g").attr("class","node default").attr("id",e.domId||e.id),r=s.insert("circle",":first-child");return r.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14),Vs(e,r),e.intersect=function(o){return Fs.circle(e,7,o)},s},Ub=(t,e,s)=>{const r=t.insert("g").attr("class","node default").attr("id",e.domId||e.id);let o=70,a=10;s==="LR"&&(o=10,a=70);const u=r.append("rect").attr("x",-1*o/2).attr("y",-1*a/2).attr("width",o).attr("height",a).attr("class","fork-join");return Vs(e,u),e.height=e.height+e.padding/2,e.width=e.width+e.padding/2,e.intersect=function(h){return Fs.rect(e,h)},r},zb={question:rW,rect:fW,labelRect:yW,rectWithTitle:gW,choice:iW,circle:_W,doublecircle:vW,stadium:mW,hexagon:oW,rect_left_inv_arrow:aW,lean_right:lW,lean_left:cW,trapezoid:uW,inv_trapezoid:hW,rect_right_inv_arrow:pW,cylinder:dW,start:xW,end:(t,e)=>{const s=t.insert("g").attr("class","node default").attr("id",e.domId||e.id),r=s.insert("circle",":first-child"),o=s.insert("circle",":first-child");return o.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14),r.attr("class","state-end").attr("r",5).attr("width",10).attr("height",10),Vs(e,o),e.intersect=function(a){return Fs.circle(e,7,a)},s},note:sW,subroutine:bW,fork:Ub,join:Ub,class_box:(t,e)=>{const s=e.padding/2,r=4,o=8;let a;e.classes?a="node "+e.classes:a="node default";const u=t.insert("g").attr("class",a).attr("id",e.domId||e.id),h=u.insert("rect",":first-child"),d=u.insert("line"),y=u.insert("line");let _=0,v=r;const x=u.insert("g").attr("class","label");let k=0;const D=e.classData.annotations&&e.classData.annotations[0],M=e.classData.annotations[0]?""+e.classData.annotations[0]+"":"",R=x.node().appendChild(Zr(M,e.labelStyle,!0,!0));let Y=R.getBBox();if(hr(ht().flowchart.htmlLabels)){const it=R.children[0],j=ee(R);Y=it.getBoundingClientRect(),j.attr("width",Y.width),j.attr("height",Y.height)}e.classData.annotations[0]&&(v+=Y.height+r,_+=Y.width);let V=e.classData.id;e.classData.type!==void 0&&e.classData.type!==""&&(ht().flowchart.htmlLabels?V+="&lt;"+e.classData.type+"&gt;":V+="<"+e.classData.type+">");const X=x.node().appendChild(Zr(V,e.labelStyle,!0,!0));ee(X).attr("class","classTitle");let J=X.getBBox();if(hr(ht().flowchart.htmlLabels)){const it=X.children[0],j=ee(X);J=it.getBoundingClientRect(),j.attr("width",J.width),j.attr("height",J.height)}v+=J.height+r,J.width>_&&(_=J.width);const rt=[];e.classData.members.forEach(it=>{const j=r1(it);let W=j.displayText;ht().flowchart.htmlLabels&&(W=W.replace(/</g,"&lt;").replace(/>/g,"&gt;"));const $=x.node().appendChild(Zr(W,j.cssStyle?j.cssStyle:e.labelStyle,!0,!0));let I=$.getBBox();if(hr(ht().flowchart.htmlLabels)){const H=$.children[0],S=ee($);I=H.getBoundingClientRect(),S.attr("width",I.width),S.attr("height",I.height)}I.width>_&&(_=I.width),v+=I.height+r,rt.push($)}),v+=o;const lt=[];if(e.classData.methods.forEach(it=>{const j=r1(it);let W=j.displayText;ht().flowchart.htmlLabels&&(W=W.replace(/</g,"&lt;").replace(/>/g,"&gt;"));const $=x.node().appendChild(Zr(W,j.cssStyle?j.cssStyle:e.labelStyle,!0,!0));let I=$.getBBox();if(hr(ht().flowchart.htmlLabels)){const H=$.children[0],S=ee($);I=H.getBoundingClientRect(),S.attr("width",I.width),S.attr("height",I.height)}I.width>_&&(_=I.width),v+=I.height+r,lt.push($)}),v+=o,D){let it=(_-Y.width)/2;ee(R).attr("transform","translate( "+(-1*_/2+it)+", "+-1*v/2+")"),k=Y.height+r}let tt=(_-J.width)/2;return ee(X).attr("transform","translate( "+(-1*_/2+tt)+", "+(-1*v/2+k)+")"),k+=J.height+r,d.attr("class","divider").attr("x1",-_/2-s).attr("x2",_/2+s).attr("y1",-v/2-s+o+k).attr("y2",-v/2-s+o+k),k+=o,rt.forEach(it=>{ee(it).attr("transform","translate( "+-_/2+", "+(-1*v/2+k+o/2)+")"),k+=J.height+r}),k+=o,y.attr("class","divider").attr("x1",-_/2-s).attr("x2",_/2+s).attr("y1",-v/2-s+o+k).attr("y2",-v/2-s+o+k),k+=o,lt.forEach(it=>{ee(it).attr("transform","translate( "+-_/2+", "+(-1*v/2+k)+")"),k+=J.height+r}),h.attr("class","outer title-state").attr("x",-_/2-s).attr("y",-(v/2)-s).attr("width",_+e.padding).attr("height",v+e.padding),Vs(e,h),e.intersect=function(it){return Fs.rect(e,it)},u}};let Au={};const kW=(t,e,s)=>{let r,o;if(e.link){let a;ht().securityLevel==="sandbox"?a="_top":e.linkTarget&&(a=e.linkTarget||"_blank"),r=t.insert("svg:a").attr("xlink:href",e.link).attr("target",a),o=zb[e.shape](r,e,s)}else o=zb[e.shape](t,e,s),r=o;e.tooltip&&o.attr("title",e.tooltip),e.class&&o.attr("class","node default "+e.class),Au[e.id]=r,e.haveCallback&&Au[e.id].attr("class",Au[e.id].attr("class")+" clickable")},CW=(t,e)=>{Au[e.id]=t},AW=()=>{Au={}},Wb=t=>{const e=Au[t.id];w.trace("Transforming node",t.diff,t,"translate("+(t.x-t.width/2-5)+", "+t.width/2+")");const s=8,r=t.diff||0;return t.clusterNode?e.attr("transform","translate("+(t.x+r-t.width/2)+", "+(t.y-t.height/2-s)+")"):e.attr("transform","translate("+t.x+", "+t.y+")"),r},wW={rect:(t,e)=>{w.trace("Creating subgraph rect for ",e.id,e);const s=t.insert("g").attr("class","cluster"+(e.class?" "+e.class:"")).attr("id",e.id),r=s.insert("rect",":first-child"),o=s.insert("g").attr("class","cluster-label"),a=o.node().appendChild(Zr(e.labelText,e.labelStyle,void 0,!0));let u=a.getBBox();if(hr(ht().flowchart.htmlLabels)){const v=a.children[0],x=ee(a);u=v.getBoundingClientRect(),x.attr("width",u.width),x.attr("height",u.height)}const h=0*e.padding,d=h/2,y=e.width<=u.width+h?u.width+h:e.width;e.width<=u.width+h?e.diff=(u.width-e.width)/2-e.padding/2:e.diff=-e.padding/2,w.trace("Data ",e,JSON.stringify(e)),r.attr("style",e.style).attr("rx",e.rx).attr("ry",e.ry).attr("x",e.x-y/2).attr("y",e.y-e.height/2-d).attr("width",y).attr("height",e.height+h),o.attr("transform","translate("+(e.x-u.width/2)+", "+(e.y-e.height/2)+")");const _=r.node().getBBox();return e.width=_.width,e.height=_.height,e.intersect=function(v){return ep(e,v)},s},roundedWithTitle:(t,e)=>{const s=t.insert("g").attr("class",e.classes).attr("id",e.id),r=s.insert("rect",":first-child"),o=s.insert("g").attr("class","cluster-label"),a=s.append("rect"),u=o.node().appendChild(Zr(e.labelText,e.labelStyle,void 0,!0));let h=u.getBBox();if(hr(ht().flowchart.htmlLabels)){const x=u.children[0],k=ee(u);h=x.getBoundingClientRect(),k.attr("width",h.width),k.attr("height",h.height)}h=u.getBBox();const d=0*e.padding,y=d/2,_=e.width<=h.width+e.padding?h.width+e.padding:e.width;e.width<=h.width+e.padding?e.diff=(h.width+e.padding*0-e.width)/2:e.diff=-e.padding/2,r.attr("class","outer").attr("x",e.x-_/2-y).attr("y",e.y-e.height/2-y).attr("width",_+d).attr("height",e.height+d),a.attr("class","inner").attr("x",e.x-_/2-y).attr("y",e.y-e.height/2-y+h.height-1).attr("width",_+d).attr("height",e.height+d-h.height-3),o.attr("transform","translate("+(e.x-h.width/2)+", "+(e.y-e.height/2-e.padding/3+(hr(ht().flowchart.htmlLabels)?5:3))+")");const v=r.node().getBBox();return e.height=v.height,e.intersect=function(x){return ep(e,x)},s},noteGroup:(t,e)=>{const s=t.insert("g").attr("class","note-cluster").attr("id",e.id),r=s.insert("rect",":first-child"),o=0*e.padding,a=o/2;r.attr("rx",e.rx).attr("ry",e.ry).attr("x",e.x-e.width/2-a).attr("y",e.y-e.height/2-a).attr("width",e.width+o).attr("height",e.height+o).attr("fill","none");const u=r.node().getBBox();return e.width=u.width,e.height=u.height,e.intersect=function(h){return ep(e,h)},s},divider:(t,e)=>{const s=t.insert("g").attr("class",e.classes).attr("id",e.id),r=s.insert("rect",":first-child"),o=0*e.padding,a=o/2;r.attr("class","divider").attr("x",e.x-e.width/2-a).attr("y",e.y-e.height/2).attr("width",e.width+o).attr("height",e.height+o);const u=r.node().getBBox();return e.width=u.width,e.height=u.height,e.diff=-e.padding/2,e.intersect=function(h){return ep(e,h)},s}};let Hb={};const EW=(t,e)=>{w.trace("Inserting cluster");const s=e.shape||"rect";Hb[e.id]=wW[s](t,e)},BW=()=>{Hb={}};let c1={},_r={};const SW=()=>{c1={},_r={}},TW=(t,e)=>{const s=Zr(e.label,e.labelStyle),r=t.insert("g").attr("class","edgeLabel"),o=r.insert("g").attr("class","label");o.node().appendChild(s);let a=s.getBBox();if(hr(ht().flowchart.htmlLabels)){const h=s.children[0],d=ee(s);a=h.getBoundingClientRect(),d.attr("width",a.width),d.attr("height",a.height)}o.attr("transform","translate("+-a.width/2+", "+-a.height/2+")"),c1[e.id]=r,e.width=a.width,e.height=a.height;let u;if(e.startLabelLeft){const h=Zr(e.startLabelLeft,e.labelStyle),d=t.insert("g").attr("class","edgeTerminals"),y=d.insert("g").attr("class","inner");u=y.node().appendChild(h);const _=h.getBBox();y.attr("transform","translate("+-_.width/2+", "+-_.height/2+")"),_r[e.id]||(_r[e.id]={}),_r[e.id].startLeft=d,u1(u,e.startLabelLeft)}if(e.startLabelRight){const h=Zr(e.startLabelRight,e.labelStyle),d=t.insert("g").attr("class","edgeTerminals"),y=d.insert("g").attr("class","inner");u=d.node().appendChild(h),y.node().appendChild(h);const _=h.getBBox();y.attr("transform","translate("+-_.width/2+", "+-_.height/2+")"),_r[e.id]||(_r[e.id]={}),_r[e.id].startRight=d,u1(u,e.startLabelRight)}if(e.endLabelLeft){const h=Zr(e.endLabelLeft,e.labelStyle),d=t.insert("g").attr("class","edgeTerminals"),y=d.insert("g").attr("class","inner");u=y.node().appendChild(h);const _=h.getBBox();y.attr("transform","translate("+-_.width/2+", "+-_.height/2+")"),d.node().appendChild(h),_r[e.id]||(_r[e.id]={}),_r[e.id].endLeft=d,u1(u,e.endLabelLeft)}if(e.endLabelRight){const h=Zr(e.endLabelRight,e.labelStyle),d=t.insert("g").attr("class","edgeTerminals"),y=d.insert("g").attr("class","inner");u=y.node().appendChild(h);const _=h.getBBox();y.attr("transform","translate("+-_.width/2+", "+-_.height/2+")"),d.node().appendChild(h),_r[e.id]||(_r[e.id]={}),_r[e.id].endRight=d,u1(u,e.endLabelRight)}};function u1(t,e){ht().flowchart.htmlLabels&&t&&(t.style.width=e.length*9+"px",t.style.height="12px")}const DW=(t,e)=>{w.info("Moving label abc78 ",t.id,t.label,c1[t.id]);let s=e.updatedPath?e.updatedPath:e.originalPath;if(t.label){const r=c1[t.id];let o=t.x,a=t.y;if(s){const u=wn.calcLabelPosition(s);w.info("Moving label "+t.label+" from (",o,",",a,") to (",u.x,",",u.y,") abc78"),e.updatedPath&&(o=u.x,a=u.y)}r.attr("transform","translate("+o+", "+a+")")}if(t.startLabelLeft){const r=_r[t.id].startLeft;let o=t.x,a=t.y;if(s){const u=wn.calcTerminalLabelPosition(t.arrowTypeStart?10:0,"start_left",s);o=u.x,a=u.y}r.attr("transform","translate("+o+", "+a+")")}if(t.startLabelRight){const r=_r[t.id].startRight;let o=t.x,a=t.y;if(s){const u=wn.calcTerminalLabelPosition(t.arrowTypeStart?10:0,"start_right",s);o=u.x,a=u.y}r.attr("transform","translate("+o+", "+a+")")}if(t.endLabelLeft){const r=_r[t.id].endLeft;let o=t.x,a=t.y;if(s){const u=wn.calcTerminalLabelPosition(t.arrowTypeEnd?10:0,"end_left",s);o=u.x,a=u.y}r.attr("transform","translate("+o+", "+a+")")}if(t.endLabelRight){const r=_r[t.id].endRight;let o=t.x,a=t.y;if(s){const u=wn.calcTerminalLabelPosition(t.arrowTypeEnd?10:0,"end_right",s);o=u.x,a=u.y}r.attr("transform","translate("+o+", "+a+")")}},FW=(t,e)=>{const s=t.x,r=t.y,o=Math.abs(e.x-s),a=Math.abs(e.y-r),u=t.width/2,h=t.height/2;return o>=u||a>=h},LW=(t,e,s)=>{w.warn(`intersection calc abc89:
  outsidePoint: ${JSON.stringify(e)}
  insidePoint : ${JSON.stringify(s)}
  node        : x:${t.x} y:${t.y} w:${t.width} h:${t.height}`);const r=t.x,o=t.y,a=Math.abs(r-s.x),u=t.width/2;let h=s.x<e.x?u-a:u+a;const d=t.height/2,y=Math.abs(e.y-s.y),_=Math.abs(e.x-s.x);if(Math.abs(o-e.y)*u>Math.abs(r-e.x)*d){let v=s.y<e.y?e.y-d-o:o-d-e.y;h=_*v/y;const x={x:s.x<e.x?s.x+h:s.x-_+h,y:s.y<e.y?s.y+y-v:s.y-y+v};return h===0&&(x.x=e.x,x.y=e.y),_===0&&(x.x=e.x),y===0&&(x.y=e.y),w.warn(`abc89 topp/bott calc, Q ${y}, q ${v}, R ${_}, r ${h}`,x),x}else{s.x<e.x?h=e.x-u-r:h=r-u-e.x;let v=y*h/_,x=s.x<e.x?s.x+_-h:s.x-_+h,k=s.y<e.y?s.y+v:s.y-v;return w.warn(`sides calc abc89, Q ${y}, q ${v}, R ${_}, r ${h}`,{_x:x,_y:k}),h===0&&(x=e.x,k=e.y),_===0&&(x=e.x),y===0&&(k=e.y),{x,y:k}}},jb=(t,e)=>{w.warn("abc88 cutPathAtIntersect",t,e);let s=[],r=t[0],o=!1;return t.forEach(a=>{if(w.info("abc88 checking point",a,e),!FW(e,a)&&!o){const u=LW(e,r,a);w.warn("abc88 inside",a,r,u),w.warn("abc88 intersection",u);let h=!1;s.forEach(d=>{h=h||d.x===u.x&&d.y===u.y}),s.some(d=>d.x===u.x&&d.y===u.y)?w.warn("abc88 no intersect",u,s):s.push(u),o=!0}else w.warn("abc88 outside",a,r),r=a,o||s.push(a)}),w.warn("abc88 returning points",s),s},IW=function(t,e,s,r,o,a){let u=s.points,h=!1;const d=a.node(e.v);var y=a.node(e.w);w.info("abc88 InsertEdge: ",s),y.intersect&&d.intersect&&(u=u.slice(1,s.points.length-1),u.unshift(d.intersect(u[0])),w.info("Last point",u[u.length-1],y,y.intersect(u[u.length-1])),u.push(y.intersect(u[u.length-1]))),s.toCluster&&(w.info("to cluster abc88",r[s.toCluster]),u=jb(s.points,r[s.toCluster].node),h=!0),s.fromCluster&&(w.info("from cluster abc88",r[s.fromCluster]),u=jb(u.reverse(),r[s.fromCluster].node).reverse(),h=!0);const _=u.filter(Y=>!Number.isNaN(Y.y));let v;o==="graph"||o==="flowchart"?v=s.curve||Qc:v=Qc;const x=Zc().x(function(Y){return Y.x}).y(function(Y){return Y.y}).curve(v);let k;switch(s.thickness){case"normal":k="edge-thickness-normal";break;case"thick":k="edge-thickness-thick";break;default:k=""}switch(s.pattern){case"solid":k+=" edge-pattern-solid";break;case"dotted":k+=" edge-pattern-dotted";break;case"dashed":k+=" edge-pattern-dashed";break}const D=t.append("path").attr("d",x(_)).attr("id",s.id).attr("class"," "+k+(s.classes?" "+s.classes:"")).attr("style",s.style);let M="";switch((ht().flowchart.arrowMarkerAbsolute||ht().state.arrowMarkerAbsolute)&&(M=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,M=M.replace(/\(/g,"\\("),M=M.replace(/\)/g,"\\)")),w.info("arrowTypeStart",s.arrowTypeStart),w.info("arrowTypeEnd",s.arrowTypeEnd),s.arrowTypeStart){case"arrow_cross":D.attr("marker-start","url("+M+"#"+o+"-crossStart)");break;case"arrow_point":D.attr("marker-start","url("+M+"#"+o+"-pointStart)");break;case"arrow_barb":D.attr("marker-start","url("+M+"#"+o+"-barbStart)");break;case"arrow_circle":D.attr("marker-start","url("+M+"#"+o+"-circleStart)");break;case"aggregation":D.attr("marker-start","url("+M+"#"+o+"-aggregationStart)");break;case"extension":D.attr("marker-start","url("+M+"#"+o+"-extensionStart)");break;case"composition":D.attr("marker-start","url("+M+"#"+o+"-compositionStart)");break;case"dependency":D.attr("marker-start","url("+M+"#"+o+"-dependencyStart)");break;case"lollipop":D.attr("marker-start","url("+M+"#"+o+"-lollipopStart)");break}switch(s.arrowTypeEnd){case"arrow_cross":D.attr("marker-end","url("+M+"#"+o+"-crossEnd)");break;case"arrow_point":D.attr("marker-end","url("+M+"#"+o+"-pointEnd)");break;case"arrow_barb":D.attr("marker-end","url("+M+"#"+o+"-barbEnd)");break;case"arrow_circle":D.attr("marker-end","url("+M+"#"+o+"-circleEnd)");break;case"aggregation":D.attr("marker-end","url("+M+"#"+o+"-aggregationEnd)");break;case"extension":D.attr("marker-end","url("+M+"#"+o+"-extensionEnd)");break;case"composition":D.attr("marker-end","url("+M+"#"+o+"-compositionEnd)");break;case"dependency":D.attr("marker-end","url("+M+"#"+o+"-dependencyEnd)");break;case"lollipop":D.attr("marker-end","url("+M+"#"+o+"-lollipopEnd)");break}let R={};return h&&(R.updatedPath=u),R.originalPath=s.points,R},Gb=(t,e,s,r)=>{w.info("Graph in recursive render: XXX",sa(e),r);const o=e.graph().rankdir;w.trace("Dir in recursive render - dir:",o);const a=t.insert("g").attr("class","root");e.nodes()?w.info("Recursive render XXX",e.nodes()):w.info("No nodes found for",e),e.edges().length>0&&w.trace("Recursive edges",e.edge(e.edges()[0]));const u=a.insert("g").attr("class","clusters"),h=a.insert("g").attr("class","edgePaths"),d=a.insert("g").attr("class","edgeLabels"),y=a.insert("g").attr("class","nodes");e.nodes().forEach(function(v){const x=e.node(v);if(r!==void 0){const k=JSON.parse(JSON.stringify(r.clusterData));w.info("Setting data for cluster XXX (",v,") ",k,r),e.setNode(r.id,k),e.parent(v)||(w.trace("Setting parent",v,r.id),e.setParent(v,r.id,k))}if(w.info("(Insert) Node XXX"+v+": "+JSON.stringify(e.node(v))),x&&x.clusterNode){w.info("Cluster identified",v,x.width,e.node(v));const k=Gb(y,x.graph,s,e.node(v)),D=k.elem;Vs(x,D),x.diff=k.diff||0,w.info("Node bounds (abc123)",v,x,x.width,x.x,x.y),CW(D,x),w.warn("Recursive render complete ",D,x)}else e.children(v).length>0?(w.info("Cluster - the non recursive path XXX",v,x.id,x,e),w.info(tp(x.id,e)),Yn[x.id]={id:tp(x.id,e),node:x}):(w.info("Node - the non recursive path",v,x.id,x),kW(y,e.node(v),o))}),e.edges().forEach(function(v){const x=e.edge(v.v,v.w,v.name);w.info("Edge "+v.v+" -> "+v.w+": "+JSON.stringify(v)),w.info("Edge "+v.v+" -> "+v.w+": ",v," ",JSON.stringify(e.edge(v))),w.info("Fix",Yn,"ids:",v.v,v.w,"Translateing: ",Yn[v.v],Yn[v.w]),TW(d,x)}),e.edges().forEach(function(v){w.info("Edge "+v.v+" -> "+v.w+": "+JSON.stringify(v))}),w.info("#############################################"),w.info("###                Layout                 ###"),w.info("#############################################"),w.info(e),Cu(e),w.info("Graph after layout:",sa(e));let _=0;return Qz(e).forEach(function(v){const x=e.node(v);w.info("Position "+v+": "+JSON.stringify(e.node(v))),w.info("Position "+v+": ("+x.x,","+x.y,") width: ",x.width," height: ",x.height),x&&x.clusterNode?Wb(x):e.children(v).length>0?(EW(u,x),Yn[x.id].node=x):Wb(x)}),e.edges().forEach(function(v){const x=e.edge(v);w.info("Edge "+v.v+" -> "+v.w+": "+JSON.stringify(x),x);const k=IW(h,v,x,Yn,s,e);DW(x,k)}),e.nodes().forEach(function(v){const x=e.node(v);w.info(v,x.type,x.diff),x.type==="group"&&(_=x.diff)}),{elem:a,diff:_}},om=(t,e,s,r,o)=>{jz(t,s,r,o),AW(),SW(),BW(),Xz(),w.warn("Graph at first:",sa(e)),Zz(e),w.warn("Graph after:",sa(e)),Gb(t,e,r)},qb=t=>vn.sanitizeText(t,ht());let Xb={dividerMargin:10,padding:5,textHeight:10};const MW=function(t,e,s,r){const o=Object.keys(t);w.info("keys:",o),w.info(t),o.forEach(function(a){const u=t[a];let h="";u.cssClasses.length>0&&(h=h+" "+u.cssClasses.join(" "));const d={labelStyle:""};let y=u.text!==void 0?u.text:u.id,_=0,v="";switch(u.type){case"class":v="class_box";break;default:v="class_box"}e.setNode(u.id,{labelStyle:d.labelStyle,shape:v,labelText:qb(y),classData:u,rx:_,ry:_,class:h,style:d.style,id:u.id,domId:u.domId,tooltip:r.db.getTooltip(u.id)||"",haveCallback:u.haveCallback,link:u.link,width:u.type==="group"?500:void 0,type:u.type,padding:ht().flowchart.padding}),w.info("setNode",{labelStyle:d.labelStyle,shape:v,labelText:y,rx:_,ry:_,class:h,style:d.style,id:u.id,width:u.type==="group"?500:void 0,type:u.type,padding:ht().flowchart.padding})})},RW=function(t,e,s,r){w.info(t),t.forEach(function(o,a){const u=o;let h="";const d={labelStyle:"",style:""};let y=u.text,_=0,v="note";if(e.setNode(u.id,{labelStyle:d.labelStyle,shape:v,labelText:qb(y),noteData:u,rx:_,ry:_,class:h,style:d.style,id:u.id,domId:u.id,tooltip:"",type:"note",padding:ht().flowchart.padding}),w.info("setNode",{labelStyle:d.labelStyle,shape:v,labelText:y,rx:_,ry:_,style:d.style,id:u.id,type:"note",padding:ht().flowchart.padding}),!u.class||!(u.class in r))return;const x=s+a,k={};k.classes="relation",k.pattern="dotted",k.id=`edgeNote${x}`,k.arrowhead="none",w.info(`Note edge: ${JSON.stringify(k)}, ${JSON.stringify(u)}`),k.startLabelRight="",k.endLabelLeft="",k.arrowTypeStart="none",k.arrowTypeEnd="none";let D="fill:none",M="";k.style=D,k.labelStyle=M,k.curve=$i(Xb.curve,ri),e.setEdge(u.id,u.class,k,x)})},OW=function(t,e){const s=ht().flowchart;let r=0;t.forEach(function(o){r++;const a={};a.classes="relation",a.pattern=o.relation.lineType==1?"dashed":"solid",a.id="id"+r,o.type==="arrow_open"?a.arrowhead="none":a.arrowhead="normal",w.info(a,o),a.startLabelRight=o.relationTitle1==="none"?"":o.relationTitle1,a.endLabelLeft=o.relationTitle2==="none"?"":o.relationTitle2,a.arrowTypeStart=Kb(o.relation.type1),a.arrowTypeEnd=Kb(o.relation.type2);let u="",h="";if(o.style!==void 0){const d=Ua(o.style);u=d.style,h=d.labelStyle}else u="fill:none";a.style=u,a.labelStyle=h,o.interpolate!==void 0?a.curve=$i(o.interpolate,ri):t.defaultInterpolate!==void 0?a.curve=$i(t.defaultInterpolate,ri):a.curve=$i(s.curve,ri),o.text=o.title,o.text===void 0?o.style!==void 0&&(a.arrowheadStyle="fill: #333"):(a.arrowheadStyle="fill: #333",a.labelpos="c",ht().flowchart.htmlLabels?(a.labelType="html",a.label='<span class="edgeLabel">'+o.text+"</span>"):(a.labelType="text",a.label=o.text.replace(vn.lineBreakRegex,`
`),o.style===void 0&&(a.style=a.style||"stroke: #333; stroke-width: 1.5px;fill:none"),a.labelStyle=a.labelStyle.replace("color:","fill:"))),e.setEdge(o.id1,o.id2,a,r)})},NW=function(t){Object.keys(t).forEach(function(s){Xb[s]=t[s]})},PW=function(t,e,s,r){w.info("Drawing class - ",e);const o=ht().flowchart,a=ht().securityLevel;w.info("config:",o);const u=o.nodeSpacing||50,h=o.rankSpacing||50,d=new Gs({multigraph:!0,compound:!0}).setGraph({rankdir:r.db.getDirection(),nodesep:u,ranksep:h,marginx:8,marginy:8}).setDefaultEdgeLabel(function(){return{}}),y=r.db.getClasses(),_=r.db.getRelations(),v=r.db.getNotes();w.info(_),MW(y,d,e,r),OW(_,d),RW(v,d,_.length+1,y);let x;a==="sandbox"&&(x=ee("#i"+e));const k=ee(a==="sandbox"?x.nodes()[0].contentDocument.body:"body"),D=k.select(`[id="${e}"]`),M=k.select("#"+e+" g");if(om(M,d,["aggregation","extension","composition","dependency","lollipop"],"classDiagram",e),wn.insertTitle(D,"classTitleText",o.titleTopMargin,r.db.getDiagramTitle()),kf(d,D,o.diagramPadding,o.useMaxWidth),!o.htmlLabels){const R=a==="sandbox"?x.nodes()[0].contentDocument:document,Y=R.querySelectorAll('[id="'+e+'"] .edgeLabel .label');for(const V of Y){const X=V.getBBox(),J=R.createElementNS("http://www.w3.org/2000/svg","rect");J.setAttribute("rx",0),J.setAttribute("ry",0),J.setAttribute("width",X.width),J.setAttribute("height",X.height),V.insertBefore(J,V.firstChild)}}};function Kb(t){let e;switch(t){case 0:e="aggregation";break;case 1:e="extension";break;case 2:e="composition";break;case 3:e="dependency";break;case 4:e="lollipop";break;default:e="none"}return e}const VW={setConf:NW,draw:PW};var am=function(){var t=function(j,W,$,I){for($=$||{},I=j.length;I--;$[j[I]]=W);return $},e=[1,2],s=[1,5],r=[6,9,11,23,25,27,29,30,31,49],o=[1,17],a=[1,18],u=[1,19],h=[1,20],d=[1,21],y=[1,22],_=[1,25],v=[1,30],x=[1,31],k=[1,32],D=[1,33],M=[6,9,11,15,20,23,25,27,29,30,31,42,43,44,45,49],R=[1,45],Y=[30,31,46,47],V=[4,6,9,11,23,25,27,29,30,31,49],X=[42,43,44,45],J=[22,37],rt=[1,64],lt={trace:function(){},yy:{},symbols_:{error:2,start:3,ER_DIAGRAM:4,document:5,EOF:6,directive:7,line:8,SPACE:9,statement:10,NEWLINE:11,openDirective:12,typeDirective:13,closeDirective:14,":":15,argDirective:16,entityName:17,relSpec:18,role:19,BLOCK_START:20,attributes:21,BLOCK_STOP:22,title:23,title_value:24,acc_title:25,acc_title_value:26,acc_descr:27,acc_descr_value:28,acc_descr_multiline_value:29,ALPHANUM:30,ENTITY_NAME:31,attribute:32,attributeType:33,attributeName:34,attributeKeyType:35,attributeComment:36,ATTRIBUTE_WORD:37,ATTRIBUTE_KEY:38,COMMENT:39,cardinality:40,relType:41,ZERO_OR_ONE:42,ZERO_OR_MORE:43,ONE_OR_MORE:44,ONLY_ONE:45,NON_IDENTIFYING:46,IDENTIFYING:47,WORD:48,open_directive:49,type_directive:50,arg_directive:51,close_directive:52,$accept:0,$end:1},terminals_:{2:"error",4:"ER_DIAGRAM",6:"EOF",9:"SPACE",11:"NEWLINE",15:":",20:"BLOCK_START",22:"BLOCK_STOP",23:"title",24:"title_value",25:"acc_title",26:"acc_title_value",27:"acc_descr",28:"acc_descr_value",29:"acc_descr_multiline_value",30:"ALPHANUM",31:"ENTITY_NAME",37:"ATTRIBUTE_WORD",38:"ATTRIBUTE_KEY",39:"COMMENT",42:"ZERO_OR_ONE",43:"ZERO_OR_MORE",44:"ONE_OR_MORE",45:"ONLY_ONE",46:"NON_IDENTIFYING",47:"IDENTIFYING",48:"WORD",49:"open_directive",50:"type_directive",51:"arg_directive",52:"close_directive"},productions_:[0,[3,3],[3,2],[5,0],[5,2],[8,2],[8,1],[8,1],[8,1],[7,4],[7,6],[10,1],[10,5],[10,4],[10,3],[10,1],[10,2],[10,2],[10,2],[10,1],[17,1],[17,1],[21,1],[21,2],[32,2],[32,3],[32,3],[32,4],[33,1],[34,1],[35,1],[36,1],[18,3],[40,1],[40,1],[40,1],[40,1],[41,1],[41,1],[19,1],[19,1],[19,1],[12,1],[13,1],[16,1],[14,1]],performAction:function(W,$,I,H,S,yt,T){var Dt=yt.length-1;switch(S){case 1:break;case 3:this.$=[];break;case 4:yt[Dt-1].push(yt[Dt]),this.$=yt[Dt-1];break;case 5:case 6:this.$=yt[Dt];break;case 7:case 8:this.$=[];break;case 12:H.addEntity(yt[Dt-4]),H.addEntity(yt[Dt-2]),H.addRelationship(yt[Dt-4],yt[Dt],yt[Dt-2],yt[Dt-3]);break;case 13:H.addEntity(yt[Dt-3]),H.addAttributes(yt[Dt-3],yt[Dt-1]);break;case 14:H.addEntity(yt[Dt-2]);break;case 15:H.addEntity(yt[Dt]);break;case 16:case 17:this.$=yt[Dt].trim(),H.setAccTitle(this.$);break;case 18:case 19:this.$=yt[Dt].trim(),H.setAccDescription(this.$);break;case 20:case 41:this.$=yt[Dt];break;case 21:case 39:case 40:this.$=yt[Dt].replace(/"/g,"");break;case 22:this.$=[yt[Dt]];break;case 23:yt[Dt].push(yt[Dt-1]),this.$=yt[Dt];break;case 24:this.$={attributeType:yt[Dt-1],attributeName:yt[Dt]};break;case 25:this.$={attributeType:yt[Dt-2],attributeName:yt[Dt-1],attributeKeyType:yt[Dt]};break;case 26:this.$={attributeType:yt[Dt-2],attributeName:yt[Dt-1],attributeComment:yt[Dt]};break;case 27:this.$={attributeType:yt[Dt-3],attributeName:yt[Dt-2],attributeKeyType:yt[Dt-1],attributeComment:yt[Dt]};break;case 28:case 29:case 30:this.$=yt[Dt];break;case 31:this.$=yt[Dt].replace(/"/g,"");break;case 32:this.$={cardA:yt[Dt],relType:yt[Dt-1],cardB:yt[Dt-2]};break;case 33:this.$=H.Cardinality.ZERO_OR_ONE;break;case 34:this.$=H.Cardinality.ZERO_OR_MORE;break;case 35:this.$=H.Cardinality.ONE_OR_MORE;break;case 36:this.$=H.Cardinality.ONLY_ONE;break;case 37:this.$=H.Identification.NON_IDENTIFYING;break;case 38:this.$=H.Identification.IDENTIFYING;break;case 42:H.parseDirective("%%{","open_directive");break;case 43:H.parseDirective(yt[Dt],"type_directive");break;case 44:yt[Dt]=yt[Dt].trim().replace(/'/g,'"'),H.parseDirective(yt[Dt],"arg_directive");break;case 45:H.parseDirective("}%%","close_directive","er");break}},table:[{3:1,4:e,7:3,12:4,49:s},{1:[3]},t(r,[2,3],{5:6}),{3:7,4:e,7:3,12:4,49:s},{13:8,50:[1,9]},{50:[2,42]},{6:[1,10],7:15,8:11,9:[1,12],10:13,11:[1,14],12:4,17:16,23:o,25:a,27:u,29:h,30:d,31:y,49:s},{1:[2,2]},{14:23,15:[1,24],52:_},t([15,52],[2,43]),t(r,[2,8],{1:[2,1]}),t(r,[2,4]),{7:15,10:26,12:4,17:16,23:o,25:a,27:u,29:h,30:d,31:y,49:s},t(r,[2,6]),t(r,[2,7]),t(r,[2,11]),t(r,[2,15],{18:27,40:29,20:[1,28],42:v,43:x,44:k,45:D}),{24:[1,34]},{26:[1,35]},{28:[1,36]},t(r,[2,19]),t(M,[2,20]),t(M,[2,21]),{11:[1,37]},{16:38,51:[1,39]},{11:[2,45]},t(r,[2,5]),{17:40,30:d,31:y},{21:41,22:[1,42],32:43,33:44,37:R},{41:46,46:[1,47],47:[1,48]},t(Y,[2,33]),t(Y,[2,34]),t(Y,[2,35]),t(Y,[2,36]),t(r,[2,16]),t(r,[2,17]),t(r,[2,18]),t(V,[2,9]),{14:49,52:_},{52:[2,44]},{15:[1,50]},{22:[1,51]},t(r,[2,14]),{21:52,22:[2,22],32:43,33:44,37:R},{34:53,37:[1,54]},{37:[2,28]},{40:55,42:v,43:x,44:k,45:D},t(X,[2,37]),t(X,[2,38]),{11:[1,56]},{19:57,30:[1,60],31:[1,59],48:[1,58]},t(r,[2,13]),{22:[2,23]},t(J,[2,24],{35:61,36:62,38:[1,63],39:rt}),t([22,37,38,39],[2,29]),t([30,31],[2,32]),t(V,[2,10]),t(r,[2,12]),t(r,[2,39]),t(r,[2,40]),t(r,[2,41]),t(J,[2,25],{36:65,39:rt}),t(J,[2,26]),t([22,37,39],[2,30]),t(J,[2,31]),t(J,[2,27])],defaultActions:{5:[2,42],7:[2,2],25:[2,45],39:[2,44],45:[2,28],52:[2,23]},parseError:function(W,$){if($.recoverable)this.trace(W);else{var I=new Error(W);throw I.hash=$,I}},parse:function(W){var $=this,I=[0],H=[],S=[null],yt=[],T=this.table,Dt="",ce=0,Gt=0,ut=2,Et=1,bt=yt.slice.call(arguments,1),xt=Object.create(this.lexer),Tt={yy:{}};for(var Wt in this.yy)Object.prototype.hasOwnProperty.call(this.yy,Wt)&&(Tt.yy[Wt]=this.yy[Wt]);xt.setInput(W,Tt.yy),Tt.yy.lexer=xt,Tt.yy.parser=this,typeof xt.yylloc>"u"&&(xt.yylloc={});var dt=xt.yylloc;yt.push(dt);var ve=xt.options&&xt.options.ranges;typeof Tt.yy.parseError=="function"?this.parseError=Tt.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function et(){var vt;return vt=H.pop()||xt.lex()||Et,typeof vt!="number"&&(vt instanceof Array&&(H=vt,vt=H.pop()),vt=$.symbols_[vt]||vt),vt}for(var st,pt,Z,q,U={},mt,N,Lt,nt;;){if(pt=I[I.length-1],this.defaultActions[pt]?Z=this.defaultActions[pt]:((st===null||typeof st>"u")&&(st=et()),Z=T[pt]&&T[pt][st]),typeof Z>"u"||!Z.length||!Z[0]){var Be="";nt=[];for(mt in T[pt])this.terminals_[mt]&&mt>ut&&nt.push("'"+this.terminals_[mt]+"'");xt.showPosition?Be="Parse error on line "+(ce+1)+`:
`+xt.showPosition()+`
Expecting `+nt.join(", ")+", got '"+(this.terminals_[st]||st)+"'":Be="Parse error on line "+(ce+1)+": Unexpected "+(st==Et?"end of input":"'"+(this.terminals_[st]||st)+"'"),this.parseError(Be,{text:xt.match,token:this.terminals_[st]||st,line:xt.yylineno,loc:dt,expected:nt})}if(Z[0]instanceof Array&&Z.length>1)throw new Error("Parse Error: multiple actions possible at state: "+pt+", token: "+st);switch(Z[0]){case 1:I.push(st),S.push(xt.yytext),yt.push(xt.yylloc),I.push(Z[1]),st=null,Gt=xt.yyleng,Dt=xt.yytext,ce=xt.yylineno,dt=xt.yylloc;break;case 2:if(N=this.productions_[Z[1]][1],U.$=S[S.length-N],U._$={first_line:yt[yt.length-(N||1)].first_line,last_line:yt[yt.length-1].last_line,first_column:yt[yt.length-(N||1)].first_column,last_column:yt[yt.length-1].last_column},ve&&(U._$.range=[yt[yt.length-(N||1)].range[0],yt[yt.length-1].range[1]]),q=this.performAction.apply(U,[Dt,Gt,ce,Tt.yy,Z[1],S,yt].concat(bt)),typeof q<"u")return q;N&&(I=I.slice(0,-1*N*2),S=S.slice(0,-1*N),yt=yt.slice(0,-1*N)),I.push(this.productions_[Z[1]][0]),S.push(U.$),yt.push(U._$),Lt=T[I[I.length-2]][I[I.length-1]],I.push(Lt);break;case 3:return!0}}return!0}},tt=function(){var j={EOF:1,parseError:function($,I){if(this.yy.parser)this.yy.parser.parseError($,I);else throw new Error($)},setInput:function(W,$){return this.yy=$||this.yy||{},this._input=W,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var W=this._input[0];this.yytext+=W,this.yyleng++,this.offset++,this.match+=W,this.matched+=W;var $=W.match(/(?:\r\n?|\n).*/g);return $?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),W},unput:function(W){var $=W.length,I=W.split(/(?:\r\n?|\n)/g);this._input=W+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-$),this.offset-=$;var H=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),I.length-1&&(this.yylineno-=I.length-1);var S=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:I?(I.length===H.length?this.yylloc.first_column:0)+H[H.length-I.length].length-I[0].length:this.yylloc.first_column-$},this.options.ranges&&(this.yylloc.range=[S[0],S[0]+this.yyleng-$]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(W){this.unput(this.match.slice(W))},pastInput:function(){var W=this.matched.substr(0,this.matched.length-this.match.length);return(W.length>20?"...":"")+W.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var W=this.match;return W.length<20&&(W+=this._input.substr(0,20-W.length)),(W.substr(0,20)+(W.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var W=this.pastInput(),$=new Array(W.length+1).join("-");return W+this.upcomingInput()+`
`+$+"^"},test_match:function(W,$){var I,H,S;if(this.options.backtrack_lexer&&(S={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(S.yylloc.range=this.yylloc.range.slice(0))),H=W[0].match(/(?:\r\n?|\n).*/g),H&&(this.yylineno+=H.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:H?H[H.length-1].length-H[H.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+W[0].length},this.yytext+=W[0],this.match+=W[0],this.matches=W,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(W[0].length),this.matched+=W[0],I=this.performAction.call(this,this.yy,this,$,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),I)return I;if(this._backtrack){for(var yt in S)this[yt]=S[yt];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var W,$,I,H;this._more||(this.yytext="",this.match="");for(var S=this._currentRules(),yt=0;yt<S.length;yt++)if(I=this._input.match(this.rules[S[yt]]),I&&(!$||I[0].length>$[0].length)){if($=I,H=yt,this.options.backtrack_lexer){if(W=this.test_match(I,S[yt]),W!==!1)return W;if(this._backtrack){$=!1;continue}else return!1}else if(!this.options.flex)break}return $?(W=this.test_match($,S[H]),W!==!1?W:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var $=this.next();return $||this.lex()},begin:function($){this.conditionStack.push($)},popState:function(){var $=this.conditionStack.length-1;return $>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function($){return $=this.conditionStack.length-1-Math.abs($||0),$>=0?this.conditionStack[$]:"INITIAL"},pushState:function($){this.begin($)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function($,I,H,S){switch(H){case 0:return this.begin("acc_title"),25;case 1:return this.popState(),"acc_title_value";case 2:return this.begin("acc_descr"),27;case 3:return this.popState(),"acc_descr_value";case 4:this.begin("acc_descr_multiline");break;case 5:this.popState();break;case 6:return"acc_descr_multiline_value";case 7:return this.begin("open_directive"),49;case 8:return this.begin("type_directive"),50;case 9:return this.popState(),this.begin("arg_directive"),15;case 10:return this.popState(),this.popState(),52;case 11:return 51;case 12:break;case 13:break;case 14:return 11;case 15:break;case 16:return 9;case 17:return 31;case 18:return 48;case 19:return 4;case 20:return this.begin("block"),20;case 21:break;case 22:return 38;case 23:return 37;case 24:return 37;case 25:return 39;case 26:break;case 27:return this.popState(),22;case 28:return I.yytext[0];case 29:return 42;case 30:return 44;case 31:return 44;case 32:return 44;case 33:return 42;case 34:return 42;case 35:return 43;case 36:return 43;case 37:return 43;case 38:return 43;case 39:return 43;case 40:return 44;case 41:return 43;case 42:return 44;case 43:return 45;case 44:return 45;case 45:return 45;case 46:return 45;case 47:return 42;case 48:return 43;case 49:return 44;case 50:return 46;case 51:return 47;case 52:return 47;case 53:return 46;case 54:return 46;case 55:return 46;case 56:return 30;case 57:return I.yytext[0];case 58:return 6}},rules:[/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:%%\{)/i,/^(?:((?:(?!\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\}%%)/i,/^(?:((?:(?!\}%%).|\n)*))/i,/^(?:%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:[\s]+)/i,/^(?:"[^"%\r\n\v\b\\]+")/i,/^(?:"[^"]*")/i,/^(?:erDiagram\b)/i,/^(?:\{)/i,/^(?:\s+)/i,/^(?:\b((?:PK)|(?:FK))\b)/i,/^(?:(.*?)[~](.*?)*[~])/i,/^(?:[A-Za-z][A-Za-z0-9\-_\[\]]*)/i,/^(?:"[^"]*")/i,/^(?:[\n]+)/i,/^(?:\})/i,/^(?:.)/i,/^(?:one or zero\b)/i,/^(?:one or more\b)/i,/^(?:one or many\b)/i,/^(?:1\+)/i,/^(?:\|o\b)/i,/^(?:zero or one\b)/i,/^(?:zero or more\b)/i,/^(?:zero or many\b)/i,/^(?:0\+)/i,/^(?:\}o\b)/i,/^(?:many\(0\))/i,/^(?:many\(1\))/i,/^(?:many\b)/i,/^(?:\}\|)/i,/^(?:one\b)/i,/^(?:only one\b)/i,/^(?:1\b)/i,/^(?:\|\|)/i,/^(?:o\|)/i,/^(?:o\{)/i,/^(?:\|\{)/i,/^(?:\.\.)/i,/^(?:--)/i,/^(?:to\b)/i,/^(?:optionally to\b)/i,/^(?:\.-)/i,/^(?:-\.)/i,/^(?:[A-Za-z][A-Za-z0-9\-_]*)/i,/^(?:.)/i,/^(?:$)/i],conditions:{acc_descr_multiline:{rules:[5,6],inclusive:!1},acc_descr:{rules:[3],inclusive:!1},acc_title:{rules:[1],inclusive:!1},open_directive:{rules:[8],inclusive:!1},type_directive:{rules:[9,10],inclusive:!1},arg_directive:{rules:[10,11],inclusive:!1},block:{rules:[21,22,23,24,25,26,27,28],inclusive:!1},INITIAL:{rules:[0,2,4,7,12,13,14,15,16,17,18,19,20,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58],inclusive:!0}}};return j}();lt.lexer=tt;function it(){this.yy={}}return it.prototype=lt,lt.Parser=it,new it}();am.parser=am;const $W=am,YW=t=>t.match(/^\s*erDiagram/)!==null;let np={},lm=[];const UW={ZERO_OR_ONE:"ZERO_OR_ONE",ZERO_OR_MORE:"ZERO_OR_MORE",ONE_OR_MORE:"ONE_OR_MORE",ONLY_ONE:"ONLY_ONE"},zW={NON_IDENTIFYING:"NON_IDENTIFYING",IDENTIFYING:"IDENTIFYING"},WW=function(t,e,s){Bs.parseDirective(this,t,e,s)},Zb=function(t){return np[t]===void 0&&(np[t]={attributes:[]},w.info("Added new entity :",t)),np[t]},HW={Cardinality:UW,Identification:zW,parseDirective:WW,getConfig:()=>ht().er,addEntity:Zb,addAttributes:function(t,e){let s=Zb(t),r;for(r=e.length-1;r>=0;r--)s.attributes.push(e[r]),w.debug("Added attribute ",e[r].attributeName)},getEntities:()=>np,addRelationship:function(t,e,s,r){let o={entityA:t,roleA:e,entityB:s,relSpec:r};lm.push(o),w.debug("Added new relationship :",o)},getRelationships:()=>lm,clear:function(){np={},lm=[],zi()},setAccTitle:Ai,getAccTitle:Wi,setAccDescription:Hi,getAccDescription:ji,setDiagramTitle:Qo,getDiagramTitle:Jo},ia={ONLY_ONE_START:"ONLY_ONE_START",ONLY_ONE_END:"ONLY_ONE_END",ZERO_OR_ONE_START:"ZERO_OR_ONE_START",ZERO_OR_ONE_END:"ZERO_OR_ONE_END",ONE_OR_MORE_START:"ONE_OR_MORE_START",ONE_OR_MORE_END:"ONE_OR_MORE_END",ZERO_OR_MORE_START:"ZERO_OR_MORE_START",ZERO_OR_MORE_END:"ZERO_OR_MORE_END"},oa={ERMarkers:ia,insertMarkers:function(t,e){let s;t.append("defs").append("marker").attr("id",ia.ONLY_ONE_START).attr("refX",0).attr("refY",9).attr("markerWidth",18).attr("markerHeight",18).attr("orient","auto").append("path").attr("stroke",e.stroke).attr("fill","none").attr("d","M9,0 L9,18 M15,0 L15,18"),t.append("defs").append("marker").attr("id",ia.ONLY_ONE_END).attr("refX",18).attr("refY",9).attr("markerWidth",18).attr("markerHeight",18).attr("orient","auto").append("path").attr("stroke",e.stroke).attr("fill","none").attr("d","M3,0 L3,18 M9,0 L9,18"),s=t.append("defs").append("marker").attr("id",ia.ZERO_OR_ONE_START).attr("refX",0).attr("refY",9).attr("markerWidth",30).attr("markerHeight",18).attr("orient","auto"),s.append("circle").attr("stroke",e.stroke).attr("fill","white").attr("cx",21).attr("cy",9).attr("r",6),s.append("path").attr("stroke",e.stroke).attr("fill","none").attr("d","M9,0 L9,18"),s=t.append("defs").append("marker").attr("id",ia.ZERO_OR_ONE_END).attr("refX",30).attr("refY",9).attr("markerWidth",30).attr("markerHeight",18).attr("orient","auto"),s.append("circle").attr("stroke",e.stroke).attr("fill","white").attr("cx",9).attr("cy",9).attr("r",6),s.append("path").attr("stroke",e.stroke).attr("fill","none").attr("d","M21,0 L21,18"),t.append("defs").append("marker").attr("id",ia.ONE_OR_MORE_START).attr("refX",18).attr("refY",18).attr("markerWidth",45).attr("markerHeight",36).attr("orient","auto").append("path").attr("stroke",e.stroke).attr("fill","none").attr("d","M0,18 Q 18,0 36,18 Q 18,36 0,18 M42,9 L42,27"),t.append("defs").append("marker").attr("id",ia.ONE_OR_MORE_END).attr("refX",27).attr("refY",18).attr("markerWidth",45).attr("markerHeight",36).attr("orient","auto").append("path").attr("stroke",e.stroke).attr("fill","none").attr("d","M3,9 L3,27 M9,18 Q27,0 45,18 Q27,36 9,18"),s=t.append("defs").append("marker").attr("id",ia.ZERO_OR_MORE_START).attr("refX",18).attr("refY",18).attr("markerWidth",57).attr("markerHeight",36).attr("orient","auto"),s.append("circle").attr("stroke",e.stroke).attr("fill","white").attr("cx",48).attr("cy",18).attr("r",6),s.append("path").attr("stroke",e.stroke).attr("fill","none").attr("d","M0,18 Q18,0 36,18 Q18,36 0,18"),s=t.append("defs").append("marker").attr("id",ia.ZERO_OR_MORE_END).attr("refX",39).attr("refY",18).attr("markerWidth",57).attr("markerHeight",36).attr("orient","auto"),s.append("circle").attr("stroke",e.stroke).attr("fill","white").attr("cx",9).attr("cy",18).attr("r",6),s.append("path").attr("stroke",e.stroke).attr("fill","none").attr("d","M21,18 Q39,0 57,18 Q39,36 21,18")}};let h1;const jW=new Uint8Array(16);function GW(){if(!h1&&(h1=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!h1))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return h1(jW)}const vr=[];for(let t=0;t<256;++t)vr.push((t+256).toString(16).slice(1));function qW(t,e=0){return(vr[t[e+0]]+vr[t[e+1]]+vr[t[e+2]]+vr[t[e+3]]+"-"+vr[t[e+4]]+vr[t[e+5]]+"-"+vr[t[e+6]]+vr[t[e+7]]+"-"+vr[t[e+8]]+vr[t[e+9]]+"-"+vr[t[e+10]]+vr[t[e+11]]+vr[t[e+12]]+vr[t[e+13]]+vr[t[e+14]]+vr[t[e+15]]).toLowerCase()}const Qb={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};function XW(t,e,s){if(Qb.randomUUID&&!e&&!t)return Qb.randomUUID();t=t||{};const r=t.random||(t.rng||GW)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){s=s||0;for(let o=0;o<16;++o)e[s+o]=r[o];return e}return qW(r)}const KW=/[^\dA-Za-z](\W)*/g;let nr={},sp=new Map;const ZW=function(t){const e=Object.keys(t);for(const s of e)nr[s]=t[s]},QW=(t,e,s)=>{const r=nr.entityPadding/3,o=nr.entityPadding/3,a=nr.fontSize*.85,u=e.node().getBBox(),h=[];let d=!1,y=!1,_=0,v=0,x=0,k=0,D=u.height+r*2,M=1;s.forEach(X=>{X.attributeKeyType!==void 0&&(d=!0),X.attributeComment!==void 0&&(y=!0)}),s.forEach(X=>{const J=`${e.node().id}-attr-${M}`;let rt=0;const lt=Na(X.attributeType),tt=t.append("text").classed("er entityLabel",!0).attr("id",`${J}-type`).attr("x",0).attr("y",0).style("dominant-baseline","middle").style("text-anchor","left").style("font-family",ht().fontFamily).style("font-size",a+"px").text(lt),it=t.append("text").classed("er entityLabel",!0).attr("id",`${J}-name`).attr("x",0).attr("y",0).style("dominant-baseline","middle").style("text-anchor","left").style("font-family",ht().fontFamily).style("font-size",a+"px").text(X.attributeName),j={};j.tn=tt,j.nn=it;const W=tt.node().getBBox(),$=it.node().getBBox();if(_=Math.max(_,W.width),v=Math.max(v,$.width),rt=Math.max(W.height,$.height),d){const I=t.append("text").classed("er entityLabel",!0).attr("id",`${J}-key`).attr("x",0).attr("y",0).style("dominant-baseline","middle").style("text-anchor","left").style("font-family",ht().fontFamily).style("font-size",a+"px").text(X.attributeKeyType||"");j.kn=I;const H=I.node().getBBox();x=Math.max(x,H.width),rt=Math.max(rt,H.height)}if(y){const I=t.append("text").classed("er entityLabel",!0).attr("id",`${J}-comment`).attr("x",0).attr("y",0).style("dominant-baseline","middle").style("text-anchor","left").style("font-family",ht().fontFamily).style("font-size",a+"px").text(X.attributeComment||"");j.cn=I;const H=I.node().getBBox();k=Math.max(k,H.width),rt=Math.max(rt,H.height)}j.height=rt,h.push(j),D+=rt+r*2,M+=1});let R=4;d&&(R+=2),y&&(R+=2);const Y=_+v+x+k,V={width:Math.max(nr.minEntityWidth,Math.max(u.width+nr.entityPadding*2,Y+o*R)),height:s.length>0?D:Math.max(nr.minEntityHeight,u.height+nr.entityPadding*2)};if(s.length>0){const X=Math.max(0,(V.width-Y-o*R)/(R/2));e.attr("transform","translate("+V.width/2+","+(r+u.height/2)+")");let J=u.height+r*2,rt="attributeBoxOdd";h.forEach(lt=>{const tt=J+r+lt.height/2;lt.tn.attr("transform","translate("+o+","+tt+")");const it=t.insert("rect","#"+lt.tn.node().id).classed(`er ${rt}`,!0).attr("x",0).attr("y",J).attr("width",_+o*2+X).attr("height",lt.height+r*2),j=parseFloat(it.attr("x"))+parseFloat(it.attr("width"));lt.nn.attr("transform","translate("+(j+o)+","+tt+")");const W=t.insert("rect","#"+lt.nn.node().id).classed(`er ${rt}`,!0).attr("x",j).attr("y",J).attr("width",v+o*2+X).attr("height",lt.height+r*2);let $=parseFloat(W.attr("x"))+parseFloat(W.attr("width"));if(d){lt.kn.attr("transform","translate("+($+o)+","+tt+")");const I=t.insert("rect","#"+lt.kn.node().id).classed(`er ${rt}`,!0).attr("x",$).attr("y",J).attr("width",x+o*2+X).attr("height",lt.height+r*2);$=parseFloat(I.attr("x"))+parseFloat(I.attr("width"))}y&&(lt.cn.attr("transform","translate("+($+o)+","+tt+")"),t.insert("rect","#"+lt.cn.node().id).classed(`er ${rt}`,"true").attr("x",$).attr("y",J).attr("width",k+o*2+X).attr("height",lt.height+r*2)),J+=lt.height+r*2,rt=rt==="attributeBoxOdd"?"attributeBoxEven":"attributeBoxOdd"})}else V.height=Math.max(nr.minEntityHeight,D),e.attr("transform","translate("+V.width/2+","+V.height/2+")");return V},JW=function(t,e,s){const r=Object.keys(e);let o;return r.forEach(function(a){const u=rH(a,"entity");sp.set(a,u);const h=t.append("g").attr("id",u);o=o===void 0?u:o;const d="text-"+u,y=h.append("text").classed("er entityLabel",!0).attr("id",d).attr("x",0).attr("y",0).style("dominant-baseline","middle").style("text-anchor","middle").style("font-family",ht().fontFamily).style("font-size",nr.fontSize+"px").text(a),{width:_,height:v}=QW(h,y,e[a].attributes),k=h.insert("rect","#"+d).classed("er entityBox",!0).attr("x",0).attr("y",0).attr("width",_).attr("height",v).node().getBBox();s.setNode(u,{width:k.width,height:k.height,shape:"rect",id:u})}),o},tH=function(t,e){e.nodes().forEach(function(s){s!==void 0&&e.node(s)!==void 0&&t.select("#"+s).attr("transform","translate("+(e.node(s).x-e.node(s).width/2)+","+(e.node(s).y-e.node(s).height/2)+" )")})},Jb=function(t){return(t.entityA+t.roleA+t.entityB).replace(/\s/g,"")},eH=function(t,e){return t.forEach(function(s){e.setEdge(sp.get(s.entityA),sp.get(s.entityB),{relationship:s},Jb(s))}),t};let t6=0;const nH=function(t,e,s,r,o){t6++;const a=s.edge(sp.get(e.entityA),sp.get(e.entityB),Jb(e)),u=Zc().x(function(D){return D.x}).y(function(D){return D.y}).curve(Qc),h=t.insert("path","#"+r).classed("er relationshipLine",!0).attr("d",u(a.points)).style("stroke",nr.stroke).style("fill","none");e.relSpec.relType===o.db.Identification.NON_IDENTIFYING&&h.attr("stroke-dasharray","8,8");let d="";switch(nr.arrowMarkerAbsolute&&(d=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,d=d.replace(/\(/g,"\\("),d=d.replace(/\)/g,"\\)")),e.relSpec.cardA){case o.db.Cardinality.ZERO_OR_ONE:h.attr("marker-end","url("+d+"#"+oa.ERMarkers.ZERO_OR_ONE_END+")");break;case o.db.Cardinality.ZERO_OR_MORE:h.attr("marker-end","url("+d+"#"+oa.ERMarkers.ZERO_OR_MORE_END+")");break;case o.db.Cardinality.ONE_OR_MORE:h.attr("marker-end","url("+d+"#"+oa.ERMarkers.ONE_OR_MORE_END+")");break;case o.db.Cardinality.ONLY_ONE:h.attr("marker-end","url("+d+"#"+oa.ERMarkers.ONLY_ONE_END+")");break}switch(e.relSpec.cardB){case o.db.Cardinality.ZERO_OR_ONE:h.attr("marker-start","url("+d+"#"+oa.ERMarkers.ZERO_OR_ONE_START+")");break;case o.db.Cardinality.ZERO_OR_MORE:h.attr("marker-start","url("+d+"#"+oa.ERMarkers.ZERO_OR_MORE_START+")");break;case o.db.Cardinality.ONE_OR_MORE:h.attr("marker-start","url("+d+"#"+oa.ERMarkers.ONE_OR_MORE_START+")");break;case o.db.Cardinality.ONLY_ONE:h.attr("marker-start","url("+d+"#"+oa.ERMarkers.ONLY_ONE_START+")");break}const y=h.node().getTotalLength(),_=h.node().getPointAtLength(y*.5),v="rel"+t6,k=t.append("text").classed("er relationshipLabel",!0).attr("id",v).attr("x",_.x).attr("y",_.y).style("text-anchor","middle").style("dominant-baseline","middle").style("font-family",ht().fontFamily).style("font-size",nr.fontSize+"px").text(e.roleA).node().getBBox();t.insert("rect","#"+v).classed("er relationshipLabelBox",!0).attr("x",_.x-k.width/2).attr("y",_.y-k.height/2).attr("width",k.width).attr("height",k.height)},sH=function(t,e,s,r){nr=ht().er,w.info("Drawing ER diagram");const o=ht().securityLevel;let a;o==="sandbox"&&(a=ee("#i"+e));const h=ee(o==="sandbox"?a.nodes()[0].contentDocument.body:"body").select(`[id='${e}']`);oa.insertMarkers(h,nr);let d;d=new Gs({multigraph:!0,directed:!0,compound:!1}).setGraph({rankdir:nr.layoutDirection,marginx:20,marginy:20,nodesep:100,edgesep:100,ranksep:100}).setDefaultEdgeLabel(function(){return{}});const y=JW(h,r.db.getEntities(),d),_=eH(r.db.getRelationships(),d);Cu(d),tH(h,d),_.forEach(function(M){nH(h,M,d,y,r)});const v=nr.diagramPadding;wn.insertTitle(h,"entityTitleText",nr.titleTopMargin,r.db.getDiagramTitle());const x=h.node().getBBox(),k=x.width+v*2,D=x.height+v*2;Ui(h,D,k,nr.useMaxWidth),h.attr("viewBox",`${x.x-v} ${x.y-v} ${k} ${D}`)};function rH(t="",e=""){const s=t.replace(KW,"");return`${e6(e)}${e6(s)}${XW()}`}function e6(t=""){return t.length>0?`${t}-`:""}const iH={setConf:ZW,draw:sH};var cm=function(){var t=function(Jr,Ye,sn,pn){for(sn=sn||{},pn=Jr.length;pn--;sn[Jr[pn]]=Ye);return sn},e=[1,9],s=[1,7],r=[1,6],o=[1,8],a=[1,20,21,22,23,38,44,46,48,52,66,67,86,87,88,89,90,91,95,105,106,109,111,112,118,119,120,121,122,123,124,125,126,127],u=[2,10],h=[1,20],d=[1,21],y=[1,22],_=[1,23],v=[1,30],x=[1,32],k=[1,33],D=[1,34],M=[1,62],R=[1,48],Y=[1,52],V=[1,36],X=[1,37],J=[1,38],rt=[1,39],lt=[1,40],tt=[1,56],it=[1,63],j=[1,51],W=[1,53],$=[1,55],I=[1,59],H=[1,60],S=[1,41],yt=[1,42],T=[1,43],Dt=[1,44],ce=[1,61],Gt=[1,50],ut=[1,54],Et=[1,57],bt=[1,58],xt=[1,49],Tt=[1,66],Wt=[1,71],dt=[1,20,21,22,23,38,42,44,46,48,52,66,67,86,87,88,89,90,91,95,105,106,109,111,112,118,119,120,121,122,123,124,125,126,127],ve=[1,75],et=[1,74],st=[1,76],pt=[20,21,23,81,82],Z=[1,99],q=[1,104],U=[1,107],mt=[1,108],N=[1,101],Lt=[1,106],nt=[1,109],Be=[1,102],vt=[1,114],de=[1,113],Xt=[1,103],Nt=[1,105],Qt=[1,110],qt=[1,111],Ot=[1,112],Ct=[1,115],gn=[20,21,22,23,81,82],We=[20,21,22,23,53,81,82],Ue=[20,21,22,23,40,52,53,55,57,59,61,63,65,66,67,69,71,73,74,76,81,82,91,95,105,106,109,111,112,122,123,124,125,126,127],je=[20,21,23],Oe=[20,21,23,52,66,67,81,82,91,95,105,106,109,111,112,122,123,124,125,126,127],zn=[1,12,20,21,22,23,24,38,42,44,46,48,52,66,67,86,87,88,89,90,91,95,105,106,109,111,112,118,119,120,121,122,123,124,125,126,127],Me=[52,66,67,91,95,105,106,109,111,112,122,123,124,125,126,127],Se=[1,149],we=[1,157],Ht=[1,158],Rt=[1,159],ae=[1,160],Ut=[1,144],Te=[1,145],wt=[1,141],cn=[1,152],Mt=[1,153],rn=[1,154],kn=[1,155],Sn=[1,156],Tn=[1,161],In=[1,162],ze=[1,147],un=[1,150],En=[1,146],en=[1,143],to=[20,21,22,23,38,42,44,46,48,52,66,67,86,87,88,89,90,91,95,105,106,109,111,112,118,119,120,121,122,123,124,125,126,127],ci=[1,165],rs=[20,21,22,23,26,52,66,67,91,105,106,109,111,112,122,123,124,125,126,127],hn=[20,21,22,23,24,26,38,40,41,42,52,56,58,60,62,64,66,67,68,70,72,73,75,77,81,82,86,87,88,89,90,91,92,95,105,106,109,111,112,113,114,122,123,124,125,126,127],fs=[12,21,22,24],ms=[22,106],xs=[1,250],ks=[1,245],ys=[1,246],Ms=[1,254],qs=[1,251],De=[1,248],ft=[1,247],ne=[1,249],fe=[1,252],Cn=[1,253],is=[1,255],Jn=[1,273],Ss=[20,21,23,106],Fn=[20,21,22,23,66,67,86,102,105,106,109,110,111,112,113],cs={trace:function(){},yy:{},symbols_:{error:2,start:3,mermaidDoc:4,directive:5,openDirective:6,typeDirective:7,closeDirective:8,separator:9,":":10,argDirective:11,open_directive:12,type_directive:13,arg_directive:14,close_directive:15,graphConfig:16,document:17,line:18,statement:19,SEMI:20,NEWLINE:21,SPACE:22,EOF:23,GRAPH:24,NODIR:25,DIR:26,FirstStmtSeperator:27,ending:28,endToken:29,spaceList:30,spaceListNewline:31,verticeStatement:32,styleStatement:33,linkStyleStatement:34,classDefStatement:35,classStatement:36,clickStatement:37,subgraph:38,text:39,SQS:40,SQE:41,end:42,direction:43,acc_title:44,acc_title_value:45,acc_descr:46,acc_descr_value:47,acc_descr_multiline_value:48,link:49,node:50,vertex:51,AMP:52,STYLE_SEPARATOR:53,idString:54,DOUBLECIRCLESTART:55,DOUBLECIRCLEEND:56,PS:57,PE:58,"(-":59,"-)":60,STADIUMSTART:61,STADIUMEND:62,SUBROUTINESTART:63,SUBROUTINEEND:64,VERTEX_WITH_PROPS_START:65,ALPHA:66,COLON:67,PIPE:68,CYLINDERSTART:69,CYLINDEREND:70,DIAMOND_START:71,DIAMOND_STOP:72,TAGEND:73,TRAPSTART:74,TRAPEND:75,INVTRAPSTART:76,INVTRAPEND:77,linkStatement:78,arrowText:79,TESTSTR:80,START_LINK:81,LINK:82,textToken:83,STR:84,keywords:85,STYLE:86,LINKSTYLE:87,CLASSDEF:88,CLASS:89,CLICK:90,DOWN:91,UP:92,textNoTags:93,textNoTagsToken:94,DEFAULT:95,stylesOpt:96,alphaNum:97,CALLBACKNAME:98,CALLBACKARGS:99,HREF:100,LINK_TARGET:101,HEX:102,numList:103,INTERPOLATE:104,NUM:105,COMMA:106,style:107,styleComponent:108,MINUS:109,UNIT:110,BRKT:111,DOT:112,PCT:113,TAGSTART:114,alphaNumToken:115,idStringToken:116,alphaNumStatement:117,direction_tb:118,direction_bt:119,direction_rl:120,direction_lr:121,PUNCTUATION:122,UNICODE_TEXT:123,PLUS:124,EQUALS:125,MULT:126,UNDERSCORE:127,graphCodeTokens:128,ARROW_CROSS:129,ARROW_POINT:130,ARROW_CIRCLE:131,ARROW_OPEN:132,QUOTE:133,$accept:0,$end:1},terminals_:{2:"error",10:":",12:"open_directive",13:"type_directive",14:"arg_directive",15:"close_directive",20:"SEMI",21:"NEWLINE",22:"SPACE",23:"EOF",24:"GRAPH",25:"NODIR",26:"DIR",38:"subgraph",40:"SQS",41:"SQE",42:"end",44:"acc_title",45:"acc_title_value",46:"acc_descr",47:"acc_descr_value",48:"acc_descr_multiline_value",52:"AMP",53:"STYLE_SEPARATOR",55:"DOUBLECIRCLESTART",56:"DOUBLECIRCLEEND",57:"PS",58:"PE",59:"(-",60:"-)",61:"STADIUMSTART",62:"STADIUMEND",63:"SUBROUTINESTART",64:"SUBROUTINEEND",65:"VERTEX_WITH_PROPS_START",66:"ALPHA",67:"COLON",68:"PIPE",69:"CYLINDERSTART",70:"CYLINDEREND",71:"DIAMOND_START",72:"DIAMOND_STOP",73:"TAGEND",74:"TRAPSTART",75:"TRAPEND",76:"INVTRAPSTART",77:"INVTRAPEND",80:"TESTSTR",81:"START_LINK",82:"LINK",84:"STR",86:"STYLE",87:"LINKSTYLE",88:"CLASSDEF",89:"CLASS",90:"CLICK",91:"DOWN",92:"UP",95:"DEFAULT",98:"CALLBACKNAME",99:"CALLBACKARGS",100:"HREF",101:"LINK_TARGET",102:"HEX",104:"INTERPOLATE",105:"NUM",106:"COMMA",109:"MINUS",110:"UNIT",111:"BRKT",112:"DOT",113:"PCT",114:"TAGSTART",118:"direction_tb",119:"direction_bt",120:"direction_rl",121:"direction_lr",122:"PUNCTUATION",123:"UNICODE_TEXT",124:"PLUS",125:"EQUALS",126:"MULT",127:"UNDERSCORE",129:"ARROW_CROSS",130:"ARROW_POINT",131:"ARROW_CIRCLE",132:"ARROW_OPEN",133:"QUOTE"},productions_:[0,[3,1],[3,2],[5,4],[5,6],[6,1],[7,1],[11,1],[8,1],[4,2],[17,0],[17,2],[18,1],[18,1],[18,1],[18,1],[18,1],[16,2],[16,2],[16,2],[16,3],[28,2],[28,1],[29,1],[29,1],[29,1],[27,1],[27,1],[27,2],[31,2],[31,2],[31,1],[31,1],[30,2],[30,1],[19,2],[19,2],[19,2],[19,2],[19,2],[19,2],[19,9],[19,6],[19,4],[19,1],[19,2],[19,2],[19,1],[9,1],[9,1],[9,1],[32,3],[32,4],[32,2],[32,1],[50,1],[50,5],[50,3],[51,4],[51,4],[51,6],[51,4],[51,4],[51,4],[51,8],[51,4],[51,4],[51,4],[51,6],[51,4],[51,4],[51,4],[51,4],[51,4],[51,1],[49,2],[49,3],[49,3],[49,1],[49,3],[78,1],[79,3],[39,1],[39,2],[39,1],[85,1],[85,1],[85,1],[85,1],[85,1],[85,1],[85,1],[85,1],[85,1],[85,1],[85,1],[93,1],[93,2],[35,5],[35,5],[36,5],[37,2],[37,4],[37,3],[37,5],[37,2],[37,4],[37,4],[37,6],[37,2],[37,4],[37,2],[37,4],[37,4],[37,6],[33,5],[33,5],[34,5],[34,5],[34,9],[34,9],[34,7],[34,7],[103,1],[103,3],[96,1],[96,3],[107,1],[107,2],[108,1],[108,1],[108,1],[108,1],[108,1],[108,1],[108,1],[108,1],[108,1],[108,1],[108,1],[83,1],[83,1],[83,1],[83,1],[83,1],[83,1],[94,1],[94,1],[94,1],[94,1],[54,1],[54,2],[97,1],[97,2],[117,1],[117,1],[117,1],[117,1],[43,1],[43,1],[43,1],[43,1],[115,1],[115,1],[115,1],[115,1],[115,1],[115,1],[115,1],[115,1],[115,1],[115,1],[115,1],[115,1],[115,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1]],performAction:function(Ye,sn,pn,xe,Cs,ct,nc){var _t=ct.length-1;switch(Cs){case 5:xe.parseDirective("%%{","open_directive");break;case 6:xe.parseDirective(ct[_t],"type_directive");break;case 7:ct[_t]=ct[_t].trim().replace(/'/g,'"'),xe.parseDirective(ct[_t],"arg_directive");break;case 8:xe.parseDirective("}%%","close_directive","flowchart");break;case 10:this.$=[];break;case 11:(!Array.isArray(ct[_t])||ct[_t].length>0)&&ct[_t-1].push(ct[_t]),this.$=ct[_t-1];break;case 12:case 82:case 84:case 96:case 152:case 154:case 155:this.$=ct[_t];break;case 19:xe.setDirection("TB"),this.$="TB";break;case 20:xe.setDirection(ct[_t-1]),this.$=ct[_t-1];break;case 35:this.$=ct[_t-1].nodes;break;case 36:case 37:case 38:case 39:case 40:this.$=[];break;case 41:this.$=xe.addSubGraph(ct[_t-6],ct[_t-1],ct[_t-4]);break;case 42:this.$=xe.addSubGraph(ct[_t-3],ct[_t-1],ct[_t-3]);break;case 43:this.$=xe.addSubGraph(void 0,ct[_t-1],void 0);break;case 45:this.$=ct[_t].trim(),xe.setAccTitle(this.$);break;case 46:case 47:this.$=ct[_t].trim(),xe.setAccDescription(this.$);break;case 51:xe.addLink(ct[_t-2].stmt,ct[_t],ct[_t-1]),this.$={stmt:ct[_t],nodes:ct[_t].concat(ct[_t-2].nodes)};break;case 52:xe.addLink(ct[_t-3].stmt,ct[_t-1],ct[_t-2]),this.$={stmt:ct[_t-1],nodes:ct[_t-1].concat(ct[_t-3].nodes)};break;case 53:this.$={stmt:ct[_t-1],nodes:ct[_t-1]};break;case 54:this.$={stmt:ct[_t],nodes:ct[_t]};break;case 55:this.$=[ct[_t]];break;case 56:this.$=ct[_t-4].concat(ct[_t]);break;case 57:this.$=[ct[_t-2]],xe.setClass(ct[_t-2],ct[_t]);break;case 58:this.$=ct[_t-3],xe.addVertex(ct[_t-3],ct[_t-1],"square");break;case 59:this.$=ct[_t-3],xe.addVertex(ct[_t-3],ct[_t-1],"doublecircle");break;case 60:this.$=ct[_t-5],xe.addVertex(ct[_t-5],ct[_t-2],"circle");break;case 61:this.$=ct[_t-3],xe.addVertex(ct[_t-3],ct[_t-1],"ellipse");break;case 62:this.$=ct[_t-3],xe.addVertex(ct[_t-3],ct[_t-1],"stadium");break;case 63:this.$=ct[_t-3],xe.addVertex(ct[_t-3],ct[_t-1],"subroutine");break;case 64:this.$=ct[_t-7],xe.addVertex(ct[_t-7],ct[_t-1],"rect",void 0,void 0,void 0,Object.fromEntries([[ct[_t-5],ct[_t-3]]]));break;case 65:this.$=ct[_t-3],xe.addVertex(ct[_t-3],ct[_t-1],"cylinder");break;case 66:this.$=ct[_t-3],xe.addVertex(ct[_t-3],ct[_t-1],"round");break;case 67:this.$=ct[_t-3],xe.addVertex(ct[_t-3],ct[_t-1],"diamond");break;case 68:this.$=ct[_t-5],xe.addVertex(ct[_t-5],ct[_t-2],"hexagon");break;case 69:this.$=ct[_t-3],xe.addVertex(ct[_t-3],ct[_t-1],"odd");break;case 70:this.$=ct[_t-3],xe.addVertex(ct[_t-3],ct[_t-1],"trapezoid");break;case 71:this.$=ct[_t-3],xe.addVertex(ct[_t-3],ct[_t-1],"inv_trapezoid");break;case 72:this.$=ct[_t-3],xe.addVertex(ct[_t-3],ct[_t-1],"lean_right");break;case 73:this.$=ct[_t-3],xe.addVertex(ct[_t-3],ct[_t-1],"lean_left");break;case 74:this.$=ct[_t],xe.addVertex(ct[_t]);break;case 75:ct[_t-1].text=ct[_t],this.$=ct[_t-1];break;case 76:case 77:ct[_t-2].text=ct[_t-1],this.$=ct[_t-2];break;case 78:this.$=ct[_t];break;case 79:var Fr=xe.destructLink(ct[_t],ct[_t-2]);this.$={type:Fr.type,stroke:Fr.stroke,length:Fr.length,text:ct[_t-1]};break;case 80:var Fr=xe.destructLink(ct[_t]);this.$={type:Fr.type,stroke:Fr.stroke,length:Fr.length};break;case 81:this.$=ct[_t-1];break;case 83:case 97:case 153:this.$=ct[_t-1]+""+ct[_t];break;case 98:case 99:this.$=ct[_t-4],xe.addClass(ct[_t-2],ct[_t]);break;case 100:this.$=ct[_t-4],xe.setClass(ct[_t-2],ct[_t]);break;case 101:case 109:this.$=ct[_t-1],xe.setClickEvent(ct[_t-1],ct[_t]);break;case 102:case 110:this.$=ct[_t-3],xe.setClickEvent(ct[_t-3],ct[_t-2]),xe.setTooltip(ct[_t-3],ct[_t]);break;case 103:this.$=ct[_t-2],xe.setClickEvent(ct[_t-2],ct[_t-1],ct[_t]);break;case 104:this.$=ct[_t-4],xe.setClickEvent(ct[_t-4],ct[_t-3],ct[_t-2]),xe.setTooltip(ct[_t-4],ct[_t]);break;case 105:case 111:this.$=ct[_t-1],xe.setLink(ct[_t-1],ct[_t]);break;case 106:case 112:this.$=ct[_t-3],xe.setLink(ct[_t-3],ct[_t-2]),xe.setTooltip(ct[_t-3],ct[_t]);break;case 107:case 113:this.$=ct[_t-3],xe.setLink(ct[_t-3],ct[_t-2],ct[_t]);break;case 108:case 114:this.$=ct[_t-5],xe.setLink(ct[_t-5],ct[_t-4],ct[_t]),xe.setTooltip(ct[_t-5],ct[_t-2]);break;case 115:this.$=ct[_t-4],xe.addVertex(ct[_t-2],void 0,void 0,ct[_t]);break;case 116:case 118:this.$=ct[_t-4],xe.updateLink(ct[_t-2],ct[_t]);break;case 117:this.$=ct[_t-4],xe.updateLink([ct[_t-2]],ct[_t]);break;case 119:this.$=ct[_t-8],xe.updateLinkInterpolate([ct[_t-6]],ct[_t-2]),xe.updateLink([ct[_t-6]],ct[_t]);break;case 120:this.$=ct[_t-8],xe.updateLinkInterpolate(ct[_t-6],ct[_t-2]),xe.updateLink(ct[_t-6],ct[_t]);break;case 121:this.$=ct[_t-6],xe.updateLinkInterpolate([ct[_t-4]],ct[_t]);break;case 122:this.$=ct[_t-6],xe.updateLinkInterpolate(ct[_t-4],ct[_t]);break;case 123:case 125:this.$=[ct[_t]];break;case 124:case 126:ct[_t-2].push(ct[_t]),this.$=ct[_t-2];break;case 128:this.$=ct[_t-1]+ct[_t];break;case 150:this.$=ct[_t];break;case 151:this.$=ct[_t-1]+""+ct[_t];break;case 156:this.$="v";break;case 157:this.$="-";break;case 158:this.$={stmt:"dir",value:"TB"};break;case 159:this.$={stmt:"dir",value:"BT"};break;case 160:this.$={stmt:"dir",value:"RL"};break;case 161:this.$={stmt:"dir",value:"LR"};break}},table:[{3:1,4:2,5:3,6:5,12:e,16:4,21:s,22:r,24:o},{1:[3]},{1:[2,1]},{3:10,4:2,5:3,6:5,12:e,16:4,21:s,22:r,24:o},t(a,u,{17:11}),{7:12,13:[1,13]},{16:14,21:s,22:r,24:o},{16:15,21:s,22:r,24:o},{25:[1,16],26:[1,17]},{13:[2,5]},{1:[2,2]},{1:[2,9],18:18,19:19,20:h,21:d,22:y,23:_,32:24,33:25,34:26,35:27,36:28,37:29,38:v,43:31,44:x,46:k,48:D,50:35,51:45,52:M,54:46,66:R,67:Y,86:V,87:X,88:J,89:rt,90:lt,91:tt,95:it,105:j,106:W,109:$,111:I,112:H,116:47,118:S,119:yt,120:T,121:Dt,122:ce,123:Gt,124:ut,125:Et,126:bt,127:xt},{8:64,10:[1,65],15:Tt},t([10,15],[2,6]),t(a,[2,17]),t(a,[2,18]),t(a,[2,19]),{20:[1,68],21:[1,69],22:Wt,27:67,30:70},t(dt,[2,11]),t(dt,[2,12]),t(dt,[2,13]),t(dt,[2,14]),t(dt,[2,15]),t(dt,[2,16]),{9:72,20:ve,21:et,23:st,49:73,78:77,81:[1,78],82:[1,79]},{9:80,20:ve,21:et,23:st},{9:81,20:ve,21:et,23:st},{9:82,20:ve,21:et,23:st},{9:83,20:ve,21:et,23:st},{9:84,20:ve,21:et,23:st},{9:86,20:ve,21:et,22:[1,85],23:st},t(dt,[2,44]),{45:[1,87]},{47:[1,88]},t(dt,[2,47]),t(pt,[2,54],{30:89,22:Wt}),{22:[1,90]},{22:[1,91]},{22:[1,92]},{22:[1,93]},{26:Z,52:q,66:U,67:mt,84:[1,97],91:N,97:96,98:[1,94],100:[1,95],105:Lt,106:nt,109:Be,111:vt,112:de,115:100,117:98,122:Xt,123:Nt,124:Qt,125:qt,126:Ot,127:Ct},t(dt,[2,158]),t(dt,[2,159]),t(dt,[2,160]),t(dt,[2,161]),t(gn,[2,55],{53:[1,116]}),t(We,[2,74],{116:129,40:[1,117],52:M,55:[1,118],57:[1,119],59:[1,120],61:[1,121],63:[1,122],65:[1,123],66:R,67:Y,69:[1,124],71:[1,125],73:[1,126],74:[1,127],76:[1,128],91:tt,95:it,105:j,106:W,109:$,111:I,112:H,122:ce,123:Gt,124:ut,125:Et,126:bt,127:xt}),t(Ue,[2,150]),t(Ue,[2,175]),t(Ue,[2,176]),t(Ue,[2,177]),t(Ue,[2,178]),t(Ue,[2,179]),t(Ue,[2,180]),t(Ue,[2,181]),t(Ue,[2,182]),t(Ue,[2,183]),t(Ue,[2,184]),t(Ue,[2,185]),t(Ue,[2,186]),t(Ue,[2,187]),t(Ue,[2,188]),t(Ue,[2,189]),t(Ue,[2,190]),{9:130,20:ve,21:et,23:st},{11:131,14:[1,132]},t(je,[2,8]),t(a,[2,20]),t(a,[2,26]),t(a,[2,27]),{21:[1,133]},t(Oe,[2,34],{30:134,22:Wt}),t(dt,[2,35]),{50:135,51:45,52:M,54:46,66:R,67:Y,91:tt,95:it,105:j,106:W,109:$,111:I,112:H,116:47,122:ce,123:Gt,124:ut,125:Et,126:bt,127:xt},t(zn,[2,48]),t(zn,[2,49]),t(zn,[2,50]),t(Me,[2,78],{79:136,68:[1,138],80:[1,137]}),{22:Se,24:we,26:Ht,38:Rt,39:139,42:ae,52:q,66:U,67:mt,73:Ut,81:Te,83:140,84:wt,85:151,86:cn,87:Mt,88:rn,89:kn,90:Sn,91:Tn,92:In,94:142,95:ze,105:Lt,106:nt,109:un,111:vt,112:de,113:En,114:en,115:148,122:Xt,123:Nt,124:Qt,125:qt,126:Ot,127:Ct},t([52,66,67,68,80,91,95,105,106,109,111,112,122,123,124,125,126,127],[2,80]),t(dt,[2,36]),t(dt,[2,37]),t(dt,[2,38]),t(dt,[2,39]),t(dt,[2,40]),{22:Se,24:we,26:Ht,38:Rt,39:163,42:ae,52:q,66:U,67:mt,73:Ut,81:Te,83:140,84:wt,85:151,86:cn,87:Mt,88:rn,89:kn,90:Sn,91:Tn,92:In,94:142,95:ze,105:Lt,106:nt,109:un,111:vt,112:de,113:En,114:en,115:148,122:Xt,123:Nt,124:Qt,125:qt,126:Ot,127:Ct},t(to,u,{17:164}),t(dt,[2,45]),t(dt,[2,46]),t(pt,[2,53],{52:ci}),{26:Z,52:q,66:U,67:mt,91:N,97:166,102:[1,167],105:Lt,106:nt,109:Be,111:vt,112:de,115:100,117:98,122:Xt,123:Nt,124:Qt,125:qt,126:Ot,127:Ct},{95:[1,168],103:169,105:[1,170]},{26:Z,52:q,66:U,67:mt,91:N,95:[1,171],97:172,105:Lt,106:nt,109:Be,111:vt,112:de,115:100,117:98,122:Xt,123:Nt,124:Qt,125:qt,126:Ot,127:Ct},{26:Z,52:q,66:U,67:mt,91:N,97:173,105:Lt,106:nt,109:Be,111:vt,112:de,115:100,117:98,122:Xt,123:Nt,124:Qt,125:qt,126:Ot,127:Ct},t(je,[2,101],{22:[1,174],99:[1,175]}),t(je,[2,105],{22:[1,176]}),t(je,[2,109],{115:100,117:178,22:[1,177],26:Z,52:q,66:U,67:mt,91:N,105:Lt,106:nt,109:Be,111:vt,112:de,122:Xt,123:Nt,124:Qt,125:qt,126:Ot,127:Ct}),t(je,[2,111],{22:[1,179]}),t(rs,[2,152]),t(rs,[2,154]),t(rs,[2,155]),t(rs,[2,156]),t(rs,[2,157]),t(hn,[2,162]),t(hn,[2,163]),t(hn,[2,164]),t(hn,[2,165]),t(hn,[2,166]),t(hn,[2,167]),t(hn,[2,168]),t(hn,[2,169]),t(hn,[2,170]),t(hn,[2,171]),t(hn,[2,172]),t(hn,[2,173]),t(hn,[2,174]),{52:M,54:180,66:R,67:Y,91:tt,95:it,105:j,106:W,109:$,111:I,112:H,116:47,122:ce,123:Gt,124:ut,125:Et,126:bt,127:xt},{22:Se,24:we,26:Ht,38:Rt,39:181,42:ae,52:q,66:U,67:mt,73:Ut,81:Te,83:140,84:wt,85:151,86:cn,87:Mt,88:rn,89:kn,90:Sn,91:Tn,92:In,94:142,95:ze,105:Lt,106:nt,109:un,111:vt,112:de,113:En,114:en,115:148,122:Xt,123:Nt,124:Qt,125:qt,126:Ot,127:Ct},{22:Se,24:we,26:Ht,38:Rt,39:182,42:ae,52:q,66:U,67:mt,73:Ut,81:Te,83:140,84:wt,85:151,86:cn,87:Mt,88:rn,89:kn,90:Sn,91:Tn,92:In,94:142,95:ze,105:Lt,106:nt,109:un,111:vt,112:de,113:En,114:en,115:148,122:Xt,123:Nt,124:Qt,125:qt,126:Ot,127:Ct},{22:Se,24:we,26:Ht,38:Rt,39:184,42:ae,52:q,57:[1,183],66:U,67:mt,73:Ut,81:Te,83:140,84:wt,85:151,86:cn,87:Mt,88:rn,89:kn,90:Sn,91:Tn,92:In,94:142,95:ze,105:Lt,106:nt,109:un,111:vt,112:de,113:En,114:en,115:148,122:Xt,123:Nt,124:Qt,125:qt,126:Ot,127:Ct},{22:Se,24:we,26:Ht,38:Rt,39:185,42:ae,52:q,66:U,67:mt,73:Ut,81:Te,83:140,84:wt,85:151,86:cn,87:Mt,88:rn,89:kn,90:Sn,91:Tn,92:In,94:142,95:ze,105:Lt,106:nt,109:un,111:vt,112:de,113:En,114:en,115:148,122:Xt,123:Nt,124:Qt,125:qt,126:Ot,127:Ct},{22:Se,24:we,26:Ht,38:Rt,39:186,42:ae,52:q,66:U,67:mt,73:Ut,81:Te,83:140,84:wt,85:151,86:cn,87:Mt,88:rn,89:kn,90:Sn,91:Tn,92:In,94:142,95:ze,105:Lt,106:nt,109:un,111:vt,112:de,113:En,114:en,115:148,122:Xt,123:Nt,124:Qt,125:qt,126:Ot,127:Ct},{22:Se,24:we,26:Ht,38:Rt,39:187,42:ae,52:q,66:U,67:mt,73:Ut,81:Te,83:140,84:wt,85:151,86:cn,87:Mt,88:rn,89:kn,90:Sn,91:Tn,92:In,94:142,95:ze,105:Lt,106:nt,109:un,111:vt,112:de,113:En,114:en,115:148,122:Xt,123:Nt,124:Qt,125:qt,126:Ot,127:Ct},{66:[1,188]},{22:Se,24:we,26:Ht,38:Rt,39:189,42:ae,52:q,66:U,67:mt,73:Ut,81:Te,83:140,84:wt,85:151,86:cn,87:Mt,88:rn,89:kn,90:Sn,91:Tn,92:In,94:142,95:ze,105:Lt,106:nt,109:un,111:vt,112:de,113:En,114:en,115:148,122:Xt,123:Nt,124:Qt,125:qt,126:Ot,127:Ct},{22:Se,24:we,26:Ht,38:Rt,39:190,42:ae,52:q,66:U,67:mt,71:[1,191],73:Ut,81:Te,83:140,84:wt,85:151,86:cn,87:Mt,88:rn,89:kn,90:Sn,91:Tn,92:In,94:142,95:ze,105:Lt,106:nt,109:un,111:vt,112:de,113:En,114:en,115:148,122:Xt,123:Nt,124:Qt,125:qt,126:Ot,127:Ct},{22:Se,24:we,26:Ht,38:Rt,39:192,42:ae,52:q,66:U,67:mt,73:Ut,81:Te,83:140,84:wt,85:151,86:cn,87:Mt,88:rn,89:kn,90:Sn,91:Tn,92:In,94:142,95:ze,105:Lt,106:nt,109:un,111:vt,112:de,113:En,114:en,115:148,122:Xt,123:Nt,124:Qt,125:qt,126:Ot,127:Ct},{22:Se,24:we,26:Ht,38:Rt,39:193,42:ae,52:q,66:U,67:mt,73:Ut,81:Te,83:140,84:wt,85:151,86:cn,87:Mt,88:rn,89:kn,90:Sn,91:Tn,92:In,94:142,95:ze,105:Lt,106:nt,109:un,111:vt,112:de,113:En,114:en,115:148,122:Xt,123:Nt,124:Qt,125:qt,126:Ot,127:Ct},{22:Se,24:we,26:Ht,38:Rt,39:194,42:ae,52:q,66:U,67:mt,73:Ut,81:Te,83:140,84:wt,85:151,86:cn,87:Mt,88:rn,89:kn,90:Sn,91:Tn,92:In,94:142,95:ze,105:Lt,106:nt,109:un,111:vt,112:de,113:En,114:en,115:148,122:Xt,123:Nt,124:Qt,125:qt,126:Ot,127:Ct},t(Ue,[2,151]),t(fs,[2,3]),{8:195,15:Tt},{15:[2,7]},t(a,[2,28]),t(Oe,[2,33]),t(pt,[2,51],{30:196,22:Wt}),t(Me,[2,75],{22:[1,197]}),{22:[1,198]},{22:Se,24:we,26:Ht,38:Rt,39:199,42:ae,52:q,66:U,67:mt,73:Ut,81:Te,83:140,84:wt,85:151,86:cn,87:Mt,88:rn,89:kn,90:Sn,91:Tn,92:In,94:142,95:ze,105:Lt,106:nt,109:un,111:vt,112:de,113:En,114:en,115:148,122:Xt,123:Nt,124:Qt,125:qt,126:Ot,127:Ct},{22:Se,24:we,26:Ht,38:Rt,42:ae,52:q,66:U,67:mt,73:Ut,81:Te,82:[1,200],83:201,85:151,86:cn,87:Mt,88:rn,89:kn,90:Sn,91:Tn,92:In,94:142,95:ze,105:Lt,106:nt,109:un,111:vt,112:de,113:En,114:en,115:148,122:Xt,123:Nt,124:Qt,125:qt,126:Ot,127:Ct},t(hn,[2,82]),t(hn,[2,84]),t(hn,[2,140]),t(hn,[2,141]),t(hn,[2,142]),t(hn,[2,143]),t(hn,[2,144]),t(hn,[2,145]),t(hn,[2,146]),t(hn,[2,147]),t(hn,[2,148]),t(hn,[2,149]),t(hn,[2,85]),t(hn,[2,86]),t(hn,[2,87]),t(hn,[2,88]),t(hn,[2,89]),t(hn,[2,90]),t(hn,[2,91]),t(hn,[2,92]),t(hn,[2,93]),t(hn,[2,94]),t(hn,[2,95]),{9:203,20:ve,21:et,22:Se,23:st,24:we,26:Ht,38:Rt,40:[1,202],42:ae,52:q,66:U,67:mt,73:Ut,81:Te,83:201,85:151,86:cn,87:Mt,88:rn,89:kn,90:Sn,91:Tn,92:In,94:142,95:ze,105:Lt,106:nt,109:un,111:vt,112:de,113:En,114:en,115:148,122:Xt,123:Nt,124:Qt,125:qt,126:Ot,127:Ct},{18:18,19:19,20:h,21:d,22:y,23:_,32:24,33:25,34:26,35:27,36:28,37:29,38:v,42:[1,204],43:31,44:x,46:k,48:D,50:35,51:45,52:M,54:46,66:R,67:Y,86:V,87:X,88:J,89:rt,90:lt,91:tt,95:it,105:j,106:W,109:$,111:I,112:H,116:47,118:S,119:yt,120:T,121:Dt,122:ce,123:Gt,124:ut,125:Et,126:bt,127:xt},{22:Wt,30:205},{22:[1,206],26:Z,52:q,66:U,67:mt,91:N,105:Lt,106:nt,109:Be,111:vt,112:de,115:100,117:178,122:Xt,123:Nt,124:Qt,125:qt,126:Ot,127:Ct},{22:[1,207]},{22:[1,208]},{22:[1,209],106:[1,210]},t(ms,[2,123]),{22:[1,211]},{22:[1,212],26:Z,52:q,66:U,67:mt,91:N,105:Lt,106:nt,109:Be,111:vt,112:de,115:100,117:178,122:Xt,123:Nt,124:Qt,125:qt,126:Ot,127:Ct},{22:[1,213],26:Z,52:q,66:U,67:mt,91:N,105:Lt,106:nt,109:Be,111:vt,112:de,115:100,117:178,122:Xt,123:Nt,124:Qt,125:qt,126:Ot,127:Ct},{84:[1,214]},t(je,[2,103],{22:[1,215]}),{84:[1,216],101:[1,217]},{84:[1,218]},t(rs,[2,153]),{84:[1,219],101:[1,220]},t(gn,[2,57],{116:129,52:M,66:R,67:Y,91:tt,95:it,105:j,106:W,109:$,111:I,112:H,122:ce,123:Gt,124:ut,125:Et,126:bt,127:xt}),{22:Se,24:we,26:Ht,38:Rt,41:[1,221],42:ae,52:q,66:U,67:mt,73:Ut,81:Te,83:201,85:151,86:cn,87:Mt,88:rn,89:kn,90:Sn,91:Tn,92:In,94:142,95:ze,105:Lt,106:nt,109:un,111:vt,112:de,113:En,114:en,115:148,122:Xt,123:Nt,124:Qt,125:qt,126:Ot,127:Ct},{22:Se,24:we,26:Ht,38:Rt,42:ae,52:q,56:[1,222],66:U,67:mt,73:Ut,81:Te,83:201,85:151,86:cn,87:Mt,88:rn,89:kn,90:Sn,91:Tn,92:In,94:142,95:ze,105:Lt,106:nt,109:un,111:vt,112:de,113:En,114:en,115:148,122:Xt,123:Nt,124:Qt,125:qt,126:Ot,127:Ct},{22:Se,24:we,26:Ht,38:Rt,39:223,42:ae,52:q,66:U,67:mt,73:Ut,81:Te,83:140,84:wt,85:151,86:cn,87:Mt,88:rn,89:kn,90:Sn,91:Tn,92:In,94:142,95:ze,105:Lt,106:nt,109:un,111:vt,112:de,113:En,114:en,115:148,122:Xt,123:Nt,124:Qt,125:qt,126:Ot,127:Ct},{22:Se,24:we,26:Ht,38:Rt,42:ae,52:q,58:[1,224],66:U,67:mt,73:Ut,81:Te,83:201,85:151,86:cn,87:Mt,88:rn,89:kn,90:Sn,91:Tn,92:In,94:142,95:ze,105:Lt,106:nt,109:un,111:vt,112:de,113:En,114:en,115:148,122:Xt,123:Nt,124:Qt,125:qt,126:Ot,127:Ct},{22:Se,24:we,26:Ht,38:Rt,42:ae,52:q,60:[1,225],66:U,67:mt,73:Ut,81:Te,83:201,85:151,86:cn,87:Mt,88:rn,89:kn,90:Sn,91:Tn,92:In,94:142,95:ze,105:Lt,106:nt,109:un,111:vt,112:de,113:En,114:en,115:148,122:Xt,123:Nt,124:Qt,125:qt,126:Ot,127:Ct},{22:Se,24:we,26:Ht,38:Rt,42:ae,52:q,62:[1,226],66:U,67:mt,73:Ut,81:Te,83:201,85:151,86:cn,87:Mt,88:rn,89:kn,90:Sn,91:Tn,92:In,94:142,95:ze,105:Lt,106:nt,109:un,111:vt,112:de,113:En,114:en,115:148,122:Xt,123:Nt,124:Qt,125:qt,126:Ot,127:Ct},{22:Se,24:we,26:Ht,38:Rt,42:ae,52:q,64:[1,227],66:U,67:mt,73:Ut,81:Te,83:201,85:151,86:cn,87:Mt,88:rn,89:kn,90:Sn,91:Tn,92:In,94:142,95:ze,105:Lt,106:nt,109:un,111:vt,112:de,113:En,114:en,115:148,122:Xt,123:Nt,124:Qt,125:qt,126:Ot,127:Ct},{67:[1,228]},{22:Se,24:we,26:Ht,38:Rt,42:ae,52:q,66:U,67:mt,70:[1,229],73:Ut,81:Te,83:201,85:151,86:cn,87:Mt,88:rn,89:kn,90:Sn,91:Tn,92:In,94:142,95:ze,105:Lt,106:nt,109:un,111:vt,112:de,113:En,114:en,115:148,122:Xt,123:Nt,124:Qt,125:qt,126:Ot,127:Ct},{22:Se,24:we,26:Ht,38:Rt,42:ae,52:q,66:U,67:mt,72:[1,230],73:Ut,81:Te,83:201,85:151,86:cn,87:Mt,88:rn,89:kn,90:Sn,91:Tn,92:In,94:142,95:ze,105:Lt,106:nt,109:un,111:vt,112:de,113:En,114:en,115:148,122:Xt,123:Nt,124:Qt,125:qt,126:Ot,127:Ct},{22:Se,24:we,26:Ht,38:Rt,39:231,42:ae,52:q,66:U,67:mt,73:Ut,81:Te,83:140,84:wt,85:151,86:cn,87:Mt,88:rn,89:kn,90:Sn,91:Tn,92:In,94:142,95:ze,105:Lt,106:nt,109:un,111:vt,112:de,113:En,114:en,115:148,122:Xt,123:Nt,124:Qt,125:qt,126:Ot,127:Ct},{22:Se,24:we,26:Ht,38:Rt,41:[1,232],42:ae,52:q,66:U,67:mt,73:Ut,81:Te,83:201,85:151,86:cn,87:Mt,88:rn,89:kn,90:Sn,91:Tn,92:In,94:142,95:ze,105:Lt,106:nt,109:un,111:vt,112:de,113:En,114:en,115:148,122:Xt,123:Nt,124:Qt,125:qt,126:Ot,127:Ct},{22:Se,24:we,26:Ht,38:Rt,42:ae,52:q,66:U,67:mt,73:Ut,75:[1,233],77:[1,234],81:Te,83:201,85:151,86:cn,87:Mt,88:rn,89:kn,90:Sn,91:Tn,92:In,94:142,95:ze,105:Lt,106:nt,109:un,111:vt,112:de,113:En,114:en,115:148,122:Xt,123:Nt,124:Qt,125:qt,126:Ot,127:Ct},{22:Se,24:we,26:Ht,38:Rt,42:ae,52:q,66:U,67:mt,73:Ut,75:[1,236],77:[1,235],81:Te,83:201,85:151,86:cn,87:Mt,88:rn,89:kn,90:Sn,91:Tn,92:In,94:142,95:ze,105:Lt,106:nt,109:un,111:vt,112:de,113:En,114:en,115:148,122:Xt,123:Nt,124:Qt,125:qt,126:Ot,127:Ct},{9:237,20:ve,21:et,23:st},t(pt,[2,52],{52:ci}),t(Me,[2,77]),t(Me,[2,76]),{22:Se,24:we,26:Ht,38:Rt,42:ae,52:q,66:U,67:mt,68:[1,238],73:Ut,81:Te,83:201,85:151,86:cn,87:Mt,88:rn,89:kn,90:Sn,91:Tn,92:In,94:142,95:ze,105:Lt,106:nt,109:un,111:vt,112:de,113:En,114:en,115:148,122:Xt,123:Nt,124:Qt,125:qt,126:Ot,127:Ct},t(Me,[2,79]),t(hn,[2,83]),{22:Se,24:we,26:Ht,38:Rt,39:239,42:ae,52:q,66:U,67:mt,73:Ut,81:Te,83:140,84:wt,85:151,86:cn,87:Mt,88:rn,89:kn,90:Sn,91:Tn,92:In,94:142,95:ze,105:Lt,106:nt,109:un,111:vt,112:de,113:En,114:en,115:148,122:Xt,123:Nt,124:Qt,125:qt,126:Ot,127:Ct},t(to,u,{17:240}),t(dt,[2,43]),{51:241,52:M,54:46,66:R,67:Y,91:tt,95:it,105:j,106:W,109:$,111:I,112:H,116:47,122:ce,123:Gt,124:ut,125:Et,126:bt,127:xt},{22:xs,66:ks,67:ys,86:Ms,96:242,102:qs,105:De,107:243,108:244,109:ft,110:ne,111:fe,112:Cn,113:is},{22:xs,66:ks,67:ys,86:Ms,96:256,102:qs,105:De,107:243,108:244,109:ft,110:ne,111:fe,112:Cn,113:is},{22:xs,66:ks,67:ys,86:Ms,96:257,102:qs,104:[1,258],105:De,107:243,108:244,109:ft,110:ne,111:fe,112:Cn,113:is},{22:xs,66:ks,67:ys,86:Ms,96:259,102:qs,104:[1,260],105:De,107:243,108:244,109:ft,110:ne,111:fe,112:Cn,113:is},{105:[1,261]},{22:xs,66:ks,67:ys,86:Ms,96:262,102:qs,105:De,107:243,108:244,109:ft,110:ne,111:fe,112:Cn,113:is},{22:xs,66:ks,67:ys,86:Ms,96:263,102:qs,105:De,107:243,108:244,109:ft,110:ne,111:fe,112:Cn,113:is},{26:Z,52:q,66:U,67:mt,91:N,97:264,105:Lt,106:nt,109:Be,111:vt,112:de,115:100,117:98,122:Xt,123:Nt,124:Qt,125:qt,126:Ot,127:Ct},t(je,[2,102]),{84:[1,265]},t(je,[2,106],{22:[1,266]}),t(je,[2,107]),t(je,[2,110]),t(je,[2,112],{22:[1,267]}),t(je,[2,113]),t(We,[2,58]),t(We,[2,59]),{22:Se,24:we,26:Ht,38:Rt,42:ae,52:q,58:[1,268],66:U,67:mt,73:Ut,81:Te,83:201,85:151,86:cn,87:Mt,88:rn,89:kn,90:Sn,91:Tn,92:In,94:142,95:ze,105:Lt,106:nt,109:un,111:vt,112:de,113:En,114:en,115:148,122:Xt,123:Nt,124:Qt,125:qt,126:Ot,127:Ct},t(We,[2,66]),t(We,[2,61]),t(We,[2,62]),t(We,[2,63]),{66:[1,269]},t(We,[2,65]),t(We,[2,67]),{22:Se,24:we,26:Ht,38:Rt,42:ae,52:q,66:U,67:mt,72:[1,270],73:Ut,81:Te,83:201,85:151,86:cn,87:Mt,88:rn,89:kn,90:Sn,91:Tn,92:In,94:142,95:ze,105:Lt,106:nt,109:un,111:vt,112:de,113:En,114:en,115:148,122:Xt,123:Nt,124:Qt,125:qt,126:Ot,127:Ct},t(We,[2,69]),t(We,[2,70]),t(We,[2,72]),t(We,[2,71]),t(We,[2,73]),t(fs,[2,4]),t([22,52,66,67,91,95,105,106,109,111,112,122,123,124,125,126,127],[2,81]),{22:Se,24:we,26:Ht,38:Rt,41:[1,271],42:ae,52:q,66:U,67:mt,73:Ut,81:Te,83:201,85:151,86:cn,87:Mt,88:rn,89:kn,90:Sn,91:Tn,92:In,94:142,95:ze,105:Lt,106:nt,109:un,111:vt,112:de,113:En,114:en,115:148,122:Xt,123:Nt,124:Qt,125:qt,126:Ot,127:Ct},{18:18,19:19,20:h,21:d,22:y,23:_,32:24,33:25,34:26,35:27,36:28,37:29,38:v,42:[1,272],43:31,44:x,46:k,48:D,50:35,51:45,52:M,54:46,66:R,67:Y,86:V,87:X,88:J,89:rt,90:lt,91:tt,95:it,105:j,106:W,109:$,111:I,112:H,116:47,118:S,119:yt,120:T,121:Dt,122:ce,123:Gt,124:ut,125:Et,126:bt,127:xt},t(gn,[2,56]),t(je,[2,115],{106:Jn}),t(Ss,[2,125],{108:274,22:xs,66:ks,67:ys,86:Ms,102:qs,105:De,109:ft,110:ne,111:fe,112:Cn,113:is}),t(Fn,[2,127]),t(Fn,[2,129]),t(Fn,[2,130]),t(Fn,[2,131]),t(Fn,[2,132]),t(Fn,[2,133]),t(Fn,[2,134]),t(Fn,[2,135]),t(Fn,[2,136]),t(Fn,[2,137]),t(Fn,[2,138]),t(Fn,[2,139]),t(je,[2,116],{106:Jn}),t(je,[2,117],{106:Jn}),{22:[1,275]},t(je,[2,118],{106:Jn}),{22:[1,276]},t(ms,[2,124]),t(je,[2,98],{106:Jn}),t(je,[2,99],{106:Jn}),t(je,[2,100],{115:100,117:178,26:Z,52:q,66:U,67:mt,91:N,105:Lt,106:nt,109:Be,111:vt,112:de,122:Xt,123:Nt,124:Qt,125:qt,126:Ot,127:Ct}),t(je,[2,104]),{101:[1,277]},{101:[1,278]},{58:[1,279]},{68:[1,280]},{72:[1,281]},{9:282,20:ve,21:et,23:st},t(dt,[2,42]),{22:xs,66:ks,67:ys,86:Ms,102:qs,105:De,107:283,108:244,109:ft,110:ne,111:fe,112:Cn,113:is},t(Fn,[2,128]),{26:Z,52:q,66:U,67:mt,91:N,97:284,105:Lt,106:nt,109:Be,111:vt,112:de,115:100,117:98,122:Xt,123:Nt,124:Qt,125:qt,126:Ot,127:Ct},{26:Z,52:q,66:U,67:mt,91:N,97:285,105:Lt,106:nt,109:Be,111:vt,112:de,115:100,117:98,122:Xt,123:Nt,124:Qt,125:qt,126:Ot,127:Ct},t(je,[2,108]),t(je,[2,114]),t(We,[2,60]),{22:Se,24:we,26:Ht,38:Rt,39:286,42:ae,52:q,66:U,67:mt,73:Ut,81:Te,83:140,84:wt,85:151,86:cn,87:Mt,88:rn,89:kn,90:Sn,91:Tn,92:In,94:142,95:ze,105:Lt,106:nt,109:un,111:vt,112:de,113:En,114:en,115:148,122:Xt,123:Nt,124:Qt,125:qt,126:Ot,127:Ct},t(We,[2,68]),t(to,u,{17:287}),t(Ss,[2,126],{108:274,22:xs,66:ks,67:ys,86:Ms,102:qs,105:De,109:ft,110:ne,111:fe,112:Cn,113:is}),t(je,[2,121],{115:100,117:178,22:[1,288],26:Z,52:q,66:U,67:mt,91:N,105:Lt,106:nt,109:Be,111:vt,112:de,122:Xt,123:Nt,124:Qt,125:qt,126:Ot,127:Ct}),t(je,[2,122],{115:100,117:178,22:[1,289],26:Z,52:q,66:U,67:mt,91:N,105:Lt,106:nt,109:Be,111:vt,112:de,122:Xt,123:Nt,124:Qt,125:qt,126:Ot,127:Ct}),{22:Se,24:we,26:Ht,38:Rt,41:[1,290],42:ae,52:q,66:U,67:mt,73:Ut,81:Te,83:201,85:151,86:cn,87:Mt,88:rn,89:kn,90:Sn,91:Tn,92:In,94:142,95:ze,105:Lt,106:nt,109:un,111:vt,112:de,113:En,114:en,115:148,122:Xt,123:Nt,124:Qt,125:qt,126:Ot,127:Ct},{18:18,19:19,20:h,21:d,22:y,23:_,32:24,33:25,34:26,35:27,36:28,37:29,38:v,42:[1,291],43:31,44:x,46:k,48:D,50:35,51:45,52:M,54:46,66:R,67:Y,86:V,87:X,88:J,89:rt,90:lt,91:tt,95:it,105:j,106:W,109:$,111:I,112:H,116:47,118:S,119:yt,120:T,121:Dt,122:ce,123:Gt,124:ut,125:Et,126:bt,127:xt},{22:xs,66:ks,67:ys,86:Ms,96:292,102:qs,105:De,107:243,108:244,109:ft,110:ne,111:fe,112:Cn,113:is},{22:xs,66:ks,67:ys,86:Ms,96:293,102:qs,105:De,107:243,108:244,109:ft,110:ne,111:fe,112:Cn,113:is},t(We,[2,64]),t(dt,[2,41]),t(je,[2,119],{106:Jn}),t(je,[2,120],{106:Jn})],defaultActions:{2:[2,1],9:[2,5],10:[2,2],132:[2,7]},parseError:function(Ye,sn){if(sn.recoverable)this.trace(Ye);else{var pn=new Error(Ye);throw pn.hash=sn,pn}},parse:function(Ye){var sn=this,pn=[0],xe=[],Cs=[null],ct=[],nc=this.table,_t="",Fr=0,P1=0,b2=2,V1=1,$1=ct.slice.call(arguments,1),Xs=Object.create(this.lexer),Do={yy:{}};for(var Fo in this.yy)Object.prototype.hasOwnProperty.call(this.yy,Fo)&&(Do.yy[Fo]=this.yy[Fo]);Xs.setInput(Ye,Do.yy),Do.yy.lexer=Xs,Do.yy.parser=this,typeof Xs.yylloc>"u"&&(Xs.yylloc={});var sc=Xs.yylloc;ct.push(sc);var Ap=Xs.options&&Xs.options.ranges;typeof Do.yy.parseError=="function"?this.parseError=Do.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function Y1(){var hi;return hi=xe.pop()||Xs.lex()||V1,typeof hi!="number"&&(hi instanceof Array&&(xe=hi,hi=xe.pop()),hi=sn.symbols_[hi]||hi),hi}for(var br,Gn,Yr,ya,eo={},ga,ui,wp,Ou;;){if(Gn=pn[pn.length-1],this.defaultActions[Gn]?Yr=this.defaultActions[Gn]:((br===null||typeof br>"u")&&(br=Y1()),Yr=nc[Gn]&&nc[Gn][br]),typeof Yr>"u"||!Yr.length||!Yr[0]){var rc="";Ou=[];for(ga in nc[Gn])this.terminals_[ga]&&ga>b2&&Ou.push("'"+this.terminals_[ga]+"'");Xs.showPosition?rc="Parse error on line "+(Fr+1)+`:
`+Xs.showPosition()+`
Expecting `+Ou.join(", ")+", got '"+(this.terminals_[br]||br)+"'":rc="Parse error on line "+(Fr+1)+": Unexpected "+(br==V1?"end of input":"'"+(this.terminals_[br]||br)+"'"),this.parseError(rc,{text:Xs.match,token:this.terminals_[br]||br,line:Xs.yylineno,loc:sc,expected:Ou})}if(Yr[0]instanceof Array&&Yr.length>1)throw new Error("Parse Error: multiple actions possible at state: "+Gn+", token: "+br);switch(Yr[0]){case 1:pn.push(br),Cs.push(Xs.yytext),ct.push(Xs.yylloc),pn.push(Yr[1]),br=null,P1=Xs.yyleng,_t=Xs.yytext,Fr=Xs.yylineno,sc=Xs.yylloc;break;case 2:if(ui=this.productions_[Yr[1]][1],eo.$=Cs[Cs.length-ui],eo._$={first_line:ct[ct.length-(ui||1)].first_line,last_line:ct[ct.length-1].last_line,first_column:ct[ct.length-(ui||1)].first_column,last_column:ct[ct.length-1].last_column},Ap&&(eo._$.range=[ct[ct.length-(ui||1)].range[0],ct[ct.length-1].range[1]]),ya=this.performAction.apply(eo,[_t,P1,Fr,Do.yy,Yr[1],Cs,ct].concat($1)),typeof ya<"u")return ya;ui&&(pn=pn.slice(0,-1*ui*2),Cs=Cs.slice(0,-1*ui),ct=ct.slice(0,-1*ui)),pn.push(this.productions_[Yr[1]][0]),Cs.push(eo.$),ct.push(eo._$),wp=nc[pn[pn.length-2]][pn[pn.length-1]],pn.push(wp);break;case 3:return!0}}return!0}},Za=function(){var Jr={EOF:1,parseError:function(sn,pn){if(this.yy.parser)this.yy.parser.parseError(sn,pn);else throw new Error(sn)},setInput:function(Ye,sn){return this.yy=sn||this.yy||{},this._input=Ye,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var Ye=this._input[0];this.yytext+=Ye,this.yyleng++,this.offset++,this.match+=Ye,this.matched+=Ye;var sn=Ye.match(/(?:\r\n?|\n).*/g);return sn?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),Ye},unput:function(Ye){var sn=Ye.length,pn=Ye.split(/(?:\r\n?|\n)/g);this._input=Ye+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-sn),this.offset-=sn;var xe=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),pn.length-1&&(this.yylineno-=pn.length-1);var Cs=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:pn?(pn.length===xe.length?this.yylloc.first_column:0)+xe[xe.length-pn.length].length-pn[0].length:this.yylloc.first_column-sn},this.options.ranges&&(this.yylloc.range=[Cs[0],Cs[0]+this.yyleng-sn]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(Ye){this.unput(this.match.slice(Ye))},pastInput:function(){var Ye=this.matched.substr(0,this.matched.length-this.match.length);return(Ye.length>20?"...":"")+Ye.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var Ye=this.match;return Ye.length<20&&(Ye+=this._input.substr(0,20-Ye.length)),(Ye.substr(0,20)+(Ye.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var Ye=this.pastInput(),sn=new Array(Ye.length+1).join("-");return Ye+this.upcomingInput()+`
`+sn+"^"},test_match:function(Ye,sn){var pn,xe,Cs;if(this.options.backtrack_lexer&&(Cs={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(Cs.yylloc.range=this.yylloc.range.slice(0))),xe=Ye[0].match(/(?:\r\n?|\n).*/g),xe&&(this.yylineno+=xe.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:xe?xe[xe.length-1].length-xe[xe.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+Ye[0].length},this.yytext+=Ye[0],this.match+=Ye[0],this.matches=Ye,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(Ye[0].length),this.matched+=Ye[0],pn=this.performAction.call(this,this.yy,this,sn,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),pn)return pn;if(this._backtrack){for(var ct in Cs)this[ct]=Cs[ct];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var Ye,sn,pn,xe;this._more||(this.yytext="",this.match="");for(var Cs=this._currentRules(),ct=0;ct<Cs.length;ct++)if(pn=this._input.match(this.rules[Cs[ct]]),pn&&(!sn||pn[0].length>sn[0].length)){if(sn=pn,xe=ct,this.options.backtrack_lexer){if(Ye=this.test_match(pn,Cs[ct]),Ye!==!1)return Ye;if(this._backtrack){sn=!1;continue}else return!1}else if(!this.options.flex)break}return sn?(Ye=this.test_match(sn,Cs[xe]),Ye!==!1?Ye:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var sn=this.next();return sn||this.lex()},begin:function(sn){this.conditionStack.push(sn)},popState:function(){var sn=this.conditionStack.length-1;return sn>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(sn){return sn=this.conditionStack.length-1-Math.abs(sn||0),sn>=0?this.conditionStack[sn]:"INITIAL"},pushState:function(sn){this.begin(sn)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(sn,pn,xe,Cs){switch(xe){case 0:return this.begin("open_directive"),12;case 1:return this.begin("type_directive"),13;case 2:return this.popState(),this.begin("arg_directive"),10;case 3:return this.popState(),this.popState(),15;case 4:return 14;case 5:break;case 6:break;case 7:return this.begin("acc_title"),44;case 8:return this.popState(),"acc_title_value";case 9:return this.begin("acc_descr"),46;case 10:return this.popState(),"acc_descr_value";case 11:this.begin("acc_descr_multiline");break;case 12:this.popState();break;case 13:return"acc_descr_multiline_value";case 14:this.begin("string");break;case 15:this.popState();break;case 16:return"STR";case 17:return 86;case 18:return 95;case 19:return 87;case 20:return 104;case 21:return 88;case 22:return 89;case 23:this.begin("href");break;case 24:this.popState();break;case 25:return 100;case 26:this.begin("callbackname");break;case 27:this.popState();break;case 28:this.popState(),this.begin("callbackargs");break;case 29:return 98;case 30:this.popState();break;case 31:return 99;case 32:this.begin("click");break;case 33:this.popState();break;case 34:return 90;case 35:return sn.lex.firstGraph()&&this.begin("dir"),24;case 36:return sn.lex.firstGraph()&&this.begin("dir"),24;case 37:return 38;case 38:return 42;case 39:return 101;case 40:return 101;case 41:return 101;case 42:return 101;case 43:return this.popState(),25;case 44:return this.popState(),26;case 45:return this.popState(),26;case 46:return this.popState(),26;case 47:return this.popState(),26;case 48:return this.popState(),26;case 49:return this.popState(),26;case 50:return this.popState(),26;case 51:return this.popState(),26;case 52:return this.popState(),26;case 53:return this.popState(),26;case 54:return 118;case 55:return 119;case 56:return 120;case 57:return 121;case 58:return 105;case 59:return 111;case 60:return 53;case 61:return 67;case 62:return 52;case 63:return 20;case 64:return 106;case 65:return 126;case 66:return 82;case 67:return 82;case 68:return 82;case 69:return 81;case 70:return 81;case 71:return 81;case 72:return 59;case 73:return 60;case 74:return 61;case 75:return 62;case 76:return 63;case 77:return 64;case 78:return 65;case 79:return 69;case 80:return 70;case 81:return 55;case 82:return 56;case 83:return 109;case 84:return 112;case 85:return 127;case 86:return 124;case 87:return 113;case 88:return 125;case 89:return 125;case 90:return 114;case 91:return 73;case 92:return 92;case 93:return"SEP";case 94:return 91;case 95:return 66;case 96:return 75;case 97:return 74;case 98:return 77;case 99:return 76;case 100:return 122;case 101:return 123;case 102:return 68;case 103:return 57;case 104:return 58;case 105:return 40;case 106:return 41;case 107:return 71;case 108:return 72;case 109:return 133;case 110:return 21;case 111:return 22;case 112:return 23}},rules:[/^(?:%%\{)/,/^(?:((?:(?!\}%%)[^:.])*))/,/^(?::)/,/^(?:\}%%)/,/^(?:((?:(?!\}%%).|\n)*))/,/^(?:%%(?!\{)[^\n]*)/,/^(?:[^\}]%%[^\n]*)/,/^(?:accTitle\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*\{\s*)/,/^(?:[\}])/,/^(?:[^\}]*)/,/^(?:["])/,/^(?:["])/,/^(?:[^"]*)/,/^(?:style\b)/,/^(?:default\b)/,/^(?:linkStyle\b)/,/^(?:interpolate\b)/,/^(?:classDef\b)/,/^(?:class\b)/,/^(?:href[\s]+["])/,/^(?:["])/,/^(?:[^"]*)/,/^(?:call[\s]+)/,/^(?:\([\s]*\))/,/^(?:\()/,/^(?:[^(]*)/,/^(?:\))/,/^(?:[^)]*)/,/^(?:click[\s]+)/,/^(?:[\s\n])/,/^(?:[^\s\n]*)/,/^(?:graph\b)/,/^(?:flowchart\b)/,/^(?:subgraph\b)/,/^(?:end\b\s*)/,/^(?:_self\b)/,/^(?:_blank\b)/,/^(?:_parent\b)/,/^(?:_top\b)/,/^(?:(\r?\n)*\s*\n)/,/^(?:\s*LR\b)/,/^(?:\s*RL\b)/,/^(?:\s*TB\b)/,/^(?:\s*BT\b)/,/^(?:\s*TD\b)/,/^(?:\s*BR\b)/,/^(?:\s*<)/,/^(?:\s*>)/,/^(?:\s*\^)/,/^(?:\s*v\b)/,/^(?:.*direction\s+TB[^\n]*)/,/^(?:.*direction\s+BT[^\n]*)/,/^(?:.*direction\s+RL[^\n]*)/,/^(?:.*direction\s+LR[^\n]*)/,/^(?:[0-9]+)/,/^(?:#)/,/^(?::::)/,/^(?::)/,/^(?:&)/,/^(?:;)/,/^(?:,)/,/^(?:\*)/,/^(?:\s*[xo<]?--+[-xo>]\s*)/,/^(?:\s*[xo<]?==+[=xo>]\s*)/,/^(?:\s*[xo<]?-?\.+-[xo>]?\s*)/,/^(?:\s*[xo<]?--\s*)/,/^(?:\s*[xo<]?==\s*)/,/^(?:\s*[xo<]?-\.\s*)/,/^(?:\(-)/,/^(?:-\))/,/^(?:\(\[)/,/^(?:\]\))/,/^(?:\[\[)/,/^(?:\]\])/,/^(?:\[\|)/,/^(?:\[\()/,/^(?:\)\])/,/^(?:\(\(\()/,/^(?:\)\)\))/,/^(?:-)/,/^(?:\.)/,/^(?:[\_])/,/^(?:\+)/,/^(?:%)/,/^(?:=)/,/^(?:=)/,/^(?:<)/,/^(?:>)/,/^(?:\^)/,/^(?:\\\|)/,/^(?:v\b)/,/^(?:[A-Za-z]+)/,/^(?:\\\])/,/^(?:\[\/)/,/^(?:\/\])/,/^(?:\[\\)/,/^(?:[!"#$%&'*+,-.`?\\_/])/,/^(?:[\u00AA\u00B5\u00BA\u00C0-\u00D6\u00D8-\u00F6]|[\u00F8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377]|[\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5]|[\u03F7-\u0481\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA]|[\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE]|[\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA]|[\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0]|[\u08A2-\u08AC\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0977]|[\u0979-\u097F\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2]|[\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A]|[\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39]|[\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8]|[\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C]|[\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C]|[\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99]|[\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0]|[\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D]|[\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3]|[\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10]|[\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1]|[\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81]|[\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3]|[\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6]|[\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A]|[\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081]|[\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D]|[\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0]|[\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310]|[\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C]|[\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u1700-\u170C\u170E-\u1711]|[\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7]|[\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C]|[\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16]|[\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF]|[\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC]|[\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D]|[\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D]|[\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3]|[\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F]|[\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128]|[\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184]|[\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3]|[\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6]|[\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE]|[\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C]|[\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D]|[\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC]|[\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B]|[\uA640-\uA66E\uA67F-\uA697\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788]|[\uA78B-\uA78E\uA790-\uA793\uA7A0-\uA7AA\uA7F8-\uA801\uA803-\uA805]|[\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB]|[\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uAA00-\uAA28]|[\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA80-\uAAAF\uAAB1\uAAB5]|[\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4]|[\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E]|[\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D]|[\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36]|[\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D]|[\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC]|[\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF]|[\uFFD2-\uFFD7\uFFDA-\uFFDC])/,/^(?:\|)/,/^(?:\()/,/^(?:\))/,/^(?:\[)/,/^(?:\])/,/^(?:\{)/,/^(?:\})/,/^(?:")/,/^(?:(\r?\n)+)/,/^(?:\s)/,/^(?:$)/],conditions:{close_directive:{rules:[],inclusive:!1},arg_directive:{rules:[3,4],inclusive:!1},type_directive:{rules:[2,3],inclusive:!1},open_directive:{rules:[1],inclusive:!1},callbackargs:{rules:[30,31],inclusive:!1},callbackname:{rules:[27,28,29],inclusive:!1},href:{rules:[24,25],inclusive:!1},click:{rules:[33,34],inclusive:!1},vertex:{rules:[],inclusive:!1},dir:{rules:[43,44,45,46,47,48,49,50,51,52,53],inclusive:!1},acc_descr_multiline:{rules:[12,13],inclusive:!1},acc_descr:{rules:[10],inclusive:!1},acc_title:{rules:[8],inclusive:!1},string:{rules:[15,16],inclusive:!1},INITIAL:{rules:[0,5,6,7,9,11,14,17,18,19,20,21,22,23,26,32,35,36,37,38,39,40,41,42,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112],inclusive:!0}}};return Jr}();cs.lexer=Za;function Qa(){this.yy={}}return Qa.prototype=cs,cs.Parser=Qa,new Qa}();cm.parser=cm;const n6=cm,oH=(t,e)=>{var s;return((s=e==null?void 0:e.flowchart)==null?void 0:s.defaultRenderer)==="dagre-wrapper"?!1:t.match(/^\s*graph/)!==null},aH=(t,e)=>{var s;return((s=e==null?void 0:e.flowchart)==null?void 0:s.defaultRenderer)==="dagre-wrapper"&&t.match(/^\s*graph/)!==null?!0:t.match(/^\s*flowchart/)!==null},lH="flowchart-";let s6=0,um=ht(),Es={},Ql=[],wu={},aa=[],p1={},hm={},d1=0,pm=!0,Ao,f1,y1=[];const g1=t=>vn.sanitizeText(t,um),cH=function(t,e,s){Bs.parseDirective(this,t,e,s)},m1=function(t){const e=Object.keys(Es);for(const s of e)if(Es[s].id===t)return Es[s].domId;return t},uH=function(t,e,s,r,o,a,u={}){let h,d=t;d!==void 0&&d.trim().length!==0&&(Es[d]===void 0&&(Es[d]={id:d,domId:lH+d+"-"+s6,styles:[],classes:[]}),s6++,e!==void 0?(um=ht(),h=g1(e.trim()),h[0]==='"'&&h[h.length-1]==='"'&&(h=h.substring(1,h.length-1)),Es[d].text=h):Es[d].text===void 0&&(Es[d].text=t),s!==void 0&&(Es[d].type=s),r!=null&&r.forEach(function(y){Es[d].styles.push(y)}),o!=null&&o.forEach(function(y){Es[d].classes.push(y)}),a!==void 0&&(Es[d].dir=a),Es[d].props===void 0?Es[d].props=u:u!==void 0&&Object.assign(Es[d].props,u))},hH=function(t,e,s,r){const u={start:t,end:e,type:void 0,text:""};r=s.text,r!==void 0&&(u.text=g1(r.trim()),u.text[0]==='"'&&u.text[u.text.length-1]==='"'&&(u.text=u.text.substring(1,u.text.length-1))),s!==void 0&&(u.type=s.type,u.stroke=s.stroke,u.length=s.length),Ql.push(u)},pH=function(t,e,s,r){let o,a;for(o=0;o<t.length;o++)for(a=0;a<e.length;a++)hH(t[o],e[a],s,r)},dH=function(t,e){t.forEach(function(s){s==="default"?Ql.defaultInterpolate=e:Ql[s].interpolate=e})},fH=function(t,e){t.forEach(function(s){s==="default"?Ql.defaultStyle=e:(wn.isSubstringInArray("fill",e)===-1&&e.push("fill:none"),Ql[s].style=e)})},yH=function(t,e){wu[t]===void 0&&(wu[t]={id:t,styles:[],textStyles:[]}),e!=null&&e.forEach(function(s){if(s.match("color")){const o=s.replace("fill","bgFill").replace("color","fill");wu[t].textStyles.push(o)}wu[t].styles.push(s)})},gH=function(t){Ao=t,Ao.match(/.*</)&&(Ao="RL"),Ao.match(/.*\^/)&&(Ao="BT"),Ao.match(/.*>/)&&(Ao="LR"),Ao.match(/.*v/)&&(Ao="TB")},dm=function(t,e){t.split(",").forEach(function(s){let r=s;Es[r]!==void 0&&Es[r].classes.push(e),p1[r]!==void 0&&p1[r].classes.push(e)})},mH=function(t,e){t.split(",").forEach(function(s){e!==void 0&&(hm[f1==="gen-1"?m1(s):s]=g1(e))})},_H=function(t,e,s){let r=m1(t);if(ht().securityLevel!=="loose"||e===void 0)return;let o=[];if(typeof s=="string"){o=s.split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)/);for(let a=0;a<o.length;a++){let u=o[a].trim();u.charAt(0)==='"'&&u.charAt(u.length-1)==='"'&&(u=u.substr(1,u.length-2)),o[a]=u}}o.length===0&&o.push(t),Es[t]!==void 0&&(Es[t].haveCallback=!0,y1.push(function(){const a=document.querySelector(`[id="${r}"]`);a!==null&&a.addEventListener("click",function(){wn.runFunc(e,...o)},!1)}))},vH=function(t,e,s){t.split(",").forEach(function(r){Es[r]!==void 0&&(Es[r].link=wn.formatUrl(e,um),Es[r].linkTarget=s)}),dm(t,"clickable")},bH=function(t){return hm[t]},xH=function(t,e,s){t.split(",").forEach(function(r){_H(r,e,s)}),dm(t,"clickable")},kH=function(t){y1.forEach(function(e){e(t)})},CH=function(){return Ao.trim()},AH=function(){return Es},wH=function(){return Ql},EH=function(){return wu},r6=function(t){let e=ee(".mermaidTooltip");(e._groups||e)[0][0]===null&&(e=ee("body").append("div").attr("class","mermaidTooltip").style("opacity",0)),ee(t).select("svg").selectAll("g.node").on("mouseover",function(){const o=ee(this);if(o.attr("title")===null)return;const u=this.getBoundingClientRect();e.transition().duration(200).style("opacity",".9"),e.text(o.attr("title")).style("left",window.scrollX+u.left+(u.right-u.left)/2+"px").style("top",window.scrollY+u.top-14+document.body.scrollTop+"px"),e.html(e.html().replace(/&lt;br\/&gt;/g,"<br/>")),o.classed("hover",!0)}).on("mouseout",function(){e.transition().duration(500).style("opacity",0),ee(this).classed("hover",!1)})};y1.push(r6);const BH=function(t="gen-1"){Es={},wu={},Ql=[],y1=[r6],aa=[],p1={},d1=0,hm=[],pm=!0,f1=t,zi()},SH=t=>{f1=t||"gen-1"},TH=function(){return"fill:#ffa;stroke: #f66; stroke-width: 3px; stroke-dasharray: 5, 5;fill:#ffa;stroke: #666;"},DH=function(t,e,s){let r=t.trim(),o=s;t===s&&s.match(/\s/)&&(r=void 0);function a(_){const v={boolean:{},number:{},string:{}},x=[];let k;return{nodeList:_.filter(function(M){const R=typeof M;return M.stmt&&M.stmt==="dir"?(k=M.value,!1):M.trim()===""?!1:R in v?v[R].hasOwnProperty(M)?!1:v[R][M]=!0:x.includes(M)?!1:x.push(M)}),dir:k}}let u=[];const{nodeList:h,dir:d}=a(u.concat.apply(u,e));if(u=h,f1==="gen-1")for(let _=0;_<u.length;_++)u[_]=m1(u[_]);r=r||"subGraph"+d1,o=o||"",o=g1(o),d1=d1+1;const y={id:r,nodes:u,title:o.trim(),classes:[],dir:d};return w.info("Adding",y.id,y.nodes,y.dir),y.nodes=l6(y,aa).nodes,aa.push(y),p1[r]=y,r},FH=function(t){for(const[e,s]of aa.entries())if(s.id===t)return e;return-1};let rp=-1;const i6=[],o6=function(t,e){const s=aa[e].nodes;if(rp=rp+1,rp>2e3)return;if(i6[rp]=e,aa[e].id===t)return{result:!0,count:0};let r=0,o=1;for(;r<s.length;){const a=FH(s[r]);if(a>=0){const u=o6(t,a);if(u.result)return{result:!0,count:o+u.count};o=o+u.count}r=r+1}return{result:!1,count:o}},LH=function(t){return i6[t]},IH=function(){rp=-1,aa.length>0&&o6("none",aa.length-1)},MH=function(){return aa},RH=()=>pm?(pm=!1,!0):!1,OH=t=>{let e=t.trim(),s="arrow_open";switch(e[0]){case"<":s="arrow_point",e=e.slice(1);break;case"x":s="arrow_cross",e=e.slice(1);break;case"o":s="arrow_circle",e=e.slice(1);break}let r="normal";return e.includes("=")&&(r="thick"),e.includes(".")&&(r="dotted"),{type:s,stroke:r}},NH=(t,e)=>{const s=e.length;let r=0;for(let o=0;o<s;++o)e[o]===t&&++r;return r},PH=t=>{const e=t.trim();let s=e.slice(0,-1),r="arrow_open";switch(e.slice(-1)){case"x":r="arrow_cross",e[0]==="x"&&(r="double_"+r,s=s.slice(1));break;case">":r="arrow_point",e[0]==="<"&&(r="double_"+r,s=s.slice(1));break;case"o":r="arrow_circle",e[0]==="o"&&(r="double_"+r,s=s.slice(1));break}let o="normal",a=s.length-1;s[0]==="="&&(o="thick");let u=NH(".",s);return u&&(o="dotted",a=u),{type:r,stroke:o,length:a}},VH=(t,e)=>{const s=PH(t);let r;if(e){if(r=OH(e),r.stroke!==s.stroke)return{type:"INVALID",stroke:"INVALID"};if(r.type==="arrow_open")r.type=s.type;else{if(r.type!==s.type)return{type:"INVALID",stroke:"INVALID"};r.type="double_"+r.type}return r.type==="double_arrow"&&(r.type="double_arrow_point"),r.length=s.length,r}return s},a6=(t,e)=>{let s=!1;return t.forEach(r=>{r.nodes.indexOf(e)>=0&&(s=!0)}),s},l6=(t,e)=>{const s=[];return t.nodes.forEach((r,o)=>{a6(e,r)||s.push(t.nodes[o])}),{nodes:s}},la={parseDirective:cH,defaultConfig:()=>cu.flowchart,setAccTitle:Ai,getAccTitle:Wi,getAccDescription:ji,setAccDescription:Hi,addVertex:uH,lookUpDomId:m1,addLink:pH,updateLinkInterpolate:dH,updateLink:fH,addClass:yH,setDirection:gH,setClass:dm,setTooltip:mH,getTooltip:bH,setClickEvent:xH,setLink:vH,bindFunctions:kH,getDirection:CH,getVertices:AH,getEdges:wH,getClasses:EH,clear:BH,setGen:SH,defaultStyle:TH,addSubGraph:DH,getDepthFirstPos:LH,indexNodes:IH,getSubGraphs:MH,destructLink:VH,lex:{firstGraph:RH},exists:a6,makeUniq:l6,setDiagramTitle:Qo,getDiagramTitle:Jo};function c6(t,e){return!!t.children(e).length}function u6(t){return fm(t.v)+":"+fm(t.w)+":"+fm(t.name)}var $H=/:/g;function fm(t){return t?String(t).replace($H,"\\:"):""}function wo(t,e){e&&t.attr("style",e)}function h6(t,e,s){e&&t.attr("class",e).attr("class",s+" "+t.attr("class"))}function Qi(t,e){var s=e.graph();if(g4(s)){var r=s.transition;if(ru(r))return r(t)}return t}var ym={normal:UH,vee:zH,undirected:WH};function YH(t){ym=t}function UH(t,e,s,r){var o=t.append("marker").attr("id",e).attr("viewBox","0 0 10 10").attr("refX",9).attr("refY",5).attr("markerUnits","strokeWidth").attr("markerWidth",8).attr("markerHeight",6).attr("orient","auto"),a=o.append("path").attr("d","M 0 0 L 10 5 L 0 10 z").style("stroke-width",1).style("stroke-dasharray","1,0");wo(a,s[r+"Style"]),s[r+"Class"]&&a.attr("class",s[r+"Class"])}function zH(t,e,s,r){var o=t.append("marker").attr("id",e).attr("viewBox","0 0 10 10").attr("refX",9).attr("refY",5).attr("markerUnits","strokeWidth").attr("markerWidth",8).attr("markerHeight",6).attr("orient","auto"),a=o.append("path").attr("d","M 0 0 L 10 5 L 0 10 L 4 5 z").style("stroke-width",1).style("stroke-dasharray","1,0");wo(a,s[r+"Style"]),s[r+"Class"]&&a.attr("class",s[r+"Class"])}function WH(t,e,s,r){var o=t.append("marker").attr("id",e).attr("viewBox","0 0 10 10").attr("refX",9).attr("refY",5).attr("markerUnits","strokeWidth").attr("markerWidth",8).attr("markerHeight",6).attr("orient","auto"),a=o.append("path").attr("d","M 0 5 L 10 5").style("stroke-width",1).style("stroke-dasharray","1,0");wo(a,s[r+"Style"]),s[r+"Class"]&&a.attr("class",s[r+"Class"])}function gm(t,e){var s=t.append("foreignObject").attr("width","100000"),r=s.append("xhtml:div");r.attr("xmlns","http://www.w3.org/1999/xhtml");var o=e.label;switch(typeof o){case"function":r.insert(o);break;case"object":r.insert(function(){return o});break;default:r.html(o)}wo(r,e.labelStyle),r.style("display","inline-block"),r.style("white-space","nowrap");var a=r.node().getBoundingClientRect();return s.attr("width",a.width).attr("height",a.height),s}function HH(t,e){var s=t;return s.node().appendChild(e.label),wo(s,e.labelStyle),s}function jH(t,e){for(var s=t.append("text"),r=GH(e.label).split(`
`),o=0;o<r.length;o++)s.append("tspan").attr("xml:space","preserve").attr("dy","1em").attr("x","1").text(r[o]);return wo(s,e.labelStyle),s}function GH(t){for(var e="",s=!1,r,o=0;o<t.length;++o)if(r=t[o],s){switch(r){case"n":e+=`
`;break;default:e+=r}s=!1}else r==="\\"?s=!0:e+=r;return e}function mm(t,e,s){var r=e.label,o=t.append("g");e.labelType==="svg"?HH(o,e):typeof r!="string"||e.labelType==="html"?gm(o,e):jH(o,e);var a=o.node().getBBox(),u;switch(s){case"top":u=-e.height/2;break;case"bottom":u=e.height/2-a.height;break;default:u=-a.height/2}return o.attr("transform","translate("+-a.width/2+","+u+")"),o}var _m=function(t,e){var s=e.nodes().filter(function(a){return c6(e,a)}),r=t.selectAll("g.cluster").data(s,function(a){return a});Qi(r.exit(),e).style("opacity",0).remove();var o=r.enter().append("g").attr("class","cluster").attr("id",function(a){var u=e.node(a);return u.id}).style("opacity",0).each(function(a){var u=e.node(a),h=ee(this);ee(this).append("rect");var d=h.append("g").attr("class","label");mm(d,u,u.clusterLabelPos)});return r=r.merge(o),r=Qi(r,e).style("opacity",1),r.selectAll("rect").each(function(a){var u=e.node(a),h=ee(this);wo(h,u.style)}),r};function qH(t){_m=t}let vm=function(t,e){var s=t.selectAll("g.edgeLabel").data(e.edges(),function(o){return u6(o)}).classed("update",!0);s.exit().remove(),s.enter().append("g").classed("edgeLabel",!0).style("opacity",0),s=t.selectAll("g.edgeLabel"),s.each(function(o){var a=ee(this);a.select(".label").remove();var u=e.edge(o),h=mm(a,e.edge(o),0).classed("label",!0),d=h.node().getBBox();u.labelId&&h.attr("id",u.labelId),Bn(u,"width")||(u.width=d.width),Bn(u,"height")||(u.height=d.height)});var r;return s.exit?r=s.exit():r=s.selectAll(null),Qi(r,e).style("opacity",0).remove(),s};function XH(t){vm=t}function p6(t,e){return t.intersect(e)}var bm=function(t,e,s){var r=t.selectAll("g.edgePath").data(e.edges(),function(u){return u6(u)}).classed("update",!0),o=tj(r,e);ej(r,e);var a=r.merge!==void 0?r.merge(o):r;return Qi(a,e).style("opacity",1),a.each(function(u){var h=ee(this),d=e.edge(u);d.elem=this,d.id&&h.attr("id",d.id),h6(h,d.class,(h.classed("update")?"update ":"")+"edgePath")}),a.selectAll("path.path").each(function(u){var h=e.edge(u);h.arrowheadId=n1("arrowhead");var d=ee(this).attr("marker-end",function(){return"url("+ZH(location.href,h.arrowheadId)+")"}).style("fill","none");Qi(d,e).attr("d",function(y){return QH(e,y)}),wo(d,h.style)}),a.selectAll("defs *").remove(),a.selectAll("defs").each(function(u){var h=e.edge(u),d=s[h.arrowhead];d(ee(this),h.arrowheadId,h,"arrowhead")}),a};function KH(t){bm=t}function ZH(t,e){var s=t.split("#")[0];return s+"#"+e}function QH(t,e){var s=t.edge(e),r=t.node(e.v),o=t.node(e.w),a=s.points.slice(1,s.points.length-1);return a.unshift(p6(r,a[0])),a.push(p6(o,a[a.length-1])),d6(s,a)}function d6(t,e){var s=(Zc||nS.line)().x(function(r){return r.x}).y(function(r){return r.y});return(s.curve||s.interpolate)(t.curve),s(e)}function JH(t){var e=t.getBBox(),s=t.ownerSVGElement.getScreenCTM().inverse().multiply(t.getScreenCTM()).translate(e.width/2,e.height/2);return{x:s.e,y:s.f}}function tj(t,e){var s=t.enter().append("g").attr("class","edgePath").style("opacity",0);return s.append("path").attr("class","path").attr("d",function(r){var o=e.edge(r),a=e.node(r.v).elem,u=Xl(o.points.length).map(function(){return JH(a)});return d6(o,u)}),s.append("defs"),s}function ej(t,e){var s=t.exit();Qi(s,e).style("opacity",0).remove()}var xm=function(t,e,s){var r=e.nodes().filter(function(u){return!c6(e,u)}),o=t.selectAll("g.node").data(r,function(u){return u}).classed("update",!0);o.exit().remove(),o.enter().append("g").attr("class","node").style("opacity",0),o=t.selectAll("g.node"),o.each(function(u){var h=e.node(u),d=ee(this);h6(d,h.class,(d.classed("update")?"update ":"")+"node"),d.select("g.label").remove();var y=d.append("g").attr("class","label"),_=mm(y,h),v=s[h.shape],x=qh(_.node().getBBox(),"width","height");h.elem=this,h.id&&d.attr("id",h.id),h.labelId&&y.attr("id",h.labelId),Bn(h,"width")&&(x.width=h.width),Bn(h,"height")&&(x.height=h.height),x.width+=h.paddingLeft+h.paddingRight,x.height+=h.paddingTop+h.paddingBottom,y.attr("transform","translate("+(h.paddingLeft-h.paddingRight)/2+","+(h.paddingTop-h.paddingBottom)/2+")");var k=ee(this);k.select(".label-container").remove();var D=v(k,x,h).classed("label-container",!0);wo(D,h.style);var M=D.node().getBBox();h.width=M.width,h.height=M.height});var a;return o.exit?a=o.exit():a=o.selectAll(null),Qi(a,e).style("opacity",0).remove(),o};function nj(t){xm=t}function sj(t,e){var s=t.filter(function(){return!ee(this).classed("update")});function r(o){var a=e.node(o);return"translate("+a.x+","+a.y+")"}s.attr("transform",r),Qi(t,e).style("opacity",1).attr("transform",r),Qi(s.selectAll("rect"),e).attr("width",function(o){return e.node(o).width}).attr("height",function(o){return e.node(o).height}).attr("x",function(o){var a=e.node(o);return-a.width/2}).attr("y",function(o){var a=e.node(o);return-a.height/2})}function rj(t,e){var s=t.filter(function(){return!ee(this).classed("update")});function r(o){var a=e.edge(o);return Bn(a,"x")?"translate("+a.x+","+a.y+")":""}s.attr("transform",r),Qi(t,e).style("opacity",1).attr("transform",r)}function ij(t,e){var s=t.filter(function(){return!ee(this).classed("update")});function r(o){var a=e.node(o);return"translate("+a.x+","+a.y+")"}s.attr("transform",r),Qi(t,e).style("opacity",1).attr("transform",r)}function f6(t,e,s,r){var o=t.x,a=t.y,u=o-r.x,h=a-r.y,d=Math.sqrt(e*e*h*h+s*s*u*u),y=Math.abs(e*s*u/d);r.x<o&&(y=-y);var _=Math.abs(e*s*h/d);return r.y<a&&(_=-_),{x:o+y,y:a+_}}function oj(t,e,s){return f6(t,e,e,s)}function aj(t,e,s,r){var o,a,u,h,d,y,_,v,x,k,D,M,R,Y,V;if(o=e.y-t.y,u=t.x-e.x,d=e.x*t.y-t.x*e.y,x=o*s.x+u*s.y+d,k=o*r.x+u*r.y+d,!(x!==0&&k!==0&&y6(x,k))&&(a=r.y-s.y,h=s.x-r.x,y=r.x*s.y-s.x*r.y,_=a*t.x+h*t.y+y,v=a*e.x+h*e.y+y,!(_!==0&&v!==0&&y6(_,v))&&(D=o*h-a*u,D!==0)))return M=Math.abs(D/2),R=u*y-h*d,Y=R<0?(R-M)/D:(R+M)/D,R=a*d-o*y,V=R<0?(R-M)/D:(R+M)/D,{x:Y,y:V}}function y6(t,e){return t*e>0}function Eo(t,e,s){var r=t.x,o=t.y,a=[],u=Number.POSITIVE_INFINITY,h=Number.POSITIVE_INFINITY;e.forEach(function(D){u=Math.min(u,D.x),h=Math.min(h,D.y)});for(var d=r-t.width/2-u,y=o-t.height/2-h,_=0;_<e.length;_++){var v=e[_],x=e[_<e.length-1?_+1:0],k=aj(t,s,{x:d+v.x,y:y+v.y},{x:d+x.x,y:y+x.y});k&&a.push(k)}return a.length?(a.length>1&&a.sort(function(D,M){var R=D.x-s.x,Y=D.y-s.y,V=Math.sqrt(R*R+Y*Y),X=M.x-s.x,J=M.y-s.y,rt=Math.sqrt(X*X+J*J);return V<rt?-1:V===rt?0:1}),a[0]):(console.log("NO INTERSECTION FOUND, RETURN NODE CENTER",t),t)}function km(t,e){var s=t.x,r=t.y,o=e.x-s,a=e.y-r,u=t.width/2,h=t.height/2,d,y;return Math.abs(a)*u>Math.abs(o)*h?(a<0&&(h=-h),d=a===0?0:h*o/a,y=h):(o<0&&(u=-u),d=u,y=o===0?0:u*a/o),{x:s+d,y:r+y}}var Cm={rect:cj,ellipse:uj,circle:hj,diamond:pj};function lj(t){Cm=t}function cj(t,e,s){var r=t.insert("rect",":first-child").attr("rx",s.rx).attr("ry",s.ry).attr("x",-e.width/2).attr("y",-e.height/2).attr("width",e.width).attr("height",e.height);return s.intersect=function(o){return km(s,o)},r}function uj(t,e,s){var r=e.width/2,o=e.height/2,a=t.insert("ellipse",":first-child").attr("x",-e.width/2).attr("y",-e.height/2).attr("rx",r).attr("ry",o);return s.intersect=function(u){return f6(s,r,o,u)},a}function hj(t,e,s){var r=Math.max(e.width,e.height)/2,o=t.insert("circle",":first-child").attr("x",-e.width/2).attr("y",-e.height/2).attr("r",r);return s.intersect=function(a){return oj(s,r,a)},o}function pj(t,e,s){var r=e.width*Math.SQRT2/2,o=e.height*Math.SQRT2/2,a=[{x:0,y:-o},{x:-r,y:0},{x:0,y:o},{x:r,y:0}],u=t.insert("polygon",":first-child").attr("points",a.map(function(h){return h.x+","+h.y}).join(" "));return s.intersect=function(h){return Eo(s,a,h)},u}function dj(){var t=function(e,s){gj(s);var r=ip(e,"output"),o=ip(r,"clusters"),a=ip(r,"edgePaths"),u=vm(ip(r,"edgeLabels"),s),h=xm(ip(r,"nodes"),s,Cm);Cu(s),ij(h,s),rj(u,s),bm(a,s,ym);var d=_m(o,s);sj(d,s),mj(s)};return t.createNodes=function(e){return arguments.length?(nj(e),t):xm},t.createClusters=function(e){return arguments.length?(qH(e),t):_m},t.createEdgeLabels=function(e){return arguments.length?(XH(e),t):vm},t.createEdgePaths=function(e){return arguments.length?(KH(e),t):bm},t.shapes=function(e){return arguments.length?(lj(e),t):Cm},t.arrows=function(e){return arguments.length?(YH(e),t):ym},t}var fj={paddingLeft:10,paddingRight:10,paddingTop:10,paddingBottom:10,rx:0,ry:0,shape:"rect"},yj={arrowhead:"normal",curve:ri};function gj(t){t.nodes().forEach(function(e){var s=t.node(e);!Bn(s,"label")&&!t.children(e).length&&(s.label=e),Bn(s,"paddingX")&&bu(s,{paddingLeft:s.paddingX,paddingRight:s.paddingX}),Bn(s,"paddingY")&&bu(s,{paddingTop:s.paddingY,paddingBottom:s.paddingY}),Bn(s,"padding")&&bu(s,{paddingLeft:s.padding,paddingRight:s.padding,paddingTop:s.padding,paddingBottom:s.padding}),bu(s,fj),jt(["paddingLeft","paddingRight","paddingTop","paddingBottom"],function(r){s[r]=Number(s[r])}),Bn(s,"width")&&(s._prevWidth=s.width),Bn(s,"height")&&(s._prevHeight=s.height)}),t.edges().forEach(function(e){var s=t.edge(e);Bn(s,"label")||(s.label=""),bu(s,yj)})}function mj(t){jt(t.nodes(),function(e){var s=t.node(e);Bn(s,"_prevWidth")?s.width=s._prevWidth:delete s.width,Bn(s,"_prevHeight")?s.height=s._prevHeight:delete s.height,delete s._prevWidth,delete s._prevHeight})}function ip(t,e){var s=t.select("g."+e);return s.empty()&&(s=t.append("g").attr("class",e)),s}function g6(t,e,s){const r=e.width,o=e.height,a=(r+o)*.9,u=[{x:a/2,y:0},{x:a,y:-a/2},{x:a/2,y:-a},{x:0,y:-a/2}],h=ca(t,a,a,u);return s.intersect=function(d){return Eo(s,u,d)},h}function m6(t,e,s){const o=e.height,a=o/4,u=e.width+2*a,h=[{x:a,y:0},{x:u-a,y:0},{x:u,y:-o/2},{x:u-a,y:-o},{x:a,y:-o},{x:0,y:-o/2}],d=ca(t,u,o,h);return s.intersect=function(y){return Eo(s,h,y)},d}function _6(t,e,s){const r=e.width,o=e.height,a=[{x:-o/2,y:0},{x:r,y:0},{x:r,y:-o},{x:-o/2,y:-o},{x:0,y:-o/2}],u=ca(t,r,o,a);return s.intersect=function(h){return Eo(s,a,h)},u}function v6(t,e,s){const r=e.width,o=e.height,a=[{x:-2*o/6,y:0},{x:r-o/6,y:0},{x:r+2*o/6,y:-o},{x:o/6,y:-o}],u=ca(t,r,o,a);return s.intersect=function(h){return Eo(s,a,h)},u}function b6(t,e,s){const r=e.width,o=e.height,a=[{x:2*o/6,y:0},{x:r+o/6,y:0},{x:r-2*o/6,y:-o},{x:-o/6,y:-o}],u=ca(t,r,o,a);return s.intersect=function(h){return Eo(s,a,h)},u}function x6(t,e,s){const r=e.width,o=e.height,a=[{x:-2*o/6,y:0},{x:r+2*o/6,y:0},{x:r-o/6,y:-o},{x:o/6,y:-o}],u=ca(t,r,o,a);return s.intersect=function(h){return Eo(s,a,h)},u}function k6(t,e,s){const r=e.width,o=e.height,a=[{x:o/6,y:0},{x:r-o/6,y:0},{x:r+2*o/6,y:-o},{x:-2*o/6,y:-o}],u=ca(t,r,o,a);return s.intersect=function(h){return Eo(s,a,h)},u}function C6(t,e,s){const r=e.width,o=e.height,a=[{x:0,y:0},{x:r+o/2,y:0},{x:r,y:-o/2},{x:r+o/2,y:-o},{x:0,y:-o}],u=ca(t,r,o,a);return s.intersect=function(h){return Eo(s,a,h)},u}function A6(t,e,s){const r=e.height,o=e.width+r/4,a=t.insert("rect",":first-child").attr("rx",r/2).attr("ry",r/2).attr("x",-o/2).attr("y",-r/2).attr("width",o).attr("height",r);return s.intersect=function(u){return km(s,u)},a}function w6(t,e,s){const r=e.width,o=e.height,a=[{x:0,y:0},{x:r,y:0},{x:r,y:-o},{x:0,y:-o},{x:0,y:0},{x:-8,y:0},{x:r+8,y:0},{x:r+8,y:-o},{x:-8,y:-o},{x:-8,y:0}],u=ca(t,r,o,a);return s.intersect=function(h){return Eo(s,a,h)},u}function E6(t,e,s){const r=e.width,o=r/2,a=o/(2.5+r/50),u=e.height+a,h="M 0,"+a+" a "+o+","+a+" 0,0,0 "+r+" 0 a "+o+","+a+" 0,0,0 "+-r+" 0 l 0,"+u+" a "+o+","+a+" 0,0,0 "+r+" 0 l 0,"+-u,d=t.attr("label-offset-y",a).insert("path",":first-child").attr("d",h).attr("transform","translate("+-r/2+","+-(u/2+a)+")");return s.intersect=function(y){const _=km(s,y),v=_.x-s.x;if(o!=0&&(Math.abs(v)<s.width/2||Math.abs(v)==s.width/2&&Math.abs(_.y-s.y)>s.height/2-a)){let x=a*a*(1-v*v/(o*o));x!=0&&(x=Math.sqrt(x)),x=a-x,y.y-s.y>0&&(x=-x),_.y+=x}return _},d}function _j(t){t.shapes().question=g6,t.shapes().hexagon=m6,t.shapes().stadium=A6,t.shapes().subroutine=w6,t.shapes().cylinder=E6,t.shapes().rect_left_inv_arrow=_6,t.shapes().lean_right=v6,t.shapes().lean_left=b6,t.shapes().trapezoid=x6,t.shapes().inv_trapezoid=k6,t.shapes().rect_right_inv_arrow=C6}function vj(t){t({question:g6}),t({hexagon:m6}),t({stadium:A6}),t({subroutine:w6}),t({cylinder:E6}),t({rect_left_inv_arrow:_6}),t({lean_right:v6}),t({lean_left:b6}),t({trapezoid:x6}),t({inv_trapezoid:k6}),t({rect_right_inv_arrow:C6})}function ca(t,e,s,r){return t.insert("polygon",":first-child").attr("points",r.map(function(o){return o.x+","+o.y}).join(" ")).attr("transform","translate("+-e/2+","+s/2+")")}const bj={addToRender:_j,addToRenderV2:vj},B6={},xj=function(t){const e=Object.keys(t);for(const s of e)B6[s]=t[s]},S6=function(t,e,s,r,o,a){const u=r?r.select(`[id="${s}"]`):ee(`[id="${s}"]`),h=o||document;Object.keys(t).forEach(function(y){const _=t[y];let v="default";_.classes.length>0&&(v=_.classes.join(" "));const x=Ua(_.styles);let k=_.text!==void 0?_.text:_.id,D;if(hr(ht().flowchart.htmlLabels)){const Y={label:k.replace(/fa[blrs]?:fa-[\w-]+/g,V=>`<i class='${V.replace(":"," ")}'></i>`)};D=gm(u,Y).node(),D.parentNode.removeChild(D)}else{const Y=h.createElementNS("http://www.w3.org/2000/svg","text");Y.setAttribute("style",x.labelStyle.replace("color:","fill:"));const V=k.split(vn.lineBreakRegex);for(const X of V){const J=h.createElementNS("http://www.w3.org/2000/svg","tspan");J.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),J.setAttribute("dy","1em"),J.setAttribute("x","1"),J.textContent=X,Y.appendChild(J)}D=Y}let M=0,R="";switch(_.type){case"round":M=5,R="rect";break;case"square":R="rect";break;case"diamond":R="question";break;case"hexagon":R="hexagon";break;case"odd":R="rect_left_inv_arrow";break;case"lean_right":R="lean_right";break;case"lean_left":R="lean_left";break;case"trapezoid":R="trapezoid";break;case"inv_trapezoid":R="inv_trapezoid";break;case"odd_right":R="rect_left_inv_arrow";break;case"circle":R="circle";break;case"ellipse":R="ellipse";break;case"stadium":R="stadium";break;case"subroutine":R="subroutine";break;case"cylinder":R="cylinder";break;case"group":R="rect";break;default:R="rect"}w.warn("Adding node",_.id,_.domId),e.setNode(a.db.lookUpDomId(_.id),{labelType:"svg",labelStyle:x.labelStyle,shape:R,label:D,rx:M,ry:M,class:v,style:x.style,id:a.db.lookUpDomId(_.id)})})},T6=function(t,e,s){let r=0,o,a;if(t.defaultStyle!==void 0){const u=Ua(t.defaultStyle);o=u.style,a=u.labelStyle}t.forEach(function(u){r++;var h="L-"+u.start+"-"+u.end,d="LS-"+u.start,y="LE-"+u.end;const _={};u.type==="arrow_open"?_.arrowhead="none":_.arrowhead="normal";let v="",x="";if(u.style!==void 0){const k=Ua(u.style);v=k.style,x=k.labelStyle}else switch(u.stroke){case"normal":v="fill:none",o!==void 0&&(v=o),a!==void 0&&(x=a);break;case"dotted":v="fill:none;stroke-width:2px;stroke-dasharray:3;";break;case"thick":v=" stroke-width: 3.5px;fill:none";break}_.style=v,_.labelStyle=x,u.interpolate!==void 0?_.curve=$i(u.interpolate,ri):t.defaultInterpolate!==void 0?_.curve=$i(t.defaultInterpolate,ri):_.curve=$i(B6.curve,ri),u.text===void 0?u.style!==void 0&&(_.arrowheadStyle="fill: #333"):(_.arrowheadStyle="fill: #333",_.labelpos="c",hr(ht().flowchart.htmlLabels)?(_.labelType="html",_.label=`<span id="L-${h}" class="edgeLabel L-${d}' L-${y}" style="${_.labelStyle}">${u.text.replace(/fa[blrs]?:fa-[\w-]+/g,k=>`<i class='${k.replace(":"," ")}'></i>`)}</span>`):(_.labelType="text",_.label=u.text.replace(vn.lineBreakRegex,`
`),u.style===void 0&&(_.style=_.style||"stroke: #333; stroke-width: 1.5px;fill:none"),_.labelStyle=_.labelStyle.replace("color:","fill:"))),_.id=h,_.class=d+" "+y,_.minlen=u.length||1,e.setEdge(s.db.lookUpDomId(u.start),s.db.lookUpDomId(u.end),_,r)})},kj={setConf:xj,addVertices:S6,addEdges:T6,getClasses:function(t,e){w.info("Extracting classes"),e.db.clear();try{return e.parse(t),e.db.getClasses()}catch(s){return w.error(s),{}}},draw:function(t,e,s,r){w.info("Drawing flowchart"),r.db.clear();const{securityLevel:o,flowchart:a}=ht();let u;o==="sandbox"&&(u=ee("#i"+e));const h=ee(o==="sandbox"?u.nodes()[0].contentDocument.body:"body"),d=o==="sandbox"?u.nodes()[0].contentDocument:document;try{r.parser.parse(t)}catch{w.debug("Parsing failed")}let y=r.db.getDirection();y===void 0&&(y="TD");const _=a.nodeSpacing||50,v=a.rankSpacing||50,x=new Gs({multigraph:!0,compound:!0}).setGraph({rankdir:y,nodesep:_,ranksep:v,marginx:8,marginy:8}).setDefaultEdgeLabel(function(){return{}});let k;const D=r.db.getSubGraphs();for(let lt=D.length-1;lt>=0;lt--)k=D[lt],r.db.addVertex(k.id,k.title,"group",void 0,k.classes);const M=r.db.getVertices();w.warn("Get vertices",M);const R=r.db.getEdges();let Y=0;for(Y=D.length-1;Y>=0;Y--){k=D[Y],Q0("cluster").append("text");for(let lt=0;lt<k.nodes.length;lt++)w.warn("Setting subgraph",k.nodes[lt],r.db.lookUpDomId(k.nodes[lt]),r.db.lookUpDomId(k.id)),x.setParent(r.db.lookUpDomId(k.nodes[lt]),r.db.lookUpDomId(k.id))}S6(M,x,e,h,d,r),T6(R,x,r);const V=new dj;bj.addToRender(V),V.arrows().none=function(tt,it,j,W){const I=tt.append("marker").attr("id",it).attr("viewBox","0 0 10 10").attr("refX",9).attr("refY",5).attr("markerUnits","strokeWidth").attr("markerWidth",8).attr("markerHeight",6).attr("orient","auto").append("path").attr("d","M 0 0 L 0 0 L 0 0 z");wo(I,j[W+"Style"])},V.arrows().normal=function(tt,it){tt.append("marker").attr("id",it).attr("viewBox","0 0 10 10").attr("refX",9).attr("refY",5).attr("markerUnits","strokeWidth").attr("markerWidth",8).attr("markerHeight",6).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z").attr("class","arrowheadPath").style("stroke-width",1).style("stroke-dasharray","1,0")};const X=h.select(`[id="${e}"]`),J=h.select("#"+e+" g");for(V(J,x),J.selectAll("g.node").attr("title",function(){return r.db.getTooltip(this.id)}),r.db.indexNodes("subGraph"+Y),Y=0;Y<D.length;Y++)if(k=D[Y],k.title!=="undefined"){const lt=d.querySelectorAll("#"+e+' [id="'+r.db.lookUpDomId(k.id)+'"] rect'),tt=d.querySelectorAll("#"+e+' [id="'+r.db.lookUpDomId(k.id)+'"]'),it=lt[0].x.baseVal.value,j=lt[0].y.baseVal.value,W=lt[0].width.baseVal.value,I=ee(tt[0]).select(".label");I.attr("transform",`translate(${it+W/2}, ${j+14})`),I.attr("id",e+"Text");for(let H=0;H<k.classes.length;H++)tt[0].classList.add(k.classes[H])}if(!a.htmlLabels){const lt=d.querySelectorAll('[id="'+e+'"] .edgeLabel .label');for(const tt of lt){const it=tt.getBBox(),j=d.createElementNS("http://www.w3.org/2000/svg","rect");j.setAttribute("rx",0),j.setAttribute("ry",0),j.setAttribute("width",it.width),j.setAttribute("height",it.height),tt.insertBefore(j,tt.firstChild)}}kf(x,X,a.diagramPadding,a.useMaxWidth),Object.keys(M).forEach(function(lt){const tt=M[lt];if(tt.link){const it=h.select("#"+e+' [id="'+r.db.lookUpDomId(lt)+'"]');if(it){const j=d.createElementNS("http://www.w3.org/2000/svg","a");j.setAttributeNS("http://www.w3.org/2000/svg","class",tt.classes.join(" ")),j.setAttributeNS("http://www.w3.org/2000/svg","href",tt.link),j.setAttributeNS("http://www.w3.org/2000/svg","rel","noopener"),o==="sandbox"?j.setAttributeNS("http://www.w3.org/2000/svg","target","_top"):tt.linkTarget&&j.setAttributeNS("http://www.w3.org/2000/svg","target",tt.linkTarget);const W=it.insert(function(){return j},":first-child"),$=it.select(".label-container");$&&W.append(function(){return $.node()});const I=it.select(".label");I&&W.append(function(){return I.node()})}}})}},D6={},Cj=function(t){const e=Object.keys(t);for(const s of e)D6[s]=t[s]},F6=function(t,e,s,r,o,a){const u=r.select(`[id="${s}"]`);Object.keys(t).forEach(function(d){const y=t[d];let _="default";y.classes.length>0&&(_=y.classes.join(" "));const v=Ua(y.styles);let x=y.text!==void 0?y.text:y.id,k;if(hr(ht().flowchart.htmlLabels)){const R={label:x.replace(/fa[blrs]?:fa-[\w-]+/g,Y=>`<i class='${Y.replace(":"," ")}'></i>`)};k=gm(u,R).node(),k.parentNode.removeChild(k)}else{const R=o.createElementNS("http://www.w3.org/2000/svg","text");R.setAttribute("style",v.labelStyle.replace("color:","fill:"));const Y=x.split(vn.lineBreakRegex);for(const V of Y){const X=o.createElementNS("http://www.w3.org/2000/svg","tspan");X.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),X.setAttribute("dy","1em"),X.setAttribute("x","1"),X.textContent=V,R.appendChild(X)}k=R}let D=0,M="";switch(y.type){case"round":D=5,M="rect";break;case"square":M="rect";break;case"diamond":M="question";break;case"hexagon":M="hexagon";break;case"odd":M="rect_left_inv_arrow";break;case"lean_right":M="lean_right";break;case"lean_left":M="lean_left";break;case"trapezoid":M="trapezoid";break;case"inv_trapezoid":M="inv_trapezoid";break;case"odd_right":M="rect_left_inv_arrow";break;case"circle":M="circle";break;case"ellipse":M="ellipse";break;case"stadium":M="stadium";break;case"subroutine":M="subroutine";break;case"cylinder":M="cylinder";break;case"group":M="rect";break;case"doublecircle":M="doublecircle";break;default:M="rect"}e.setNode(y.id,{labelStyle:v.labelStyle,shape:M,labelText:x,rx:D,ry:D,class:_,style:v.style,id:y.id,link:y.link,linkTarget:y.linkTarget,tooltip:a.db.getTooltip(y.id)||"",domId:a.db.lookUpDomId(y.id),haveCallback:y.haveCallback,width:y.type==="group"?500:void 0,dir:y.dir,type:y.type,props:y.props,padding:ht().flowchart.padding}),w.info("setNode",{labelStyle:v.labelStyle,shape:M,labelText:x,rx:D,ry:D,class:_,style:v.style,id:y.id,domId:a.db.lookUpDomId(y.id),width:y.type==="group"?500:void 0,type:y.type,dir:y.dir,props:y.props,padding:ht().flowchart.padding})})},L6=function(t,e,s){w.info("abc78 edges = ",t);let r=0,o={},a,u;if(t.defaultStyle!==void 0){const h=Ua(t.defaultStyle);a=h.style,u=h.labelStyle}t.forEach(function(h){r++;var d="L-"+h.start+"-"+h.end;o[d]===void 0?(o[d]=0,w.info("abc78 new entry",d,o[d])):(o[d]++,w.info("abc78 new entry",d,o[d]));let y=d+"-"+o[d];w.info("abc78 new link id to be used is",d,y,o[d]);var _="LS-"+h.start,v="LE-"+h.end;const x={style:"",labelStyle:""};switch(x.minlen=h.length||1,h.type==="arrow_open"?x.arrowhead="none":x.arrowhead="normal",x.arrowTypeStart="arrow_open",x.arrowTypeEnd="arrow_open",h.type){case"double_arrow_cross":x.arrowTypeStart="arrow_cross";case"arrow_cross":x.arrowTypeEnd="arrow_cross";break;case"double_arrow_point":x.arrowTypeStart="arrow_point";case"arrow_point":x.arrowTypeEnd="arrow_point";break;case"double_arrow_circle":x.arrowTypeStart="arrow_circle";case"arrow_circle":x.arrowTypeEnd="arrow_circle";break}let k="",D="";switch(h.stroke){case"normal":k="fill:none;",a!==void 0&&(k=a),u!==void 0&&(D=u),x.thickness="normal",x.pattern="solid";break;case"dotted":x.thickness="normal",x.pattern="dotted",x.style="fill:none;stroke-width:2px;stroke-dasharray:3;";break;case"thick":x.thickness="thick",x.pattern="solid",x.style="stroke-width: 3.5px;fill:none;";break}if(h.style!==void 0){const M=Ua(h.style);k=M.style,D=M.labelStyle}x.style=x.style+=k,x.labelStyle=x.labelStyle+=D,h.interpolate!==void 0?x.curve=$i(h.interpolate,ri):t.defaultInterpolate!==void 0?x.curve=$i(t.defaultInterpolate,ri):x.curve=$i(D6.curve,ri),h.text===void 0?h.style!==void 0&&(x.arrowheadStyle="fill: #333"):(x.arrowheadStyle="fill: #333",x.labelpos="c"),x.labelType="text",x.label=h.text.replace(vn.lineBreakRegex,`
`),h.style===void 0&&(x.style=x.style||"stroke: #333; stroke-width: 1.5px;fill:none;"),x.labelStyle=x.labelStyle.replace("color:","fill:"),x.id=y,x.classes="flowchart-link "+_+" "+v,e.setEdge(h.start,h.end,x,r)})},Am={setConf:Cj,addVertices:F6,addEdges:L6,getClasses:function(t,e){w.info("Extracting classes"),e.db.clear();try{return e.parse(t),e.db.getClasses()}catch{return}},draw:function(t,e,s,r){w.info("Drawing flowchart"),r.db.clear(),la.setGen("gen-2"),r.parser.parse(t);let o=r.db.getDirection();o===void 0&&(o="TD");const{securityLevel:a,flowchart:u}=ht(),h=u.nodeSpacing||50,d=u.rankSpacing||50;let y;a==="sandbox"&&(y=ee("#i"+e));const _=ee(a==="sandbox"?y.nodes()[0].contentDocument.body:"body"),v=a==="sandbox"?y.nodes()[0].contentDocument:document,x=new Gs({multigraph:!0,compound:!0}).setGraph({rankdir:o,nodesep:h,ranksep:d,marginx:0,marginy:0}).setDefaultEdgeLabel(function(){return{}});let k;const D=r.db.getSubGraphs();w.info("Subgraphs - ",D);for(let rt=D.length-1;rt>=0;rt--)k=D[rt],w.info("Subgraph - ",k),r.db.addVertex(k.id,k.title,"group",void 0,k.classes,k.dir);const M=r.db.getVertices(),R=r.db.getEdges();w.info(R);let Y=0;for(Y=D.length-1;Y>=0;Y--){k=D[Y],Q0("cluster").append("text");for(let rt=0;rt<k.nodes.length;rt++)w.info("Setting up subgraphs",k.nodes[rt],k.id),x.setParent(k.nodes[rt],k.id)}F6(M,x,e,_,v,r),L6(R,x);const V=_.select(`[id="${e}"]`),X=_.select("#"+e+" g");if(om(X,x,["point","circle","cross"],"flowchart",e),wn.insertTitle(V,"flowchartTitleText",u.titleTopMargin,r.db.getDiagramTitle()),kf(x,V,u.diagramPadding,u.useMaxWidth),r.db.indexNodes("subGraph"+Y),!u.htmlLabels){const rt=v.querySelectorAll('[id="'+e+'"] .edgeLabel .label');for(const lt of rt){const tt=lt.getBBox(),it=v.createElementNS("http://www.w3.org/2000/svg","rect");it.setAttribute("rx",0),it.setAttribute("ry",0),it.setAttribute("width",tt.width),it.setAttribute("height",tt.height),lt.insertBefore(it,lt.firstChild)}}Object.keys(M).forEach(function(rt){const lt=M[rt];if(lt.link){const tt=ee("#"+e+' [id="'+rt+'"]');if(tt){const it=v.createElementNS("http://www.w3.org/2000/svg","a");it.setAttributeNS("http://www.w3.org/2000/svg","class",lt.classes.join(" ")),it.setAttributeNS("http://www.w3.org/2000/svg","href",lt.link),it.setAttributeNS("http://www.w3.org/2000/svg","rel","noopener"),a==="sandbox"?it.setAttributeNS("http://www.w3.org/2000/svg","target","_top"):lt.linkTarget&&it.setAttributeNS("http://www.w3.org/2000/svg","target",lt.linkTarget);const j=tt.insert(function(){return it},":first-child"),W=tt.select(".label-container");W&&j.append(function(){return W.node()});const $=tt.select(".label");$&&j.append(function(){return $.node()})}}})}};var wm=function(){var t=function(it,j,W,$){for(W=W||{},$=it.length;$--;W[it[$]]=j);return W},e=[1,3],s=[1,5],r=[7,9,11,12,13,14,15,16,17,18,19,20,21,23,25,26,28,35,40],o=[1,15],a=[1,16],u=[1,17],h=[1,18],d=[1,19],y=[1,20],_=[1,21],v=[1,22],x=[1,23],k=[1,24],D=[1,25],M=[1,26],R=[1,27],Y=[1,29],V=[1,31],X=[1,34],J=[5,7,9,11,12,13,14,15,16,17,18,19,20,21,23,25,26,28,35,40],rt={trace:function(){},yy:{},symbols_:{error:2,start:3,directive:4,gantt:5,document:6,EOF:7,line:8,SPACE:9,statement:10,NL:11,dateFormat:12,inclusiveEndDates:13,topAxis:14,axisFormat:15,tickInterval:16,excludes:17,includes:18,todayMarker:19,title:20,acc_title:21,acc_title_value:22,acc_descr:23,acc_descr_value:24,acc_descr_multiline_value:25,section:26,clickStatement:27,taskTxt:28,taskData:29,openDirective:30,typeDirective:31,closeDirective:32,":":33,argDirective:34,click:35,callbackname:36,callbackargs:37,href:38,clickStatementDebug:39,open_directive:40,type_directive:41,arg_directive:42,close_directive:43,$accept:0,$end:1},terminals_:{2:"error",5:"gantt",7:"EOF",9:"SPACE",11:"NL",12:"dateFormat",13:"inclusiveEndDates",14:"topAxis",15:"axisFormat",16:"tickInterval",17:"excludes",18:"includes",19:"todayMarker",20:"title",21:"acc_title",22:"acc_title_value",23:"acc_descr",24:"acc_descr_value",25:"acc_descr_multiline_value",26:"section",28:"taskTxt",29:"taskData",33:":",35:"click",36:"callbackname",37:"callbackargs",38:"href",40:"open_directive",41:"type_directive",42:"arg_directive",43:"close_directive"},productions_:[0,[3,2],[3,3],[6,0],[6,2],[8,2],[8,1],[8,1],[8,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,2],[10,2],[10,1],[10,1],[10,1],[10,2],[10,1],[4,4],[4,6],[27,2],[27,3],[27,3],[27,4],[27,3],[27,4],[27,2],[39,2],[39,3],[39,3],[39,4],[39,3],[39,4],[39,2],[30,1],[31,1],[34,1],[32,1]],performAction:function(j,W,$,I,H,S,yt){var T=S.length-1;switch(H){case 2:return S[T-1];case 3:this.$=[];break;case 4:S[T-1].push(S[T]),this.$=S[T-1];break;case 5:case 6:this.$=S[T];break;case 7:case 8:this.$=[];break;case 9:I.setDateFormat(S[T].substr(11)),this.$=S[T].substr(11);break;case 10:I.enableInclusiveEndDates(),this.$=S[T].substr(18);break;case 11:I.TopAxis(),this.$=S[T].substr(8);break;case 12:I.setAxisFormat(S[T].substr(11)),this.$=S[T].substr(11);break;case 13:I.setTickInterval(S[T].substr(13)),this.$=S[T].substr(13);break;case 14:I.setExcludes(S[T].substr(9)),this.$=S[T].substr(9);break;case 15:I.setIncludes(S[T].substr(9)),this.$=S[T].substr(9);break;case 16:I.setTodayMarker(S[T].substr(12)),this.$=S[T].substr(12);break;case 17:I.setDiagramTitle(S[T].substr(6)),this.$=S[T].substr(6);break;case 18:this.$=S[T].trim(),I.setAccTitle(this.$);break;case 19:case 20:this.$=S[T].trim(),I.setAccDescription(this.$);break;case 21:I.addSection(S[T].substr(8)),this.$=S[T].substr(8);break;case 23:I.addTask(S[T-1],S[T]),this.$="task";break;case 27:this.$=S[T-1],I.setClickEvent(S[T-1],S[T],null);break;case 28:this.$=S[T-2],I.setClickEvent(S[T-2],S[T-1],S[T]);break;case 29:this.$=S[T-2],I.setClickEvent(S[T-2],S[T-1],null),I.setLink(S[T-2],S[T]);break;case 30:this.$=S[T-3],I.setClickEvent(S[T-3],S[T-2],S[T-1]),I.setLink(S[T-3],S[T]);break;case 31:this.$=S[T-2],I.setClickEvent(S[T-2],S[T],null),I.setLink(S[T-2],S[T-1]);break;case 32:this.$=S[T-3],I.setClickEvent(S[T-3],S[T-1],S[T]),I.setLink(S[T-3],S[T-2]);break;case 33:this.$=S[T-1],I.setLink(S[T-1],S[T]);break;case 34:case 40:this.$=S[T-1]+" "+S[T];break;case 35:case 36:case 38:this.$=S[T-2]+" "+S[T-1]+" "+S[T];break;case 37:case 39:this.$=S[T-3]+" "+S[T-2]+" "+S[T-1]+" "+S[T];break;case 41:I.parseDirective("%%{","open_directive");break;case 42:I.parseDirective(S[T],"type_directive");break;case 43:S[T]=S[T].trim().replace(/'/g,'"'),I.parseDirective(S[T],"arg_directive");break;case 44:I.parseDirective("}%%","close_directive","gantt");break}},table:[{3:1,4:2,5:e,30:4,40:s},{1:[3]},{3:6,4:2,5:e,30:4,40:s},t(r,[2,3],{6:7}),{31:8,41:[1,9]},{41:[2,41]},{1:[2,1]},{4:30,7:[1,10],8:11,9:[1,12],10:13,11:[1,14],12:o,13:a,14:u,15:h,16:d,17:y,18:_,19:v,20:x,21:k,23:D,25:M,26:R,27:28,28:Y,30:4,35:V,40:s},{32:32,33:[1,33],43:X},t([33,43],[2,42]),t(r,[2,8],{1:[2,2]}),t(r,[2,4]),{4:30,10:35,12:o,13:a,14:u,15:h,16:d,17:y,18:_,19:v,20:x,21:k,23:D,25:M,26:R,27:28,28:Y,30:4,35:V,40:s},t(r,[2,6]),t(r,[2,7]),t(r,[2,9]),t(r,[2,10]),t(r,[2,11]),t(r,[2,12]),t(r,[2,13]),t(r,[2,14]),t(r,[2,15]),t(r,[2,16]),t(r,[2,17]),{22:[1,36]},{24:[1,37]},t(r,[2,20]),t(r,[2,21]),t(r,[2,22]),{29:[1,38]},t(r,[2,24]),{36:[1,39],38:[1,40]},{11:[1,41]},{34:42,42:[1,43]},{11:[2,44]},t(r,[2,5]),t(r,[2,18]),t(r,[2,19]),t(r,[2,23]),t(r,[2,27],{37:[1,44],38:[1,45]}),t(r,[2,33],{36:[1,46]}),t(J,[2,25]),{32:47,43:X},{43:[2,43]},t(r,[2,28],{38:[1,48]}),t(r,[2,29]),t(r,[2,31],{37:[1,49]}),{11:[1,50]},t(r,[2,30]),t(r,[2,32]),t(J,[2,26])],defaultActions:{5:[2,41],6:[2,1],34:[2,44],43:[2,43]},parseError:function(j,W){if(W.recoverable)this.trace(j);else{var $=new Error(j);throw $.hash=W,$}},parse:function(j){var W=this,$=[0],I=[],H=[null],S=[],yt=this.table,T="",Dt=0,ce=0,Gt=2,ut=1,Et=S.slice.call(arguments,1),bt=Object.create(this.lexer),xt={yy:{}};for(var Tt in this.yy)Object.prototype.hasOwnProperty.call(this.yy,Tt)&&(xt.yy[Tt]=this.yy[Tt]);bt.setInput(j,xt.yy),xt.yy.lexer=bt,xt.yy.parser=this,typeof bt.yylloc>"u"&&(bt.yylloc={});var Wt=bt.yylloc;S.push(Wt);var dt=bt.options&&bt.options.ranges;typeof xt.yy.parseError=="function"?this.parseError=xt.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function ve(){var Be;return Be=I.pop()||bt.lex()||ut,typeof Be!="number"&&(Be instanceof Array&&(I=Be,Be=I.pop()),Be=W.symbols_[Be]||Be),Be}for(var et,st,pt,Z,q={},U,mt,N,Lt;;){if(st=$[$.length-1],this.defaultActions[st]?pt=this.defaultActions[st]:((et===null||typeof et>"u")&&(et=ve()),pt=yt[st]&&yt[st][et]),typeof pt>"u"||!pt.length||!pt[0]){var nt="";Lt=[];for(U in yt[st])this.terminals_[U]&&U>Gt&&Lt.push("'"+this.terminals_[U]+"'");bt.showPosition?nt="Parse error on line "+(Dt+1)+`:
`+bt.showPosition()+`
Expecting `+Lt.join(", ")+", got '"+(this.terminals_[et]||et)+"'":nt="Parse error on line "+(Dt+1)+": Unexpected "+(et==ut?"end of input":"'"+(this.terminals_[et]||et)+"'"),this.parseError(nt,{text:bt.match,token:this.terminals_[et]||et,line:bt.yylineno,loc:Wt,expected:Lt})}if(pt[0]instanceof Array&&pt.length>1)throw new Error("Parse Error: multiple actions possible at state: "+st+", token: "+et);switch(pt[0]){case 1:$.push(et),H.push(bt.yytext),S.push(bt.yylloc),$.push(pt[1]),et=null,ce=bt.yyleng,T=bt.yytext,Dt=bt.yylineno,Wt=bt.yylloc;break;case 2:if(mt=this.productions_[pt[1]][1],q.$=H[H.length-mt],q._$={first_line:S[S.length-(mt||1)].first_line,last_line:S[S.length-1].last_line,first_column:S[S.length-(mt||1)].first_column,last_column:S[S.length-1].last_column},dt&&(q._$.range=[S[S.length-(mt||1)].range[0],S[S.length-1].range[1]]),Z=this.performAction.apply(q,[T,ce,Dt,xt.yy,pt[1],H,S].concat(Et)),typeof Z<"u")return Z;mt&&($=$.slice(0,-1*mt*2),H=H.slice(0,-1*mt),S=S.slice(0,-1*mt)),$.push(this.productions_[pt[1]][0]),H.push(q.$),S.push(q._$),N=yt[$[$.length-2]][$[$.length-1]],$.push(N);break;case 3:return!0}}return!0}},lt=function(){var it={EOF:1,parseError:function(W,$){if(this.yy.parser)this.yy.parser.parseError(W,$);else throw new Error(W)},setInput:function(j,W){return this.yy=W||this.yy||{},this._input=j,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var j=this._input[0];this.yytext+=j,this.yyleng++,this.offset++,this.match+=j,this.matched+=j;var W=j.match(/(?:\r\n?|\n).*/g);return W?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),j},unput:function(j){var W=j.length,$=j.split(/(?:\r\n?|\n)/g);this._input=j+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-W),this.offset-=W;var I=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),$.length-1&&(this.yylineno-=$.length-1);var H=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:$?($.length===I.length?this.yylloc.first_column:0)+I[I.length-$.length].length-$[0].length:this.yylloc.first_column-W},this.options.ranges&&(this.yylloc.range=[H[0],H[0]+this.yyleng-W]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(j){this.unput(this.match.slice(j))},pastInput:function(){var j=this.matched.substr(0,this.matched.length-this.match.length);return(j.length>20?"...":"")+j.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var j=this.match;return j.length<20&&(j+=this._input.substr(0,20-j.length)),(j.substr(0,20)+(j.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var j=this.pastInput(),W=new Array(j.length+1).join("-");return j+this.upcomingInput()+`
`+W+"^"},test_match:function(j,W){var $,I,H;if(this.options.backtrack_lexer&&(H={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(H.yylloc.range=this.yylloc.range.slice(0))),I=j[0].match(/(?:\r\n?|\n).*/g),I&&(this.yylineno+=I.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:I?I[I.length-1].length-I[I.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+j[0].length},this.yytext+=j[0],this.match+=j[0],this.matches=j,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(j[0].length),this.matched+=j[0],$=this.performAction.call(this,this.yy,this,W,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),$)return $;if(this._backtrack){for(var S in H)this[S]=H[S];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var j,W,$,I;this._more||(this.yytext="",this.match="");for(var H=this._currentRules(),S=0;S<H.length;S++)if($=this._input.match(this.rules[H[S]]),$&&(!W||$[0].length>W[0].length)){if(W=$,I=S,this.options.backtrack_lexer){if(j=this.test_match($,H[S]),j!==!1)return j;if(this._backtrack){W=!1;continue}else return!1}else if(!this.options.flex)break}return W?(j=this.test_match(W,H[I]),j!==!1?j:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var W=this.next();return W||this.lex()},begin:function(W){this.conditionStack.push(W)},popState:function(){var W=this.conditionStack.length-1;return W>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(W){return W=this.conditionStack.length-1-Math.abs(W||0),W>=0?this.conditionStack[W]:"INITIAL"},pushState:function(W){this.begin(W)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(W,$,I,H){switch(I){case 0:return this.begin("open_directive"),40;case 1:return this.begin("type_directive"),41;case 2:return this.popState(),this.begin("arg_directive"),33;case 3:return this.popState(),this.popState(),43;case 4:return 42;case 5:return this.begin("acc_title"),21;case 6:return this.popState(),"acc_title_value";case 7:return this.begin("acc_descr"),23;case 8:return this.popState(),"acc_descr_value";case 9:this.begin("acc_descr_multiline");break;case 10:this.popState();break;case 11:return"acc_descr_multiline_value";case 12:break;case 13:break;case 14:break;case 15:return 11;case 16:break;case 17:break;case 18:break;case 19:this.begin("href");break;case 20:this.popState();break;case 21:return 38;case 22:this.begin("callbackname");break;case 23:this.popState();break;case 24:this.popState(),this.begin("callbackargs");break;case 25:return 36;case 26:this.popState();break;case 27:return 37;case 28:this.begin("click");break;case 29:this.popState();break;case 30:return 35;case 31:return 5;case 32:return 12;case 33:return 13;case 34:return 14;case 35:return 15;case 36:return 16;case 37:return 18;case 38:return 17;case 39:return 19;case 40:return"date";case 41:return 20;case 42:return"accDescription";case 43:return 26;case 44:return 28;case 45:return 29;case 46:return 33;case 47:return 7;case 48:return"INVALID"}},rules:[/^(?:%%\{)/i,/^(?:((?:(?!\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\}%%)/i,/^(?:((?:(?!\}%%).|\n)*))/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:%%(?!\{)*[^\n]*)/i,/^(?:[^\}]%%*[^\n]*)/i,/^(?:%%*[^\n]*[\n]*)/i,/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:#[^\n]*)/i,/^(?:%[^\n]*)/i,/^(?:href[\s]+["])/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:call[\s]+)/i,/^(?:\([\s]*\))/i,/^(?:\()/i,/^(?:[^(]*)/i,/^(?:\))/i,/^(?:[^)]*)/i,/^(?:click[\s]+)/i,/^(?:[\s\n])/i,/^(?:[^\s\n]*)/i,/^(?:gantt\b)/i,/^(?:dateFormat\s[^#\n;]+)/i,/^(?:inclusiveEndDates\b)/i,/^(?:topAxis\b)/i,/^(?:axisFormat\s[^#\n;]+)/i,/^(?:tickInterval\s[^#\n;]+)/i,/^(?:includes\s[^#\n;]+)/i,/^(?:excludes\s[^#\n;]+)/i,/^(?:todayMarker\s[^\n;]+)/i,/^(?:\d\d\d\d-\d\d-\d\d\b)/i,/^(?:title\s[^#\n;]+)/i,/^(?:accDescription\s[^#\n;]+)/i,/^(?:section\s[^#:\n;]+)/i,/^(?:[^#:\n;]+)/i,/^(?::[^#\n;]+)/i,/^(?::)/i,/^(?:$)/i,/^(?:.)/i],conditions:{acc_descr_multiline:{rules:[10,11],inclusive:!1},acc_descr:{rules:[8],inclusive:!1},acc_title:{rules:[6],inclusive:!1},close_directive:{rules:[],inclusive:!1},arg_directive:{rules:[3,4],inclusive:!1},type_directive:{rules:[2,3],inclusive:!1},open_directive:{rules:[1],inclusive:!1},callbackargs:{rules:[26,27],inclusive:!1},callbackname:{rules:[23,24,25],inclusive:!1},href:{rules:[20,21],inclusive:!1},click:{rules:[29,30],inclusive:!1},INITIAL:{rules:[0,5,7,9,12,13,14,15,16,17,18,19,22,28,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48],inclusive:!0}}};return it}();rt.lexer=lt;function tt(){this.yy={}}return tt.prototype=rt,rt.Parser=tt,new tt}();wm.parser=wm;const Aj=wm,wj=t=>t.match(/^\s*gantt/)!==null;let Bo="",Em="",Bm,Sm="",op=[],ap=[],Tm={},Dm=[],_1=[],Eu="";const I6=["active","done","crit","milestone"];let Fm=[],lp=!1,Lm=!1,Im=0;const Ej=function(t,e,s){Bs.parseDirective(this,t,e,s)},Bj=function(){Dm=[],_1=[],Eu="",Fm=[],v1=0,Rm=void 0,b1=void 0,sr=[],Bo="",Em="",Bm=void 0,Sm="",op=[],ap=[],lp=!1,Lm=!1,Im=0,Tm={},zi()},Sj=function(t){Em=t},Tj=function(){return Em},Dj=function(t){Bm=t},Fj=function(){return Bm},Lj=function(t){Sm=t},Ij=function(){return Sm},Mj=function(t){Bo=t},Rj=function(){lp=!0},Oj=function(){return lp},Nj=function(){Lm=!0},Pj=function(){return Lm},Vj=function(){return Bo},$j=function(t){op=t.toLowerCase().split(/[\s,]+/)},Yj=function(){return op},Uj=function(t){ap=t.toLowerCase().split(/[\s,]+/)},zj=function(){return ap},Wj=function(){return Tm},Hj=function(t){Eu=t,Dm.push(t)},jj=function(){return Dm},Gj=function(){let t=V6();const e=10;let s=0;for(;!t&&s<e;)t=V6(),s++;return _1=sr,_1},M6=function(t,e,s,r){return r.includes(t.format(e.trim()))?!1:t.isoWeekday()>=6&&s.includes("weekends")||s.includes(t.format("dddd").toLowerCase())?!0:s.includes(t.format(e.trim()))},R6=function(t,e,s,r){if(!s.length||t.manualEndTime)return;let o=F(t.startTime,e,!0);o.add(1,"d");let a=F(t.endTime,e,!0),u=qj(o,a,e,s,r);t.endTime=a.toDate(),t.renderEndTime=u},qj=function(t,e,s,r,o){let a=!1,u=null;for(;t<=e;)a||(u=e.toDate()),a=M6(t,s,r,o),a&&e.add(1,"d"),t.add(1,"d");return u},Mm=function(t,e,s){s=s.trim();const o=/^after\s+([\d\w- ]+)/.exec(s.trim());if(o!==null){let u=null;if(o[1].split(" ").forEach(function(h){let d=Su(h);d!==void 0&&(u?d.endTime>u.endTime&&(u=d):u=d)}),u)return u.endTime;{const h=new Date;return h.setHours(0,0,0,0),h}}let a=F(s,e.trim(),!0);if(a.isValid())return a.toDate();{w.debug("Invalid date:"+s),w.debug("With date format:"+e.trim());const u=new Date(s);if(u===void 0||isNaN(u.getTime()))throw new Error("Invalid date:"+s);return u}},O6=function(t){const e=/^(\d+(?:\.\d+)?)([Mdhmswy]|ms)$/.exec(t.trim());return e!==null?F.duration(Number.parseFloat(e[1]),e[2]):F.duration.invalid()},N6=function(t,e,s,r=!1){s=s.trim();let o=F(s,e.trim(),!0);if(o.isValid())return r&&o.add(1,"d"),o.toDate();const a=F(t),u=O6(s);return u.isValid()&&a.add(u),a.toDate()};let v1=0;const Bu=function(t){return t===void 0?(v1=v1+1,"task"+v1):t},Xj=function(t,e){let s;e.substr(0,1)===":"?s=e.substr(1,e.length):s=e;const r=s.split(","),o={};U6(r,o,I6);for(let u=0;u<r.length;u++)r[u]=r[u].trim();let a="";switch(r.length){case 1:o.id=Bu(),o.startTime=t.endTime,a=r[0];break;case 2:o.id=Bu(),o.startTime=Mm(void 0,Bo,r[0]),a=r[1];break;case 3:o.id=Bu(r[0]),o.startTime=Mm(void 0,Bo,r[1]),a=r[2];break}return a&&(o.endTime=N6(o.startTime,Bo,a,lp),o.manualEndTime=F(a,"YYYY-MM-DD",!0).isValid(),R6(o,Bo,ap,op)),o},Kj=function(t,e){let s;e.substr(0,1)===":"?s=e.substr(1,e.length):s=e;const r=s.split(","),o={};U6(r,o,I6);for(let a=0;a<r.length;a++)r[a]=r[a].trim();switch(r.length){case 1:o.id=Bu(),o.startTime={type:"prevTaskEnd",id:t},o.endTime={data:r[0]};break;case 2:o.id=Bu(),o.startTime={type:"getStartDate",startData:r[0]},o.endTime={data:r[1]};break;case 3:o.id=Bu(r[0]),o.startTime={type:"getStartDate",startData:r[1]},o.endTime={data:r[2]};break}return o};let Rm,b1,sr=[];const P6={},Zj=function(t,e){const s={section:Eu,type:Eu,processed:!1,manualEndTime:!1,renderEndTime:null,raw:{data:e},task:t,classes:[]},r=Kj(b1,e);s.raw.startTime=r.startTime,s.raw.endTime=r.endTime,s.id=r.id,s.prevTaskId=b1,s.active=r.active,s.done=r.done,s.crit=r.crit,s.milestone=r.milestone,s.order=Im,Im++;const o=sr.push(s);b1=s.id,P6[s.id]=o-1},Su=function(t){const e=P6[t];return sr[e]},Qj=function(t,e){const s={section:Eu,type:Eu,description:t,task:t,classes:[]},r=Xj(Rm,e);s.startTime=r.startTime,s.endTime=r.endTime,s.id=r.id,s.active=r.active,s.done=r.done,s.crit=r.crit,s.milestone=r.milestone,Rm=s,_1.push(s)},V6=function(){const t=function(s){const r=sr[s];let o="";switch(sr[s].raw.startTime.type){case"prevTaskEnd":{const a=Su(r.prevTaskId);r.startTime=a.endTime;break}case"getStartDate":o=Mm(void 0,Bo,sr[s].raw.startTime.startData),o&&(sr[s].startTime=o);break}return sr[s].startTime&&(sr[s].endTime=N6(sr[s].startTime,Bo,sr[s].raw.endTime.data,lp),sr[s].endTime&&(sr[s].processed=!0,sr[s].manualEndTime=F(sr[s].raw.endTime.data,"YYYY-MM-DD",!0).isValid(),R6(sr[s],Bo,ap,op))),sr[s].processed};let e=!0;for(const[s,r]of sr.entries())t(s),e=e&&r.processed;return e},Jj=function(t,e){let s=e;ht().securityLevel!=="loose"&&(s=at(e)),t.split(",").forEach(function(r){Su(r)!==void 0&&(Y6(r,()=>{window.open(s,"_self")}),Tm[r]=s)}),$6(t,"clickable")},$6=function(t,e){t.split(",").forEach(function(s){let r=Su(s);r!==void 0&&r.classes.push(e)})},tG=function(t,e,s){if(ht().securityLevel!=="loose"||e===void 0)return;let r=[];if(typeof s=="string"){r=s.split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)/);for(let a=0;a<r.length;a++){let u=r[a].trim();u.charAt(0)==='"'&&u.charAt(u.length-1)==='"'&&(u=u.substr(1,u.length-2)),r[a]=u}}r.length===0&&r.push(t),Su(t)!==void 0&&Y6(t,()=>{wn.runFunc(e,...r)})},Y6=function(t,e){Fm.push(function(){const s=document.querySelector(`[id="${t}"]`);s!==null&&s.addEventListener("click",function(){e()})},function(){const s=document.querySelector(`[id="${t}-text"]`);s!==null&&s.addEventListener("click",function(){e()})})},Om={parseDirective:Ej,getConfig:()=>ht().gantt,clear:Bj,setDateFormat:Mj,getDateFormat:Vj,enableInclusiveEndDates:Rj,endDatesAreInclusive:Oj,enableTopAxis:Nj,topAxisEnabled:Pj,setAxisFormat:Sj,getAxisFormat:Tj,setTickInterval:Dj,getTickInterval:Fj,setTodayMarker:Lj,getTodayMarker:Ij,setAccTitle:Ai,getAccTitle:Wi,setDiagramTitle:Qo,getDiagramTitle:Jo,setAccDescription:Hi,getAccDescription:ji,addSection:Hj,getSections:jj,getTasks:Gj,addTask:Zj,findTaskById:Su,addTaskOrg:Qj,setIncludes:$j,getIncludes:Yj,setExcludes:Uj,getExcludes:zj,setClickEvent:function(t,e,s){t.split(",").forEach(function(r){tG(r,e,s)}),$6(t,"clickable")},setLink:Jj,getLinks:Wj,bindFunctions:function(t){Fm.forEach(function(e){e(t)})},parseDuration:O6,isInvalidDate:M6};function U6(t,e,s){let r=!0;for(;r;)r=!1,s.forEach(function(o){const a="^\\s*"+o+"\\s*$",u=new RegExp(a);t[0].match(u)&&(e[o]=!0,t.shift(1),r=!0)})}const eG=function(){w.debug("Something is calling, setConf, remove the call")};let ua;const nG={setConf:eG,draw:function(t,e,s,r){const o=ht().gantt,a=ht().securityLevel;let u;a==="sandbox"&&(u=ee("#i"+e));const h=ee(a==="sandbox"?u.nodes()[0].contentDocument.body:"body"),d=a==="sandbox"?u.nodes()[0].contentDocument:document,y=d.getElementById(e);ua=y.parentElement.offsetWidth,ua===void 0&&(ua=1200),o.useWidth!==void 0&&(ua=o.useWidth);const _=r.db.getTasks(),v=_.length*(o.barHeight+o.barGap)+2*o.topPadding;y.setAttribute("viewBox","0 0 "+ua+" "+v);const x=h.select(`[id="${e}"]`),k=YT().domain([ke(_,function(W){return W.startTime}),Re(_,function(W){return W.endTime})]).rangeRound([0,ua-o.leftPadding-o.rightPadding]);let D=[];for(const W of _)D.push(W.type);const M=D;D=tt(D);function R(W,$){const I=W.startTime,H=$.startTime;let S=0;return I>H?S=1:I<H&&(S=-1),S}_.sort(R),Y(_,ua,v),Ui(x,v,ua,o.useMaxWidth),x.append("text").text(r.db.getDiagramTitle()).attr("x",ua/2).attr("y",o.titleTopMargin).attr("class","titleText");function Y(W,$,I){const H=o.barHeight,S=H+o.barGap,yt=o.topPadding,T=o.leftPadding,Dt=f3().domain([0,D.length]).range(["#00B9FA","#F95002"]).interpolate(VE);X(S,yt,T,$,I,W,r.db.getExcludes(),r.db.getIncludes()),J(T,yt,$,I),V(W,S,yt,T,H,Dt,$),rt(S,yt),lt(T,yt,$,I)}function V(W,$,I,H,S,yt,T){x.append("g").selectAll("rect").data(W).enter().append("rect").attr("x",0).attr("y",function(ut,Et){return Et=ut.order,Et*$+I-2}).attr("width",function(){return T-o.rightPadding/2}).attr("height",$).attr("class",function(ut){for(const[Et,bt]of D.entries())if(ut.type===bt)return"section section"+Et%o.numberSectionStyles;return"section section0"});const Dt=x.append("g").selectAll("rect").data(W).enter(),ce=r.db.getLinks();if(Dt.append("rect").attr("id",function(ut){return ut.id}).attr("rx",3).attr("ry",3).attr("x",function(ut){return ut.milestone?k(ut.startTime)+H+.5*(k(ut.endTime)-k(ut.startTime))-.5*S:k(ut.startTime)+H}).attr("y",function(ut,Et){return Et=ut.order,Et*$+I}).attr("width",function(ut){return ut.milestone?S:k(ut.renderEndTime||ut.endTime)-k(ut.startTime)}).attr("height",S).attr("transform-origin",function(ut,Et){return Et=ut.order,(k(ut.startTime)+H+.5*(k(ut.endTime)-k(ut.startTime))).toString()+"px "+(Et*$+I+.5*S).toString()+"px"}).attr("class",function(ut){const Et="task";let bt="";ut.classes.length>0&&(bt=ut.classes.join(" "));let xt=0;for(const[Wt,dt]of D.entries())ut.type===dt&&(xt=Wt%o.numberSectionStyles);let Tt="";return ut.active?ut.crit?Tt+=" activeCrit":Tt=" active":ut.done?ut.crit?Tt=" doneCrit":Tt=" done":ut.crit&&(Tt+=" crit"),Tt.length===0&&(Tt=" task"),ut.milestone&&(Tt=" milestone "+Tt),Tt+=xt,Tt+=" "+bt,Et+Tt}),Dt.append("text").attr("id",function(ut){return ut.id+"-text"}).text(function(ut){return ut.task}).attr("font-size",o.fontSize).attr("x",function(ut){let Et=k(ut.startTime),bt=k(ut.renderEndTime||ut.endTime);ut.milestone&&(Et+=.5*(k(ut.endTime)-k(ut.startTime))-.5*S),ut.milestone&&(bt=Et+S);const xt=this.getBBox().width;return xt>bt-Et?bt+xt+1.5*o.leftPadding>T?Et+H-5:bt+H+5:(bt-Et)/2+Et+H}).attr("y",function(ut,Et){return Et=ut.order,Et*$+o.barHeight/2+(o.fontSize/2-2)+I}).attr("text-height",S).attr("class",function(ut){const Et=k(ut.startTime);let bt=k(ut.endTime);ut.milestone&&(bt=Et+S);const xt=this.getBBox().width;let Tt="";ut.classes.length>0&&(Tt=ut.classes.join(" "));let Wt=0;for(const[ve,et]of D.entries())ut.type===et&&(Wt=ve%o.numberSectionStyles);let dt="";return ut.active&&(ut.crit?dt="activeCritText"+Wt:dt="activeText"+Wt),ut.done?ut.crit?dt=dt+" doneCritText"+Wt:dt=dt+" doneText"+Wt:ut.crit&&(dt=dt+" critText"+Wt),ut.milestone&&(dt+=" milestoneText"),xt>bt-Et?bt+xt+1.5*o.leftPadding>T?Tt+" taskTextOutsideLeft taskTextOutside"+Wt+" "+dt:Tt+" taskTextOutsideRight taskTextOutside"+Wt+" "+dt+" width-"+xt:Tt+" taskText taskText"+Wt+" "+dt+" width-"+xt}),ht().securityLevel==="sandbox"){let ut;ut=ee("#i"+e);const Et=ut.nodes()[0].contentDocument;Dt.filter(function(bt){return ce[bt.id]!==void 0}).each(function(bt){var xt=Et.querySelector("#"+bt.id),Tt=Et.querySelector("#"+bt.id+"-text");const Wt=xt.parentNode;var dt=Et.createElement("a");dt.setAttribute("xlink:href",ce[bt.id]),dt.setAttribute("target","_top"),Wt.appendChild(dt),dt.appendChild(xt),dt.appendChild(Tt)})}}function X(W,$,I,H,S,yt,T,Dt){const ce=yt.reduce((Wt,{startTime:dt})=>Wt?Math.min(Wt,dt):dt,0),Gt=yt.reduce((Wt,{endTime:dt})=>Wt?Math.max(Wt,dt):dt,0),ut=r.db.getDateFormat();if(!ce||!Gt)return;const Et=[];let bt=null,xt=F(ce);for(;xt.valueOf()<=Gt;)r.db.isInvalidDate(xt,ut,T,Dt)?bt?bt.end=xt.clone():bt={start:xt.clone(),end:xt.clone()}:bt&&(Et.push(bt),bt=null),xt.add(1,"d");x.append("g").selectAll("rect").data(Et).enter().append("rect").attr("id",function(Wt){return"exclude-"+Wt.start.format("YYYY-MM-DD")}).attr("x",function(Wt){return k(Wt.start)+I}).attr("y",o.gridLineStartPadding).attr("width",function(Wt){const dt=Wt.end.clone().add(1,"day");return k(dt)-k(Wt.start)}).attr("height",S-$-o.gridLineStartPadding).attr("transform-origin",function(Wt,dt){return(k(Wt.start)+I+.5*(k(Wt.end)-k(Wt.start))).toString()+"px "+(dt*W+.5*S).toString()+"px"}).attr("class","exclude-range")}function J(W,$,I,H){let S=_e(k).tickSize(-H+$+o.gridLineStartPadding).tickFormat(Rd(r.db.getAxisFormat()||o.axisFormat||"%Y-%m-%d"));const T=/^([1-9]\d*)(minute|hour|day|week|month)$/.exec(r.db.getTickInterval()||o.tickInterval);if(T!==null){const Dt=T[1];switch(T[2]){case"minute":S.ticks(Dd.every(Dt));break;case"hour":S.ticks(Fd.every(Dt));break;case"day":S.ticks(Hc.every(Dt));break;case"week":S.ticks(jc.every(Dt));break;case"month":S.ticks(Id.every(Dt));break}}if(x.append("g").attr("class","grid").attr("transform","translate("+W+", "+(H-50)+")").call(S).selectAll("text").style("text-anchor","middle").attr("fill","#000").attr("stroke","none").attr("font-size",10).attr("dy","1em"),r.db.topAxisEnabled()||o.topAxis){let Dt=he(k).tickSize(-H+$+o.gridLineStartPadding).tickFormat(Rd(r.db.getAxisFormat()||o.axisFormat||"%Y-%m-%d"));if(T!==null){const ce=T[1];switch(T[2]){case"minute":Dt.ticks(Dd.every(ce));break;case"hour":Dt.ticks(Fd.every(ce));break;case"day":Dt.ticks(Hc.every(ce));break;case"week":Dt.ticks(jc.every(ce));break;case"month":Dt.ticks(Id.every(ce));break}}x.append("g").attr("class","grid").attr("transform","translate("+W+", "+$+")").call(Dt).selectAll("text").style("text-anchor","middle").attr("fill","#000").attr("stroke","none").attr("font-size",10)}}function rt(W,$){const I=[];let H=0;for(const[S,yt]of D.entries())I[S]=[yt,j(yt,M)];x.append("g").selectAll("text").data(I).enter().append(function(S){const yt=S[0].split(vn.lineBreakRegex),T=-(yt.length-1)/2,Dt=d.createElementNS("http://www.w3.org/2000/svg","text");Dt.setAttribute("dy",T+"em");for(const[ce,Gt]of yt.entries()){const ut=d.createElementNS("http://www.w3.org/2000/svg","tspan");ut.setAttribute("alignment-baseline","central"),ut.setAttribute("x","10"),ce>0&&ut.setAttribute("dy","1em"),ut.textContent=Gt,Dt.appendChild(ut)}return Dt}).attr("x",10).attr("y",function(S,yt){if(yt>0)for(let T=0;T<yt;T++)return H+=I[yt-1][1],S[1]*W/2+H*W+$;else return S[1]*W/2+$}).attr("font-size",o.sectionFontSize).attr("font-size",o.sectionFontSize).attr("class",function(S){for(const[yt,T]of D.entries())if(S[0]===T)return"sectionTitle sectionTitle"+yt%o.numberSectionStyles;return"sectionTitle"})}function lt(W,$,I,H){const S=r.db.getTodayMarker();if(S==="off")return;const yt=x.append("g").attr("class","today"),T=new Date,Dt=yt.append("line");Dt.attr("x1",k(T)+W).attr("x2",k(T)+W).attr("y1",o.titleTopMargin).attr("y2",H-o.titleTopMargin).attr("class","today"),S!==""&&Dt.attr("style",S.replace(/,/g,";"))}function tt(W){const $={},I=[];for(let H=0,S=W.length;H<S;++H)Object.prototype.hasOwnProperty.call($,W[H])||($[W[H]]=!0,I.push(W[H]));return I}function it(W){let $=W.length;const I={};for(;$;)I[W[--$]]=(I[W[$]]||0)+1;return I}function j(W,$){return it($)[W]||0}}};var Nm=function(){var t=function(a,u,h,d){for(h=h||{},d=a.length;d--;h[a[d]]=u);return h},e=[6,9,10],s={trace:function(){},yy:{},symbols_:{error:2,start:3,info:4,document:5,EOF:6,line:7,statement:8,NL:9,showInfo:10,$accept:0,$end:1},terminals_:{2:"error",4:"info",6:"EOF",9:"NL",10:"showInfo"},productions_:[0,[3,3],[5,0],[5,2],[7,1],[7,1],[8,1]],performAction:function(u,h,d,y,_,v,x){switch(v.length-1,_){case 1:return y;case 4:break;case 6:y.setInfo(!0);break}},table:[{3:1,4:[1,2]},{1:[3]},t(e,[2,2],{5:3}),{6:[1,4],7:5,8:6,9:[1,7],10:[1,8]},{1:[2,1]},t(e,[2,3]),t(e,[2,4]),t(e,[2,5]),t(e,[2,6])],defaultActions:{4:[2,1]},parseError:function(u,h){if(h.recoverable)this.trace(u);else{var d=new Error(u);throw d.hash=h,d}},parse:function(u){var h=this,d=[0],y=[],_=[null],v=[],x=this.table,k="",D=0,M=0,R=2,Y=1,V=v.slice.call(arguments,1),X=Object.create(this.lexer),J={yy:{}};for(var rt in this.yy)Object.prototype.hasOwnProperty.call(this.yy,rt)&&(J.yy[rt]=this.yy[rt]);X.setInput(u,J.yy),J.yy.lexer=X,J.yy.parser=this,typeof X.yylloc>"u"&&(X.yylloc={});var lt=X.yylloc;v.push(lt);var tt=X.options&&X.options.ranges;typeof J.yy.parseError=="function"?this.parseError=J.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function it(){var Gt;return Gt=y.pop()||X.lex()||Y,typeof Gt!="number"&&(Gt instanceof Array&&(y=Gt,Gt=y.pop()),Gt=h.symbols_[Gt]||Gt),Gt}for(var j,W,$,I,H={},S,yt,T,Dt;;){if(W=d[d.length-1],this.defaultActions[W]?$=this.defaultActions[W]:((j===null||typeof j>"u")&&(j=it()),$=x[W]&&x[W][j]),typeof $>"u"||!$.length||!$[0]){var ce="";Dt=[];for(S in x[W])this.terminals_[S]&&S>R&&Dt.push("'"+this.terminals_[S]+"'");X.showPosition?ce="Parse error on line "+(D+1)+`:
`+X.showPosition()+`
Expecting `+Dt.join(", ")+", got '"+(this.terminals_[j]||j)+"'":ce="Parse error on line "+(D+1)+": Unexpected "+(j==Y?"end of input":"'"+(this.terminals_[j]||j)+"'"),this.parseError(ce,{text:X.match,token:this.terminals_[j]||j,line:X.yylineno,loc:lt,expected:Dt})}if($[0]instanceof Array&&$.length>1)throw new Error("Parse Error: multiple actions possible at state: "+W+", token: "+j);switch($[0]){case 1:d.push(j),_.push(X.yytext),v.push(X.yylloc),d.push($[1]),j=null,M=X.yyleng,k=X.yytext,D=X.yylineno,lt=X.yylloc;break;case 2:if(yt=this.productions_[$[1]][1],H.$=_[_.length-yt],H._$={first_line:v[v.length-(yt||1)].first_line,last_line:v[v.length-1].last_line,first_column:v[v.length-(yt||1)].first_column,last_column:v[v.length-1].last_column},tt&&(H._$.range=[v[v.length-(yt||1)].range[0],v[v.length-1].range[1]]),I=this.performAction.apply(H,[k,M,D,J.yy,$[1],_,v].concat(V)),typeof I<"u")return I;yt&&(d=d.slice(0,-1*yt*2),_=_.slice(0,-1*yt),v=v.slice(0,-1*yt)),d.push(this.productions_[$[1]][0]),_.push(H.$),v.push(H._$),T=x[d[d.length-2]][d[d.length-1]],d.push(T);break;case 3:return!0}}return!0}},r=function(){var a={EOF:1,parseError:function(h,d){if(this.yy.parser)this.yy.parser.parseError(h,d);else throw new Error(h)},setInput:function(u,h){return this.yy=h||this.yy||{},this._input=u,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var u=this._input[0];this.yytext+=u,this.yyleng++,this.offset++,this.match+=u,this.matched+=u;var h=u.match(/(?:\r\n?|\n).*/g);return h?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),u},unput:function(u){var h=u.length,d=u.split(/(?:\r\n?|\n)/g);this._input=u+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-h),this.offset-=h;var y=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),d.length-1&&(this.yylineno-=d.length-1);var _=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:d?(d.length===y.length?this.yylloc.first_column:0)+y[y.length-d.length].length-d[0].length:this.yylloc.first_column-h},this.options.ranges&&(this.yylloc.range=[_[0],_[0]+this.yyleng-h]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(u){this.unput(this.match.slice(u))},pastInput:function(){var u=this.matched.substr(0,this.matched.length-this.match.length);return(u.length>20?"...":"")+u.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var u=this.match;return u.length<20&&(u+=this._input.substr(0,20-u.length)),(u.substr(0,20)+(u.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var u=this.pastInput(),h=new Array(u.length+1).join("-");return u+this.upcomingInput()+`
`+h+"^"},test_match:function(u,h){var d,y,_;if(this.options.backtrack_lexer&&(_={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(_.yylloc.range=this.yylloc.range.slice(0))),y=u[0].match(/(?:\r\n?|\n).*/g),y&&(this.yylineno+=y.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:y?y[y.length-1].length-y[y.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+u[0].length},this.yytext+=u[0],this.match+=u[0],this.matches=u,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(u[0].length),this.matched+=u[0],d=this.performAction.call(this,this.yy,this,h,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),d)return d;if(this._backtrack){for(var v in _)this[v]=_[v];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var u,h,d,y;this._more||(this.yytext="",this.match="");for(var _=this._currentRules(),v=0;v<_.length;v++)if(d=this._input.match(this.rules[_[v]]),d&&(!h||d[0].length>h[0].length)){if(h=d,y=v,this.options.backtrack_lexer){if(u=this.test_match(d,_[v]),u!==!1)return u;if(this._backtrack){h=!1;continue}else return!1}else if(!this.options.flex)break}return h?(u=this.test_match(h,_[y]),u!==!1?u:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var h=this.next();return h||this.lex()},begin:function(h){this.conditionStack.push(h)},popState:function(){var h=this.conditionStack.length-1;return h>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(h){return h=this.conditionStack.length-1-Math.abs(h||0),h>=0?this.conditionStack[h]:"INITIAL"},pushState:function(h){this.begin(h)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(h,d,y,_){switch(y){case 0:return 4;case 1:return 9;case 2:return"space";case 3:return 10;case 4:return 6;case 5:return"TXT"}},rules:[/^(?:info\b)/i,/^(?:[\s\n\r]+)/i,/^(?:[\s]+)/i,/^(?:showInfo\b)/i,/^(?:$)/i,/^(?:.)/i],conditions:{INITIAL:{rules:[0,1,2,3,4,5],inclusive:!0}}};return a}();s.lexer=r;function o(){this.yy={}}return o.prototype=s,s.Parser=o,new o}();Nm.parser=Nm;const sG=Nm;var z6="",W6=!1;const rG={setMessage:t=>{w.debug("Setting message to: "+t),z6=t},getMessage:()=>z6,setInfo:t=>{W6=t},getInfo:()=>W6,clear:zi},iG={draw:(t,e,s)=>{try{w.debug(`Rendering info diagram
`+t);const r=ht().securityLevel;let o;r==="sandbox"&&(o=ee("#i"+e));const u=ee(r==="sandbox"?o.nodes()[0].contentDocument.body:"body").select("#"+e);u.append("g").append("text").attr("x",100).attr("y",40).attr("class","version").attr("font-size","32px").style("text-anchor","middle").text("v "+s),u.attr("height",100),u.attr("width",400)}catch(r){w.error("Error while rendering info diagram"),w.error(r.message)}}},oG=t=>t.match(/^\s*info/)!==null;var Pm=function(){var t=function(lt,tt,it,j){for(it=it||{},j=lt.length;j--;it[lt[j]]=tt);return it},e=[1,4],s=[1,5],r=[1,6],o=[1,7],a=[1,9],u=[1,11,13,15,17,19,20,26,27,28,29],h=[2,5],d=[1,6,11,13,15,17,19,20,26,27,28,29],y=[26,27,28],_=[2,8],v=[1,18],x=[1,19],k=[1,20],D=[1,21],M=[1,22],R=[1,23],Y=[1,28],V=[6,26,27,28,29],X={trace:function(){},yy:{},symbols_:{error:2,start:3,eol:4,directive:5,PIE:6,document:7,showData:8,line:9,statement:10,txt:11,value:12,title:13,title_value:14,acc_title:15,acc_title_value:16,acc_descr:17,acc_descr_value:18,acc_descr_multiline_value:19,section:20,openDirective:21,typeDirective:22,closeDirective:23,":":24,argDirective:25,NEWLINE:26,";":27,EOF:28,open_directive:29,type_directive:30,arg_directive:31,close_directive:32,$accept:0,$end:1},terminals_:{2:"error",6:"PIE",8:"showData",11:"txt",12:"value",13:"title",14:"title_value",15:"acc_title",16:"acc_title_value",17:"acc_descr",18:"acc_descr_value",19:"acc_descr_multiline_value",20:"section",24:":",26:"NEWLINE",27:";",28:"EOF",29:"open_directive",30:"type_directive",31:"arg_directive",32:"close_directive"},productions_:[0,[3,2],[3,2],[3,2],[3,3],[7,0],[7,2],[9,2],[10,0],[10,2],[10,2],[10,2],[10,2],[10,1],[10,1],[10,1],[5,3],[5,5],[4,1],[4,1],[4,1],[21,1],[22,1],[25,1],[23,1]],performAction:function(tt,it,j,W,$,I,H){var S=I.length-1;switch($){case 4:W.setShowData(!0);break;case 7:this.$=I[S-1];break;case 9:W.addSection(I[S-1],W.cleanupValue(I[S]));break;case 10:this.$=I[S].trim(),W.setDiagramTitle(this.$);break;case 11:this.$=I[S].trim(),W.setAccTitle(this.$);break;case 12:case 13:this.$=I[S].trim(),W.setAccDescription(this.$);break;case 14:W.addSection(I[S].substr(8)),this.$=I[S].substr(8);break;case 21:W.parseDirective("%%{","open_directive");break;case 22:W.parseDirective(I[S],"type_directive");break;case 23:I[S]=I[S].trim().replace(/'/g,'"'),W.parseDirective(I[S],"arg_directive");break;case 24:W.parseDirective("}%%","close_directive","pie");break}},table:[{3:1,4:2,5:3,6:e,21:8,26:s,27:r,28:o,29:a},{1:[3]},{3:10,4:2,5:3,6:e,21:8,26:s,27:r,28:o,29:a},{3:11,4:2,5:3,6:e,21:8,26:s,27:r,28:o,29:a},t(u,h,{7:12,8:[1,13]}),t(d,[2,18]),t(d,[2,19]),t(d,[2,20]),{22:14,30:[1,15]},{30:[2,21]},{1:[2,1]},{1:[2,2]},t(y,_,{21:8,9:16,10:17,5:24,1:[2,3],11:v,13:x,15:k,17:D,19:M,20:R,29:a}),t(u,h,{7:25}),{23:26,24:[1,27],32:Y},t([24,32],[2,22]),t(u,[2,6]),{4:29,26:s,27:r,28:o},{12:[1,30]},{14:[1,31]},{16:[1,32]},{18:[1,33]},t(y,[2,13]),t(y,[2,14]),t(y,[2,15]),t(y,_,{21:8,9:16,10:17,5:24,1:[2,4],11:v,13:x,15:k,17:D,19:M,20:R,29:a}),t(V,[2,16]),{25:34,31:[1,35]},t(V,[2,24]),t(u,[2,7]),t(y,[2,9]),t(y,[2,10]),t(y,[2,11]),t(y,[2,12]),{23:36,32:Y},{32:[2,23]},t(V,[2,17])],defaultActions:{9:[2,21],10:[2,1],11:[2,2],35:[2,23]},parseError:function(tt,it){if(it.recoverable)this.trace(tt);else{var j=new Error(tt);throw j.hash=it,j}},parse:function(tt){var it=this,j=[0],W=[],$=[null],I=[],H=this.table,S="",yt=0,T=0,Dt=2,ce=1,Gt=I.slice.call(arguments,1),ut=Object.create(this.lexer),Et={yy:{}};for(var bt in this.yy)Object.prototype.hasOwnProperty.call(this.yy,bt)&&(Et.yy[bt]=this.yy[bt]);ut.setInput(tt,Et.yy),Et.yy.lexer=ut,Et.yy.parser=this,typeof ut.yylloc>"u"&&(ut.yylloc={});var xt=ut.yylloc;I.push(xt);var Tt=ut.options&&ut.options.ranges;typeof Et.yy.parseError=="function"?this.parseError=Et.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function Wt(){var Lt;return Lt=W.pop()||ut.lex()||ce,typeof Lt!="number"&&(Lt instanceof Array&&(W=Lt,Lt=W.pop()),Lt=it.symbols_[Lt]||Lt),Lt}for(var dt,ve,et,st,pt={},Z,q,U,mt;;){if(ve=j[j.length-1],this.defaultActions[ve]?et=this.defaultActions[ve]:((dt===null||typeof dt>"u")&&(dt=Wt()),et=H[ve]&&H[ve][dt]),typeof et>"u"||!et.length||!et[0]){var N="";mt=[];for(Z in H[ve])this.terminals_[Z]&&Z>Dt&&mt.push("'"+this.terminals_[Z]+"'");ut.showPosition?N="Parse error on line "+(yt+1)+`:
`+ut.showPosition()+`
Expecting `+mt.join(", ")+", got '"+(this.terminals_[dt]||dt)+"'":N="Parse error on line "+(yt+1)+": Unexpected "+(dt==ce?"end of input":"'"+(this.terminals_[dt]||dt)+"'"),this.parseError(N,{text:ut.match,token:this.terminals_[dt]||dt,line:ut.yylineno,loc:xt,expected:mt})}if(et[0]instanceof Array&&et.length>1)throw new Error("Parse Error: multiple actions possible at state: "+ve+", token: "+dt);switch(et[0]){case 1:j.push(dt),$.push(ut.yytext),I.push(ut.yylloc),j.push(et[1]),dt=null,T=ut.yyleng,S=ut.yytext,yt=ut.yylineno,xt=ut.yylloc;break;case 2:if(q=this.productions_[et[1]][1],pt.$=$[$.length-q],pt._$={first_line:I[I.length-(q||1)].first_line,last_line:I[I.length-1].last_line,first_column:I[I.length-(q||1)].first_column,last_column:I[I.length-1].last_column},Tt&&(pt._$.range=[I[I.length-(q||1)].range[0],I[I.length-1].range[1]]),st=this.performAction.apply(pt,[S,T,yt,Et.yy,et[1],$,I].concat(Gt)),typeof st<"u")return st;q&&(j=j.slice(0,-1*q*2),$=$.slice(0,-1*q),I=I.slice(0,-1*q)),j.push(this.productions_[et[1]][0]),$.push(pt.$),I.push(pt._$),U=H[j[j.length-2]][j[j.length-1]],j.push(U);break;case 3:return!0}}return!0}},J=function(){var lt={EOF:1,parseError:function(it,j){if(this.yy.parser)this.yy.parser.parseError(it,j);else throw new Error(it)},setInput:function(tt,it){return this.yy=it||this.yy||{},this._input=tt,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var tt=this._input[0];this.yytext+=tt,this.yyleng++,this.offset++,this.match+=tt,this.matched+=tt;var it=tt.match(/(?:\r\n?|\n).*/g);return it?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),tt},unput:function(tt){var it=tt.length,j=tt.split(/(?:\r\n?|\n)/g);this._input=tt+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-it),this.offset-=it;var W=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),j.length-1&&(this.yylineno-=j.length-1);var $=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:j?(j.length===W.length?this.yylloc.first_column:0)+W[W.length-j.length].length-j[0].length:this.yylloc.first_column-it},this.options.ranges&&(this.yylloc.range=[$[0],$[0]+this.yyleng-it]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(tt){this.unput(this.match.slice(tt))},pastInput:function(){var tt=this.matched.substr(0,this.matched.length-this.match.length);return(tt.length>20?"...":"")+tt.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var tt=this.match;return tt.length<20&&(tt+=this._input.substr(0,20-tt.length)),(tt.substr(0,20)+(tt.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var tt=this.pastInput(),it=new Array(tt.length+1).join("-");return tt+this.upcomingInput()+`
`+it+"^"},test_match:function(tt,it){var j,W,$;if(this.options.backtrack_lexer&&($={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&($.yylloc.range=this.yylloc.range.slice(0))),W=tt[0].match(/(?:\r\n?|\n).*/g),W&&(this.yylineno+=W.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:W?W[W.length-1].length-W[W.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+tt[0].length},this.yytext+=tt[0],this.match+=tt[0],this.matches=tt,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(tt[0].length),this.matched+=tt[0],j=this.performAction.call(this,this.yy,this,it,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),j)return j;if(this._backtrack){for(var I in $)this[I]=$[I];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var tt,it,j,W;this._more||(this.yytext="",this.match="");for(var $=this._currentRules(),I=0;I<$.length;I++)if(j=this._input.match(this.rules[$[I]]),j&&(!it||j[0].length>it[0].length)){if(it=j,W=I,this.options.backtrack_lexer){if(tt=this.test_match(j,$[I]),tt!==!1)return tt;if(this._backtrack){it=!1;continue}else return!1}else if(!this.options.flex)break}return it?(tt=this.test_match(it,$[W]),tt!==!1?tt:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var it=this.next();return it||this.lex()},begin:function(it){this.conditionStack.push(it)},popState:function(){var it=this.conditionStack.length-1;return it>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(it){return it=this.conditionStack.length-1-Math.abs(it||0),it>=0?this.conditionStack[it]:"INITIAL"},pushState:function(it){this.begin(it)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(it,j,W,$){switch(W){case 0:return this.begin("open_directive"),29;case 1:return this.begin("type_directive"),30;case 2:return this.popState(),this.begin("arg_directive"),24;case 3:return this.popState(),this.popState(),32;case 4:return 31;case 5:break;case 6:break;case 7:return 26;case 8:break;case 9:break;case 10:return this.begin("title"),13;case 11:return this.popState(),"title_value";case 12:return this.begin("acc_title"),15;case 13:return this.popState(),"acc_title_value";case 14:return this.begin("acc_descr"),17;case 15:return this.popState(),"acc_descr_value";case 16:this.begin("acc_descr_multiline");break;case 17:this.popState();break;case 18:return"acc_descr_multiline_value";case 19:this.begin("string");break;case 20:this.popState();break;case 21:return"txt";case 22:return 6;case 23:return 8;case 24:return"value";case 25:return 28}},rules:[/^(?:%%\{)/i,/^(?:((?:(?!\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\}%%)/i,/^(?:((?:(?!\}%%).|\n)*))/i,/^(?:%%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[\n\r]+)/i,/^(?:%%[^\n]*)/i,/^(?:[\s]+)/i,/^(?:title\b)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:["])/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:pie\b)/i,/^(?:showData\b)/i,/^(?::[\s]*[\d]+(?:\.[\d]+)?)/i,/^(?:$)/i],conditions:{acc_descr_multiline:{rules:[17,18],inclusive:!1},acc_descr:{rules:[15],inclusive:!1},acc_title:{rules:[13],inclusive:!1},close_directive:{rules:[],inclusive:!1},arg_directive:{rules:[3,4],inclusive:!1},type_directive:{rules:[2,3],inclusive:!1},open_directive:{rules:[1],inclusive:!1},title:{rules:[11],inclusive:!1},string:{rules:[20,21],inclusive:!1},INITIAL:{rules:[0,5,6,7,8,9,10,12,14,16,19,22,23,24,25],inclusive:!0}}};return lt}();X.lexer=J;function rt(){this.yy={}}return rt.prototype=X,X.Parser=rt,new rt}();Pm.parser=Pm;const aG=Pm,lG=t=>t.match(/^\s*pie/)!==null||t.match(/^\s*bar/)!==null;let x1={},Vm=!1;const cG={parseDirective:function(t,e,s){Bs.parseDirective(this,t,e,s)},getConfig:()=>ht().pie,addSection:function(t,e){t=vn.sanitizeText(t,ht()),x1[t]===void 0&&(x1[t]=e,w.debug("Added new section :",t))},getSections:()=>x1,cleanupValue:function(t){return t.substring(0,1)===":"&&(t=t.substring(1).trim()),Number(t.trim())},clear:function(){x1={},Vm=!1,zi()},setAccTitle:Ai,getAccTitle:Wi,setDiagramTitle:Qo,getDiagramTitle:Jo,setShowData:function(t){Vm=t},getShowData:function(){return Vm},getAccDescription:ji,setAccDescription:Hi};let ha=ht(),pa;const cp=450,uG={draw:(t,e,s,r)=>{try{ha=ht(),w.debug(`Rendering info diagram
`+t);const V=ht().securityLevel;let X;V==="sandbox"&&(X=ee("#i"+e));const J=ee(V==="sandbox"?X.nodes()[0].contentDocument.body:"body"),rt=V==="sandbox"?X.nodes()[0].contentDocument:document;r.db.clear(),r.parser.parse(t),w.debug("Parsed info diagram");const lt=rt.getElementById(e);pa=lt.parentElement.offsetWidth,pa===void 0&&(pa=1200),ha.useWidth!==void 0&&(pa=ha.useWidth),ha.pie.useWidth!==void 0&&(pa=ha.pie.useWidth);const tt=J.select("#"+e);Ui(tt,cp,pa,ha.pie.useMaxWidth),lt.setAttribute("viewBox","0 0 "+pa+" "+cp);var o=40,a=18,u=4,h=Math.min(pa,cp)/2-o,d=tt.append("g").attr("transform","translate("+pa/2+","+cp/2+")"),y=r.db.getSections(),_=0;Object.keys(y).forEach(function(j){_+=y[j]});const it=ha.themeVariables;var v=[it.pie1,it.pie2,it.pie3,it.pie4,it.pie5,it.pie6,it.pie7,it.pie8,it.pie9,it.pie10,it.pie11,it.pie12],x=u3().range(v),k=Object.entries(y).map(function(j,W){return{order:W,name:j[0],value:j[1]}}),D=tD().value(function(j){return j.value}).sort(function(j,W){return j.order-W.order}),M=D(k),R=Ly().innerRadius(0).outerRadius(h);d.selectAll("mySlices").data(M).enter().append("path").attr("d",R).attr("fill",function(j){return x(j.data.name)}).attr("class","pieCircle"),d.selectAll("mySlices").data(M).enter().append("text").text(function(j){return(j.data.value/_*100).toFixed(0)+"%"}).attr("transform",function(j){return"translate("+R.centroid(j)+")"}).style("text-anchor","middle").attr("class","slice"),d.append("text").text(r.db.getDiagramTitle()).attr("x",0).attr("y",-(cp-50)/2).attr("class","pieTitleText");var Y=d.selectAll(".legend").data(x.domain()).enter().append("g").attr("class","legend").attr("transform",function(j,W){const $=a+u,I=$*x.domain().length/2,H=12*a,S=W*$-I;return"translate("+H+","+S+")"});Y.append("rect").attr("width",a).attr("height",a).style("fill",x).style("stroke",x),Y.data(M).append("text").attr("x",a+u).attr("y",a-u).text(function(j){return r.db.getShowData()||ha.showData||ha.pie.showData?j.data.name+" ["+j.data.value+"]":j.data.name})}catch(V){w.error("Error while rendering info diagram"),w.error(V)}}};var $m=function(){var t=function(ve,et,st,pt){for(st=st||{},pt=ve.length;pt--;st[ve[pt]]=et);return st},e=[1,3],s=[1,5],r=[1,6],o=[1,7],a=[1,8],u=[5,6,8,14,16,18,19,40,41,42,43,44,45,53,71,72],h=[1,22],d=[2,13],y=[1,26],_=[1,27],v=[1,28],x=[1,29],k=[1,30],D=[1,31],M=[1,24],R=[1,32],Y=[1,33],V=[1,36],X=[71,72],J=[5,8,14,16,18,19,40,41,42,43,44,45,53,60,62,71,72],rt=[1,56],lt=[1,57],tt=[1,58],it=[1,59],j=[1,60],W=[1,61],$=[1,62],I=[62,63],H=[1,74],S=[1,70],yt=[1,71],T=[1,72],Dt=[1,73],ce=[1,75],Gt=[1,79],ut=[1,80],Et=[1,77],bt=[1,78],xt=[5,8,14,16,18,19,40,41,42,43,44,45,53,71,72],Tt={trace:function(){},yy:{},symbols_:{error:2,start:3,directive:4,NEWLINE:5,RD:6,diagram:7,EOF:8,openDirective:9,typeDirective:10,closeDirective:11,":":12,argDirective:13,acc_title:14,acc_title_value:15,acc_descr:16,acc_descr_value:17,acc_descr_multiline_value:18,open_directive:19,type_directive:20,arg_directive:21,close_directive:22,requirementDef:23,elementDef:24,relationshipDef:25,requirementType:26,requirementName:27,STRUCT_START:28,requirementBody:29,ID:30,COLONSEP:31,id:32,TEXT:33,text:34,RISK:35,riskLevel:36,VERIFYMTHD:37,verifyType:38,STRUCT_STOP:39,REQUIREMENT:40,FUNCTIONAL_REQUIREMENT:41,INTERFACE_REQUIREMENT:42,PERFORMANCE_REQUIREMENT:43,PHYSICAL_REQUIREMENT:44,DESIGN_CONSTRAINT:45,LOW_RISK:46,MED_RISK:47,HIGH_RISK:48,VERIFY_ANALYSIS:49,VERIFY_DEMONSTRATION:50,VERIFY_INSPECTION:51,VERIFY_TEST:52,ELEMENT:53,elementName:54,elementBody:55,TYPE:56,type:57,DOCREF:58,ref:59,END_ARROW_L:60,relationship:61,LINE:62,END_ARROW_R:63,CONTAINS:64,COPIES:65,DERIVES:66,SATISFIES:67,VERIFIES:68,REFINES:69,TRACES:70,unqString:71,qString:72,$accept:0,$end:1},terminals_:{2:"error",5:"NEWLINE",6:"RD",8:"EOF",12:":",14:"acc_title",15:"acc_title_value",16:"acc_descr",17:"acc_descr_value",18:"acc_descr_multiline_value",19:"open_directive",20:"type_directive",21:"arg_directive",22:"close_directive",28:"STRUCT_START",30:"ID",31:"COLONSEP",33:"TEXT",35:"RISK",37:"VERIFYMTHD",39:"STRUCT_STOP",40:"REQUIREMENT",41:"FUNCTIONAL_REQUIREMENT",42:"INTERFACE_REQUIREMENT",43:"PERFORMANCE_REQUIREMENT",44:"PHYSICAL_REQUIREMENT",45:"DESIGN_CONSTRAINT",46:"LOW_RISK",47:"MED_RISK",48:"HIGH_RISK",49:"VERIFY_ANALYSIS",50:"VERIFY_DEMONSTRATION",51:"VERIFY_INSPECTION",52:"VERIFY_TEST",53:"ELEMENT",56:"TYPE",58:"DOCREF",60:"END_ARROW_L",62:"LINE",63:"END_ARROW_R",64:"CONTAINS",65:"COPIES",66:"DERIVES",67:"SATISFIES",68:"VERIFIES",69:"REFINES",70:"TRACES",71:"unqString",72:"qString"},productions_:[0,[3,3],[3,2],[3,4],[4,3],[4,5],[4,2],[4,2],[4,1],[9,1],[10,1],[13,1],[11,1],[7,0],[7,2],[7,2],[7,2],[7,2],[7,2],[23,5],[29,5],[29,5],[29,5],[29,5],[29,2],[29,1],[26,1],[26,1],[26,1],[26,1],[26,1],[26,1],[36,1],[36,1],[36,1],[38,1],[38,1],[38,1],[38,1],[24,5],[55,5],[55,5],[55,2],[55,1],[25,5],[25,5],[61,1],[61,1],[61,1],[61,1],[61,1],[61,1],[61,1],[27,1],[27,1],[32,1],[32,1],[34,1],[34,1],[54,1],[54,1],[57,1],[57,1],[59,1],[59,1]],performAction:function(et,st,pt,Z,q,U,mt){var N=U.length-1;switch(q){case 6:this.$=U[N].trim(),Z.setAccTitle(this.$);break;case 7:case 8:this.$=U[N].trim(),Z.setAccDescription(this.$);break;case 9:Z.parseDirective("%%{","open_directive");break;case 10:Z.parseDirective(U[N],"type_directive");break;case 11:U[N]=U[N].trim().replace(/'/g,'"'),Z.parseDirective(U[N],"arg_directive");break;case 12:Z.parseDirective("}%%","close_directive","pie");break;case 13:this.$=[];break;case 19:Z.addRequirement(U[N-3],U[N-4]);break;case 20:Z.setNewReqId(U[N-2]);break;case 21:Z.setNewReqText(U[N-2]);break;case 22:Z.setNewReqRisk(U[N-2]);break;case 23:Z.setNewReqVerifyMethod(U[N-2]);break;case 26:this.$=Z.RequirementType.REQUIREMENT;break;case 27:this.$=Z.RequirementType.FUNCTIONAL_REQUIREMENT;break;case 28:this.$=Z.RequirementType.INTERFACE_REQUIREMENT;break;case 29:this.$=Z.RequirementType.PERFORMANCE_REQUIREMENT;break;case 30:this.$=Z.RequirementType.PHYSICAL_REQUIREMENT;break;case 31:this.$=Z.RequirementType.DESIGN_CONSTRAINT;break;case 32:this.$=Z.RiskLevel.LOW_RISK;break;case 33:this.$=Z.RiskLevel.MED_RISK;break;case 34:this.$=Z.RiskLevel.HIGH_RISK;break;case 35:this.$=Z.VerifyType.VERIFY_ANALYSIS;break;case 36:this.$=Z.VerifyType.VERIFY_DEMONSTRATION;break;case 37:this.$=Z.VerifyType.VERIFY_INSPECTION;break;case 38:this.$=Z.VerifyType.VERIFY_TEST;break;case 39:Z.addElement(U[N-3]);break;case 40:Z.setNewElementType(U[N-2]);break;case 41:Z.setNewElementDocRef(U[N-2]);break;case 44:Z.addRelationship(U[N-2],U[N],U[N-4]);break;case 45:Z.addRelationship(U[N-2],U[N-4],U[N]);break;case 46:this.$=Z.Relationships.CONTAINS;break;case 47:this.$=Z.Relationships.COPIES;break;case 48:this.$=Z.Relationships.DERIVES;break;case 49:this.$=Z.Relationships.SATISFIES;break;case 50:this.$=Z.Relationships.VERIFIES;break;case 51:this.$=Z.Relationships.REFINES;break;case 52:this.$=Z.Relationships.TRACES;break}},table:[{3:1,4:2,6:e,9:4,14:s,16:r,18:o,19:a},{1:[3]},{3:10,4:2,5:[1,9],6:e,9:4,14:s,16:r,18:o,19:a},{5:[1,11]},{10:12,20:[1,13]},{15:[1,14]},{17:[1,15]},t(u,[2,8]),{20:[2,9]},{3:16,4:2,6:e,9:4,14:s,16:r,18:o,19:a},{1:[2,2]},{4:21,5:h,7:17,8:d,9:4,14:s,16:r,18:o,19:a,23:18,24:19,25:20,26:23,32:25,40:y,41:_,42:v,43:x,44:k,45:D,53:M,71:R,72:Y},{11:34,12:[1,35],22:V},t([12,22],[2,10]),t(u,[2,6]),t(u,[2,7]),{1:[2,1]},{8:[1,37]},{4:21,5:h,7:38,8:d,9:4,14:s,16:r,18:o,19:a,23:18,24:19,25:20,26:23,32:25,40:y,41:_,42:v,43:x,44:k,45:D,53:M,71:R,72:Y},{4:21,5:h,7:39,8:d,9:4,14:s,16:r,18:o,19:a,23:18,24:19,25:20,26:23,32:25,40:y,41:_,42:v,43:x,44:k,45:D,53:M,71:R,72:Y},{4:21,5:h,7:40,8:d,9:4,14:s,16:r,18:o,19:a,23:18,24:19,25:20,26:23,32:25,40:y,41:_,42:v,43:x,44:k,45:D,53:M,71:R,72:Y},{4:21,5:h,7:41,8:d,9:4,14:s,16:r,18:o,19:a,23:18,24:19,25:20,26:23,32:25,40:y,41:_,42:v,43:x,44:k,45:D,53:M,71:R,72:Y},{4:21,5:h,7:42,8:d,9:4,14:s,16:r,18:o,19:a,23:18,24:19,25:20,26:23,32:25,40:y,41:_,42:v,43:x,44:k,45:D,53:M,71:R,72:Y},{27:43,71:[1,44],72:[1,45]},{54:46,71:[1,47],72:[1,48]},{60:[1,49],62:[1,50]},t(X,[2,26]),t(X,[2,27]),t(X,[2,28]),t(X,[2,29]),t(X,[2,30]),t(X,[2,31]),t(J,[2,55]),t(J,[2,56]),t(u,[2,4]),{13:51,21:[1,52]},t(u,[2,12]),{1:[2,3]},{8:[2,14]},{8:[2,15]},{8:[2,16]},{8:[2,17]},{8:[2,18]},{28:[1,53]},{28:[2,53]},{28:[2,54]},{28:[1,54]},{28:[2,59]},{28:[2,60]},{61:55,64:rt,65:lt,66:tt,67:it,68:j,69:W,70:$},{61:63,64:rt,65:lt,66:tt,67:it,68:j,69:W,70:$},{11:64,22:V},{22:[2,11]},{5:[1,65]},{5:[1,66]},{62:[1,67]},t(I,[2,46]),t(I,[2,47]),t(I,[2,48]),t(I,[2,49]),t(I,[2,50]),t(I,[2,51]),t(I,[2,52]),{63:[1,68]},t(u,[2,5]),{5:H,29:69,30:S,33:yt,35:T,37:Dt,39:ce},{5:Gt,39:ut,55:76,56:Et,58:bt},{32:81,71:R,72:Y},{32:82,71:R,72:Y},t(xt,[2,19]),{31:[1,83]},{31:[1,84]},{31:[1,85]},{31:[1,86]},{5:H,29:87,30:S,33:yt,35:T,37:Dt,39:ce},t(xt,[2,25]),t(xt,[2,39]),{31:[1,88]},{31:[1,89]},{5:Gt,39:ut,55:90,56:Et,58:bt},t(xt,[2,43]),t(xt,[2,44]),t(xt,[2,45]),{32:91,71:R,72:Y},{34:92,71:[1,93],72:[1,94]},{36:95,46:[1,96],47:[1,97],48:[1,98]},{38:99,49:[1,100],50:[1,101],51:[1,102],52:[1,103]},t(xt,[2,24]),{57:104,71:[1,105],72:[1,106]},{59:107,71:[1,108],72:[1,109]},t(xt,[2,42]),{5:[1,110]},{5:[1,111]},{5:[2,57]},{5:[2,58]},{5:[1,112]},{5:[2,32]},{5:[2,33]},{5:[2,34]},{5:[1,113]},{5:[2,35]},{5:[2,36]},{5:[2,37]},{5:[2,38]},{5:[1,114]},{5:[2,61]},{5:[2,62]},{5:[1,115]},{5:[2,63]},{5:[2,64]},{5:H,29:116,30:S,33:yt,35:T,37:Dt,39:ce},{5:H,29:117,30:S,33:yt,35:T,37:Dt,39:ce},{5:H,29:118,30:S,33:yt,35:T,37:Dt,39:ce},{5:H,29:119,30:S,33:yt,35:T,37:Dt,39:ce},{5:Gt,39:ut,55:120,56:Et,58:bt},{5:Gt,39:ut,55:121,56:Et,58:bt},t(xt,[2,20]),t(xt,[2,21]),t(xt,[2,22]),t(xt,[2,23]),t(xt,[2,40]),t(xt,[2,41])],defaultActions:{8:[2,9],10:[2,2],16:[2,1],37:[2,3],38:[2,14],39:[2,15],40:[2,16],41:[2,17],42:[2,18],44:[2,53],45:[2,54],47:[2,59],48:[2,60],52:[2,11],93:[2,57],94:[2,58],96:[2,32],97:[2,33],98:[2,34],100:[2,35],101:[2,36],102:[2,37],103:[2,38],105:[2,61],106:[2,62],108:[2,63],109:[2,64]},parseError:function(et,st){if(st.recoverable)this.trace(et);else{var pt=new Error(et);throw pt.hash=st,pt}},parse:function(et){var st=this,pt=[0],Z=[],q=[null],U=[],mt=this.table,N="",Lt=0,nt=0,Be=2,vt=1,de=U.slice.call(arguments,1),Xt=Object.create(this.lexer),Nt={yy:{}};for(var Qt in this.yy)Object.prototype.hasOwnProperty.call(this.yy,Qt)&&(Nt.yy[Qt]=this.yy[Qt]);Xt.setInput(et,Nt.yy),Nt.yy.lexer=Xt,Nt.yy.parser=this,typeof Xt.yylloc>"u"&&(Xt.yylloc={});var qt=Xt.yylloc;U.push(qt);var Ot=Xt.options&&Xt.options.ranges;typeof Nt.yy.parseError=="function"?this.parseError=Nt.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function Ct(){var Rt;return Rt=Z.pop()||Xt.lex()||vt,typeof Rt!="number"&&(Rt instanceof Array&&(Z=Rt,Rt=Z.pop()),Rt=st.symbols_[Rt]||Rt),Rt}for(var gn,We,Ue,je,Oe={},zn,Me,Se,we;;){if(We=pt[pt.length-1],this.defaultActions[We]?Ue=this.defaultActions[We]:((gn===null||typeof gn>"u")&&(gn=Ct()),Ue=mt[We]&&mt[We][gn]),typeof Ue>"u"||!Ue.length||!Ue[0]){var Ht="";we=[];for(zn in mt[We])this.terminals_[zn]&&zn>Be&&we.push("'"+this.terminals_[zn]+"'");Xt.showPosition?Ht="Parse error on line "+(Lt+1)+`:
`+Xt.showPosition()+`
Expecting `+we.join(", ")+", got '"+(this.terminals_[gn]||gn)+"'":Ht="Parse error on line "+(Lt+1)+": Unexpected "+(gn==vt?"end of input":"'"+(this.terminals_[gn]||gn)+"'"),this.parseError(Ht,{text:Xt.match,token:this.terminals_[gn]||gn,line:Xt.yylineno,loc:qt,expected:we})}if(Ue[0]instanceof Array&&Ue.length>1)throw new Error("Parse Error: multiple actions possible at state: "+We+", token: "+gn);switch(Ue[0]){case 1:pt.push(gn),q.push(Xt.yytext),U.push(Xt.yylloc),pt.push(Ue[1]),gn=null,nt=Xt.yyleng,N=Xt.yytext,Lt=Xt.yylineno,qt=Xt.yylloc;break;case 2:if(Me=this.productions_[Ue[1]][1],Oe.$=q[q.length-Me],Oe._$={first_line:U[U.length-(Me||1)].first_line,last_line:U[U.length-1].last_line,first_column:U[U.length-(Me||1)].first_column,last_column:U[U.length-1].last_column},Ot&&(Oe._$.range=[U[U.length-(Me||1)].range[0],U[U.length-1].range[1]]),je=this.performAction.apply(Oe,[N,nt,Lt,Nt.yy,Ue[1],q,U].concat(de)),typeof je<"u")return je;Me&&(pt=pt.slice(0,-1*Me*2),q=q.slice(0,-1*Me),U=U.slice(0,-1*Me)),pt.push(this.productions_[Ue[1]][0]),q.push(Oe.$),U.push(Oe._$),Se=mt[pt[pt.length-2]][pt[pt.length-1]],pt.push(Se);break;case 3:return!0}}return!0}},Wt=function(){var ve={EOF:1,parseError:function(st,pt){if(this.yy.parser)this.yy.parser.parseError(st,pt);else throw new Error(st)},setInput:function(et,st){return this.yy=st||this.yy||{},this._input=et,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var et=this._input[0];this.yytext+=et,this.yyleng++,this.offset++,this.match+=et,this.matched+=et;var st=et.match(/(?:\r\n?|\n).*/g);return st?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),et},unput:function(et){var st=et.length,pt=et.split(/(?:\r\n?|\n)/g);this._input=et+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-st),this.offset-=st;var Z=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),pt.length-1&&(this.yylineno-=pt.length-1);var q=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:pt?(pt.length===Z.length?this.yylloc.first_column:0)+Z[Z.length-pt.length].length-pt[0].length:this.yylloc.first_column-st},this.options.ranges&&(this.yylloc.range=[q[0],q[0]+this.yyleng-st]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(et){this.unput(this.match.slice(et))},pastInput:function(){var et=this.matched.substr(0,this.matched.length-this.match.length);return(et.length>20?"...":"")+et.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var et=this.match;return et.length<20&&(et+=this._input.substr(0,20-et.length)),(et.substr(0,20)+(et.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var et=this.pastInput(),st=new Array(et.length+1).join("-");return et+this.upcomingInput()+`
`+st+"^"},test_match:function(et,st){var pt,Z,q;if(this.options.backtrack_lexer&&(q={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(q.yylloc.range=this.yylloc.range.slice(0))),Z=et[0].match(/(?:\r\n?|\n).*/g),Z&&(this.yylineno+=Z.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:Z?Z[Z.length-1].length-Z[Z.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+et[0].length},this.yytext+=et[0],this.match+=et[0],this.matches=et,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(et[0].length),this.matched+=et[0],pt=this.performAction.call(this,this.yy,this,st,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),pt)return pt;if(this._backtrack){for(var U in q)this[U]=q[U];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var et,st,pt,Z;this._more||(this.yytext="",this.match="");for(var q=this._currentRules(),U=0;U<q.length;U++)if(pt=this._input.match(this.rules[q[U]]),pt&&(!st||pt[0].length>st[0].length)){if(st=pt,Z=U,this.options.backtrack_lexer){if(et=this.test_match(pt,q[U]),et!==!1)return et;if(this._backtrack){st=!1;continue}else return!1}else if(!this.options.flex)break}return st?(et=this.test_match(st,q[Z]),et!==!1?et:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var st=this.next();return st||this.lex()},begin:function(st){this.conditionStack.push(st)},popState:function(){var st=this.conditionStack.length-1;return st>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(st){return st=this.conditionStack.length-1-Math.abs(st||0),st>=0?this.conditionStack[st]:"INITIAL"},pushState:function(st){this.begin(st)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(st,pt,Z,q){switch(Z){case 0:return this.begin("open_directive"),19;case 1:return this.begin("type_directive"),20;case 2:return this.popState(),this.begin("arg_directive"),12;case 3:return this.popState(),this.popState(),22;case 4:return 21;case 5:return"title";case 6:return this.begin("acc_title"),14;case 7:return this.popState(),"acc_title_value";case 8:return this.begin("acc_descr"),16;case 9:return this.popState(),"acc_descr_value";case 10:this.begin("acc_descr_multiline");break;case 11:this.popState();break;case 12:return"acc_descr_multiline_value";case 13:return 5;case 14:break;case 15:break;case 16:break;case 17:return 8;case 18:return 6;case 19:return 28;case 20:return 39;case 21:return 31;case 22:return 30;case 23:return 33;case 24:return 35;case 25:return 37;case 26:return 40;case 27:return 41;case 28:return 42;case 29:return 43;case 30:return 44;case 31:return 45;case 32:return 46;case 33:return 47;case 34:return 48;case 35:return 49;case 36:return 50;case 37:return 51;case 38:return 52;case 39:return 53;case 40:return 64;case 41:return 65;case 42:return 66;case 43:return 67;case 44:return 68;case 45:return 69;case 46:return 70;case 47:return 56;case 48:return 58;case 49:return 60;case 50:return 63;case 51:return 62;case 52:this.begin("string");break;case 53:this.popState();break;case 54:return"qString";case 55:return pt.yytext=pt.yytext.trim(),71}},rules:[/^(?:%%\{)/i,/^(?:((?:(?!\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\}%%)/i,/^(?:((?:(?!\}%%).|\n)*))/i,/^(?:title\s[^#\n;]+)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:(\r?\n)+)/i,/^(?:\s+)/i,/^(?:#[^\n]*)/i,/^(?:%[^\n]*)/i,/^(?:$)/i,/^(?:requirementDiagram\b)/i,/^(?:\{)/i,/^(?:\})/i,/^(?::)/i,/^(?:id\b)/i,/^(?:text\b)/i,/^(?:risk\b)/i,/^(?:verifyMethod\b)/i,/^(?:requirement\b)/i,/^(?:functionalRequirement\b)/i,/^(?:interfaceRequirement\b)/i,/^(?:performanceRequirement\b)/i,/^(?:physicalRequirement\b)/i,/^(?:designConstraint\b)/i,/^(?:low\b)/i,/^(?:medium\b)/i,/^(?:high\b)/i,/^(?:analysis\b)/i,/^(?:demonstration\b)/i,/^(?:inspection\b)/i,/^(?:test\b)/i,/^(?:element\b)/i,/^(?:contains\b)/i,/^(?:copies\b)/i,/^(?:derives\b)/i,/^(?:satisfies\b)/i,/^(?:verifies\b)/i,/^(?:refines\b)/i,/^(?:traces\b)/i,/^(?:type\b)/i,/^(?:docref\b)/i,/^(?:<-)/i,/^(?:->)/i,/^(?:-)/i,/^(?:["])/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:[\w][^\r\n\{\<\>\-\=]*)/i],conditions:{acc_descr_multiline:{rules:[11,12],inclusive:!1},acc_descr:{rules:[9],inclusive:!1},acc_title:{rules:[7],inclusive:!1},close_directive:{rules:[],inclusive:!1},arg_directive:{rules:[3,4],inclusive:!1},type_directive:{rules:[2,3],inclusive:!1},open_directive:{rules:[1],inclusive:!1},unqString:{rules:[],inclusive:!1},token:{rules:[],inclusive:!1},string:{rules:[53,54],inclusive:!1},INITIAL:{rules:[0,5,6,8,10,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,55],inclusive:!0}}};return ve}();Tt.lexer=Wt;function dt(){this.yy={}}return dt.prototype=Tt,Tt.Parser=dt,new dt}();$m.parser=$m;const hG=$m,pG=t=>t.match(/^\s*requirement(Diagram)?/)!==null;let Ym=[],Qr={},up={},qa={},hp={};const dG={RequirementType:{REQUIREMENT:"Requirement",FUNCTIONAL_REQUIREMENT:"Functional Requirement",INTERFACE_REQUIREMENT:"Interface Requirement",PERFORMANCE_REQUIREMENT:"Performance Requirement",PHYSICAL_REQUIREMENT:"Physical Requirement",DESIGN_CONSTRAINT:"Design Constraint"},RiskLevel:{LOW_RISK:"Low",MED_RISK:"Medium",HIGH_RISK:"High"},VerifyType:{VERIFY_ANALYSIS:"Analysis",VERIFY_DEMONSTRATION:"Demonstration",VERIFY_INSPECTION:"Inspection",VERIFY_TEST:"Test"},Relationships:{CONTAINS:"contains",COPIES:"copies",DERIVES:"derives",SATISFIES:"satisfies",VERIFIES:"verifies",REFINES:"refines",TRACES:"traces"},parseDirective:function(t,e,s){Bs.parseDirective(this,t,e,s)},getConfig:()=>ht().req,addRequirement:(t,e)=>(up[t]===void 0&&(up[t]={name:t,type:e,id:Qr.id,text:Qr.text,risk:Qr.risk,verifyMethod:Qr.verifyMethod}),Qr={},up[t]),getRequirements:()=>up,setNewReqId:t=>{Qr!==void 0&&(Qr.id=t)},setNewReqText:t=>{Qr!==void 0&&(Qr.text=t)},setNewReqRisk:t=>{Qr!==void 0&&(Qr.risk=t)},setNewReqVerifyMethod:t=>{Qr!==void 0&&(Qr.verifyMethod=t)},setAccTitle:Ai,getAccTitle:Wi,setAccDescription:Hi,getAccDescription:ji,addElement:t=>(hp[t]===void 0&&(hp[t]={name:t,type:qa.type,docRef:qa.docRef},w.info("Added new requirement: ",t)),qa={},hp[t]),getElements:()=>hp,setNewElementType:t=>{qa!==void 0&&(qa.type=t)},setNewElementDocRef:t=>{qa!==void 0&&(qa.docRef=t)},addRelationship:(t,e,s)=>{Ym.push({type:t,src:e,dst:s})},getRelationships:()=>Ym,clear:()=>{Ym=[],Qr={},up={},qa={},hp={},zi()}},Um={CONTAINS:"contains",ARROW:"arrow"},H6={ReqMarkers:Um,insertLineEndings:(t,e)=>{let s=t.append("defs").append("marker").attr("id",Um.CONTAINS+"_line_ending").attr("refX",0).attr("refY",e.line_height/2).attr("markerWidth",e.line_height).attr("markerHeight",e.line_height).attr("orient","auto").append("g");s.append("circle").attr("cx",e.line_height/2).attr("cy",e.line_height/2).attr("r",e.line_height/2).attr("fill","none"),s.append("line").attr("x1",0).attr("x2",e.line_height).attr("y1",e.line_height/2).attr("y2",e.line_height/2).attr("stroke-width",1),s.append("line").attr("y1",0).attr("y2",e.line_height).attr("x1",e.line_height/2).attr("x2",e.line_height/2).attr("stroke-width",1),t.append("defs").append("marker").attr("id",Um.ARROW+"_line_ending").attr("refX",e.line_height).attr("refY",.5*e.line_height).attr("markerWidth",e.line_height).attr("markerHeight",e.line_height).attr("orient","auto").append("path").attr("d",`M0,0
      L${e.line_height},${e.line_height/2}
      M${e.line_height},${e.line_height/2}
      L0,${e.line_height}`).attr("stroke-width",1)}};let Ls={},j6=0;const G6=(t,e)=>t.insert("rect","#"+e).attr("class","req reqBox").attr("x",0).attr("y",0).attr("width",Ls.rect_min_width+"px").attr("height",Ls.rect_min_height+"px"),q6=(t,e,s)=>{let r=Ls.rect_min_width/2,o=t.append("text").attr("class","req reqLabel reqTitle").attr("id",e).attr("x",r).attr("y",Ls.rect_padding).attr("dominant-baseline","hanging"),a=0;s.forEach(y=>{a==0?o.append("tspan").attr("text-anchor","middle").attr("x",Ls.rect_min_width/2).attr("dy",0).text(y):o.append("tspan").attr("text-anchor","middle").attr("x",Ls.rect_min_width/2).attr("dy",Ls.line_height*.75).text(y),a++});let u=1.5*Ls.rect_padding,h=a*Ls.line_height*.75,d=u+h;return t.append("line").attr("class","req-title-line").attr("x1","0").attr("x2",Ls.rect_min_width).attr("y1",d).attr("y2",d),{titleNode:o,y:d}},X6=(t,e,s,r)=>{let o=t.append("text").attr("class","req reqLabel").attr("id",e).attr("x",Ls.rect_padding).attr("y",r).attr("dominant-baseline","hanging"),a=0;const u=30;let h=[];return s.forEach(d=>{let y=d.length;for(;y>u&&a<3;){let _=d.substring(0,u);d=d.substring(u,d.length),y=d.length,h[h.length]=_,a++}if(a==3){let _=h[h.length-1];h[h.length-1]=_.substring(0,_.length-4)+"..."}else h[h.length]=d;a=0}),h.forEach(d=>{o.append("tspan").attr("x",Ls.rect_padding).attr("dy",Ls.line_height).text(d)}),o},fG=(t,e,s,r)=>{const o=e.node().getTotalLength(),a=e.node().getPointAtLength(o*.5),u="rel"+j6;j6++;const d=t.append("text").attr("class","req relationshipLabel").attr("id",u).attr("x",a.x).attr("y",a.y).attr("text-anchor","middle").attr("dominant-baseline","middle").text(r).node().getBBox();t.insert("rect","#"+u).attr("class","req reqLabelBox").attr("x",a.x-d.width/2).attr("y",a.y-d.height/2).attr("width",d.width).attr("height",d.height).attr("fill","white").attr("fill-opacity","85%")},yG=function(t,e,s,r,o){const a=s.edge(Tu(e.src),Tu(e.dst)),u=Zc().x(function(d){return d.x}).y(function(d){return d.y}),h=t.insert("path","#"+r).attr("class","er relationshipLine").attr("d",u(a.points)).attr("fill","none");e.type==o.db.Relationships.CONTAINS?h.attr("marker-start","url("+vn.getUrl(Ls.arrowMarkerAbsolute)+"#"+e.type+"_line_ending)"):(h.attr("stroke-dasharray","10,7"),h.attr("marker-end","url("+vn.getUrl(Ls.arrowMarkerAbsolute)+"#"+H6.ReqMarkers.ARROW+"_line_ending)")),fG(t,h,Ls,`<<${e.type}>>`)},gG=(t,e,s)=>{Object.keys(t).forEach(r=>{let o=t[r];r=Tu(r),w.info("Added new requirement: ",r);const a=s.append("g").attr("id",r),u="req-"+r,h=G6(a,u);let d=q6(a,r+"_title",[`<<${o.type}>>`,`${o.name}`]);X6(a,r+"_body",[`Id: ${o.id}`,`Text: ${o.text}`,`Risk: ${o.risk}`,`Verification: ${o.verifyMethod}`],d.y);const y=h.node().getBBox();e.setNode(r,{width:y.width,height:y.height,shape:"rect",id:r})})},mG=(t,e,s)=>{Object.keys(t).forEach(r=>{let o=t[r];const a=Tu(r),u=s.append("g").attr("id",a),h="element-"+a,d=G6(u,h);let y=q6(u,h+"_title",["<<Element>>",`${r}`]);X6(u,h+"_body",[`Type: ${o.type||"Not Specified"}`,`Doc Ref: ${o.docRef||"None"}`],y.y);const _=d.node().getBBox();e.setNode(a,{width:_.width,height:_.height,shape:"rect",id:a})})},_G=(t,e)=>(t.forEach(function(s){let r=Tu(s.src),o=Tu(s.dst);e.setEdge(r,o,{relationship:s})}),t),vG=function(t,e){e.nodes().forEach(function(s){s!==void 0&&e.node(s)!==void 0&&(t.select("#"+s),t.select("#"+s).attr("transform","translate("+(e.node(s).x-e.node(s).width/2)+","+(e.node(s).y-e.node(s).height/2)+" )"))})},Tu=t=>t.replace(/\s/g,"").replace(/\./g,"_"),bG={draw:(t,e,s,r)=>{Ls=ht().requirement,r.db.clear(),r.parser.parse(t);const o=Ls.securityLevel;let a;o==="sandbox"&&(a=ee("#i"+e));const h=ee(o==="sandbox"?a.nodes()[0].contentDocument.body:"body").select(`[id='${e}']`);H6.insertLineEndings(h,Ls);const d=new Gs({multigraph:!1,compound:!1,directed:!0}).setGraph({rankdir:Ls.layoutDirection,marginx:20,marginy:20,nodesep:100,edgesep:100,ranksep:100}).setDefaultEdgeLabel(function(){return{}});let y=r.db.getRequirements(),_=r.db.getElements(),v=r.db.getRelationships();gG(y,d,h),mG(_,d,h),_G(v,d),Cu(d),vG(h,d),v.forEach(function(R){yG(h,R,d,e,r)});const x=Ls.rect_padding,k=h.node().getBBox(),D=k.width+x*2,M=k.height+x*2;Ui(h,M,D,Ls.useMaxWidth),h.attr("viewBox",`${k.x-x} ${k.y-x} ${D} ${M}`)}};var zm=function(){var t=function(ve,et,st,pt){for(st=st||{},pt=ve.length;pt--;st[ve[pt]]=et);return st},e=[1,2],s=[1,3],r=[1,5],o=[1,7],a=[2,5],u=[1,15],h=[1,17],d=[1,18],y=[1,19],_=[1,21],v=[1,22],x=[1,23],k=[1,29],D=[1,30],M=[1,31],R=[1,32],Y=[1,33],V=[1,34],X=[1,35],J=[1,36],rt=[1,37],lt=[1,38],tt=[1,39],it=[1,40],j=[1,43],W=[1,44],$=[1,45],I=[1,46],H=[1,47],S=[1,48],yt=[1,51],T=[1,4,5,16,20,22,25,26,32,33,34,36,38,39,40,41,42,43,45,47,49,50,51,52,53,58,59,60,61,69,79],Dt=[4,5,16,20,22,25,26,32,33,34,36,38,39,40,41,42,43,45,47,49,53,58,59,60,61,69,79],ce=[4,5,16,20,22,25,26,32,33,34,36,38,39,40,41,42,43,45,47,49,52,53,58,59,60,61,69,79],Gt=[4,5,16,20,22,25,26,32,33,34,36,38,39,40,41,42,43,45,47,49,51,53,58,59,60,61,69,79],ut=[4,5,16,20,22,25,26,32,33,34,36,38,39,40,41,42,43,45,47,49,50,53,58,59,60,61,69,79],Et=[67,68,69],bt=[1,121],xt=[1,4,5,7,16,20,22,25,26,32,33,34,36,38,39,40,41,42,43,45,47,49,50,51,52,53,58,59,60,61,69,79],Tt={trace:function(){},yy:{},symbols_:{error:2,start:3,SPACE:4,NEWLINE:5,directive:6,SD:7,document:8,line:9,statement:10,openDirective:11,typeDirective:12,closeDirective:13,":":14,argDirective:15,participant:16,actor:17,AS:18,restOfLine:19,participant_actor:20,signal:21,autonumber:22,NUM:23,off:24,activate:25,deactivate:26,note_statement:27,links_statement:28,link_statement:29,properties_statement:30,details_statement:31,title:32,legacy_title:33,acc_title:34,acc_title_value:35,acc_descr:36,acc_descr_value:37,acc_descr_multiline_value:38,loop:39,end:40,rect:41,opt:42,alt:43,else_sections:44,par:45,par_sections:46,critical:47,option_sections:48,break:49,option:50,and:51,else:52,note:53,placement:54,text2:55,over:56,actor_pair:57,links:58,link:59,properties:60,details:61,spaceList:62,",":63,left_of:64,right_of:65,signaltype:66,"+":67,"-":68,ACTOR:69,SOLID_OPEN_ARROW:70,DOTTED_OPEN_ARROW:71,SOLID_ARROW:72,DOTTED_ARROW:73,SOLID_CROSS:74,DOTTED_CROSS:75,SOLID_POINT:76,DOTTED_POINT:77,TXT:78,open_directive:79,type_directive:80,arg_directive:81,close_directive:82,$accept:0,$end:1},terminals_:{2:"error",4:"SPACE",5:"NEWLINE",7:"SD",14:":",16:"participant",18:"AS",19:"restOfLine",20:"participant_actor",22:"autonumber",23:"NUM",24:"off",25:"activate",26:"deactivate",32:"title",33:"legacy_title",34:"acc_title",35:"acc_title_value",36:"acc_descr",37:"acc_descr_value",38:"acc_descr_multiline_value",39:"loop",40:"end",41:"rect",42:"opt",43:"alt",45:"par",47:"critical",49:"break",50:"option",51:"and",52:"else",53:"note",56:"over",58:"links",59:"link",60:"properties",61:"details",63:",",64:"left_of",65:"right_of",67:"+",68:"-",69:"ACTOR",70:"SOLID_OPEN_ARROW",71:"DOTTED_OPEN_ARROW",72:"SOLID_ARROW",73:"DOTTED_ARROW",74:"SOLID_CROSS",75:"DOTTED_CROSS",76:"SOLID_POINT",77:"DOTTED_POINT",78:"TXT",79:"open_directive",80:"type_directive",81:"arg_directive",82:"close_directive"},productions_:[0,[3,2],[3,2],[3,2],[3,2],[8,0],[8,2],[9,2],[9,1],[9,1],[6,4],[6,6],[10,5],[10,3],[10,5],[10,3],[10,2],[10,4],[10,3],[10,3],[10,2],[10,3],[10,3],[10,2],[10,2],[10,2],[10,2],[10,2],[10,1],[10,1],[10,2],[10,2],[10,1],[10,4],[10,4],[10,4],[10,4],[10,4],[10,4],[10,4],[10,1],[48,1],[48,4],[46,1],[46,4],[44,1],[44,4],[27,4],[27,4],[28,3],[29,3],[30,3],[31,3],[62,2],[62,1],[57,3],[57,1],[54,1],[54,1],[21,5],[21,5],[21,4],[17,1],[66,1],[66,1],[66,1],[66,1],[66,1],[66,1],[66,1],[66,1],[55,1],[11,1],[12,1],[15,1],[13,1]],performAction:function(et,st,pt,Z,q,U,mt){var N=U.length-1;switch(q){case 4:return Z.apply(U[N]),U[N];case 5:this.$=[];break;case 6:U[N-1].push(U[N]),this.$=U[N-1];break;case 7:case 8:this.$=U[N];break;case 9:this.$=[];break;case 12:U[N-3].type="addParticipant",U[N-3].description=Z.parseMessage(U[N-1]),this.$=U[N-3];break;case 13:U[N-1].type="addParticipant",this.$=U[N-1];break;case 14:U[N-3].type="addActor",U[N-3].description=Z.parseMessage(U[N-1]),this.$=U[N-3];break;case 15:U[N-1].type="addActor",this.$=U[N-1];break;case 17:this.$={type:"sequenceIndex",sequenceIndex:Number(U[N-2]),sequenceIndexStep:Number(U[N-1]),sequenceVisible:!0,signalType:Z.LINETYPE.AUTONUMBER};break;case 18:this.$={type:"sequenceIndex",sequenceIndex:Number(U[N-1]),sequenceIndexStep:1,sequenceVisible:!0,signalType:Z.LINETYPE.AUTONUMBER};break;case 19:this.$={type:"sequenceIndex",sequenceVisible:!1,signalType:Z.LINETYPE.AUTONUMBER};break;case 20:this.$={type:"sequenceIndex",sequenceVisible:!0,signalType:Z.LINETYPE.AUTONUMBER};break;case 21:this.$={type:"activeStart",signalType:Z.LINETYPE.ACTIVE_START,actor:U[N-1]};break;case 22:this.$={type:"activeEnd",signalType:Z.LINETYPE.ACTIVE_END,actor:U[N-1]};break;case 28:Z.setDiagramTitle(U[N].substring(6)),this.$=U[N].substring(6);break;case 29:Z.setDiagramTitle(U[N].substring(7)),this.$=U[N].substring(7);break;case 30:this.$=U[N].trim(),Z.setAccTitle(this.$);break;case 31:case 32:this.$=U[N].trim(),Z.setAccDescription(this.$);break;case 33:U[N-1].unshift({type:"loopStart",loopText:Z.parseMessage(U[N-2]),signalType:Z.LINETYPE.LOOP_START}),U[N-1].push({type:"loopEnd",loopText:U[N-2],signalType:Z.LINETYPE.LOOP_END}),this.$=U[N-1];break;case 34:U[N-1].unshift({type:"rectStart",color:Z.parseMessage(U[N-2]),signalType:Z.LINETYPE.RECT_START}),U[N-1].push({type:"rectEnd",color:Z.parseMessage(U[N-2]),signalType:Z.LINETYPE.RECT_END}),this.$=U[N-1];break;case 35:U[N-1].unshift({type:"optStart",optText:Z.parseMessage(U[N-2]),signalType:Z.LINETYPE.OPT_START}),U[N-1].push({type:"optEnd",optText:Z.parseMessage(U[N-2]),signalType:Z.LINETYPE.OPT_END}),this.$=U[N-1];break;case 36:U[N-1].unshift({type:"altStart",altText:Z.parseMessage(U[N-2]),signalType:Z.LINETYPE.ALT_START}),U[N-1].push({type:"altEnd",signalType:Z.LINETYPE.ALT_END}),this.$=U[N-1];break;case 37:U[N-1].unshift({type:"parStart",parText:Z.parseMessage(U[N-2]),signalType:Z.LINETYPE.PAR_START}),U[N-1].push({type:"parEnd",signalType:Z.LINETYPE.PAR_END}),this.$=U[N-1];break;case 38:U[N-1].unshift({type:"criticalStart",criticalText:Z.parseMessage(U[N-2]),signalType:Z.LINETYPE.CRITICAL_START}),U[N-1].push({type:"criticalEnd",signalType:Z.LINETYPE.CRITICAL_END}),this.$=U[N-1];break;case 39:U[N-1].unshift({type:"breakStart",breakText:Z.parseMessage(U[N-2]),signalType:Z.LINETYPE.BREAK_START}),U[N-1].push({type:"breakEnd",optText:Z.parseMessage(U[N-2]),signalType:Z.LINETYPE.BREAK_END}),this.$=U[N-1];break;case 42:this.$=U[N-3].concat([{type:"option",optionText:Z.parseMessage(U[N-1]),signalType:Z.LINETYPE.CRITICAL_OPTION},U[N]]);break;case 44:this.$=U[N-3].concat([{type:"and",parText:Z.parseMessage(U[N-1]),signalType:Z.LINETYPE.PAR_AND},U[N]]);break;case 46:this.$=U[N-3].concat([{type:"else",altText:Z.parseMessage(U[N-1]),signalType:Z.LINETYPE.ALT_ELSE},U[N]]);break;case 47:this.$=[U[N-1],{type:"addNote",placement:U[N-2],actor:U[N-1].actor,text:U[N]}];break;case 48:U[N-2]=[].concat(U[N-1],U[N-1]).slice(0,2),U[N-2][0]=U[N-2][0].actor,U[N-2][1]=U[N-2][1].actor,this.$=[U[N-1],{type:"addNote",placement:Z.PLACEMENT.OVER,actor:U[N-2].slice(0,2),text:U[N]}];break;case 49:this.$=[U[N-1],{type:"addLinks",actor:U[N-1].actor,text:U[N]}];break;case 50:this.$=[U[N-1],{type:"addALink",actor:U[N-1].actor,text:U[N]}];break;case 51:this.$=[U[N-1],{type:"addProperties",actor:U[N-1].actor,text:U[N]}];break;case 52:this.$=[U[N-1],{type:"addDetails",actor:U[N-1].actor,text:U[N]}];break;case 55:this.$=[U[N-2],U[N]];break;case 56:this.$=U[N];break;case 57:this.$=Z.PLACEMENT.LEFTOF;break;case 58:this.$=Z.PLACEMENT.RIGHTOF;break;case 59:this.$=[U[N-4],U[N-1],{type:"addMessage",from:U[N-4].actor,to:U[N-1].actor,signalType:U[N-3],msg:U[N]},{type:"activeStart",signalType:Z.LINETYPE.ACTIVE_START,actor:U[N-1]}];break;case 60:this.$=[U[N-4],U[N-1],{type:"addMessage",from:U[N-4].actor,to:U[N-1].actor,signalType:U[N-3],msg:U[N]},{type:"activeEnd",signalType:Z.LINETYPE.ACTIVE_END,actor:U[N-4]}];break;case 61:this.$=[U[N-3],U[N-1],{type:"addMessage",from:U[N-3].actor,to:U[N-1].actor,signalType:U[N-2],msg:U[N]}];break;case 62:this.$={type:"addParticipant",actor:U[N]};break;case 63:this.$=Z.LINETYPE.SOLID_OPEN;break;case 64:this.$=Z.LINETYPE.DOTTED_OPEN;break;case 65:this.$=Z.LINETYPE.SOLID;break;case 66:this.$=Z.LINETYPE.DOTTED;break;case 67:this.$=Z.LINETYPE.SOLID_CROSS;break;case 68:this.$=Z.LINETYPE.DOTTED_CROSS;break;case 69:this.$=Z.LINETYPE.SOLID_POINT;break;case 70:this.$=Z.LINETYPE.DOTTED_POINT;break;case 71:this.$=Z.parseMessage(U[N].trim().substring(1));break;case 72:Z.parseDirective("%%{","open_directive");break;case 73:Z.parseDirective(U[N],"type_directive");break;case 74:U[N]=U[N].trim().replace(/'/g,'"'),Z.parseDirective(U[N],"arg_directive");break;case 75:Z.parseDirective("}%%","close_directive","sequence");break}},table:[{3:1,4:e,5:s,6:4,7:r,11:6,79:o},{1:[3]},{3:8,4:e,5:s,6:4,7:r,11:6,79:o},{3:9,4:e,5:s,6:4,7:r,11:6,79:o},{3:10,4:e,5:s,6:4,7:r,11:6,79:o},t([1,4,5,16,20,22,25,26,32,33,34,36,38,39,41,42,43,45,47,49,53,58,59,60,61,69,79],a,{8:11}),{12:12,80:[1,13]},{80:[2,72]},{1:[2,1]},{1:[2,2]},{1:[2,3]},{1:[2,4],4:u,5:h,6:41,9:14,10:16,11:6,16:d,17:42,20:y,21:20,22:_,25:v,26:x,27:24,28:25,29:26,30:27,31:28,32:k,33:D,34:M,36:R,38:Y,39:V,41:X,42:J,43:rt,45:lt,47:tt,49:it,53:j,58:W,59:$,60:I,61:H,69:S,79:o},{13:49,14:[1,50],82:yt},t([14,82],[2,73]),t(T,[2,6]),{6:41,10:52,11:6,16:d,17:42,20:y,21:20,22:_,25:v,26:x,27:24,28:25,29:26,30:27,31:28,32:k,33:D,34:M,36:R,38:Y,39:V,41:X,42:J,43:rt,45:lt,47:tt,49:it,53:j,58:W,59:$,60:I,61:H,69:S,79:o},t(T,[2,8]),t(T,[2,9]),{17:53,69:S},{17:54,69:S},{5:[1,55]},{5:[1,58],23:[1,56],24:[1,57]},{17:59,69:S},{17:60,69:S},{5:[1,61]},{5:[1,62]},{5:[1,63]},{5:[1,64]},{5:[1,65]},t(T,[2,28]),t(T,[2,29]),{35:[1,66]},{37:[1,67]},t(T,[2,32]),{19:[1,68]},{19:[1,69]},{19:[1,70]},{19:[1,71]},{19:[1,72]},{19:[1,73]},{19:[1,74]},t(T,[2,40]),{66:75,70:[1,76],71:[1,77],72:[1,78],73:[1,79],74:[1,80],75:[1,81],76:[1,82],77:[1,83]},{54:84,56:[1,85],64:[1,86],65:[1,87]},{17:88,69:S},{17:89,69:S},{17:90,69:S},{17:91,69:S},t([5,18,63,70,71,72,73,74,75,76,77,78],[2,62]),{5:[1,92]},{15:93,81:[1,94]},{5:[2,75]},t(T,[2,7]),{5:[1,96],18:[1,95]},{5:[1,98],18:[1,97]},t(T,[2,16]),{5:[1,100],23:[1,99]},{5:[1,101]},t(T,[2,20]),{5:[1,102]},{5:[1,103]},t(T,[2,23]),t(T,[2,24]),t(T,[2,25]),t(T,[2,26]),t(T,[2,27]),t(T,[2,30]),t(T,[2,31]),t(Dt,a,{8:104}),t(Dt,a,{8:105}),t(Dt,a,{8:106}),t(ce,a,{44:107,8:108}),t(Gt,a,{46:109,8:110}),t(ut,a,{48:111,8:112}),t(Dt,a,{8:113}),{17:116,67:[1,114],68:[1,115],69:S},t(Et,[2,63]),t(Et,[2,64]),t(Et,[2,65]),t(Et,[2,66]),t(Et,[2,67]),t(Et,[2,68]),t(Et,[2,69]),t(Et,[2,70]),{17:117,69:S},{17:119,57:118,69:S},{69:[2,57]},{69:[2,58]},{55:120,78:bt},{55:122,78:bt},{55:123,78:bt},{55:124,78:bt},t(xt,[2,10]),{13:125,82:yt},{82:[2,74]},{19:[1,126]},t(T,[2,13]),{19:[1,127]},t(T,[2,15]),{5:[1,128]},t(T,[2,18]),t(T,[2,19]),t(T,[2,21]),t(T,[2,22]),{4:u,5:h,6:41,9:14,10:16,11:6,16:d,17:42,20:y,21:20,22:_,25:v,26:x,27:24,28:25,29:26,30:27,31:28,32:k,33:D,34:M,36:R,38:Y,39:V,40:[1,129],41:X,42:J,43:rt,45:lt,47:tt,49:it,53:j,58:W,59:$,60:I,61:H,69:S,79:o},{4:u,5:h,6:41,9:14,10:16,11:6,16:d,17:42,20:y,21:20,22:_,25:v,26:x,27:24,28:25,29:26,30:27,31:28,32:k,33:D,34:M,36:R,38:Y,39:V,40:[1,130],41:X,42:J,43:rt,45:lt,47:tt,49:it,53:j,58:W,59:$,60:I,61:H,69:S,79:o},{4:u,5:h,6:41,9:14,10:16,11:6,16:d,17:42,20:y,21:20,22:_,25:v,26:x,27:24,28:25,29:26,30:27,31:28,32:k,33:D,34:M,36:R,38:Y,39:V,40:[1,131],41:X,42:J,43:rt,45:lt,47:tt,49:it,53:j,58:W,59:$,60:I,61:H,69:S,79:o},{40:[1,132]},{4:u,5:h,6:41,9:14,10:16,11:6,16:d,17:42,20:y,21:20,22:_,25:v,26:x,27:24,28:25,29:26,30:27,31:28,32:k,33:D,34:M,36:R,38:Y,39:V,40:[2,45],41:X,42:J,43:rt,45:lt,47:tt,49:it,52:[1,133],53:j,58:W,59:$,60:I,61:H,69:S,79:o},{40:[1,134]},{4:u,5:h,6:41,9:14,10:16,11:6,16:d,17:42,20:y,21:20,22:_,25:v,26:x,27:24,28:25,29:26,30:27,31:28,32:k,33:D,34:M,36:R,38:Y,39:V,40:[2,43],41:X,42:J,43:rt,45:lt,47:tt,49:it,51:[1,135],53:j,58:W,59:$,60:I,61:H,69:S,79:o},{40:[1,136]},{4:u,5:h,6:41,9:14,10:16,11:6,16:d,17:42,20:y,21:20,22:_,25:v,26:x,27:24,28:25,29:26,30:27,31:28,32:k,33:D,34:M,36:R,38:Y,39:V,40:[2,41],41:X,42:J,43:rt,45:lt,47:tt,49:it,50:[1,137],53:j,58:W,59:$,60:I,61:H,69:S,79:o},{4:u,5:h,6:41,9:14,10:16,11:6,16:d,17:42,20:y,21:20,22:_,25:v,26:x,27:24,28:25,29:26,30:27,31:28,32:k,33:D,34:M,36:R,38:Y,39:V,40:[1,138],41:X,42:J,43:rt,45:lt,47:tt,49:it,53:j,58:W,59:$,60:I,61:H,69:S,79:o},{17:139,69:S},{17:140,69:S},{55:141,78:bt},{55:142,78:bt},{55:143,78:bt},{63:[1,144],78:[2,56]},{5:[2,49]},{5:[2,71]},{5:[2,50]},{5:[2,51]},{5:[2,52]},{5:[1,145]},{5:[1,146]},{5:[1,147]},t(T,[2,17]),t(T,[2,33]),t(T,[2,34]),t(T,[2,35]),t(T,[2,36]),{19:[1,148]},t(T,[2,37]),{19:[1,149]},t(T,[2,38]),{19:[1,150]},t(T,[2,39]),{55:151,78:bt},{55:152,78:bt},{5:[2,61]},{5:[2,47]},{5:[2,48]},{17:153,69:S},t(xt,[2,11]),t(T,[2,12]),t(T,[2,14]),t(ce,a,{8:108,44:154}),t(Gt,a,{8:110,46:155}),t(ut,a,{8:112,48:156}),{5:[2,59]},{5:[2,60]},{78:[2,55]},{40:[2,46]},{40:[2,44]},{40:[2,42]}],defaultActions:{7:[2,72],8:[2,1],9:[2,2],10:[2,3],51:[2,75],86:[2,57],87:[2,58],94:[2,74],120:[2,49],121:[2,71],122:[2,50],123:[2,51],124:[2,52],141:[2,61],142:[2,47],143:[2,48],151:[2,59],152:[2,60],153:[2,55],154:[2,46],155:[2,44],156:[2,42]},parseError:function(et,st){if(st.recoverable)this.trace(et);else{var pt=new Error(et);throw pt.hash=st,pt}},parse:function(et){var st=this,pt=[0],Z=[],q=[null],U=[],mt=this.table,N="",Lt=0,nt=0,Be=2,vt=1,de=U.slice.call(arguments,1),Xt=Object.create(this.lexer),Nt={yy:{}};for(var Qt in this.yy)Object.prototype.hasOwnProperty.call(this.yy,Qt)&&(Nt.yy[Qt]=this.yy[Qt]);Xt.setInput(et,Nt.yy),Nt.yy.lexer=Xt,Nt.yy.parser=this,typeof Xt.yylloc>"u"&&(Xt.yylloc={});var qt=Xt.yylloc;U.push(qt);var Ot=Xt.options&&Xt.options.ranges;typeof Nt.yy.parseError=="function"?this.parseError=Nt.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function Ct(){var Rt;return Rt=Z.pop()||Xt.lex()||vt,typeof Rt!="number"&&(Rt instanceof Array&&(Z=Rt,Rt=Z.pop()),Rt=st.symbols_[Rt]||Rt),Rt}for(var gn,We,Ue,je,Oe={},zn,Me,Se,we;;){if(We=pt[pt.length-1],this.defaultActions[We]?Ue=this.defaultActions[We]:((gn===null||typeof gn>"u")&&(gn=Ct()),Ue=mt[We]&&mt[We][gn]),typeof Ue>"u"||!Ue.length||!Ue[0]){var Ht="";we=[];for(zn in mt[We])this.terminals_[zn]&&zn>Be&&we.push("'"+this.terminals_[zn]+"'");Xt.showPosition?Ht="Parse error on line "+(Lt+1)+`:
`+Xt.showPosition()+`
Expecting `+we.join(", ")+", got '"+(this.terminals_[gn]||gn)+"'":Ht="Parse error on line "+(Lt+1)+": Unexpected "+(gn==vt?"end of input":"'"+(this.terminals_[gn]||gn)+"'"),this.parseError(Ht,{text:Xt.match,token:this.terminals_[gn]||gn,line:Xt.yylineno,loc:qt,expected:we})}if(Ue[0]instanceof Array&&Ue.length>1)throw new Error("Parse Error: multiple actions possible at state: "+We+", token: "+gn);switch(Ue[0]){case 1:pt.push(gn),q.push(Xt.yytext),U.push(Xt.yylloc),pt.push(Ue[1]),gn=null,nt=Xt.yyleng,N=Xt.yytext,Lt=Xt.yylineno,qt=Xt.yylloc;break;case 2:if(Me=this.productions_[Ue[1]][1],Oe.$=q[q.length-Me],Oe._$={first_line:U[U.length-(Me||1)].first_line,last_line:U[U.length-1].last_line,first_column:U[U.length-(Me||1)].first_column,last_column:U[U.length-1].last_column},Ot&&(Oe._$.range=[U[U.length-(Me||1)].range[0],U[U.length-1].range[1]]),je=this.performAction.apply(Oe,[N,nt,Lt,Nt.yy,Ue[1],q,U].concat(de)),typeof je<"u")return je;Me&&(pt=pt.slice(0,-1*Me*2),q=q.slice(0,-1*Me),U=U.slice(0,-1*Me)),pt.push(this.productions_[Ue[1]][0]),q.push(Oe.$),U.push(Oe._$),Se=mt[pt[pt.length-2]][pt[pt.length-1]],pt.push(Se);break;case 3:return!0}}return!0}},Wt=function(){var ve={EOF:1,parseError:function(st,pt){if(this.yy.parser)this.yy.parser.parseError(st,pt);else throw new Error(st)},setInput:function(et,st){return this.yy=st||this.yy||{},this._input=et,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var et=this._input[0];this.yytext+=et,this.yyleng++,this.offset++,this.match+=et,this.matched+=et;var st=et.match(/(?:\r\n?|\n).*/g);return st?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),et},unput:function(et){var st=et.length,pt=et.split(/(?:\r\n?|\n)/g);this._input=et+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-st),this.offset-=st;var Z=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),pt.length-1&&(this.yylineno-=pt.length-1);var q=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:pt?(pt.length===Z.length?this.yylloc.first_column:0)+Z[Z.length-pt.length].length-pt[0].length:this.yylloc.first_column-st},this.options.ranges&&(this.yylloc.range=[q[0],q[0]+this.yyleng-st]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(et){this.unput(this.match.slice(et))},pastInput:function(){var et=this.matched.substr(0,this.matched.length-this.match.length);return(et.length>20?"...":"")+et.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var et=this.match;return et.length<20&&(et+=this._input.substr(0,20-et.length)),(et.substr(0,20)+(et.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var et=this.pastInput(),st=new Array(et.length+1).join("-");return et+this.upcomingInput()+`
`+st+"^"},test_match:function(et,st){var pt,Z,q;if(this.options.backtrack_lexer&&(q={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(q.yylloc.range=this.yylloc.range.slice(0))),Z=et[0].match(/(?:\r\n?|\n).*/g),Z&&(this.yylineno+=Z.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:Z?Z[Z.length-1].length-Z[Z.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+et[0].length},this.yytext+=et[0],this.match+=et[0],this.matches=et,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(et[0].length),this.matched+=et[0],pt=this.performAction.call(this,this.yy,this,st,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),pt)return pt;if(this._backtrack){for(var U in q)this[U]=q[U];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var et,st,pt,Z;this._more||(this.yytext="",this.match="");for(var q=this._currentRules(),U=0;U<q.length;U++)if(pt=this._input.match(this.rules[q[U]]),pt&&(!st||pt[0].length>st[0].length)){if(st=pt,Z=U,this.options.backtrack_lexer){if(et=this.test_match(pt,q[U]),et!==!1)return et;if(this._backtrack){st=!1;continue}else return!1}else if(!this.options.flex)break}return st?(et=this.test_match(st,q[Z]),et!==!1?et:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var st=this.next();return st||this.lex()},begin:function(st){this.conditionStack.push(st)},popState:function(){var st=this.conditionStack.length-1;return st>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(st){return st=this.conditionStack.length-1-Math.abs(st||0),st>=0?this.conditionStack[st]:"INITIAL"},pushState:function(st){this.begin(st)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(st,pt,Z,q){switch(Z){case 0:return this.begin("open_directive"),79;case 1:return this.begin("type_directive"),80;case 2:return this.popState(),this.begin("arg_directive"),14;case 3:return this.popState(),this.popState(),82;case 4:return 81;case 5:return 5;case 6:break;case 7:break;case 8:break;case 9:break;case 10:break;case 11:return 23;case 12:return this.begin("ID"),16;case 13:return this.begin("ID"),20;case 14:return pt.yytext=pt.yytext.trim(),this.begin("ALIAS"),69;case 15:return this.popState(),this.popState(),this.begin("LINE"),18;case 16:return this.popState(),this.popState(),5;case 17:return this.begin("LINE"),39;case 18:return this.begin("LINE"),41;case 19:return this.begin("LINE"),42;case 20:return this.begin("LINE"),43;case 21:return this.begin("LINE"),52;case 22:return this.begin("LINE"),45;case 23:return this.begin("LINE"),51;case 24:return this.begin("LINE"),47;case 25:return this.begin("LINE"),50;case 26:return this.begin("LINE"),49;case 27:return this.popState(),19;case 28:return 40;case 29:return 64;case 30:return 65;case 31:return 58;case 32:return 59;case 33:return 60;case 34:return 61;case 35:return 56;case 36:return 53;case 37:return this.begin("ID"),25;case 38:return this.begin("ID"),26;case 39:return 32;case 40:return 33;case 41:return this.begin("acc_title"),34;case 42:return this.popState(),"acc_title_value";case 43:return this.begin("acc_descr"),36;case 44:return this.popState(),"acc_descr_value";case 45:this.begin("acc_descr_multiline");break;case 46:this.popState();break;case 47:return"acc_descr_multiline_value";case 48:return 7;case 49:return 22;case 50:return 24;case 51:return 63;case 52:return 5;case 53:return pt.yytext=pt.yytext.trim(),69;case 54:return 72;case 55:return 73;case 56:return 70;case 57:return 71;case 58:return 74;case 59:return 75;case 60:return 76;case 61:return 77;case 62:return 78;case 63:return 67;case 64:return 68;case 65:return 5;case 66:return"INVALID"}},rules:[/^(?:%%\{)/i,/^(?:((?:(?!\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\}%%)/i,/^(?:((?:(?!\}%%).|\n)*))/i,/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:((?!\n)\s)+)/i,/^(?:#[^\n]*)/i,/^(?:%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[0-9]+(?=[ \n]+))/i,/^(?:participant\b)/i,/^(?:actor\b)/i,/^(?:[^\->:\n,;]+?([\-]*[^\->:\n,;]+?)*?(?=((?!\n)\s)+as(?!\n)\s|[#\n;]|$))/i,/^(?:as\b)/i,/^(?:(?:))/i,/^(?:loop\b)/i,/^(?:rect\b)/i,/^(?:opt\b)/i,/^(?:alt\b)/i,/^(?:else\b)/i,/^(?:par\b)/i,/^(?:and\b)/i,/^(?:critical\b)/i,/^(?:option\b)/i,/^(?:break\b)/i,/^(?:(?:[:]?(?:no)?wrap)?[^#\n;]*)/i,/^(?:end\b)/i,/^(?:left of\b)/i,/^(?:right of\b)/i,/^(?:links\b)/i,/^(?:link\b)/i,/^(?:properties\b)/i,/^(?:details\b)/i,/^(?:over\b)/i,/^(?:note\b)/i,/^(?:activate\b)/i,/^(?:deactivate\b)/i,/^(?:title\s[^#\n;]+)/i,/^(?:title:\s[^#\n;]+)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:sequenceDiagram\b)/i,/^(?:autonumber\b)/i,/^(?:off\b)/i,/^(?:,)/i,/^(?:;)/i,/^(?:[^\+\->:\n,;]+((?!(-x|--x|-\)|--\)))[\-]*[^\+\->:\n,;]+)*)/i,/^(?:->>)/i,/^(?:-->>)/i,/^(?:->)/i,/^(?:-->)/i,/^(?:-[x])/i,/^(?:--[x])/i,/^(?:-[\)])/i,/^(?:--[\)])/i,/^(?::(?:(?:no)?wrap)?[^#\n;]+)/i,/^(?:\+)/i,/^(?:-)/i,/^(?:$)/i,/^(?:.)/i],conditions:{acc_descr_multiline:{rules:[46,47],inclusive:!1},acc_descr:{rules:[44],inclusive:!1},acc_title:{rules:[42],inclusive:!1},open_directive:{rules:[1,8],inclusive:!1},type_directive:{rules:[2,3,8],inclusive:!1},arg_directive:{rules:[3,4,8],inclusive:!1},ID:{rules:[7,8,14],inclusive:!1},ALIAS:{rules:[7,8,15,16],inclusive:!1},LINE:{rules:[7,8,27],inclusive:!1},INITIAL:{rules:[0,5,6,8,9,10,11,12,13,17,18,19,20,21,22,23,24,25,26,28,29,30,31,32,33,34,35,36,37,38,39,40,41,43,45,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66],inclusive:!0}}};return ve}();Tt.lexer=Wt;function dt(){this.yy={}}return dt.prototype=Tt,Tt.Parser=dt,new dt}();zm.parser=zm;const xG=zm,kG=t=>t.match(/^\s*sequenceDiagram/)!==null;let pp,Xa={},Ji=[],k1=!1,Wm;const CG=function(t,e,s){Bs.parseDirective(this,t,e,s)},Hm=function(t,e,s,r){const o=Xa[t];o&&e===o.name&&s==null||((s==null||s.text==null)&&(s={text:e,wrap:null,type:r}),(r==null||s.text==null)&&(s={text:e,wrap:null,type:r}),Xa[t]={name:e,description:s.text,wrap:s.wrap===void 0&&Du()||!!s.wrap,prevActor:pp,links:{},properties:{},actorCnt:null,rectData:null,type:r||"participant"},pp&&Xa[pp]&&(Xa[pp].nextActor=t),pp=t)},AG=t=>{let e,s=0;for(e=0;e<Ji.length;e++)Ji[e].type===fp.ACTIVE_START&&Ji[e].from.actor===t&&s++,Ji[e].type===fp.ACTIVE_END&&Ji[e].from.actor===t&&s--;return s},wG=function(t,e,s,r){Ji.push({from:t,to:e,message:s.text,wrap:s.wrap===void 0&&Du()||!!s.wrap,answer:r})},$s=function(t,e,s={text:void 0,wrap:void 0},r){if(r===fp.ACTIVE_END&&AG(t.actor)<1){let a=new Error("Trying to inactivate an inactive participant ("+t.actor+")");throw a.hash={text:"->>-",token:"->>-",line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["'ACTIVE_PARTICIPANT'"]},a}return Ji.push({from:t,to:e,message:s.text,wrap:s.wrap===void 0&&Du()||!!s.wrap,type:r}),!0},EG=function(){return Ji},BG=function(){return Xa},dp=function(t){return Xa[t]},SG=function(){return Object.keys(Xa)},TG=function(){k1=!0},DG=function(){k1=!1},FG=()=>k1,LG=function(t){Wm=t},Du=()=>Wm!==void 0?Wm:ht().sequence.wrap,IG=function(){Xa={},Ji=[],k1=!1,zi()},MG=function(t){const e=t.trim(),s={text:e.replace(/^:?(?:no)?wrap:/,"").trim(),wrap:e.match(/^:?wrap:/)!==null?!0:e.match(/^:?nowrap:/)!==null?!1:void 0};return w.debug("parseMessage:",s),s},fp={SOLID:0,DOTTED:1,NOTE:2,SOLID_CROSS:3,DOTTED_CROSS:4,SOLID_OPEN:5,DOTTED_OPEN:6,LOOP_START:10,LOOP_END:11,ALT_START:12,ALT_ELSE:13,ALT_END:14,OPT_START:15,OPT_END:16,ACTIVE_START:17,ACTIVE_END:18,PAR_START:19,PAR_AND:20,PAR_END:21,RECT_START:22,RECT_END:23,SOLID_POINT:24,DOTTED_POINT:25,AUTONUMBER:26,CRITICAL_START:27,CRITICAL_OPTION:28,CRITICAL_END:29,BREAK_START:30,BREAK_END:31},RG={FILLED:0,OPEN:1},OG={LEFTOF:0,RIGHTOF:1,OVER:2},K6=function(t,e,s){s.text,s.wrap===void 0&&Du()||s.wrap;const r=[].concat(t,t);Ji.push({from:r[0],to:r[1],message:s.text,wrap:s.wrap===void 0&&Du()||!!s.wrap,type:fp.NOTE,placement:e})},Z6=function(t,e){const s=dp(t);try{let r=Pi(e.text,ht());r=r.replace(/&amp;/g,"&"),r=r.replace(/&equals;/g,"=");const o=JSON.parse(r);jm(s,o)}catch(r){w.error("error while parsing actor link text",r)}},NG=function(t,e){const s=dp(t);try{const u={};let h=Pi(e.text,ht());var r=h.indexOf("@");h=h.replace(/&amp;/g,"&"),h=h.replace(/&equals;/g,"=");var o=h.slice(0,r-1).trim(),a=h.slice(r+1).trim();u[o]=a,jm(s,u)}catch(u){w.error("error while parsing actor link text",u)}};function jm(t,e){if(t.links==null)t.links=e;else for(let s in e)t.links[s]=e[s]}const Q6=function(t,e){const s=dp(t);try{let r=Pi(e.text,ht());const o=JSON.parse(r);J6(s,o)}catch(r){w.error("error while parsing actor properties text",r)}};function J6(t,e){if(t.properties==null)t.properties=e;else for(let s in e)t.properties[s]=e[s]}const tx=function(t,e){const s=dp(t),r=document.getElementById(e.text);try{const o=r.innerHTML,a=JSON.parse(o);a.properties&&J6(s,a.properties),a.links&&jm(s,a.links)}catch(o){w.error("error while parsing actor details text",o)}},PG=function(t,e){if(t!==void 0&&t.properties!==void 0)return t.properties[e]},ex=function(t){if(Array.isArray(t))t.forEach(function(e){ex(e)});else switch(t.type){case"sequenceIndex":Ji.push({from:void 0,to:void 0,message:{start:t.sequenceIndex,step:t.sequenceIndexStep,visible:t.sequenceVisible},wrap:!1,type:t.signalType});break;case"addParticipant":Hm(t.actor,t.actor,t.description,"participant");break;case"addActor":Hm(t.actor,t.actor,t.description,"actor");break;case"activeStart":$s(t.actor,void 0,void 0,t.signalType);break;case"activeEnd":$s(t.actor,void 0,void 0,t.signalType);break;case"addNote":K6(t.actor,t.placement,t.text);break;case"addLinks":Z6(t.actor,t.text);break;case"addALink":NG(t.actor,t.text);break;case"addProperties":Q6(t.actor,t.text);break;case"addDetails":tx(t.actor,t.text);break;case"addMessage":$s(t.from,t.to,t.msg,t.signalType);break;case"loopStart":$s(void 0,void 0,t.loopText,t.signalType);break;case"loopEnd":$s(void 0,void 0,void 0,t.signalType);break;case"rectStart":$s(void 0,void 0,t.color,t.signalType);break;case"rectEnd":$s(void 0,void 0,void 0,t.signalType);break;case"optStart":$s(void 0,void 0,t.optText,t.signalType);break;case"optEnd":$s(void 0,void 0,void 0,t.signalType);break;case"altStart":$s(void 0,void 0,t.altText,t.signalType);break;case"else":$s(void 0,void 0,t.altText,t.signalType);break;case"altEnd":$s(void 0,void 0,void 0,t.signalType);break;case"setAccTitle":Ai(t.text);break;case"parStart":$s(void 0,void 0,t.parText,t.signalType);break;case"and":$s(void 0,void 0,t.parText,t.signalType);break;case"parEnd":$s(void 0,void 0,void 0,t.signalType);break;case"criticalStart":$s(void 0,void 0,t.criticalText,t.signalType);break;case"option":$s(void 0,void 0,t.optionText,t.signalType);break;case"criticalEnd":$s(void 0,void 0,void 0,t.signalType);break;case"breakStart":$s(void 0,void 0,t.breakText,t.signalType);break;case"breakEnd":$s(void 0,void 0,void 0,t.signalType);break}},nx={addActor:Hm,addMessage:wG,addSignal:$s,addLinks:Z6,addDetails:tx,addProperties:Q6,autoWrap:Du,setWrap:LG,enableSequenceNumbers:TG,disableSequenceNumbers:DG,showSequenceNumbers:FG,getMessages:EG,getActors:BG,getActor:dp,getActorKeys:SG,getActorProperty:PG,getAccTitle:Wi,getDiagramTitle:Jo,setDiagramTitle:Qo,parseDirective:CG,getConfig:()=>ht().sequence,clear:IG,parseMessage:MG,LINETYPE:fp,ARROWTYPE:RG,PLACEMENT:OG,addNote:K6,setAccTitle:Ai,apply:ex,setAccDescription:Hi,getAccDescription:ji};let Gm=[];const VG=t=>{Gm.push(t)},sx=()=>{Gm.forEach(t=>{t()}),Gm=[]},C1=function(t,e){const s=t.append("rect");return s.attr("x",e.x),s.attr("y",e.y),s.attr("fill",e.fill),s.attr("stroke",e.stroke),s.attr("width",e.width),s.attr("height",e.height),s.attr("rx",e.rx),s.attr("ry",e.ry),e.class!==void 0&&s.attr("class",e.class),s},rx=(t,e)=>{VG(()=>{const s=document.querySelectorAll(t);s.length!==0&&(s[0].addEventListener("mouseover",function(){zG("actor"+e+"_popup")}),s[0].addEventListener("mouseout",function(){WG("actor"+e+"_popup")}))})},$G=function(t,e,s,r,o){if(e.links===void 0||e.links===null||Object.keys(e.links).length===0)return{height:0,width:0};const a=e.links,u=e.actorCnt,h=e.rectData;var d="none";o&&(d="block !important");const y=t.append("g");y.attr("id","actor"+u+"_popup"),y.attr("class","actorPopupMenu"),y.attr("display",d),rx("#actor"+u+"_popup",u);var _="";h.class!==void 0&&(_=" "+h.class);let v=h.width>s?h.width:s;const x=y.append("rect");if(x.attr("class","actorPopupMenuPanel"+_),x.attr("x",h.x),x.attr("y",h.height),x.attr("fill",h.fill),x.attr("stroke",h.stroke),x.attr("width",v),x.attr("height",h.height),x.attr("rx",h.rx),x.attr("ry",h.ry),a!=null){var k=20;for(let R in a){var D=y.append("a"),M=at(a[R]);D.attr("xlink:href",M),D.attr("target","_blank"),iq(r)(R,D,h.x+10,h.height+k,v,20,{class:"actor"},r),k+=30}}return x.attr("height",k),{height:h.height+k,width:v}},ix=function(t,e,s,r){const o=t.append("image");o.attr("x",e),o.attr("y",s);var a=at(r);o.attr("xlink:href",a)},ox=function(t,e,s,r){const o=t.append("use");o.attr("x",e),o.attr("y",s);var a=at(r);o.attr("xlink:href","#"+a)},YG=function(t){return"var pu = document.getElementById('"+t+"'); if (pu != null) { pu.style.display = 'block'; }"},UG=function(t){return"var pu = document.getElementById('"+t+"'); if (pu != null) { pu.style.display = 'none'; }"},zG=function(t){var e=document.getElementById(t);e!=null&&(e.style.display="block")},WG=function(t){var e=document.getElementById(t);e!=null&&(e.style.display="none")},Fu=function(t,e){let s=0,r=0;const o=e.text.split(vn.lineBreakRegex);let a=[],u=0,h=()=>e.y;if(e.valign!==void 0&&e.textMargin!==void 0&&e.textMargin>0)switch(e.valign){case"top":case"start":h=()=>Math.round(e.y+e.textMargin);break;case"middle":case"center":h=()=>Math.round(e.y+(s+r+e.textMargin)/2);break;case"bottom":case"end":h=()=>Math.round(e.y+(s+r+2*e.textMargin)-e.textMargin);break}if(e.anchor!==void 0&&e.textMargin!==void 0&&e.width!==void 0)switch(e.anchor){case"left":case"start":e.x=Math.round(e.x+e.textMargin),e.anchor="start",e.dominantBaseline="middle",e.alignmentBaseline="middle";break;case"middle":case"center":e.x=Math.round(e.x+e.width/2),e.anchor="middle",e.dominantBaseline="middle",e.alignmentBaseline="middle";break;case"right":case"end":e.x=Math.round(e.x+e.width-e.textMargin),e.anchor="end",e.dominantBaseline="middle",e.alignmentBaseline="middle";break}for(let[d,y]of o.entries()){e.textMargin!==void 0&&e.textMargin===0&&e.fontSize!==void 0&&(u=d*e.fontSize);const _=t.append("text");if(_.attr("x",e.x),_.attr("y",h()),e.anchor!==void 0&&_.attr("text-anchor",e.anchor).attr("dominant-baseline",e.dominantBaseline).attr("alignment-baseline",e.alignmentBaseline),e.fontFamily!==void 0&&_.style("font-family",e.fontFamily),e.fontSize!==void 0&&_.style("font-size",e.fontSize),e.fontWeight!==void 0&&_.style("font-weight",e.fontWeight),e.fill!==void 0&&_.attr("fill",e.fill),e.class!==void 0&&_.attr("class",e.class),e.dy!==void 0?_.attr("dy",e.dy):u!==0&&_.attr("dy",u),e.tspan){const v=_.append("tspan");v.attr("x",e.x),e.fill!==void 0&&v.attr("fill",e.fill),v.text(y)}else _.text(y);e.valign!==void 0&&e.textMargin!==void 0&&e.textMargin>0&&(r+=(_._groups||_)[0][0].getBBox().height,s=r),a.push(_)}return a},ax=function(t,e){function s(o,a,u,h,d){return o+","+a+" "+(o+u)+","+a+" "+(o+u)+","+(a+h-d)+" "+(o+u-d*1.2)+","+(a+h)+" "+o+","+(a+h)}const r=t.append("polygon");return r.attr("points",s(e.x,e.y,e.width,e.height,7)),r.attr("class","labelBox"),e.y=e.y+e.height/2,Fu(t,e),r};let So=-1;const lx=(t,e)=>{t.selectAll&&t.selectAll(".actor-line").attr("class","200").attr("y2",e-55)},HG=function(t,e,s){const r=e.x+e.width/2,o=t.append("g");var a=o;e.y===0&&(So++,a.append("line").attr("id","actor"+So).attr("x1",r).attr("y1",5).attr("x2",r).attr("y2",2e3).attr("class","actor-line").attr("stroke-width","0.5px").attr("stroke","#999"),a=o.append("g"),e.actorCnt=So,e.links!=null&&(a.attr("id","root-"+So),rx("#root-"+So,So)));const u=A1();var h="actor";e.properties!=null&&e.properties.class?h=e.properties.class:u.fill="#eaeaea",u.x=e.x,u.y=e.y,u.width=e.width,u.height=e.height,u.class=h,u.rx=3,u.ry=3;const d=C1(a,u);if(e.rectData=u,e.properties!=null&&e.properties.icon){const _=e.properties.icon.trim();_.charAt(0)==="@"?ox(a,u.x+u.width-20,u.y+10,_.substr(1)):ix(a,u.x+u.width-20,u.y+10,_)}cx(s)(e.description,a,u.x,u.y,u.width,u.height,{class:"actor"},s);let y=e.height;if(d.node){const _=d.node().getBBox();e.height=_.height,y=_.height}return y},jG=function(t,e,s){const r=e.x+e.width/2;e.y===0&&(So++,t.append("line").attr("id","actor"+So).attr("x1",r).attr("y1",80).attr("x2",r).attr("y2",2e3).attr("class","actor-line").attr("stroke-width","0.5px").attr("stroke","#999"));const o=t.append("g");o.attr("class","actor-man");const a=A1();a.x=e.x,a.y=e.y,a.fill="#eaeaea",a.width=e.width,a.height=e.height,a.class="actor",a.rx=3,a.ry=3,o.append("line").attr("id","actor-man-torso"+So).attr("x1",r).attr("y1",e.y+25).attr("x2",r).attr("y2",e.y+45),o.append("line").attr("id","actor-man-arms"+So).attr("x1",r-18).attr("y1",e.y+33).attr("x2",r+18).attr("y2",e.y+33),o.append("line").attr("x1",r-18).attr("y1",e.y+60).attr("x2",r).attr("y2",e.y+45),o.append("line").attr("x1",r).attr("y1",e.y+45).attr("x2",r+16).attr("y2",e.y+60);const u=o.append("circle");u.attr("cx",e.x+e.width/2),u.attr("cy",e.y+10),u.attr("r",15),u.attr("width",e.width),u.attr("height",e.height);const h=o.node().getBBox();return e.height=h.height,cx(s)(e.description,o,a.x,a.y+35,a.width,a.height,{class:"actor"},s),e.height},GG=function(t,e,s){switch(e.type){case"actor":return jG(t,e,s);case"participant":return HG(t,e,s)}},qG=function(t){return t.append("g")},XG=function(t,e,s,r,o){const a=A1(),u=e.anchored;a.x=e.startx,a.y=e.starty,a.class="activation"+o%3,a.width=e.stopx-e.startx,a.height=s-e.starty,C1(u,a)},KG=function(t,e,s,r){const{boxMargin:o,boxTextMargin:a,labelBoxHeight:u,labelBoxWidth:h,messageFontFamily:d,messageFontSize:y,messageFontWeight:_}=r,v=t.append("g"),x=function(M,R,Y,V){return v.append("line").attr("x1",M).attr("y1",R).attr("x2",Y).attr("y2",V).attr("class","loopLine")};x(e.startx,e.starty,e.stopx,e.starty),x(e.stopx,e.starty,e.stopx,e.stopy),x(e.startx,e.stopy,e.stopx,e.stopy),x(e.startx,e.starty,e.startx,e.stopy),e.sections!==void 0&&e.sections.forEach(function(M){x(e.startx,M.y,e.stopx,M.y).style("stroke-dasharray","3, 3")});let k=qm();k.text=s,k.x=e.startx,k.y=e.starty,k.fontFamily=d,k.fontSize=y,k.fontWeight=_,k.anchor="middle",k.valign="middle",k.tspan=!1,k.width=h||50,k.height=u||20,k.textMargin=a,k.class="labelText",ax(v,k),k=qm(),k.text=e.title,k.x=e.startx+h/2+(e.stopx-e.startx)/2,k.y=e.starty+o+a,k.anchor="middle",k.valign="middle",k.textMargin=a,k.class="loopText",k.fontFamily=d,k.fontSize=y,k.fontWeight=_,k.wrap=!0;let D=Fu(v,k);return e.sectionTitles!==void 0&&e.sectionTitles.forEach(function(M,R){if(M.message){k.text=M.message,k.x=e.startx+(e.stopx-e.startx)/2,k.y=e.sections[R].y+o+a,k.class="loopText",k.anchor="middle",k.valign="middle",k.tspan=!1,k.fontFamily=d,k.fontSize=y,k.fontWeight=_,k.wrap=e.wrap,D=Fu(v,k);let Y=Math.round(D.map(V=>(V._groups||V)[0][0].getBBox().height).reduce((V,X)=>V+X));e.sections[R].height+=Y-(o+a)}}),e.height=Math.round(e.stopy-e.starty),v},ZG=function(t,e){C1(t,{x:e.startx,y:e.starty,width:e.stopx-e.startx,height:e.stopy-e.starty,fill:e.fill,class:"rect"}).lower()},QG=function(t){t.append("defs").append("symbol").attr("id","database").attr("fill-rule","evenodd").attr("clip-rule","evenodd").append("path").attr("transform","scale(.5)").attr("d","M12.258.001l.256.004.255.005.253.008.251.01.249.012.247.015.246.016.242.019.241.02.239.023.236.024.233.027.231.028.229.031.225.032.223.034.22.036.217.038.214.04.211.041.208.043.205.045.201.046.198.048.194.05.191.051.187.053.183.054.18.056.175.057.172.059.168.06.163.061.16.063.155.064.15.066.074.033.073.033.071.034.07.034.069.035.068.035.067.035.066.035.064.036.064.036.062.036.06.036.06.037.058.037.058.037.055.038.055.038.053.038.052.038.051.039.05.039.048.039.047.039.045.04.044.04.043.04.041.04.04.041.039.041.037.041.036.041.034.041.033.042.032.042.03.042.029.042.027.042.026.043.024.043.023.043.021.043.02.043.018.044.017.043.015.044.013.044.012.044.011.045.009.044.007.045.006.045.004.045.002.045.001.045v17l-.001.045-.002.045-.004.045-.006.045-.007.045-.009.044-.011.045-.012.044-.013.044-.015.044-.017.043-.018.044-.02.043-.021.043-.023.043-.024.043-.026.043-.027.042-.029.042-.03.042-.032.042-.033.042-.034.041-.036.041-.037.041-.039.041-.04.041-.041.04-.043.04-.044.04-.045.04-.047.039-.048.039-.05.039-.051.039-.052.038-.053.038-.055.038-.055.038-.058.037-.058.037-.06.037-.06.036-.062.036-.064.036-.064.036-.066.035-.067.035-.068.035-.069.035-.07.034-.071.034-.073.033-.074.033-.15.066-.155.064-.16.063-.163.061-.168.06-.172.059-.175.057-.18.056-.183.054-.187.053-.191.051-.194.05-.198.048-.201.046-.205.045-.208.043-.211.041-.214.04-.217.038-.22.036-.223.034-.225.032-.229.031-.231.028-.233.027-.236.024-.239.023-.241.02-.242.019-.246.016-.247.015-.249.012-.251.01-.253.008-.255.005-.256.004-.258.001-.258-.001-.256-.004-.255-.005-.253-.008-.251-.01-.249-.012-.247-.015-.245-.016-.243-.019-.241-.02-.238-.023-.236-.024-.234-.027-.231-.028-.228-.031-.226-.032-.223-.034-.22-.036-.217-.038-.214-.04-.211-.041-.208-.043-.204-.045-.201-.046-.198-.048-.195-.05-.19-.051-.187-.053-.184-.054-.179-.056-.176-.057-.172-.059-.167-.06-.164-.061-.159-.063-.155-.064-.151-.066-.074-.033-.072-.033-.072-.034-.07-.034-.069-.035-.068-.035-.067-.035-.066-.035-.064-.036-.063-.036-.062-.036-.061-.036-.06-.037-.058-.037-.057-.037-.056-.038-.055-.038-.053-.038-.052-.038-.051-.039-.049-.039-.049-.039-.046-.039-.046-.04-.044-.04-.043-.04-.041-.04-.04-.041-.039-.041-.037-.041-.036-.041-.034-.041-.033-.042-.032-.042-.03-.042-.029-.042-.027-.042-.026-.043-.024-.043-.023-.043-.021-.043-.02-.043-.018-.044-.017-.043-.015-.044-.013-.044-.012-.044-.011-.045-.009-.044-.007-.045-.006-.045-.004-.045-.002-.045-.001-.045v-17l.001-.045.002-.045.004-.045.006-.045.007-.045.009-.044.011-.045.012-.044.013-.044.015-.044.017-.043.018-.044.02-.043.021-.043.023-.043.024-.043.026-.043.027-.042.029-.042.03-.042.032-.042.033-.042.034-.041.036-.041.037-.041.039-.041.04-.041.041-.04.043-.04.044-.04.046-.04.046-.039.049-.039.049-.039.051-.039.052-.038.053-.038.055-.038.056-.038.057-.037.058-.037.06-.037.061-.036.062-.036.063-.036.064-.036.066-.035.067-.035.068-.035.069-.035.07-.034.072-.034.072-.033.074-.033.151-.066.155-.064.159-.063.164-.061.167-.06.172-.059.176-.057.179-.056.184-.054.187-.053.19-.051.195-.05.198-.048.201-.046.204-.045.208-.043.211-.041.214-.04.217-.038.22-.036.223-.034.226-.032.228-.031.231-.028.234-.027.236-.024.238-.023.241-.02.243-.019.245-.016.247-.015.249-.012.251-.01.253-.008.255-.005.256-.004.258-.001.258.001zm-9.258 20.499v.01l.001.021.003.021.004.022.005.021.006.022.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.023.018.024.019.024.021.024.022.025.023.024.024.025.052.049.056.05.061.051.066.051.07.051.075.051.079.052.084.052.088.052.092.052.097.052.102.051.105.052.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.048.144.049.147.047.152.047.155.047.16.045.163.045.167.043.171.043.176.041.178.041.183.039.187.039.19.037.194.035.197.035.202.033.204.031.209.03.212.029.216.027.219.025.222.024.226.021.23.02.233.018.236.016.24.015.243.012.246.01.249.008.253.005.256.004.259.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.021.224-.024.22-.026.216-.027.212-.028.21-.031.205-.031.202-.034.198-.034.194-.036.191-.037.187-.039.183-.04.179-.04.175-.042.172-.043.168-.044.163-.045.16-.046.155-.046.152-.047.148-.048.143-.049.139-.049.136-.05.131-.05.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.053.083-.051.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.05.023-.024.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.023.01-.022.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.127l-.077.055-.08.053-.083.054-.085.053-.087.052-.09.052-.093.051-.095.05-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.045-.118.044-.12.043-.122.042-.124.042-.126.041-.128.04-.13.04-.132.038-.134.038-.135.037-.138.037-.139.035-.142.035-.143.034-.144.033-.147.032-.148.031-.15.03-.151.03-.153.029-.154.027-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.01-.179.008-.179.008-.181.006-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.006-.179-.008-.179-.008-.178-.01-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.027-.153-.029-.151-.03-.15-.03-.148-.031-.146-.032-.145-.033-.143-.034-.141-.035-.14-.035-.137-.037-.136-.037-.134-.038-.132-.038-.13-.04-.128-.04-.126-.041-.124-.042-.122-.042-.12-.044-.117-.043-.116-.045-.113-.045-.112-.046-.109-.047-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.05-.093-.052-.09-.051-.087-.052-.085-.053-.083-.054-.08-.054-.077-.054v4.127zm0-5.654v.011l.001.021.003.021.004.021.005.022.006.022.007.022.009.022.01.022.011.023.012.023.013.023.015.024.016.023.017.024.018.024.019.024.021.024.022.024.023.025.024.024.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.052.11.051.114.051.119.052.123.05.127.051.131.05.135.049.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.044.171.042.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.022.23.02.233.018.236.016.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.012.241-.015.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.048.139-.05.136-.049.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.051.051-.049.023-.025.023-.024.021-.025.02-.024.019-.024.018-.024.017-.024.015-.023.014-.023.013-.024.012-.022.01-.023.01-.023.008-.022.006-.022.006-.022.004-.021.004-.022.001-.021.001-.021v-4.139l-.077.054-.08.054-.083.054-.085.052-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.044-.118.044-.12.044-.122.042-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.035-.143.033-.144.033-.147.033-.148.031-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.009-.179.009-.179.007-.181.007-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.007-.179-.007-.179-.009-.178-.009-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.031-.146-.033-.145-.033-.143-.033-.141-.035-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.04-.126-.041-.124-.042-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.051-.093-.051-.09-.051-.087-.053-.085-.052-.083-.054-.08-.054-.077-.054v4.139zm0-5.666v.011l.001.02.003.022.004.021.005.022.006.021.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.024.018.023.019.024.021.025.022.024.023.024.024.025.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.051.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.043.171.043.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.021.23.02.233.018.236.017.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.013.241-.014.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.049.139-.049.136-.049.131-.051.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.049.023-.025.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.022.01-.023.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.153l-.077.054-.08.054-.083.053-.085.053-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.048-.105.048-.106.048-.109.046-.111.046-.114.046-.115.044-.118.044-.12.043-.122.043-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.034-.143.034-.144.033-.147.032-.148.032-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.024-.161.024-.162.023-.163.023-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.01-.178.01-.179.009-.179.007-.181.006-.182.006-.182.004-.184.003-.184.001-.185.001-.185-.001-.184-.001-.184-.003-.182-.004-.182-.006-.181-.006-.179-.007-.179-.009-.178-.01-.176-.01-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.023-.162-.023-.161-.024-.159-.024-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.032-.146-.032-.145-.033-.143-.034-.141-.034-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.041-.126-.041-.124-.041-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.048-.105-.048-.102-.048-.1-.05-.097-.049-.095-.051-.093-.051-.09-.052-.087-.052-.085-.053-.083-.053-.08-.054-.077-.054v4.153zm8.74-8.179l-.257.004-.254.005-.25.008-.247.011-.244.012-.241.014-.237.016-.233.018-.231.021-.226.022-.224.023-.22.026-.216.027-.212.028-.21.031-.205.032-.202.033-.198.034-.194.036-.191.038-.187.038-.183.04-.179.041-.175.042-.172.043-.168.043-.163.045-.16.046-.155.046-.152.048-.148.048-.143.048-.139.049-.136.05-.131.05-.126.051-.123.051-.118.051-.114.052-.11.052-.106.052-.101.052-.096.052-.092.052-.088.052-.083.052-.079.052-.074.051-.07.052-.065.051-.06.05-.056.05-.051.05-.023.025-.023.024-.021.024-.02.025-.019.024-.018.024-.017.023-.015.024-.014.023-.013.023-.012.023-.01.023-.01.022-.008.022-.006.023-.006.021-.004.022-.004.021-.001.021-.001.021.001.021.001.021.004.021.004.022.006.021.006.023.008.022.01.022.01.023.012.023.013.023.014.023.015.024.017.023.018.024.019.024.02.025.021.024.023.024.023.025.051.05.056.05.06.05.065.051.07.052.074.051.079.052.083.052.088.052.092.052.096.052.101.052.106.052.11.052.114.052.118.051.123.051.126.051.131.05.136.05.139.049.143.048.148.048.152.048.155.046.16.046.163.045.168.043.172.043.175.042.179.041.183.04.187.038.191.038.194.036.198.034.202.033.205.032.21.031.212.028.216.027.22.026.224.023.226.022.231.021.233.018.237.016.241.014.244.012.247.011.25.008.254.005.257.004.26.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.022.224-.023.22-.026.216-.027.212-.028.21-.031.205-.032.202-.033.198-.034.194-.036.191-.038.187-.038.183-.04.179-.041.175-.042.172-.043.168-.043.163-.045.16-.046.155-.046.152-.048.148-.048.143-.048.139-.049.136-.05.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.05.051-.05.023-.025.023-.024.021-.024.02-.025.019-.024.018-.024.017-.023.015-.024.014-.023.013-.023.012-.023.01-.023.01-.022.008-.022.006-.023.006-.021.004-.022.004-.021.001-.021.001-.021-.001-.021-.001-.021-.004-.021-.004-.022-.006-.021-.006-.023-.008-.022-.01-.022-.01-.023-.012-.023-.013-.023-.014-.023-.015-.024-.017-.023-.018-.024-.019-.024-.02-.025-.021-.024-.023-.024-.023-.025-.051-.05-.056-.05-.06-.05-.065-.051-.07-.052-.074-.051-.079-.052-.083-.052-.088-.052-.092-.052-.096-.052-.101-.052-.106-.052-.11-.052-.114-.052-.118-.051-.123-.051-.126-.051-.131-.05-.136-.05-.139-.049-.143-.048-.148-.048-.152-.048-.155-.046-.16-.046-.163-.045-.168-.043-.172-.043-.175-.042-.179-.041-.183-.04-.187-.038-.191-.038-.194-.036-.198-.034-.202-.033-.205-.032-.21-.031-.212-.028-.216-.027-.22-.026-.224-.023-.226-.022-.231-.021-.233-.018-.237-.016-.241-.014-.244-.012-.247-.011-.25-.008-.254-.005-.257-.004-.26-.001-.26.001z")},JG=function(t){t.append("defs").append("symbol").attr("id","computer").attr("width","24").attr("height","24").append("path").attr("transform","scale(.5)").attr("d","M2 2v13h20v-13h-20zm18 11h-16v-9h16v9zm-10.228 6l.466-1h3.524l.467 1h-4.457zm14.228 3h-24l2-6h2.104l-1.33 4h18.45l-1.297-4h2.073l2 6zm-5-10h-14v-7h14v7z")},tq=function(t){t.append("defs").append("symbol").attr("id","clock").attr("width","24").attr("height","24").append("path").attr("transform","scale(.5)").attr("d","M12 2c5.514 0 10 4.486 10 10s-4.486 10-10 10-10-4.486-10-10 4.486-10 10-10zm0-2c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm5.848 12.459c.202.038.202.333.001.372-1.907.361-6.045 1.111-6.547 1.111-.719 0-1.301-.582-1.301-1.301 0-.512.77-5.447 1.125-7.445.034-.192.312-.181.343.014l.985 6.238 5.394 1.011z")},eq=function(t){t.append("defs").append("marker").attr("id","arrowhead").attr("refX",9).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z")},nq=function(t){t.append("defs").append("marker").attr("id","filled-head").attr("refX",18).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},sq=function(t){t.append("defs").append("marker").attr("id","sequencenumber").attr("refX",15).attr("refY",15).attr("markerWidth",60).attr("markerHeight",40).attr("orient","auto").append("circle").attr("cx",15).attr("cy",15).attr("r",6)},rq=function(t){t.append("defs").append("marker").attr("id","crosshead").attr("markerWidth",15).attr("markerHeight",8).attr("orient","auto").attr("refX",4).attr("refY",5).append("path").attr("fill","none").attr("stroke","#000000").style("stroke-dasharray","0, 0").attr("stroke-width","1pt").attr("d","M 1,2 L 6,7 M 6,2 L 1,7")},qm=function(){return{x:0,y:0,fill:void 0,anchor:void 0,style:"#666",width:void 0,height:void 0,textMargin:0,rx:0,ry:0,tspan:!0,valign:void 0}},A1=function(){return{x:0,y:0,fill:"#EDF2AE",stroke:"#666",width:100,anchor:"start",height:100,rx:0,ry:0}},cx=function(){function t(o,a,u,h,d,y,_){const v=a.append("text").attr("x",u+d/2).attr("y",h+y/2+5).style("text-anchor","middle").text(o);r(v,_)}function e(o,a,u,h,d,y,_,v){const{actorFontSize:x,actorFontFamily:k,actorFontWeight:D}=v;let M=x&&x.replace?x.replace("px",""):x;const R=o.split(vn.lineBreakRegex);for(let Y=0;Y<R.length;Y++){const V=Y*M-M*(R.length-1)/2,X=a.append("text").attr("x",u+d/2).attr("y",h).style("text-anchor","middle").style("font-size",x).style("font-weight",D).style("font-family",k);X.append("tspan").attr("x",u+d/2).attr("dy",V).text(R[Y]),X.attr("y",h+y/2).attr("dominant-baseline","central").attr("alignment-baseline","central"),r(X,_)}}function s(o,a,u,h,d,y,_,v){const x=a.append("switch"),D=x.append("foreignObject").attr("x",u).attr("y",h).attr("width",d).attr("height",y).append("xhtml:div").style("display","table").style("height","100%").style("width","100%");D.append("div").style("display","table-cell").style("text-align","center").style("vertical-align","middle").text(o),e(o,x,u,h,d,y,_,v),r(D,_)}function r(o,a){for(const u in a)a.hasOwnProperty(u)&&o.attr(u,a[u])}return function(o){return o.textPlacement==="fo"?s:o.textPlacement==="old"?t:e}}(),iq=function(){function t(o,a,u,h,d,y,_){const v=a.append("text").attr("x",u).attr("y",h).style("text-anchor","start").text(o);r(v,_)}function e(o,a,u,h,d,y,_,v){const{actorFontSize:x,actorFontFamily:k,actorFontWeight:D}=v,M=o.split(vn.lineBreakRegex);for(let R=0;R<M.length;R++){const Y=R*x-x*(M.length-1)/2,V=a.append("text").attr("x",u).attr("y",h).style("text-anchor","start").style("font-size",x).style("font-weight",D).style("font-family",k);V.append("tspan").attr("x",u).attr("dy",Y).text(M[R]),V.attr("y",h+y/2).attr("dominant-baseline","central").attr("alignment-baseline","central"),r(V,_)}}function s(o,a,u,h,d,y,_,v){const x=a.append("switch"),D=x.append("foreignObject").attr("x",u).attr("y",h).attr("width",d).attr("height",y).append("xhtml:div").style("display","table").style("height","100%").style("width","100%");D.append("div").style("display","table-cell").style("text-align","center").style("vertical-align","middle").text(o),e(o,x,u,h,d,y,_,v),r(D,_)}function r(o,a){for(const u in a)a.hasOwnProperty(u)&&o.attr(u,a[u])}return function(o){return o.textPlacement==="fo"?s:o.textPlacement==="old"?t:e}}(),Is={drawRect:C1,drawText:Fu,drawLabel:ax,drawActor:GG,drawPopup:$G,drawImage:ix,drawEmbeddedImage:ox,anchorElement:qG,drawActivation:XG,drawLoop:KG,drawBackgroundRect:ZG,insertArrowHead:eq,insertArrowFilledHead:nq,insertSequenceNumber:sq,insertArrowCrossHead:rq,insertDatabaseIcon:QG,insertComputerIcon:JG,insertClockIcon:tq,getTextObj:qm,getNoteRect:A1,popupMenu:YG,popdownMenu:UG,fixLifeLineHeights:lx,sanitizeUrl:at};let Bt={};const ye={data:{startx:void 0,stopx:void 0,starty:void 0,stopy:void 0},verticalPos:0,sequenceItems:[],activations:[],models:{getHeight:function(){return Math.max.apply(null,this.actors.length===0?[0]:this.actors.map(t=>t.height||0))+(this.loops.length===0?0:this.loops.map(t=>t.height||0).reduce((t,e)=>t+e))+(this.messages.length===0?0:this.messages.map(t=>t.height||0).reduce((t,e)=>t+e))+(this.notes.length===0?0:this.notes.map(t=>t.height||0).reduce((t,e)=>t+e))},clear:function(){this.actors=[],this.loops=[],this.messages=[],this.notes=[]},addActor:function(t){this.actors.push(t)},addLoop:function(t){this.loops.push(t)},addMessage:function(t){this.messages.push(t)},addNote:function(t){this.notes.push(t)},lastActor:function(){return this.actors[this.actors.length-1]},lastLoop:function(){return this.loops[this.loops.length-1]},lastMessage:function(){return this.messages[this.messages.length-1]},lastNote:function(){return this.notes[this.notes.length-1]},actors:[],loops:[],messages:[],notes:[]},init:function(){this.sequenceItems=[],this.activations=[],this.models.clear(),this.data={startx:void 0,stopx:void 0,starty:void 0,stopy:void 0},this.verticalPos=0,hx(ht())},updateVal:function(t,e,s,r){t[e]===void 0?t[e]=s:t[e]=r(s,t[e])},updateBounds:function(t,e,s,r){const o=this;let a=0;function u(h){return function(y){a++;const _=o.sequenceItems.length-a+1;o.updateVal(y,"starty",e-_*Bt.boxMargin,Math.min),o.updateVal(y,"stopy",r+_*Bt.boxMargin,Math.max),o.updateVal(ye.data,"startx",t-_*Bt.boxMargin,Math.min),o.updateVal(ye.data,"stopx",s+_*Bt.boxMargin,Math.max),h!=="activation"&&(o.updateVal(y,"startx",t-_*Bt.boxMargin,Math.min),o.updateVal(y,"stopx",s+_*Bt.boxMargin,Math.max),o.updateVal(ye.data,"starty",e-_*Bt.boxMargin,Math.min),o.updateVal(ye.data,"stopy",r+_*Bt.boxMargin,Math.max))}}this.sequenceItems.forEach(u()),this.activations.forEach(u("activation"))},insert:function(t,e,s,r){const o=Math.min(t,s),a=Math.max(t,s),u=Math.min(e,r),h=Math.max(e,r);this.updateVal(ye.data,"startx",o,Math.min),this.updateVal(ye.data,"starty",u,Math.min),this.updateVal(ye.data,"stopx",a,Math.max),this.updateVal(ye.data,"stopy",h,Math.max),this.updateBounds(o,u,a,h)},newActivation:function(t,e,s){const r=s[t.from.actor],o=w1(t.from.actor).length||0,a=r.x+r.width/2+(o-1)*Bt.activationWidth/2;this.activations.push({startx:a,starty:this.verticalPos+2,stopx:a+Bt.activationWidth,stopy:void 0,actor:t.from.actor,anchored:Is.anchorElement(e)})},endActivation:function(t){const e=this.activations.map(function(s){return s.actor}).lastIndexOf(t.from.actor);return this.activations.splice(e,1)[0]},createLoop:function(t={message:void 0,wrap:!1,width:void 0},e){return{startx:void 0,starty:this.verticalPos,stopx:void 0,stopy:void 0,title:t.message,wrap:t.wrap,width:t.width,height:0,fill:e}},newLoop:function(t={message:void 0,wrap:!1,width:void 0},e){this.sequenceItems.push(this.createLoop(t,e))},endLoop:function(){return this.sequenceItems.pop()},addSectionToLoop:function(t){const e=this.sequenceItems.pop();e.sections=e.sections||[],e.sectionTitles=e.sectionTitles||[],e.sections.push({y:ye.getVerticalPos(),height:0}),e.sectionTitles.push(t),this.sequenceItems.push(e)},bumpVerticalPos:function(t){this.verticalPos=this.verticalPos+t,this.data.stopy=this.verticalPos},getVerticalPos:function(){return this.verticalPos},getBounds:function(){return{bounds:this.data,models:this.models}}},oq=function(t,e){ye.bumpVerticalPos(Bt.boxMargin),e.height=Bt.boxMargin,e.starty=ye.getVerticalPos();const s=Is.getNoteRect();s.x=e.startx,s.y=e.starty,s.width=e.width||Bt.width,s.class="note";const r=t.append("g"),o=Is.drawRect(r,s),a=Is.getTextObj();a.x=e.startx,a.y=e.starty,a.width=s.width,a.dy="1em",a.text=e.message,a.class="noteText",a.fontFamily=Bt.noteFontFamily,a.fontSize=Bt.noteFontSize,a.fontWeight=Bt.noteFontWeight,a.anchor=Bt.noteAlign,a.textMargin=Bt.noteMargin,a.valign="center";const u=Fu(r,a),h=Math.round(u.map(d=>(d._groups||d)[0][0].getBBox().height).reduce((d,y)=>d+y));o.attr("height",h+2*Bt.noteMargin),e.height+=h+2*Bt.noteMargin,ye.bumpVerticalPos(h+2*Bt.noteMargin),e.stopy=e.starty+h+2*Bt.noteMargin,e.stopx=e.startx+s.width,ye.insert(e.startx,e.starty,e.stopx,e.stopy),ye.models.addNote(e)},Lu=t=>({fontFamily:t.messageFontFamily,fontSize:t.messageFontSize,fontWeight:t.messageFontWeight}),Iu=t=>({fontFamily:t.noteFontFamily,fontSize:t.noteFontSize,fontWeight:t.noteFontWeight}),Xm=t=>({fontFamily:t.actorFontFamily,fontSize:t.actorFontSize,fontWeight:t.actorFontWeight});function aq(t,e){ye.bumpVerticalPos(10);const{startx:s,stopx:r,message:o}=e,a=vn.splitBreaks(o).length,u=wn.calculateTextDimensions(o,Lu(Bt)),h=u.height/a;e.height+=h,ye.bumpVerticalPos(h);let d,y=u.height-10;const _=u.width;if(s===r){d=ye.getVerticalPos()+y,Bt.rightAngles||(y+=Bt.boxMargin,d=ye.getVerticalPos()+y),y+=30;const v=Math.max(_/2,Bt.width/2);ye.insert(s-v,ye.getVerticalPos()-10+y,r+v,ye.getVerticalPos()+30+y)}else y+=Bt.boxMargin,d=ye.getVerticalPos()+y,ye.insert(s,d-10,r,d);return ye.bumpVerticalPos(y),e.height+=y,e.stopy=e.starty+e.height,ye.insert(e.fromBounds,e.starty,e.toBounds,e.stopy),d}const lq=function(t,e,s,r){const{startx:o,stopx:a,starty:u,message:h,type:d,sequenceIndex:y,sequenceVisible:_}=e,v=wn.calculateTextDimensions(h,Lu(Bt)),x=Is.getTextObj();x.x=o,x.y=u+10,x.width=a-o,x.class="messageText",x.dy="1em",x.text=h,x.fontFamily=Bt.messageFontFamily,x.fontSize=Bt.messageFontSize,x.fontWeight=Bt.messageFontWeight,x.anchor=Bt.messageAlign,x.valign="center",x.textMargin=Bt.wrapPadding,x.tspan=!1,Fu(t,x);const k=v.width;let D;o===a?Bt.rightAngles?D=t.append("path").attr("d",`M  ${o},${s} H ${o+Math.max(Bt.width/2,k/2)} V ${s+25} H ${o}`):D=t.append("path").attr("d","M "+o+","+s+" C "+(o+60)+","+(s-10)+" "+(o+60)+","+(s+30)+" "+o+","+(s+20)):(D=t.append("line"),D.attr("x1",o),D.attr("y1",s),D.attr("x2",a),D.attr("y2",s)),d===r.db.LINETYPE.DOTTED||d===r.db.LINETYPE.DOTTED_CROSS||d===r.db.LINETYPE.DOTTED_POINT||d===r.db.LINETYPE.DOTTED_OPEN?(D.style("stroke-dasharray","3, 3"),D.attr("class","messageLine1")):D.attr("class","messageLine0");let M="";Bt.arrowMarkerAbsolute&&(M=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,M=M.replace(/\(/g,"\\("),M=M.replace(/\)/g,"\\)")),D.attr("stroke-width",2),D.attr("stroke","none"),D.style("fill","none"),(d===r.db.LINETYPE.SOLID||d===r.db.LINETYPE.DOTTED)&&D.attr("marker-end","url("+M+"#arrowhead)"),(d===r.db.LINETYPE.SOLID_POINT||d===r.db.LINETYPE.DOTTED_POINT)&&D.attr("marker-end","url("+M+"#filled-head)"),(d===r.db.LINETYPE.SOLID_CROSS||d===r.db.LINETYPE.DOTTED_CROSS)&&D.attr("marker-end","url("+M+"#crosshead)"),(_||Bt.showSequenceNumbers)&&(D.attr("marker-start","url("+M+"#sequencenumber)"),t.append("text").attr("x",o).attr("y",s+4).attr("font-family","sans-serif").attr("font-size","12px").attr("text-anchor","middle").attr("class","sequenceNumber").text(y))},Km=function(t,e,s,r,o,a){if(o.hideUnusedParticipants===!0){const y=new Set;a.forEach(_=>{y.add(_.from),y.add(_.to)}),s=s.filter(_=>y.has(_))}let u=0,h=0,d=0;for(const y of s){const _=e[y];_.width=_.width||Bt.width,_.height=Math.max(_.height||Bt.height,Bt.height),_.margin=_.margin||Bt.actorMargin,_.x=u+h,_.y=r;const v=Is.drawActor(t,_,Bt);d=Math.max(d,v),ye.insert(_.x,r,_.x+_.width,_.height),u+=_.width,h+=_.margin,ye.models.addActor(_)}ye.bumpVerticalPos(d)},ux=function(t,e,s,r){let o=0,a=0;for(const u of s){const h=e[u],d=hq(h),y=Is.drawPopup(t,h,d,Bt,Bt.forceMenus,r);y.height>o&&(o=y.height),y.width+h.x>a&&(a=y.width+h.x)}return{maxHeight:o,maxWidth:a}},hx=function(t){pr(Bt,t),t.fontFamily&&(Bt.actorFontFamily=Bt.noteFontFamily=Bt.messageFontFamily=t.fontFamily),t.fontSize&&(Bt.actorFontSize=Bt.noteFontSize=Bt.messageFontSize=t.fontSize),t.fontWeight&&(Bt.actorFontWeight=Bt.noteFontWeight=Bt.messageFontWeight=t.fontWeight)},w1=function(t){return ye.activations.filter(function(e){return e.actor===t})},px=function(t,e){const s=e[t],r=w1(t),o=r.reduce(function(u,h){return Math.min(u,h.startx)},s.x+s.width/2),a=r.reduce(function(u,h){return Math.max(u,h.stopx)},s.x+s.width/2);return[o,a]};function To(t,e,s,r,o){ye.bumpVerticalPos(s);let a=r;if(e.id&&e.message&&t[e.id]){const u=t[e.id].width,h=Lu(Bt);e.message=wn.wrapLabel(`[${e.message}]`,u-2*Bt.wrapPadding,h),e.width=u,e.wrap=!0;const d=wn.calculateTextDimensions(e.message,h),y=Math.max(d.height,Bt.labelBoxHeight);a=r+y,w.debug(`${y} - ${e.message}`)}o(e),ye.bumpVerticalPos(a)}const cq=function(t,e,s,r){const{securityLevel:o,sequence:a}=ht();Bt=a;let u;o==="sandbox"&&(u=ee("#i"+e));const h=ee(o==="sandbox"?u.nodes()[0].contentDocument.body:"body"),d=o==="sandbox"?u.nodes()[0].contentDocument:document;ye.init(),w.debug(r.db);const y=o==="sandbox"?h.select(`[id="${e}"]`):ee(`[id="${e}"]`),_=r.db.getActors(),v=r.db.getActorKeys(),x=r.db.getMessages(),k=r.db.getDiagramTitle(),D=uq(_,x,r);Bt.height=pq(_,D),Is.insertComputerIcon(y),Is.insertDatabaseIcon(y),Is.insertClockIcon(y),Km(y,_,v,0,Bt,x);const M=yq(x,_,D,r);Is.insertArrowHead(y),Is.insertArrowCrossHead(y),Is.insertArrowFilledHead(y),Is.insertSequenceNumber(y);function R(I,H){const S=ye.endActivation(I);S.starty+18>H&&(S.starty=H-6,H+=12),Is.drawActivation(y,S,H,Bt,w1(I.from.actor).length),ye.insert(S.startx,H-10,S.stopx,H)}let Y=1,V=1;const X=[];x.forEach(function(I){let H,S,yt;switch(I.type){case r.db.LINETYPE.NOTE:S=I.noteModel,oq(y,S);break;case r.db.LINETYPE.ACTIVE_START:ye.newActivation(I,y,_);break;case r.db.LINETYPE.ACTIVE_END:R(I,ye.getVerticalPos());break;case r.db.LINETYPE.LOOP_START:To(M,I,Bt.boxMargin,Bt.boxMargin+Bt.boxTextMargin,T=>ye.newLoop(T));break;case r.db.LINETYPE.LOOP_END:H=ye.endLoop(),Is.drawLoop(y,H,"loop",Bt),ye.bumpVerticalPos(H.stopy-ye.getVerticalPos()),ye.models.addLoop(H);break;case r.db.LINETYPE.RECT_START:To(M,I,Bt.boxMargin,Bt.boxMargin,T=>ye.newLoop(void 0,T.message));break;case r.db.LINETYPE.RECT_END:H=ye.endLoop(),Is.drawBackgroundRect(y,H),ye.models.addLoop(H),ye.bumpVerticalPos(H.stopy-ye.getVerticalPos());break;case r.db.LINETYPE.OPT_START:To(M,I,Bt.boxMargin,Bt.boxMargin+Bt.boxTextMargin,T=>ye.newLoop(T));break;case r.db.LINETYPE.OPT_END:H=ye.endLoop(),Is.drawLoop(y,H,"opt",Bt),ye.bumpVerticalPos(H.stopy-ye.getVerticalPos()),ye.models.addLoop(H);break;case r.db.LINETYPE.ALT_START:To(M,I,Bt.boxMargin,Bt.boxMargin+Bt.boxTextMargin,T=>ye.newLoop(T));break;case r.db.LINETYPE.ALT_ELSE:To(M,I,Bt.boxMargin+Bt.boxTextMargin,Bt.boxMargin,T=>ye.addSectionToLoop(T));break;case r.db.LINETYPE.ALT_END:H=ye.endLoop(),Is.drawLoop(y,H,"alt",Bt),ye.bumpVerticalPos(H.stopy-ye.getVerticalPos()),ye.models.addLoop(H);break;case r.db.LINETYPE.PAR_START:To(M,I,Bt.boxMargin,Bt.boxMargin+Bt.boxTextMargin,T=>ye.newLoop(T));break;case r.db.LINETYPE.PAR_AND:To(M,I,Bt.boxMargin+Bt.boxTextMargin,Bt.boxMargin,T=>ye.addSectionToLoop(T));break;case r.db.LINETYPE.PAR_END:H=ye.endLoop(),Is.drawLoop(y,H,"par",Bt),ye.bumpVerticalPos(H.stopy-ye.getVerticalPos()),ye.models.addLoop(H);break;case r.db.LINETYPE.AUTONUMBER:Y=I.message.start||Y,V=I.message.step||V,I.message.visible?r.db.enableSequenceNumbers():r.db.disableSequenceNumbers();break;case r.db.LINETYPE.CRITICAL_START:To(M,I,Bt.boxMargin,Bt.boxMargin+Bt.boxTextMargin,T=>ye.newLoop(T));break;case r.db.LINETYPE.CRITICAL_OPTION:To(M,I,Bt.boxMargin+Bt.boxTextMargin,Bt.boxMargin,T=>ye.addSectionToLoop(T));break;case r.db.LINETYPE.CRITICAL_END:H=ye.endLoop(),Is.drawLoop(y,H,"critical",Bt),ye.bumpVerticalPos(H.stopy-ye.getVerticalPos()),ye.models.addLoop(H);break;case r.db.LINETYPE.BREAK_START:To(M,I,Bt.boxMargin,Bt.boxMargin+Bt.boxTextMargin,T=>ye.newLoop(T));break;case r.db.LINETYPE.BREAK_END:H=ye.endLoop(),Is.drawLoop(y,H,"break",Bt),ye.bumpVerticalPos(H.stopy-ye.getVerticalPos()),ye.models.addLoop(H);break;default:try{yt=I.msgModel,yt.starty=ye.getVerticalPos(),yt.sequenceIndex=Y,yt.sequenceVisible=r.db.showSequenceNumbers();const T=aq(y,yt);X.push({messageModel:yt,lineStartY:T}),ye.models.addMessage(yt)}catch(T){w.error("error while drawing message",T)}}[r.db.LINETYPE.SOLID_OPEN,r.db.LINETYPE.DOTTED_OPEN,r.db.LINETYPE.SOLID,r.db.LINETYPE.DOTTED,r.db.LINETYPE.SOLID_CROSS,r.db.LINETYPE.DOTTED_CROSS,r.db.LINETYPE.SOLID_POINT,r.db.LINETYPE.DOTTED_POINT].includes(I.type)&&(Y=Y+V)}),X.forEach(I=>lq(y,I.messageModel,I.lineStartY,r)),Bt.mirrorActors&&(ye.bumpVerticalPos(Bt.boxMargin*2),Km(y,_,v,ye.getVerticalPos(),Bt,x),ye.bumpVerticalPos(Bt.boxMargin),lx(y,ye.getVerticalPos()));const J=ux(y,_,v,d),{bounds:rt}=ye.getBounds();w.debug("For line height fix Querying: #"+e+" .actor-line"),Q0("#"+e+" .actor-line").attr("y2",rt.stopy);let tt=rt.stopy-rt.starty;tt<J.maxHeight&&(tt=J.maxHeight);let it=tt+2*Bt.diagramMarginY;Bt.mirrorActors&&(it=it-Bt.boxMargin+Bt.bottomMarginAdj);let j=rt.stopx-rt.startx;j<J.maxWidth&&(j=J.maxWidth);const W=j+2*Bt.diagramMarginX;k&&y.append("text").text(k).attr("x",(rt.stopx-rt.startx)/2-2*Bt.diagramMarginX).attr("y",-25),Ui(y,it,W,Bt.useMaxWidth);const $=k?40:0;y.attr("viewBox",rt.startx-Bt.diagramMarginX+" -"+(Bt.diagramMarginY+$)+" "+W+" "+(it+$)),w.debug("models:",ye.models)};function uq(t,e,s){const r={};return e.forEach(function(o){if(t[o.to]&&t[o.from]){const a=t[o.to];if(o.placement===s.db.PLACEMENT.LEFTOF&&!a.prevActor||o.placement===s.db.PLACEMENT.RIGHTOF&&!a.nextActor)return;const u=o.placement!==void 0,h=!u,d=u?Iu(Bt):Lu(Bt),y=o.wrap?wn.wrapLabel(o.message,Bt.width-2*Bt.wrapPadding,d):o.message,v=wn.calculateTextDimensions(y,d).width+2*Bt.wrapPadding;h&&o.from===a.nextActor?r[o.to]=Math.max(r[o.to]||0,v):h&&o.from===a.prevActor?r[o.from]=Math.max(r[o.from]||0,v):h&&o.from===o.to?(r[o.from]=Math.max(r[o.from]||0,v/2),r[o.to]=Math.max(r[o.to]||0,v/2)):o.placement===s.db.PLACEMENT.RIGHTOF?r[o.from]=Math.max(r[o.from]||0,v):o.placement===s.db.PLACEMENT.LEFTOF?r[a.prevActor]=Math.max(r[a.prevActor]||0,v):o.placement===s.db.PLACEMENT.OVER&&(a.prevActor&&(r[a.prevActor]=Math.max(r[a.prevActor]||0,v/2)),a.nextActor&&(r[o.from]=Math.max(r[o.from]||0,v/2)))}}),w.debug("maxMessageWidthPerActor:",r),r}const hq=function(t){let e=0;const s=Xm(Bt);for(const r in t.links){const a=wn.calculateTextDimensions(r,s).width+2*Bt.wrapPadding+2*Bt.boxMargin;e<a&&(e=a)}return e};function pq(t,e){let s=0;Object.keys(t).forEach(r=>{const o=t[r];o.wrap&&(o.description=wn.wrapLabel(o.description,Bt.width-2*Bt.wrapPadding,Xm(Bt)));const a=wn.calculateTextDimensions(o.description,Xm(Bt));o.width=o.wrap?Bt.width:Math.max(Bt.width,a.width+2*Bt.wrapPadding),o.height=o.wrap?Math.max(a.height,Bt.height):Bt.height,s=Math.max(s,o.height)});for(const r in e){const o=t[r];if(!o)continue;const a=t[o.nextActor];if(!a)continue;const h=e[r]+Bt.actorMargin-o.width/2-a.width/2;o.margin=Math.max(h,Bt.actorMargin)}return Math.max(s,Bt.height)}const dq=function(t,e,s){const r=e[t.from].x,o=e[t.to].x,a=t.wrap&&t.message;let u=wn.calculateTextDimensions(a?wn.wrapLabel(t.message,Bt.width,Iu(Bt)):t.message,Iu(Bt));const h={width:a?Bt.width:Math.max(Bt.width,u.width+2*Bt.noteMargin),height:0,startx:e[t.from].x,stopx:0,starty:0,stopy:0,message:t.message};return t.placement===s.db.PLACEMENT.RIGHTOF?(h.width=a?Math.max(Bt.width,u.width):Math.max(e[t.from].width/2+e[t.to].width/2,u.width+2*Bt.noteMargin),h.startx=r+(e[t.from].width+Bt.actorMargin)/2):t.placement===s.db.PLACEMENT.LEFTOF?(h.width=Math.max(a?Bt.width:e[t.from].width/2+e[t.to].width/2,u.width+2*Bt.noteMargin),h.startx=r-h.width+(e[t.from].width-Bt.actorMargin)/2):t.to===t.from?(u=wn.calculateTextDimensions(a?wn.wrapLabel(t.message,Math.max(Bt.width,e[t.from].width),Iu(Bt)):t.message,Iu(Bt)),h.width=a?Math.max(Bt.width,e[t.from].width):Math.max(e[t.from].width,Bt.width,u.width+2*Bt.noteMargin),h.startx=r+(e[t.from].width-h.width)/2):(h.width=Math.abs(r+e[t.from].width/2-(o+e[t.to].width/2))+Bt.actorMargin,h.startx=r<o?r+e[t.from].width/2-Bt.actorMargin/2:o+e[t.to].width/2-Bt.actorMargin/2),a&&(h.message=wn.wrapLabel(t.message,h.width-2*Bt.wrapPadding,Iu(Bt))),w.debug(`NM:[${h.startx},${h.stopx},${h.starty},${h.stopy}:${h.width},${h.height}=${t.message}]`),h},fq=function(t,e,s){let r=!1;if([s.db.LINETYPE.SOLID_OPEN,s.db.LINETYPE.DOTTED_OPEN,s.db.LINETYPE.SOLID,s.db.LINETYPE.DOTTED,s.db.LINETYPE.SOLID_CROSS,s.db.LINETYPE.DOTTED_CROSS,s.db.LINETYPE.SOLID_POINT,s.db.LINETYPE.DOTTED_POINT].includes(t.type)&&(r=!0),!r)return{};const o=px(t.from,e),a=px(t.to,e),u=o[0]<=a[0]?1:0,h=o[0]<a[0]?0:1,d=[...o,...a],y=Math.abs(a[h]-o[u]);t.wrap&&t.message&&(t.message=wn.wrapLabel(t.message,Math.max(y+2*Bt.wrapPadding,Bt.width),Lu(Bt)));const _=wn.calculateTextDimensions(t.message,Lu(Bt));return{width:Math.max(t.wrap?0:_.width+2*Bt.wrapPadding,y+2*Bt.wrapPadding,Bt.width),height:0,startx:o[u],stopx:a[h],starty:0,stopy:0,message:t.message,type:t.type,wrap:t.wrap,fromBounds:Math.min.apply(null,d),toBounds:Math.max.apply(null,d)}},yq=function(t,e,s,r){const o={},a=[];let u,h,d;return t.forEach(function(y){switch(y.id=wn.random({length:10}),y.type){case r.db.LINETYPE.LOOP_START:case r.db.LINETYPE.ALT_START:case r.db.LINETYPE.OPT_START:case r.db.LINETYPE.PAR_START:case r.db.LINETYPE.CRITICAL_START:case r.db.LINETYPE.BREAK_START:a.push({id:y.id,msg:y.message,from:Number.MAX_SAFE_INTEGER,to:Number.MIN_SAFE_INTEGER,width:0});break;case r.db.LINETYPE.ALT_ELSE:case r.db.LINETYPE.PAR_AND:case r.db.LINETYPE.CRITICAL_OPTION:y.message&&(u=a.pop(),o[u.id]=u,o[y.id]=u,a.push(u));break;case r.db.LINETYPE.LOOP_END:case r.db.LINETYPE.ALT_END:case r.db.LINETYPE.OPT_END:case r.db.LINETYPE.PAR_END:case r.db.LINETYPE.CRITICAL_END:case r.db.LINETYPE.BREAK_END:u=a.pop(),o[u.id]=u;break;case r.db.LINETYPE.ACTIVE_START:{const v=e[y.from?y.from.actor:y.to.actor],x=w1(y.from?y.from.actor:y.to.actor).length,k=v.x+v.width/2+(x-1)*Bt.activationWidth/2,D={startx:k,stopx:k+Bt.activationWidth,actor:y.from.actor,enabled:!0};ye.activations.push(D)}break;case r.db.LINETYPE.ACTIVE_END:{const v=ye.activations.map(x=>x.actor).lastIndexOf(y.from.actor);delete ye.activations.splice(v,1)[0]}break}y.placement!==void 0?(h=dq(y,e,r),y.noteModel=h,a.forEach(v=>{u=v,u.from=Math.min(u.from,h.startx),u.to=Math.max(u.to,h.startx+h.width),u.width=Math.max(u.width,Math.abs(u.from-u.to))-Bt.labelBoxWidth})):(d=fq(y,e,r),y.msgModel=d,d.startx&&d.stopx&&a.length>0&&a.forEach(v=>{if(u=v,d.startx===d.stopx){const x=e[y.from],k=e[y.to];u.from=Math.min(x.x-d.width/2,x.x-x.width/2,u.from),u.to=Math.max(k.x+d.width/2,k.x+x.width/2,u.to),u.width=Math.max(u.width,Math.abs(u.to-u.from))-Bt.labelBoxWidth}else u.from=Math.min(d.startx,u.from),u.to=Math.max(d.stopx,u.to),u.width=Math.max(u.width,d.width)-Bt.labelBoxWidth}))}),ye.activations=[],w.debug("Loop type widths:",o),o},dx={bounds:ye,drawActors:Km,drawActorsPopup:ux,setConf:hx,draw:cq};var Zm=function(){var t=function(ut,Et,bt,xt){for(bt=bt||{},xt=ut.length;xt--;bt[ut[xt]]=Et);return bt},e=[1,2],s=[1,3],r=[1,5],o=[1,7],a=[2,5],u=[1,15],h=[1,17],d=[1,21],y=[1,22],_=[1,23],v=[1,24],x=[1,37],k=[1,25],D=[1,26],M=[1,27],R=[1,28],Y=[1,29],V=[1,32],X=[1,33],J=[1,34],rt=[1,35],lt=[1,36],tt=[1,39],it=[1,40],j=[1,41],W=[1,42],$=[1,38],I=[1,45],H=[1,4,5,16,17,19,21,22,24,25,26,27,28,29,33,35,37,38,42,50,51,52,53,56,60],S=[1,4,5,14,15,16,17,19,21,22,24,25,26,27,28,29,33,35,37,38,42,50,51,52,53,56,60],yt=[1,4,5,7,16,17,19,21,22,24,25,26,27,28,29,33,35,37,38,42,50,51,52,53,56,60],T=[4,5,16,17,19,21,22,24,25,26,27,28,29,33,35,37,38,42,50,51,52,53,56,60],Dt={trace:function(){},yy:{},symbols_:{error:2,start:3,SPACE:4,NL:5,directive:6,SD:7,document:8,line:9,statement:10,classDefStatement:11,cssClassStatement:12,idStatement:13,DESCR:14,"-->":15,HIDE_EMPTY:16,scale:17,WIDTH:18,COMPOSIT_STATE:19,STRUCT_START:20,STRUCT_STOP:21,STATE_DESCR:22,AS:23,ID:24,FORK:25,JOIN:26,CHOICE:27,CONCURRENT:28,note:29,notePosition:30,NOTE_TEXT:31,direction:32,acc_title:33,acc_title_value:34,acc_descr:35,acc_descr_value:36,acc_descr_multiline_value:37,classDef:38,CLASSDEF_ID:39,CLASSDEF_STYLEOPTS:40,DEFAULT:41,class:42,CLASSENTITY_IDS:43,STYLECLASS:44,openDirective:45,typeDirective:46,closeDirective:47,":":48,argDirective:49,direction_tb:50,direction_bt:51,direction_rl:52,direction_lr:53,eol:54,";":55,EDGE_STATE:56,STYLE_SEPARATOR:57,left_of:58,right_of:59,open_directive:60,type_directive:61,arg_directive:62,close_directive:63,$accept:0,$end:1},terminals_:{2:"error",4:"SPACE",5:"NL",7:"SD",14:"DESCR",15:"-->",16:"HIDE_EMPTY",17:"scale",18:"WIDTH",19:"COMPOSIT_STATE",20:"STRUCT_START",21:"STRUCT_STOP",22:"STATE_DESCR",23:"AS",24:"ID",25:"FORK",26:"JOIN",27:"CHOICE",28:"CONCURRENT",29:"note",31:"NOTE_TEXT",33:"acc_title",34:"acc_title_value",35:"acc_descr",36:"acc_descr_value",37:"acc_descr_multiline_value",38:"classDef",39:"CLASSDEF_ID",40:"CLASSDEF_STYLEOPTS",41:"DEFAULT",42:"class",43:"CLASSENTITY_IDS",44:"STYLECLASS",48:":",50:"direction_tb",51:"direction_bt",52:"direction_rl",53:"direction_lr",55:";",56:"EDGE_STATE",57:"STYLE_SEPARATOR",58:"left_of",59:"right_of",60:"open_directive",61:"type_directive",62:"arg_directive",63:"close_directive"},productions_:[0,[3,2],[3,2],[3,2],[3,2],[8,0],[8,2],[9,2],[9,1],[9,1],[10,1],[10,1],[10,1],[10,2],[10,3],[10,4],[10,1],[10,2],[10,1],[10,4],[10,3],[10,6],[10,1],[10,1],[10,1],[10,1],[10,4],[10,4],[10,1],[10,1],[10,2],[10,2],[10,1],[11,3],[11,3],[12,3],[6,3],[6,5],[32,1],[32,1],[32,1],[32,1],[54,1],[54,1],[13,1],[13,1],[13,3],[13,3],[30,1],[30,1],[45,1],[46,1],[49,1],[47,1]],performAction:function(Et,bt,xt,Tt,Wt,dt,ve){var et=dt.length-1;switch(Wt){case 4:return Tt.setRootDoc(dt[et]),dt[et];case 5:this.$=[];break;case 6:dt[et]!="nl"&&(dt[et-1].push(dt[et]),this.$=dt[et-1]);break;case 7:case 8:this.$=dt[et];break;case 9:this.$="nl";break;case 12:this.$=dt[et];break;case 13:const q=dt[et-1];q.description=Tt.trimColon(dt[et]),this.$=q;break;case 14:this.$={stmt:"relation",state1:dt[et-2],state2:dt[et]};break;case 15:const U=Tt.trimColon(dt[et]);this.$={stmt:"relation",state1:dt[et-3],state2:dt[et-1],description:U};break;case 19:this.$={stmt:"state",id:dt[et-3],type:"default",description:"",doc:dt[et-1]};break;case 20:var st=dt[et],pt=dt[et-2].trim();if(dt[et].match(":")){var Z=dt[et].split(":");st=Z[0],pt=[pt,Z[1]]}this.$={stmt:"state",id:st,type:"default",description:pt};break;case 21:this.$={stmt:"state",id:dt[et-3],type:"default",description:dt[et-5],doc:dt[et-1]};break;case 22:this.$={stmt:"state",id:dt[et],type:"fork"};break;case 23:this.$={stmt:"state",id:dt[et],type:"join"};break;case 24:this.$={stmt:"state",id:dt[et],type:"choice"};break;case 25:this.$={stmt:"state",id:Tt.getDividerId(),type:"divider"};break;case 26:this.$={stmt:"state",id:dt[et-1].trim(),note:{position:dt[et-2].trim(),text:dt[et].trim()}};break;case 30:this.$=dt[et].trim(),Tt.setAccTitle(this.$);break;case 31:case 32:this.$=dt[et].trim(),Tt.setAccDescription(this.$);break;case 33:case 34:this.$={stmt:"classDef",id:dt[et-1].trim(),classes:dt[et].trim()};break;case 35:this.$={stmt:"applyClass",id:dt[et-1].trim(),styleClass:dt[et].trim()};break;case 38:Tt.setDirection("TB"),this.$={stmt:"dir",value:"TB"};break;case 39:Tt.setDirection("BT"),this.$={stmt:"dir",value:"BT"};break;case 40:Tt.setDirection("RL"),this.$={stmt:"dir",value:"RL"};break;case 41:Tt.setDirection("LR"),this.$={stmt:"dir",value:"LR"};break;case 44:case 45:this.$={stmt:"state",id:dt[et].trim(),type:"default",description:""};break;case 46:this.$={stmt:"state",id:dt[et-2].trim(),classes:[dt[et].trim()],type:"default",description:""};break;case 47:this.$={stmt:"state",id:dt[et-2].trim(),classes:[dt[et].trim()],type:"default",description:""};break;case 50:Tt.parseDirective("%%{","open_directive");break;case 51:Tt.parseDirective(dt[et],"type_directive");break;case 52:dt[et]=dt[et].trim().replace(/'/g,'"'),Tt.parseDirective(dt[et],"arg_directive");break;case 53:Tt.parseDirective("}%%","close_directive","state");break}},table:[{3:1,4:e,5:s,6:4,7:r,45:6,60:o},{1:[3]},{3:8,4:e,5:s,6:4,7:r,45:6,60:o},{3:9,4:e,5:s,6:4,7:r,45:6,60:o},{3:10,4:e,5:s,6:4,7:r,45:6,60:o},t([1,4,5,16,17,19,22,24,25,26,27,28,29,33,35,37,38,42,50,51,52,53,56,60],a,{8:11}),{46:12,61:[1,13]},{61:[2,50]},{1:[2,1]},{1:[2,2]},{1:[2,3]},{1:[2,4],4:u,5:h,6:30,9:14,10:16,11:18,12:19,13:20,16:d,17:y,19:_,22:v,24:x,25:k,26:D,27:M,28:R,29:Y,32:31,33:V,35:X,37:J,38:rt,42:lt,45:6,50:tt,51:it,52:j,53:W,56:$,60:o},{47:43,48:[1,44],63:I},t([48,63],[2,51]),t(H,[2,6]),{6:30,10:46,11:18,12:19,13:20,16:d,17:y,19:_,22:v,24:x,25:k,26:D,27:M,28:R,29:Y,32:31,33:V,35:X,37:J,38:rt,42:lt,45:6,50:tt,51:it,52:j,53:W,56:$,60:o},t(H,[2,8]),t(H,[2,9]),t(H,[2,10]),t(H,[2,11]),t(H,[2,12],{14:[1,47],15:[1,48]}),t(H,[2,16]),{18:[1,49]},t(H,[2,18],{20:[1,50]}),{23:[1,51]},t(H,[2,22]),t(H,[2,23]),t(H,[2,24]),t(H,[2,25]),{30:52,31:[1,53],58:[1,54],59:[1,55]},t(H,[2,28]),t(H,[2,29]),{34:[1,56]},{36:[1,57]},t(H,[2,32]),{39:[1,58],41:[1,59]},{43:[1,60]},t(S,[2,44],{57:[1,61]}),t(S,[2,45],{57:[1,62]}),t(H,[2,38]),t(H,[2,39]),t(H,[2,40]),t(H,[2,41]),t(yt,[2,36]),{49:63,62:[1,64]},t(yt,[2,53]),t(H,[2,7]),t(H,[2,13]),{13:65,24:x,56:$},t(H,[2,17]),t(T,a,{8:66}),{24:[1,67]},{24:[1,68]},{23:[1,69]},{24:[2,48]},{24:[2,49]},t(H,[2,30]),t(H,[2,31]),{40:[1,70]},{40:[1,71]},{44:[1,72]},{24:[1,73]},{24:[1,74]},{47:75,63:I},{63:[2,52]},t(H,[2,14],{14:[1,76]}),{4:u,5:h,6:30,9:14,10:16,11:18,12:19,13:20,16:d,17:y,19:_,21:[1,77],22:v,24:x,25:k,26:D,27:M,28:R,29:Y,32:31,33:V,35:X,37:J,38:rt,42:lt,45:6,50:tt,51:it,52:j,53:W,56:$,60:o},t(H,[2,20],{20:[1,78]}),{31:[1,79]},{24:[1,80]},t(H,[2,33]),t(H,[2,34]),t(H,[2,35]),t(S,[2,46]),t(S,[2,47]),t(yt,[2,37]),t(H,[2,15]),t(H,[2,19]),t(T,a,{8:81}),t(H,[2,26]),t(H,[2,27]),{4:u,5:h,6:30,9:14,10:16,11:18,12:19,13:20,16:d,17:y,19:_,21:[1,82],22:v,24:x,25:k,26:D,27:M,28:R,29:Y,32:31,33:V,35:X,37:J,38:rt,42:lt,45:6,50:tt,51:it,52:j,53:W,56:$,60:o},t(H,[2,21])],defaultActions:{7:[2,50],8:[2,1],9:[2,2],10:[2,3],54:[2,48],55:[2,49],64:[2,52]},parseError:function(Et,bt){if(bt.recoverable)this.trace(Et);else{var xt=new Error(Et);throw xt.hash=bt,xt}},parse:function(Et){var bt=this,xt=[0],Tt=[],Wt=[null],dt=[],ve=this.table,et="",st=0,pt=0,Z=2,q=1,U=dt.slice.call(arguments,1),mt=Object.create(this.lexer),N={yy:{}};for(var Lt in this.yy)Object.prototype.hasOwnProperty.call(this.yy,Lt)&&(N.yy[Lt]=this.yy[Lt]);mt.setInput(Et,N.yy),N.yy.lexer=mt,N.yy.parser=this,typeof mt.yylloc>"u"&&(mt.yylloc={});var nt=mt.yylloc;dt.push(nt);var Be=mt.options&&mt.options.ranges;typeof N.yy.parseError=="function"?this.parseError=N.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function vt(){var je;return je=Tt.pop()||mt.lex()||q,typeof je!="number"&&(je instanceof Array&&(Tt=je,je=Tt.pop()),je=bt.symbols_[je]||je),je}for(var de,Xt,Nt,Qt,qt={},Ot,Ct,gn,We;;){if(Xt=xt[xt.length-1],this.defaultActions[Xt]?Nt=this.defaultActions[Xt]:((de===null||typeof de>"u")&&(de=vt()),Nt=ve[Xt]&&ve[Xt][de]),typeof Nt>"u"||!Nt.length||!Nt[0]){var Ue="";We=[];for(Ot in ve[Xt])this.terminals_[Ot]&&Ot>Z&&We.push("'"+this.terminals_[Ot]+"'");mt.showPosition?Ue="Parse error on line "+(st+1)+`:
`+mt.showPosition()+`
Expecting `+We.join(", ")+", got '"+(this.terminals_[de]||de)+"'":Ue="Parse error on line "+(st+1)+": Unexpected "+(de==q?"end of input":"'"+(this.terminals_[de]||de)+"'"),this.parseError(Ue,{text:mt.match,token:this.terminals_[de]||de,line:mt.yylineno,loc:nt,expected:We})}if(Nt[0]instanceof Array&&Nt.length>1)throw new Error("Parse Error: multiple actions possible at state: "+Xt+", token: "+de);switch(Nt[0]){case 1:xt.push(de),Wt.push(mt.yytext),dt.push(mt.yylloc),xt.push(Nt[1]),de=null,pt=mt.yyleng,et=mt.yytext,st=mt.yylineno,nt=mt.yylloc;break;case 2:if(Ct=this.productions_[Nt[1]][1],qt.$=Wt[Wt.length-Ct],qt._$={first_line:dt[dt.length-(Ct||1)].first_line,last_line:dt[dt.length-1].last_line,first_column:dt[dt.length-(Ct||1)].first_column,last_column:dt[dt.length-1].last_column},Be&&(qt._$.range=[dt[dt.length-(Ct||1)].range[0],dt[dt.length-1].range[1]]),Qt=this.performAction.apply(qt,[et,pt,st,N.yy,Nt[1],Wt,dt].concat(U)),typeof Qt<"u")return Qt;Ct&&(xt=xt.slice(0,-1*Ct*2),Wt=Wt.slice(0,-1*Ct),dt=dt.slice(0,-1*Ct)),xt.push(this.productions_[Nt[1]][0]),Wt.push(qt.$),dt.push(qt._$),gn=ve[xt[xt.length-2]][xt[xt.length-1]],xt.push(gn);break;case 3:return!0}}return!0}},ce=function(){var ut={EOF:1,parseError:function(bt,xt){if(this.yy.parser)this.yy.parser.parseError(bt,xt);else throw new Error(bt)},setInput:function(Et,bt){return this.yy=bt||this.yy||{},this._input=Et,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var Et=this._input[0];this.yytext+=Et,this.yyleng++,this.offset++,this.match+=Et,this.matched+=Et;var bt=Et.match(/(?:\r\n?|\n).*/g);return bt?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),Et},unput:function(Et){var bt=Et.length,xt=Et.split(/(?:\r\n?|\n)/g);this._input=Et+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-bt),this.offset-=bt;var Tt=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),xt.length-1&&(this.yylineno-=xt.length-1);var Wt=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:xt?(xt.length===Tt.length?this.yylloc.first_column:0)+Tt[Tt.length-xt.length].length-xt[0].length:this.yylloc.first_column-bt},this.options.ranges&&(this.yylloc.range=[Wt[0],Wt[0]+this.yyleng-bt]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(Et){this.unput(this.match.slice(Et))},pastInput:function(){var Et=this.matched.substr(0,this.matched.length-this.match.length);return(Et.length>20?"...":"")+Et.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var Et=this.match;return Et.length<20&&(Et+=this._input.substr(0,20-Et.length)),(Et.substr(0,20)+(Et.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var Et=this.pastInput(),bt=new Array(Et.length+1).join("-");return Et+this.upcomingInput()+`
`+bt+"^"},test_match:function(Et,bt){var xt,Tt,Wt;if(this.options.backtrack_lexer&&(Wt={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(Wt.yylloc.range=this.yylloc.range.slice(0))),Tt=Et[0].match(/(?:\r\n?|\n).*/g),Tt&&(this.yylineno+=Tt.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:Tt?Tt[Tt.length-1].length-Tt[Tt.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+Et[0].length},this.yytext+=Et[0],this.match+=Et[0],this.matches=Et,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(Et[0].length),this.matched+=Et[0],xt=this.performAction.call(this,this.yy,this,bt,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),xt)return xt;if(this._backtrack){for(var dt in Wt)this[dt]=Wt[dt];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var Et,bt,xt,Tt;this._more||(this.yytext="",this.match="");for(var Wt=this._currentRules(),dt=0;dt<Wt.length;dt++)if(xt=this._input.match(this.rules[Wt[dt]]),xt&&(!bt||xt[0].length>bt[0].length)){if(bt=xt,Tt=dt,this.options.backtrack_lexer){if(Et=this.test_match(xt,Wt[dt]),Et!==!1)return Et;if(this._backtrack){bt=!1;continue}else return!1}else if(!this.options.flex)break}return bt?(Et=this.test_match(bt,Wt[Tt]),Et!==!1?Et:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var bt=this.next();return bt||this.lex()},begin:function(bt){this.conditionStack.push(bt)},popState:function(){var bt=this.conditionStack.length-1;return bt>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(bt){return bt=this.conditionStack.length-1-Math.abs(bt||0),bt>=0?this.conditionStack[bt]:"INITIAL"},pushState:function(bt){this.begin(bt)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(bt,xt,Tt,Wt){switch(Tt){case 0:return 41;case 1:return 50;case 2:return 51;case 3:return 52;case 4:return 53;case 5:return this.begin("open_directive"),60;case 6:return this.begin("type_directive"),61;case 7:return this.popState(),this.begin("arg_directive"),48;case 8:return this.popState(),this.popState(),63;case 9:return 62;case 10:break;case 11:break;case 12:return 5;case 13:break;case 14:break;case 15:break;case 16:break;case 17:return this.pushState("SCALE"),17;case 18:return 18;case 19:this.popState();break;case 20:return this.begin("acc_title"),33;case 21:return this.popState(),"acc_title_value";case 22:return this.begin("acc_descr"),35;case 23:return this.popState(),"acc_descr_value";case 24:this.begin("acc_descr_multiline");break;case 25:this.popState();break;case 26:return"acc_descr_multiline_value";case 27:return this.pushState("CLASSDEF"),38;case 28:return this.popState(),this.pushState("CLASSDEFID"),"DEFAULT_CLASSDEF_ID";case 29:return this.popState(),this.pushState("CLASSDEFID"),39;case 30:return this.popState(),40;case 31:return this.pushState("CLASS"),42;case 32:return this.popState(),this.pushState("CLASS_STYLE"),43;case 33:return this.popState(),44;case 34:return this.pushState("SCALE"),17;case 35:return 18;case 36:this.popState();break;case 37:this.pushState("STATE");break;case 38:return this.popState(),xt.yytext=xt.yytext.slice(0,-8).trim(),25;case 39:return this.popState(),xt.yytext=xt.yytext.slice(0,-8).trim(),26;case 40:return this.popState(),xt.yytext=xt.yytext.slice(0,-10).trim(),27;case 41:return this.popState(),xt.yytext=xt.yytext.slice(0,-8).trim(),25;case 42:return this.popState(),xt.yytext=xt.yytext.slice(0,-8).trim(),26;case 43:return this.popState(),xt.yytext=xt.yytext.slice(0,-10).trim(),27;case 44:return 50;case 45:return 51;case 46:return 52;case 47:return 53;case 48:this.begin("STATE_STRING");break;case 49:return this.popState(),this.pushState("STATE_ID"),"AS";case 50:return this.popState(),"ID";case 51:this.popState();break;case 52:return"STATE_DESCR";case 53:return 19;case 54:this.popState();break;case 55:return this.popState(),this.pushState("struct"),20;case 56:break;case 57:return this.popState(),21;case 58:break;case 59:return this.begin("NOTE"),29;case 60:return this.popState(),this.pushState("NOTE_ID"),58;case 61:return this.popState(),this.pushState("NOTE_ID"),59;case 62:this.popState(),this.pushState("FLOATING_NOTE");break;case 63:return this.popState(),this.pushState("FLOATING_NOTE_ID"),"AS";case 64:break;case 65:return"NOTE_TEXT";case 66:return this.popState(),"ID";case 67:return this.popState(),this.pushState("NOTE_TEXT"),24;case 68:return this.popState(),xt.yytext=xt.yytext.substr(2).trim(),31;case 69:return this.popState(),xt.yytext=xt.yytext.slice(0,-8).trim(),31;case 70:return 7;case 71:return 7;case 72:return 16;case 73:return 56;case 74:return 24;case 75:return xt.yytext=xt.yytext.trim(),14;case 76:return 15;case 77:return 28;case 78:return 57;case 79:return 5;case 80:return"INVALID"}},rules:[/^(?:default\b)/i,/^(?:.*direction\s+TB[^\n]*)/i,/^(?:.*direction\s+BT[^\n]*)/i,/^(?:.*direction\s+RL[^\n]*)/i,/^(?:.*direction\s+LR[^\n]*)/i,/^(?:%%\{)/i,/^(?:((?:(?!\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\}%%)/i,/^(?:((?:(?!\}%%).|\n)*))/i,/^(?:%%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[\n]+)/i,/^(?:[\s]+)/i,/^(?:((?!\n)\s)+)/i,/^(?:#[^\n]*)/i,/^(?:%[^\n]*)/i,/^(?:scale\s+)/i,/^(?:\d+)/i,/^(?:\s+width\b)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:classDef\s+)/i,/^(?:DEFAULT\s+)/i,/^(?:\w+\s+)/i,/^(?:[^\n]*)/i,/^(?:class\s+)/i,/^(?:(\w+)+((,\s*\w+)*))/i,/^(?:[^\n]*)/i,/^(?:scale\s+)/i,/^(?:\d+)/i,/^(?:\s+width\b)/i,/^(?:state\s+)/i,/^(?:.*<<fork>>)/i,/^(?:.*<<join>>)/i,/^(?:.*<<choice>>)/i,/^(?:.*\[\[fork\]\])/i,/^(?:.*\[\[join\]\])/i,/^(?:.*\[\[choice\]\])/i,/^(?:.*direction\s+TB[^\n]*)/i,/^(?:.*direction\s+BT[^\n]*)/i,/^(?:.*direction\s+RL[^\n]*)/i,/^(?:.*direction\s+LR[^\n]*)/i,/^(?:["])/i,/^(?:\s*as\s+)/i,/^(?:[^\n\{]*)/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:[^\n\s\{]+)/i,/^(?:\n)/i,/^(?:\{)/i,/^(?:%%(?!\{)[^\n]*)/i,/^(?:\})/i,/^(?:[\n])/i,/^(?:note\s+)/i,/^(?:left of\b)/i,/^(?:right of\b)/i,/^(?:")/i,/^(?:\s*as\s*)/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:[^\n]*)/i,/^(?:\s*[^:\n\s\-]+)/i,/^(?:\s*:[^:\n;]+)/i,/^(?:[\s\S]*?end note\b)/i,/^(?:stateDiagram\s+)/i,/^(?:stateDiagram-v2\s+)/i,/^(?:hide empty description\b)/i,/^(?:\[\*\])/i,/^(?:[^:\n\s\-\{]+)/i,/^(?:\s*:[^:\n;]+)/i,/^(?:-->)/i,/^(?:--)/i,/^(?::::)/i,/^(?:$)/i,/^(?:.)/i],conditions:{LINE:{rules:[14,15],inclusive:!1},close_directive:{rules:[14,15],inclusive:!1},arg_directive:{rules:[8,9,14,15],inclusive:!1},type_directive:{rules:[7,8,14,15],inclusive:!1},open_directive:{rules:[6,14,15],inclusive:!1},struct:{rules:[14,15,27,31,37,44,45,46,47,56,57,58,59,73,74,75,76,77],inclusive:!1},FLOATING_NOTE_ID:{rules:[66],inclusive:!1},FLOATING_NOTE:{rules:[63,64,65],inclusive:!1},NOTE_TEXT:{rules:[68,69],inclusive:!1},NOTE_ID:{rules:[67],inclusive:!1},NOTE:{rules:[60,61,62],inclusive:!1},CLASS_STYLE:{rules:[33],inclusive:!1},CLASS:{rules:[32],inclusive:!1},CLASSDEFID:{rules:[30],inclusive:!1},CLASSDEF:{rules:[28,29],inclusive:!1},acc_descr_multiline:{rules:[25,26],inclusive:!1},acc_descr:{rules:[23],inclusive:!1},acc_title:{rules:[21],inclusive:!1},SCALE:{rules:[18,19,35,36],inclusive:!1},ALIAS:{rules:[],inclusive:!1},STATE_ID:{rules:[50],inclusive:!1},STATE_STRING:{rules:[51,52],inclusive:!1},FORK_STATE:{rules:[],inclusive:!1},STATE:{rules:[14,15,38,39,40,41,42,43,48,49,53,54,55],inclusive:!1},ID:{rules:[14,15],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,5,10,11,12,13,15,16,17,20,22,24,27,31,34,37,55,59,70,71,72,73,74,75,76,78,79,80],inclusive:!0}}};return ut}();Dt.lexer=ce;function Gt(){this.yy={}}return Gt.prototype=Dt,Dt.Parser=Gt,new Gt}();Zm.parser=Zm;const fx=Zm,gq=(t,e)=>{var s;return((s=e==null?void 0:e.state)==null?void 0:s.defaultRenderer)==="dagre-wrapper"?!1:t.match(/^\s*stateDiagram/)!==null},mq=(t,e)=>{var s;return!!(t.match(/^\s*stateDiagram-v2/)!==null||t.match(/^\s*stateDiagram/)&&((s=e==null?void 0:e.state)==null?void 0:s.defaultRenderer)==="dagre-wrapper")},_q="LR",vq="TB",E1="state",Qm="relation",bq="classDef",xq="applyClass",yp="default",yx="divider",Jm="[*]",gx="start",mx=Jm,_x="end",vx="color",bx="fill",kq="bgFill",Cq=",";function xx(){return{}}let kx=_q,B1=[],gp=xx();const Cx=()=>({relations:[],states:{},documents:{}});let S1={root:Cx()},Dr=S1.root,mp=0,Ax=0;const Aq={LINE:0,DOTTED_LINE:1},wq={AGGREGATION:0,EXTENSION:1,COMPOSITION:2,DEPENDENCY:3},T1=t=>JSON.parse(JSON.stringify(t)),Eq=function(t,e,s){Bs.parseDirective(this,t,e,s)},Bq=t=>{w.info("Setting root doc",t),B1=t},Sq=()=>B1,D1=(t,e,s)=>{if(e.stmt===Qm)D1(t,e.state1,!0),D1(t,e.state2,!1);else if(e.stmt===E1&&e.id==="[*]"&&(e.id=s?t.id+"_start":t.id+"_end",e.start=s),e.doc){const r=[];let o=[],a;for(a=0;a<e.doc.length;a++)if(e.doc[a].type===yx){const u=T1(e.doc[a]);u.doc=T1(o),r.push(u),o=[]}else o.push(e.doc[a]);if(r.length>0&&o.length>0){const u={stmt:E1,id:H_(),type:"divider",doc:T1(o)};r.push(T1(u)),e.doc=r}e.doc.forEach(u=>D1(e,u,!0))}},Tq=()=>(D1({id:"root"},{id:"root",doc:B1},!0),{id:"root",doc:B1}),Dq=t=>{let e;t.doc?e=t.doc:e=t,w.info(e),wx(!0),w.info("Extract",e),e.forEach(s=>{switch(s.stmt){case E1:Jl(s.id,s.type,s.doc,s.description,s.note,s.classes,s.styles,s.textStyles);break;case Qm:Ex(s.state1,s.state2,s.description);break;case bq:Bx(s.id,s.classes);break;case xq:s2(s.id,s.styleClass);break}})},Jl=function(t,e=yp,s=null,r=null,o=null,a=null,u=null,h=null){Dr.states[t]===void 0?(w.info("Adding state ",t,r),Dr.states[t]={id:t,descriptions:[],type:e,doc:s,note:o,classes:[],styles:[],textStyles:[]}):(Dr.states[t].doc||(Dr.states[t].doc=s),Dr.states[t].type||(Dr.states[t].type=e)),r&&(w.info("Setting state description",t,r),typeof r=="string"&&n2(t,r.trim()),typeof r=="object"&&r.forEach(d=>n2(t,d.trim()))),o&&(Dr.states[t].note=o,Dr.states[t].note.text=vn.sanitizeText(Dr.states[t].note.text,ht())),a&&(w.info("Setting state classes",t,a),(typeof a=="string"?[a]:a).forEach(y=>s2(t,y.trim()))),u&&(w.info("Setting state styles",t,u),(typeof u=="string"?[u]:u).forEach(y=>$q(t,y.trim()))),h&&(w.info("Setting state styles",t,u),(typeof h=="string"?[h]:h).forEach(y=>Yq(t,y.trim())))},wx=function(t){S1={root:Cx()},Dr=S1.root,mp=0,gp=xx(),t||zi()},_p=function(t){return Dr.states[t]},Fq=function(){return Dr.states},Lq=function(){w.info("Documents = ",S1)},Iq=function(){return Dr.relations};function t2(t=""){let e=t;return t===Jm&&(mp++,e=`${gx}${mp}`),e}function e2(t="",e=yp){return t===Jm?gx:e}function Mq(t=""){let e=t;return t===mx&&(mp++,e=`${_x}${mp}`),e}function Rq(t="",e=yp){return t===mx?_x:e}function Oq(t,e,s){let r=t2(t.id),o=e2(t.id,t.type),a=t2(e.id),u=e2(e.id,e.type);Jl(r,o,t.doc,t.description,t.note,t.classes,t.styles,t.textStyles),Jl(a,u,e.doc,e.description,e.note,e.classes,e.styles,e.textStyles),Dr.relations.push({id1:r,id2:a,relationTitle:vn.sanitizeText(s,ht())})}const Ex=function(t,e,s){if(typeof t=="object")Oq(t,e,s);else{const r=t2(t),o=e2(t),a=Mq(e),u=Rq(e);Jl(r,o),Jl(a,u),Dr.relations.push({id1:r,id2:a,title:vn.sanitizeText(s,ht())})}},n2=function(t,e){const s=Dr.states[t],r=e.startsWith(":")?e.replace(":","").trim():e;s.descriptions.push(vn.sanitizeText(r,ht()))},Nq=function(t){return t.substring(0,1)===":"?t.substr(2).trim():t.trim()},Pq=()=>(Ax++,"divider-id-"+Ax),Bx=function(t,e=""){gp[t]===void 0&&(gp[t]={id:t,styles:[],textStyles:[]});const s=gp[t];e!=null&&e.split(Cq).forEach(r=>{const o=r.replace(/([^;]*);/,"$1").trim();if(r.match(vx)){const u=o.replace(bx,kq).replace(vx,bx);s.textStyles.push(u)}s.styles.push(o)})},Vq=function(){return gp},s2=function(t,e){t.split(",").forEach(function(s){let r=_p(s);if(r===void 0){const o=s.trim();Jl(o),r=_p(o)}r.classes.push(e)})},$q=function(t,e){const s=_p(t);s!==void 0&&s.textStyles.push(e)},Yq=function(t,e){const s=_p(t);s!==void 0&&s.textStyles.push(e)},da={parseDirective:Eq,getConfig:()=>ht().state,addState:Jl,clear:wx,getState:_p,getStates:Fq,getRelations:Iq,getClasses:Vq,getDirection:()=>kx,addRelation:Ex,getDividerId:Pq,setDirection:t=>{kx=t},cleanupLabel:Nq,lineType:Aq,relationType:wq,logDocuments:Lq,getRootDoc:Sq,setRootDoc:Bq,getRootDocV2:Tq,extract:Dq,trimColon:t=>t&&t[0]===":"?t.substr(1).trim():t.trim(),getAccTitle:Wi,setAccTitle:Ai,getAccDescription:ji,setAccDescription:Hi,addStyleClass:Bx,setCssClass:s2,addDescription:n2,setDiagramTitle:Qo,getDiagramTitle:Jo},Uq=t=>t.append("circle").attr("class","start-state").attr("r",ht().state.sizeUnit).attr("cx",ht().state.padding+ht().state.sizeUnit).attr("cy",ht().state.padding+ht().state.sizeUnit),zq=t=>t.append("line").style("stroke","grey").style("stroke-dasharray","3").attr("x1",ht().state.textHeight).attr("class","divider").attr("x2",ht().state.textHeight*2).attr("y1",0).attr("y2",0),Wq=(t,e)=>{const s=t.append("text").attr("x",2*ht().state.padding).attr("y",ht().state.textHeight+2*ht().state.padding).attr("font-size",ht().state.fontSize).attr("class","state-title").text(e.id),r=s.node().getBBox();return t.insert("rect",":first-child").attr("x",ht().state.padding).attr("y",ht().state.padding).attr("width",r.width+2*ht().state.padding).attr("height",r.height+2*ht().state.padding).attr("rx",ht().state.radius),s},Hq=(t,e)=>{const s=function(x,k,D){const M=x.append("tspan").attr("x",2*ht().state.padding).text(k);D||M.attr("dy",ht().state.textHeight)},o=t.append("text").attr("x",2*ht().state.padding).attr("y",ht().state.textHeight+1.3*ht().state.padding).attr("font-size",ht().state.fontSize).attr("class","state-title").text(e.descriptions[0]).node().getBBox(),a=o.height,u=t.append("text").attr("x",ht().state.padding).attr("y",a+ht().state.padding*.4+ht().state.dividerMargin+ht().state.textHeight).attr("class","state-description");let h=!0,d=!0;e.descriptions.forEach(function(x){h||(s(u,x,d),d=!1),h=!1});const y=t.append("line").attr("x1",ht().state.padding).attr("y1",ht().state.padding+a+ht().state.dividerMargin/2).attr("y2",ht().state.padding+a+ht().state.dividerMargin/2).attr("class","descr-divider"),_=u.node().getBBox(),v=Math.max(_.width,o.width);return y.attr("x2",v+3*ht().state.padding),t.insert("rect",":first-child").attr("x",ht().state.padding).attr("y",ht().state.padding).attr("width",v+2*ht().state.padding).attr("height",_.height+a+2*ht().state.padding).attr("rx",ht().state.radius),t},jq=(t,e,s)=>{const r=ht().state.padding,o=2*ht().state.padding,a=t.node().getBBox(),u=a.width,h=a.x,d=t.append("text").attr("x",0).attr("y",ht().state.titleShift).attr("font-size",ht().state.fontSize).attr("class","state-title").text(e.id),_=d.node().getBBox().width+o;let v=Math.max(_,u);v===u&&(v=v+o);let x;const k=t.node().getBBox();e.doc,x=h-r,_>u&&(x=(u-v)/2+r),Math.abs(h-k.x)<r&&_>u&&(x=h-(_-u)/2);const D=1-ht().state.textHeight;return t.insert("rect",":first-child").attr("x",x).attr("y",D).attr("class",s?"alt-composit":"composit").attr("width",v).attr("height",k.height+ht().state.textHeight+ht().state.titleShift+1).attr("rx","0"),d.attr("x",x+r),_<=u&&d.attr("x",h+(v-o)/2-_/2+r),t.insert("rect",":first-child").attr("x",x).attr("y",ht().state.titleShift-ht().state.textHeight-ht().state.padding).attr("width",v).attr("height",ht().state.textHeight*3).attr("rx",ht().state.radius),t.insert("rect",":first-child").attr("x",x).attr("y",ht().state.titleShift-ht().state.textHeight-ht().state.padding).attr("width",v).attr("height",k.height+3+2*ht().state.textHeight).attr("rx",ht().state.radius),t},Gq=t=>(t.append("circle").attr("class","end-state-outer").attr("r",ht().state.sizeUnit+ht().state.miniPadding).attr("cx",ht().state.padding+ht().state.sizeUnit+ht().state.miniPadding).attr("cy",ht().state.padding+ht().state.sizeUnit+ht().state.miniPadding),t.append("circle").attr("class","end-state-inner").attr("r",ht().state.sizeUnit).attr("cx",ht().state.padding+ht().state.sizeUnit+2).attr("cy",ht().state.padding+ht().state.sizeUnit+2)),qq=(t,e)=>{let s=ht().state.forkWidth,r=ht().state.forkHeight;if(e.parentId){let o=s;s=r,r=o}return t.append("rect").style("stroke","black").style("fill","black").attr("width",s).attr("height",r).attr("x",ht().state.padding).attr("y",ht().state.padding)},Xq=(t,e,s,r)=>{let o=0;const a=r.append("text");a.style("text-anchor","start"),a.attr("class","noteText");let u=t.replace(/\r\n/g,"<br/>");u=u.replace(/\n/g,"<br/>");const h=u.split(vn.lineBreakRegex);let d=1.25*ht().state.noteMargin;for(const y of h){const _=y.trim();if(_.length>0){const v=a.append("tspan");if(v.text(_),d===0){const x=v.node().getBBox();d+=x.height}o+=d,v.attr("x",e+ht().state.noteMargin),v.attr("y",s+o+1.25*ht().state.noteMargin)}}return{textWidth:a.node().getBBox().width,textHeight:o}},Kq=(t,e)=>{e.attr("class","state-note");const s=e.append("rect").attr("x",0).attr("y",ht().state.padding),r=e.append("g"),{textWidth:o,textHeight:a}=Xq(t,0,0,r);return s.attr("height",a+2*ht().state.noteMargin),s.attr("width",o+ht().state.noteMargin*2),s},Sx=function(t,e){const s=e.id,r={id:s,label:e.id,width:0,height:0},o=t.append("g").attr("id",s).attr("class","stateGroup");e.type==="start"&&Uq(o),e.type==="end"&&Gq(o),(e.type==="fork"||e.type==="join")&&qq(o,e),e.type==="note"&&Kq(e.note.text,o),e.type==="divider"&&zq(o),e.type==="default"&&e.descriptions.length===0&&Wq(o,e),e.type==="default"&&e.descriptions.length>0&&Hq(o,e);const a=o.node().getBBox();return r.width=a.width+2*ht().state.padding,r.height=a.height+2*ht().state.padding,r};let Tx=0;const Zq=function(t,e,s){const r=function(d){switch(d){case da.relationType.AGGREGATION:return"aggregation";case da.relationType.EXTENSION:return"extension";case da.relationType.COMPOSITION:return"composition";case da.relationType.DEPENDENCY:return"dependency"}};e.points=e.points.filter(d=>!Number.isNaN(d.y));const o=e.points,a=Zc().x(function(d){return d.x}).y(function(d){return d.y}).curve(Qc),u=t.append("path").attr("d",a(o)).attr("id","edge"+Tx).attr("class","transition");let h="";if(ht().state.arrowMarkerAbsolute&&(h=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,h=h.replace(/\(/g,"\\("),h=h.replace(/\)/g,"\\)")),u.attr("marker-end","url("+h+"#"+r(da.relationType.DEPENDENCY)+"End)"),s.title!==void 0){const d=t.append("g").attr("class","stateLabel"),{x:y,y:_}=wn.calcLabelPosition(e.points),v=vn.getRows(s.title);let x=0;const k=[];let D=0,M=0;for(let V=0;V<=v.length;V++){const X=d.append("text").attr("text-anchor","middle").text(v[V]).attr("x",y).attr("y",_+x),J=X.node().getBBox();D=Math.max(D,J.width),M=Math.min(M,J.x),w.info(J.x,y,_+x),x===0&&(x=X.node().getBBox().height,w.info("Title height",x,_)),k.push(X)}let R=x*v.length;if(v.length>1){const V=(v.length-1)*x*.5;k.forEach((X,J)=>X.attr("y",_+J*x-V)),R=x*v.length}const Y=d.node().getBBox();d.insert("rect",":first-child").attr("class","box").attr("x",y-D/2-ht().state.padding/2).attr("y",_-R/2-ht().state.padding/2-3.5).attr("width",D+ht().state.padding).attr("height",R+ht().state.padding),w.info(Y)}Tx++};let li;const r2={},Qq=function(){},Jq=function(t){t.append("defs").append("marker").attr("id","dependencyEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 19,7 L9,13 L14,7 L9,1 Z")},tX=function(t,e,s,r){li=ht().state;const o=ht().securityLevel;let a;o==="sandbox"&&(a=ee("#i"+e));const u=ee(o==="sandbox"?a.nodes()[0].contentDocument.body:"body"),h=o==="sandbox"?a.nodes()[0].contentDocument:document;w.debug("Rendering diagram "+t);const d=u.select(`[id='${e}']`);Jq(d),new Gs({multigraph:!0,compound:!0,rankdir:"RL"}).setDefaultEdgeLabel(function(){return{}});const _=r.db.getRootDoc();Dx(_,d,void 0,!1,u,h,r);const v=li.padding,x=d.node().getBBox(),k=x.width+v*2,D=x.height+v*2,M=k*1.75;Ui(d,D,M,li.useMaxWidth),d.attr("viewBox",`${x.x-li.padding}  ${x.y-li.padding} `+k+" "+D)},eX=t=>t?t.length*li.fontSizeFactor:1,Dx=(t,e,s,r,o,a,u)=>{const h=new Gs({compound:!0,multigraph:!0});let d,y=!0;for(d=0;d<t.length;d++)if(t[d].stmt==="relation"){y=!1;break}s?h.setGraph({rankdir:"LR",multigraph:!0,compound:!0,ranker:"tight-tree",ranksep:y?1:li.edgeLengthFactor,nodeSep:y?1:50,isMultiGraph:!0}):h.setGraph({rankdir:"TB",multigraph:!0,compound:!0,ranksep:y?1:li.edgeLengthFactor,nodeSep:y?1:50,ranker:"tight-tree",isMultiGraph:!0}),h.setDefaultEdgeLabel(function(){return{}}),u.db.extract(t);const _=u.db.getStates(),v=u.db.getRelations(),x=Object.keys(_);for(const Y of x){const V=_[Y];s&&(V.parentId=s);let X;if(V.doc){let J=e.append("g").attr("id",V.id).attr("class","stateGroup");X=Dx(V.doc,J,V.id,!r,o,a,u);{J=jq(J,V,r);let rt=J.node().getBBox();X.width=rt.width,X.height=rt.height+li.padding/2,r2[V.id]={y:li.compositTitleSize}}}else X=Sx(e,V);if(V.note){const J={descriptions:[],id:V.id+"-note",note:V.note,type:"note"},rt=Sx(e,J);V.note.position==="left of"?(h.setNode(X.id+"-note",rt),h.setNode(X.id,X)):(h.setNode(X.id,X),h.setNode(X.id+"-note",rt)),h.setParent(X.id,X.id+"-group"),h.setParent(X.id+"-note",X.id+"-group")}else h.setNode(X.id,X)}w.debug("Count=",h.nodeCount(),h);let k=0;v.forEach(function(Y){k++,w.debug("Setting edge",Y),h.setEdge(Y.id1,Y.id2,{relation:Y,width:eX(Y.title),height:li.labelHeight*vn.getRows(Y.title).length,labelpos:"c"},"id"+k)}),Cu(h),w.debug("Graph after layout",h.nodes());const D=e.node();h.nodes().forEach(function(Y){Y!==void 0&&h.node(Y)!==void 0?(w.warn("Node "+Y+": "+JSON.stringify(h.node(Y))),o.select("#"+D.id+" #"+Y).attr("transform","translate("+(h.node(Y).x-h.node(Y).width/2)+","+(h.node(Y).y+(r2[Y]?r2[Y].y:0)-h.node(Y).height/2)+" )"),o.select("#"+D.id+" #"+Y).attr("data-x-shift",h.node(Y).x-h.node(Y).width/2),a.querySelectorAll("#"+D.id+" #"+Y+" .divider").forEach(X=>{const J=X.parentElement;let rt=0,lt=0;J&&(J.parentElement&&(rt=J.parentElement.getBBox().width),lt=parseInt(J.getAttribute("data-x-shift"),10),Number.isNaN(lt)&&(lt=0)),X.setAttribute("x1",0-lt+8),X.setAttribute("x2",rt-lt-8)})):w.debug("No Node "+Y+": "+JSON.stringify(h.node(Y)))});let M=D.getBBox();h.edges().forEach(function(Y){Y!==void 0&&h.edge(Y)!==void 0&&(w.debug("Edge "+Y.v+" -> "+Y.w+": "+JSON.stringify(h.edge(Y))),Zq(e,h.edge(Y),h.edge(Y).relation))}),M=D.getBBox();const R={id:s||"root",label:s||"root",width:0,height:0};return R.width=M.width+2*li.padding,R.height=M.height+2*li.padding,w.debug("Doc rendered",R,h),R},nX={setConf:Qq,draw:tX},F1="rect",i2="rectWithTitle",sX="start",rX="end",iX="divider",oX="roundedWithTitle",aX="note",lX="noteGroup",Mu="statediagram",cX=`${Mu}-state`,Fx="transition",uX="note",hX=`${Fx} note-edge`,pX=`${Mu}-${uX}`,dX=`${Mu}-cluster`,fX=`${Mu}-cluster-alt`,Lx="parent",Ix="note",yX="state",o2="----",gX=`${o2}${Ix}`,Mx=`${o2}${Lx}`,Rx="fill:none",Ox="fill: #333",Nx="c",Px="text",Vx="normal";let L1={},Ka=0;const mX=function(t){const e=Object.keys(t);for(const s of e)t[s]},_X=function(t,e){w.trace("Extracting classes"),e.db.clear();try{return e.parser.parse(t),e.db.extract(e.db.getRootDocV2()),e.db.getClasses()}catch(s){return s}};function vX(t){return t==null?"":t.classes?t.classes.join(" "):""}function a2(t="",e=0,s="",r=o2){const o=s!==null&&s.length>0?`${r}${s}`:"";return`${yX}-${t}${o}-${e}`}const vp=(t,e,s,r,o,a)=>{const u=s.id,h=vX(r[u]);if(u!=="root"){let d=F1;s.start===!0&&(d=sX),s.start===!1&&(d=rX),s.type!==yp&&(d=s.type),L1[u]||(L1[u]={id:u,shape:d,description:vn.sanitizeText(u,ht()),classes:`${h} ${cX}`});const y=L1[u];s.description&&(Array.isArray(y.description)?(y.shape=i2,y.description.push(s.description)):y.description.length>0?(y.shape=i2,y.description===u?y.description=[s.description]:y.description=[y.description,s.description]):(y.shape=F1,y.description=s.description),y.description=vn.sanitizeTextOrArray(y.description,ht())),y.description.length===1&&y.shape===i2&&(y.shape=F1),!y.type&&s.doc&&(w.info("Setting cluster for ",u,l2(s)),y.type="group",y.dir=l2(s),y.shape=s.type===yx?iX:oX,y.classes=y.classes+" "+dX+" "+(a?fX:""));const _={labelStyle:"",shape:y.shape,labelText:y.description,classes:y.classes,style:"",id:u,dir:y.dir,domId:a2(u,Ka),type:y.type,padding:15};if(s.note){const v={labelStyle:"",shape:aX,labelText:s.note.text,classes:pX,style:"",id:u+gX+"-"+Ka,domId:a2(u,Ka,Ix),type:y.type,padding:15},x={labelStyle:"",shape:lX,labelText:s.note.text,classes:y.classes,style:"",id:u+Mx,domId:a2(u,Ka,Lx),type:"group",padding:0};Ka++;const k=u+Mx;t.setNode(k,x),t.setNode(v.id,v),t.setNode(u,_),t.setParent(u,k),t.setParent(v.id,k);let D=u,M=v.id;s.note.position==="left of"&&(D=v.id,M=u),t.setEdge(D,M,{arrowhead:"none",arrowType:"",style:Rx,labelStyle:"",classes:hX,arrowheadStyle:Ox,labelpos:Nx,labelType:Px,thickness:Vx})}else t.setNode(u,_)}e&&e.id!=="root"&&(w.trace("Setting node ",u," to be child of its parent ",e.id),t.setParent(u,e.id)),s.doc&&(w.trace("Adding nodes children "),bX(t,s,s.doc,r,o,!a))},bX=(t,e,s,r,o,a)=>{w.trace("items",s),s.forEach(u=>{switch(u.stmt){case E1:vp(t,e,u,r,o,a);break;case yp:vp(t,e,u,r,o,a);break;case Qm:{vp(t,e,u.state1,r,o,a),vp(t,e,u.state2,r,o,a);const h={id:"edge"+Ka,arrowhead:"normal",arrowTypeEnd:"arrow_barb",style:Rx,labelStyle:"",label:vn.sanitizeText(u.description,ht()),arrowheadStyle:Ox,labelpos:Nx,labelType:Px,thickness:Vx,classes:Fx};t.setEdge(u.state1.id,u.state2.id,h,Ka),Ka++}break}})},l2=(t,e=vq)=>{let s=e;if(t.doc)for(let r=0;r<t.doc.length;r++){const o=t.doc[r];o.stmt==="dir"&&(s=o.value)}return s},xX={setConf:mX,getClasses:_X,draw:function(t,e,s,r){w.info("Drawing state diagram (v2)",e),L1={},r.db.getDirection();const{securityLevel:o,state:a}=ht(),u=a.nodeSpacing||50,h=a.rankSpacing||50;w.info(r.db.getRootDocV2()),r.db.extract(r.db.getRootDocV2()),w.info(r.db.getRootDocV2());const d=r.db.getStates(),y=new Gs({multigraph:!0,compound:!0}).setGraph({rankdir:l2(r.db.getRootDocV2()),nodesep:u,ranksep:h,marginx:8,marginy:8}).setDefaultEdgeLabel(function(){return{}});vp(y,void 0,r.db.getRootDocV2(),d,r.db,!0);let _;o==="sandbox"&&(_=ee("#i"+e));const v=ee(o==="sandbox"?_.nodes()[0].contentDocument.body:"body"),x=v.select(`[id="${e}"]`),k=v.select("#"+e+" g");om(k,y,["barb"],Mu,e);const D=8;wn.insertTitle(x,"statediagramTitleText",a.titleTopMargin,r.db.getDiagramTitle());const M=x.node().getBBox(),R=M.width+D*2,Y=M.height+D*2;x.attr("class",Mu);const V=x.node().getBBox();Ui(x,Y,R,a.useMaxWidth);const X=`${V.x-D} ${V.y-D} ${R} ${Y}`;w.debug(`viewBox ${X}`),x.attr("viewBox",X);const J=document.querySelectorAll('[id="'+e+'"] .edgeLabel .label');for(const rt of J){const lt=rt.getBBox(),tt=document.createElementNS("http://www.w3.org/2000/svg",F1);tt.setAttribute("rx",0),tt.setAttribute("ry",0),tt.setAttribute("width",lt.width),tt.setAttribute("height",lt.height),rt.insertBefore(tt,rt.firstChild)}}};var c2=function(){var t=function(M,R,Y,V){for(Y=Y||{},V=M.length;V--;Y[M[V]]=R);return Y},e=[1,2],s=[1,5],r=[6,9,11,17,18,20,22,23,24,26],o=[1,15],a=[1,16],u=[1,17],h=[1,18],d=[1,19],y=[1,20],_=[1,24],v=[4,6,9,11,17,18,20,22,23,24,26],x={trace:function(){},yy:{},symbols_:{error:2,start:3,journey:4,document:5,EOF:6,directive:7,line:8,SPACE:9,statement:10,NEWLINE:11,openDirective:12,typeDirective:13,closeDirective:14,":":15,argDirective:16,title:17,acc_title:18,acc_title_value:19,acc_descr:20,acc_descr_value:21,acc_descr_multiline_value:22,section:23,taskName:24,taskData:25,open_directive:26,type_directive:27,arg_directive:28,close_directive:29,$accept:0,$end:1},terminals_:{2:"error",4:"journey",6:"EOF",9:"SPACE",11:"NEWLINE",15:":",17:"title",18:"acc_title",19:"acc_title_value",20:"acc_descr",21:"acc_descr_value",22:"acc_descr_multiline_value",23:"section",24:"taskName",25:"taskData",26:"open_directive",27:"type_directive",28:"arg_directive",29:"close_directive"},productions_:[0,[3,3],[3,2],[5,0],[5,2],[8,2],[8,1],[8,1],[8,1],[7,4],[7,6],[10,1],[10,2],[10,2],[10,1],[10,1],[10,2],[10,1],[12,1],[13,1],[16,1],[14,1]],performAction:function(R,Y,V,X,J,rt,lt){var tt=rt.length-1;switch(J){case 1:return rt[tt-1];case 3:this.$=[];break;case 4:rt[tt-1].push(rt[tt]),this.$=rt[tt-1];break;case 5:case 6:this.$=rt[tt];break;case 7:case 8:this.$=[];break;case 11:X.setDiagramTitle(rt[tt].substr(6)),this.$=rt[tt].substr(6);break;case 12:this.$=rt[tt].trim(),X.setAccTitle(this.$);break;case 13:case 14:this.$=rt[tt].trim(),X.setAccDescription(this.$);break;case 15:X.addSection(rt[tt].substr(8)),this.$=rt[tt].substr(8);break;case 16:X.addTask(rt[tt-1],rt[tt]),this.$="task";break;case 18:X.parseDirective("%%{","open_directive");break;case 19:X.parseDirective(rt[tt],"type_directive");break;case 20:rt[tt]=rt[tt].trim().replace(/'/g,'"'),X.parseDirective(rt[tt],"arg_directive");break;case 21:X.parseDirective("}%%","close_directive","journey");break}},table:[{3:1,4:e,7:3,12:4,26:s},{1:[3]},t(r,[2,3],{5:6}),{3:7,4:e,7:3,12:4,26:s},{13:8,27:[1,9]},{27:[2,18]},{6:[1,10],7:21,8:11,9:[1,12],10:13,11:[1,14],12:4,17:o,18:a,20:u,22:h,23:d,24:y,26:s},{1:[2,2]},{14:22,15:[1,23],29:_},t([15,29],[2,19]),t(r,[2,8],{1:[2,1]}),t(r,[2,4]),{7:21,10:25,12:4,17:o,18:a,20:u,22:h,23:d,24:y,26:s},t(r,[2,6]),t(r,[2,7]),t(r,[2,11]),{19:[1,26]},{21:[1,27]},t(r,[2,14]),t(r,[2,15]),{25:[1,28]},t(r,[2,17]),{11:[1,29]},{16:30,28:[1,31]},{11:[2,21]},t(r,[2,5]),t(r,[2,12]),t(r,[2,13]),t(r,[2,16]),t(v,[2,9]),{14:32,29:_},{29:[2,20]},{11:[1,33]},t(v,[2,10])],defaultActions:{5:[2,18],7:[2,2],24:[2,21],31:[2,20]},parseError:function(R,Y){if(Y.recoverable)this.trace(R);else{var V=new Error(R);throw V.hash=Y,V}},parse:function(R){var Y=this,V=[0],X=[],J=[null],rt=[],lt=this.table,tt="",it=0,j=0,W=2,$=1,I=rt.slice.call(arguments,1),H=Object.create(this.lexer),S={yy:{}};for(var yt in this.yy)Object.prototype.hasOwnProperty.call(this.yy,yt)&&(S.yy[yt]=this.yy[yt]);H.setInput(R,S.yy),S.yy.lexer=H,S.yy.parser=this,typeof H.yylloc>"u"&&(H.yylloc={});var T=H.yylloc;rt.push(T);var Dt=H.options&&H.options.ranges;typeof S.yy.parseError=="function"?this.parseError=S.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function ce(){var st;return st=X.pop()||H.lex()||$,typeof st!="number"&&(st instanceof Array&&(X=st,st=X.pop()),st=Y.symbols_[st]||st),st}for(var Gt,ut,Et,bt,xt={},Tt,Wt,dt,ve;;){if(ut=V[V.length-1],this.defaultActions[ut]?Et=this.defaultActions[ut]:((Gt===null||typeof Gt>"u")&&(Gt=ce()),Et=lt[ut]&&lt[ut][Gt]),typeof Et>"u"||!Et.length||!Et[0]){var et="";ve=[];for(Tt in lt[ut])this.terminals_[Tt]&&Tt>W&&ve.push("'"+this.terminals_[Tt]+"'");H.showPosition?et="Parse error on line "+(it+1)+`:
`+H.showPosition()+`
Expecting `+ve.join(", ")+", got '"+(this.terminals_[Gt]||Gt)+"'":et="Parse error on line "+(it+1)+": Unexpected "+(Gt==$?"end of input":"'"+(this.terminals_[Gt]||Gt)+"'"),this.parseError(et,{text:H.match,token:this.terminals_[Gt]||Gt,line:H.yylineno,loc:T,expected:ve})}if(Et[0]instanceof Array&&Et.length>1)throw new Error("Parse Error: multiple actions possible at state: "+ut+", token: "+Gt);switch(Et[0]){case 1:V.push(Gt),J.push(H.yytext),rt.push(H.yylloc),V.push(Et[1]),Gt=null,j=H.yyleng,tt=H.yytext,it=H.yylineno,T=H.yylloc;break;case 2:if(Wt=this.productions_[Et[1]][1],xt.$=J[J.length-Wt],xt._$={first_line:rt[rt.length-(Wt||1)].first_line,last_line:rt[rt.length-1].last_line,first_column:rt[rt.length-(Wt||1)].first_column,last_column:rt[rt.length-1].last_column},Dt&&(xt._$.range=[rt[rt.length-(Wt||1)].range[0],rt[rt.length-1].range[1]]),bt=this.performAction.apply(xt,[tt,j,it,S.yy,Et[1],J,rt].concat(I)),typeof bt<"u")return bt;Wt&&(V=V.slice(0,-1*Wt*2),J=J.slice(0,-1*Wt),rt=rt.slice(0,-1*Wt)),V.push(this.productions_[Et[1]][0]),J.push(xt.$),rt.push(xt._$),dt=lt[V[V.length-2]][V[V.length-1]],V.push(dt);break;case 3:return!0}}return!0}},k=function(){var M={EOF:1,parseError:function(Y,V){if(this.yy.parser)this.yy.parser.parseError(Y,V);else throw new Error(Y)},setInput:function(R,Y){return this.yy=Y||this.yy||{},this._input=R,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var R=this._input[0];this.yytext+=R,this.yyleng++,this.offset++,this.match+=R,this.matched+=R;var Y=R.match(/(?:\r\n?|\n).*/g);return Y?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),R},unput:function(R){var Y=R.length,V=R.split(/(?:\r\n?|\n)/g);this._input=R+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-Y),this.offset-=Y;var X=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),V.length-1&&(this.yylineno-=V.length-1);var J=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:V?(V.length===X.length?this.yylloc.first_column:0)+X[X.length-V.length].length-V[0].length:this.yylloc.first_column-Y},this.options.ranges&&(this.yylloc.range=[J[0],J[0]+this.yyleng-Y]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(R){this.unput(this.match.slice(R))},pastInput:function(){var R=this.matched.substr(0,this.matched.length-this.match.length);return(R.length>20?"...":"")+R.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var R=this.match;return R.length<20&&(R+=this._input.substr(0,20-R.length)),(R.substr(0,20)+(R.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var R=this.pastInput(),Y=new Array(R.length+1).join("-");return R+this.upcomingInput()+`
`+Y+"^"},test_match:function(R,Y){var V,X,J;if(this.options.backtrack_lexer&&(J={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(J.yylloc.range=this.yylloc.range.slice(0))),X=R[0].match(/(?:\r\n?|\n).*/g),X&&(this.yylineno+=X.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:X?X[X.length-1].length-X[X.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+R[0].length},this.yytext+=R[0],this.match+=R[0],this.matches=R,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(R[0].length),this.matched+=R[0],V=this.performAction.call(this,this.yy,this,Y,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),V)return V;if(this._backtrack){for(var rt in J)this[rt]=J[rt];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var R,Y,V,X;this._more||(this.yytext="",this.match="");for(var J=this._currentRules(),rt=0;rt<J.length;rt++)if(V=this._input.match(this.rules[J[rt]]),V&&(!Y||V[0].length>Y[0].length)){if(Y=V,X=rt,this.options.backtrack_lexer){if(R=this.test_match(V,J[rt]),R!==!1)return R;if(this._backtrack){Y=!1;continue}else return!1}else if(!this.options.flex)break}return Y?(R=this.test_match(Y,J[X]),R!==!1?R:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var Y=this.next();return Y||this.lex()},begin:function(Y){this.conditionStack.push(Y)},popState:function(){var Y=this.conditionStack.length-1;return Y>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(Y){return Y=this.conditionStack.length-1-Math.abs(Y||0),Y>=0?this.conditionStack[Y]:"INITIAL"},pushState:function(Y){this.begin(Y)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(Y,V,X,J){switch(X){case 0:return this.begin("open_directive"),26;case 1:return this.begin("type_directive"),27;case 2:return this.popState(),this.begin("arg_directive"),15;case 3:return this.popState(),this.popState(),29;case 4:return 28;case 5:break;case 6:break;case 7:return 11;case 8:break;case 9:break;case 10:return 4;case 11:return 17;case 12:return this.begin("acc_title"),18;case 13:return this.popState(),"acc_title_value";case 14:return this.begin("acc_descr"),20;case 15:return this.popState(),"acc_descr_value";case 16:this.begin("acc_descr_multiline");break;case 17:this.popState();break;case 18:return"acc_descr_multiline_value";case 19:return 23;case 20:return 24;case 21:return 25;case 22:return 15;case 23:return 6;case 24:return"INVALID"}},rules:[/^(?:%%\{)/i,/^(?:((?:(?!\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\}%%)/i,/^(?:((?:(?!\}%%).|\n)*))/i,/^(?:%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:#[^\n]*)/i,/^(?:journey\b)/i,/^(?:title\s[^#\n;]+)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:section\s[^#:\n;]+)/i,/^(?:[^#:\n;]+)/i,/^(?::[^#\n;]+)/i,/^(?::)/i,/^(?:$)/i,/^(?:.)/i],conditions:{open_directive:{rules:[1],inclusive:!1},type_directive:{rules:[2,3],inclusive:!1},arg_directive:{rules:[3,4],inclusive:!1},acc_descr_multiline:{rules:[17,18],inclusive:!1},acc_descr:{rules:[15],inclusive:!1},acc_title:{rules:[13],inclusive:!1},INITIAL:{rules:[0,5,6,7,8,9,10,11,12,14,16,19,20,21,22,23,24],inclusive:!0}}};return M}();x.lexer=k;function D(){this.yy={}}return D.prototype=x,x.Parser=D,new D}();c2.parser=c2;const kX=c2,CX=t=>t.match(/^\s*journey/)!==null;let Ru="";const u2=[],bp=[],xp=[],AX=function(t,e,s){Bs.parseDirective(this,t,e,s)},wX=function(){u2.length=0,bp.length=0,Ru="",xp.length=0,zi()},EX=function(t){Ru=t,u2.push(t)},BX=function(){return u2},SX=function(){let t=$x();const e=100;let s=0;for(;!t&&s<e;)t=$x(),s++;return bp.push(...xp),bp},TX=function(){const t=[];return bp.forEach(s=>{s.people&&t.push(...s.people)}),[...new Set(t)].sort()},DX=function(t,e){const s=e.substr(1).split(":");let r=0,o=[];s.length===1?(r=Number(s[0]),o=[]):(r=Number(s[0]),o=s[1].split(","));const a=o.map(h=>h.trim()),u={section:Ru,type:Ru,people:a,task:t,score:r};xp.push(u)},FX=function(t){const e={section:Ru,type:Ru,description:t,task:t,classes:[]};bp.push(e)},$x=function(){const t=function(s){return xp[s].processed};let e=!0;for(const[s,r]of xp.entries())t(s),e=e&&r.processed;return e},Yx={parseDirective:AX,getConfig:()=>ht().journey,clear:wX,setDiagramTitle:Qo,getDiagramTitle:Jo,setAccTitle:Ai,getAccTitle:Wi,setAccDescription:Hi,getAccDescription:ji,addSection:EX,getSections:BX,getTasks:SX,addTask:DX,addTaskOrg:FX,getActors:function(){return TX()}},I1=function(t,e){const s=t.append("rect");return s.attr("x",e.x),s.attr("y",e.y),s.attr("fill",e.fill),s.attr("stroke",e.stroke),s.attr("width",e.width),s.attr("height",e.height),s.attr("rx",e.rx),s.attr("ry",e.ry),e.class!==void 0&&s.attr("class",e.class),s},LX=function(t,e){const r=t.append("circle").attr("cx",e.cx).attr("cy",e.cy).attr("class","face").attr("r",15).attr("stroke-width",2).attr("overflow","visible"),o=t.append("g");o.append("circle").attr("cx",e.cx-15/3).attr("cy",e.cy-15/3).attr("r",1.5).attr("stroke-width",2).attr("fill","#666").attr("stroke","#666"),o.append("circle").attr("cx",e.cx+15/3).attr("cy",e.cy-15/3).attr("r",1.5).attr("stroke-width",2).attr("fill","#666").attr("stroke","#666");function a(d){const y=Ly().startAngle(Math.PI/2).endAngle(3*(Math.PI/2)).innerRadius(7.5).outerRadius(6.8181818181818175);d.append("path").attr("class","mouth").attr("d",y).attr("transform","translate("+e.cx+","+(e.cy+2)+")")}function u(d){const y=Ly().startAngle(3*Math.PI/2).endAngle(5*(Math.PI/2)).innerRadius(7.5).outerRadius(6.8181818181818175);d.append("path").attr("class","mouth").attr("d",y).attr("transform","translate("+e.cx+","+(e.cy+7)+")")}function h(d){d.append("line").attr("class","mouth").attr("stroke",2).attr("x1",e.cx-5).attr("y1",e.cy+7).attr("x2",e.cx+5).attr("y2",e.cy+7).attr("class","mouth").attr("stroke-width","1px").attr("stroke","#666")}return e.score>3?a(o):e.score<3?u(o):h(o),r},Ux=function(t,e){const s=t.append("circle");return s.attr("cx",e.cx),s.attr("cy",e.cy),s.attr("class","actor-"+e.pos),s.attr("fill",e.fill),s.attr("stroke",e.stroke),s.attr("r",e.r),s.class!==void 0&&s.attr("class",s.class),e.title!==void 0&&s.append("title").text(e.title),s},zx=function(t,e){const s=e.text.replace(/<br\s*\/?>/gi," "),r=t.append("text");r.attr("x",e.x),r.attr("y",e.y),r.attr("class","legend"),r.style("text-anchor",e.anchor),e.class!==void 0&&r.attr("class",e.class);const o=r.append("tspan");return o.attr("x",e.x+e.textMargin*2),o.text(s),r},IX=function(t,e){function s(o,a,u,h,d){return o+","+a+" "+(o+u)+","+a+" "+(o+u)+","+(a+h-d)+" "+(o+u-d*1.2)+","+(a+h)+" "+o+","+(a+h)}const r=t.append("polygon");r.attr("points",s(e.x,e.y,50,20,7)),r.attr("class","labelBox"),e.y=e.y+e.labelMargin,e.x=e.x+.5*e.labelMargin,zx(t,e)},MX=function(t,e,s){const r=t.append("g"),o=h2();o.x=e.x,o.y=e.y,o.fill=e.fill,o.width=s.width,o.height=s.height,o.class="journey-section section-type-"+e.num,o.rx=3,o.ry=3,I1(r,o),Hx(s)(e.text,r,o.x,o.y,o.width,o.height,{class:"journey-section section-type-"+e.num},s,e.colour)};let Wx=-1;const RX=function(t,e,s){const r=e.x+s.width/2,o=t.append("g");Wx++;const a=300+5*30;o.append("line").attr("id","task"+Wx).attr("x1",r).attr("y1",e.y).attr("x2",r).attr("y2",a).attr("class","task-line").attr("stroke-width","1px").attr("stroke-dasharray","4 2").attr("stroke","#666"),LX(o,{cx:r,cy:300+(5-e.score)*30,score:e.score});const u=h2();u.x=e.x,u.y=e.y,u.fill=e.fill,u.width=s.width,u.height=s.height,u.class="task task-type-"+e.num,u.rx=3,u.ry=3,I1(o,u);let h=e.x+14;e.people.forEach(d=>{const y=e.actors[d].color,_={cx:h,cy:e.y,r:7,fill:y,stroke:"#000",title:d,pos:e.actors[d].position};Ux(o,_),h+=10}),Hx(s)(e.task,o,u.x,u.y,u.width,u.height,{class:"task"},s,e.colour)},OX=function(t,e){I1(t,{x:e.startx,y:e.starty,width:e.stopx-e.startx,height:e.stopy-e.starty,fill:e.fill,class:"rect"}).lower()},NX=function(){return{x:0,y:0,fill:void 0,"text-anchor":"start",width:100,height:100,textMargin:0,rx:0,ry:0}},h2=function(){return{x:0,y:0,width:100,anchor:"start",height:100,rx:0,ry:0}},Hx=function(){function t(o,a,u,h,d,y,_,v){const x=a.append("text").attr("x",u+d/2).attr("y",h+y/2+5).style("font-color",v).style("text-anchor","middle").text(o);r(x,_)}function e(o,a,u,h,d,y,_,v,x){const{taskFontSize:k,taskFontFamily:D}=v,M=o.split(/<br\s*\/?>/gi);for(let R=0;R<M.length;R++){const Y=R*k-k*(M.length-1)/2,V=a.append("text").attr("x",u+d/2).attr("y",h).attr("fill",x).style("text-anchor","middle").style("font-size",k).style("font-family",D);V.append("tspan").attr("x",u+d/2).attr("dy",Y).text(M[R]),V.attr("y",h+y/2).attr("dominant-baseline","central").attr("alignment-baseline","central"),r(V,_)}}function s(o,a,u,h,d,y,_,v){const x=a.append("switch"),D=x.append("foreignObject").attr("x",u).attr("y",h).attr("width",d).attr("height",y).attr("position","fixed").append("xhtml:div").style("display","table").style("height","100%").style("width","100%");D.append("div").attr("class","label").style("display","table-cell").style("text-align","center").style("vertical-align","middle").text(o),e(o,x,u,h,d,y,_,v),r(D,_)}function r(o,a){for(const u in a)u in a&&o.attr(u,a[u])}return function(o){return o.textPlacement==="fo"?s:o.textPlacement==="old"?t:e}}(),kp={drawRect:I1,drawCircle:Ux,drawSection:MX,drawText:zx,drawLabel:IX,drawTask:RX,drawBackgroundRect:OX,getTextObj:NX,getNoteRect:h2,initGraphics:function(t){t.append("defs").append("marker").attr("id","arrowhead").attr("refX",5).attr("refY",2).attr("markerWidth",6).attr("markerHeight",4).attr("orient","auto").append("path").attr("d","M 0,0 V 4 L6,2 Z")}},PX=function(t){Object.keys(t).forEach(function(s){M1[s]=t[s]})},fa={};function VX(t){const e=ht().journey;let s=60;Object.keys(fa).forEach(r=>{const o=fa[r].color,a={cx:20,cy:s,r:7,fill:o,stroke:"#000",pos:fa[r].position};kp.drawCircle(t,a);const u={x:40,y:s+7,fill:"#666",text:r,textMargin:e.boxTextMargin|5};kp.drawText(t,u),s+=20})}const M1=ht().journey,tc=M1.leftMargin,$X=function(t,e,s,r){const o=ht().journey;r.db.clear(),r.parser.parse(t+`
`);const a=ht().securityLevel;let u;a==="sandbox"&&(u=ee("#i"+e));const h=ee(a==="sandbox"?u.nodes()[0].contentDocument.body:"body");Ei.init();const d=h.select("#"+e);kp.initGraphics(d);const y=r.db.getTasks(),_=r.db.getDiagramTitle(),v=r.db.getActors();for(const Y in fa)delete fa[Y];let x=0;v.forEach(Y=>{fa[Y]={color:o.actorColours[x%o.actorColours.length],position:x},x++}),VX(d),Ei.insert(0,0,tc,Object.keys(fa).length*50),YX(d,y,0);const k=Ei.getBounds();_&&d.append("text").text(_).attr("x",tc).attr("font-size","4ex").attr("font-weight","bold").attr("y",25);const D=k.stopy-k.starty+2*o.diagramMarginY,M=tc+k.stopx+2*o.diagramMarginX;Ui(d,D,M,o.useMaxWidth),d.append("line").attr("x1",tc).attr("y1",o.height*4).attr("x2",M-tc-4).attr("y2",o.height*4).attr("stroke-width",4).attr("stroke","black").attr("marker-end","url(#arrowhead)");const R=_?70:0;d.attr("viewBox",`${k.startx} -25 ${M} ${D+R}`),d.attr("preserveAspectRatio","xMinYMin meet"),d.attr("height",D+R+25)},Ei={data:{startx:void 0,stopx:void 0,starty:void 0,stopy:void 0},verticalPos:0,sequenceItems:[],init:function(){this.sequenceItems=[],this.data={startx:void 0,stopx:void 0,starty:void 0,stopy:void 0},this.verticalPos=0},updateVal:function(t,e,s,r){t[e]===void 0?t[e]=s:t[e]=r(s,t[e])},updateBounds:function(t,e,s,r){const o=ht().journey,a=this;let u=0;function h(d){return function(_){u++;const v=a.sequenceItems.length-u+1;a.updateVal(_,"starty",e-v*o.boxMargin,Math.min),a.updateVal(_,"stopy",r+v*o.boxMargin,Math.max),a.updateVal(Ei.data,"startx",t-v*o.boxMargin,Math.min),a.updateVal(Ei.data,"stopx",s+v*o.boxMargin,Math.max),d!=="activation"&&(a.updateVal(_,"startx",t-v*o.boxMargin,Math.min),a.updateVal(_,"stopx",s+v*o.boxMargin,Math.max),a.updateVal(Ei.data,"starty",e-v*o.boxMargin,Math.min),a.updateVal(Ei.data,"stopy",r+v*o.boxMargin,Math.max))}}this.sequenceItems.forEach(h())},insert:function(t,e,s,r){const o=Math.min(t,s),a=Math.max(t,s),u=Math.min(e,r),h=Math.max(e,r);this.updateVal(Ei.data,"startx",o,Math.min),this.updateVal(Ei.data,"starty",u,Math.min),this.updateVal(Ei.data,"stopx",a,Math.max),this.updateVal(Ei.data,"stopy",h,Math.max),this.updateBounds(o,u,a,h)},bumpVerticalPos:function(t){this.verticalPos=this.verticalPos+t,this.data.stopy=this.verticalPos},getVerticalPos:function(){return this.verticalPos},getBounds:function(){return this.data}},p2=M1.sectionFills,jx=M1.sectionColours,YX=function(t,e,s){const r=ht().journey;let o="";const a=r.height*2+r.diagramMarginY,u=s+a;let h=0,d="#CCC",y="black",_=0;for(const[v,x]of e.entries()){if(o!==x.section){d=p2[h%p2.length],_=h%p2.length,y=jx[h%jx.length];const D={x:v*r.taskMargin+v*r.width+tc,y:50,text:x.section,fill:d,num:_,colour:y};kp.drawSection(t,D,r),o=x.section,h++}const k=x.people.reduce((D,M)=>(fa[M]&&(D[M]=fa[M]),D),{});x.x=v*r.taskMargin+v*r.width+tc,x.y=u,x.width=r.diagramMarginX,x.height=r.diagramMarginY,x.colour=y,x.fill=d,x.num=_,x.actors=k,kp.drawTask(t,x,r),Ei.insert(x.x,x.y,x.x+x.width+r.taskMargin,300+5*30)}},Gx={setConf:PX,draw:$X};let qx={};const d2={setConf:function(t){qx={...qx,...t}},draw:(t,e,s)=>{try{w.debug(`Renering svg for syntax error
`);const r=ee("#"+e),o=r.append("g");o.append("path").attr("class","error-icon").attr("d","m411.313,123.313c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32-9.375,9.375-20.688-20.688c-12.484-12.5-32.766-12.5-45.25,0l-16,16c-1.261,1.261-2.304,2.648-3.31,4.051-21.739-8.561-45.324-13.426-70.065-13.426-105.867,0-192,86.133-192,192s86.133,192 192,192 192-86.133 192-192c0-24.741-4.864-48.327-13.426-70.065 1.402-1.007 2.79-2.049 4.051-3.31l16-16c12.5-12.492 12.5-32.758 0-45.25l-20.688-20.688 9.375-9.375 32.001-31.999zm-219.313,100.687c-52.938,0-96,43.063-96,96 0,8.836-7.164,16-16,16s-16-7.164-16-16c0-70.578 57.422-128 128-128 8.836,0 16,7.164 16,16s-7.164,16-16,16z"),o.append("path").attr("class","error-icon").attr("d","m459.02,148.98c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l16,16c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16.001-16z"),o.append("path").attr("class","error-icon").attr("d","m340.395,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16-16c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l15.999,16z"),o.append("path").attr("class","error-icon").attr("d","m400,64c8.844,0 16-7.164 16-16v-32c0-8.836-7.156-16-16-16-8.844,0-16,7.164-16,16v32c0,8.836 7.156,16 16,16z"),o.append("path").attr("class","error-icon").attr("d","m496,96.586h-32c-8.844,0-16,7.164-16,16 0,8.836 7.156,16 16,16h32c8.844,0 16-7.164 16-16 0-8.836-7.156-16-16-16z"),o.append("path").attr("class","error-icon").attr("d","m436.98,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688l32-32c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32c-6.251,6.25-6.251,16.375-0.001,22.625z"),o.append("text").attr("class","error-text").attr("x",1440).attr("y",250).attr("font-size","150px").style("text-anchor","middle").text("Syntax error in graph"),o.append("text").attr("class","error-text").attr("x",1250).attr("y",400).attr("font-size","100px").style("text-anchor","middle").text("mermaid version "+s),r.attr("height",100),r.attr("width",500),r.attr("viewBox","768 0 912 512")}catch(r){w.error("Error while rendering info diagram"),w.error(mM(r))}}};let Xx=!1;const Cp=()=>{Xx||(Xx=!0,dr("error",{db:{clear:()=>{}},styles:uv,renderer:d2,parser:{parser:{yy:{}},parse:()=>{}},init:()=>{}},t=>t.toLowerCase().trim()==="error"),dr("c4",{parser:bR,db:Tv,renderer:Pv,styles:mv,init:t=>{Pv.setConf(t.c4)}},xR),dr("class",{parser:Vv,db:hu,renderer:Yz,styles:Fh,init:t=>{t.class||(t.class={}),t.class.arrowMarkerAbsolute=t.arrowMarkerAbsolute,hu.clear()}},aO),dr("classDiagram",{parser:Vv,db:hu,renderer:VW,styles:Fh,init:t=>{t.class||(t.class={}),t.class.arrowMarkerAbsolute=t.arrowMarkerAbsolute,hu.clear()}},lO),dr("er",{parser:$W,db:HW,renderer:iH,styles:cv},YW),dr("gantt",{parser:Aj,db:Om,renderer:nG,styles:hv},wj),dr("info",{parser:sG,db:rG,renderer:iG,styles:pv},oG),dr("pie",{parser:aG,db:cG,renderer:uG,styles:dv},lG),dr("requirement",{parser:hG,db:dG,renderer:bG,styles:fv},pG),dr("sequence",{parser:xG,db:nx,renderer:dx,styles:yv,init:t=>{if(t.sequence||(t.sequence={}),t.sequence.arrowMarkerAbsolute=t.arrowMarkerAbsolute,"sequenceDiagram"in t)throw new Error("`mermaid config.sequenceDiagram` has been renamed to `config.sequence`. Please update your mermaid config.");nx.setWrap(t.wrap),dx.setConf(t.sequence)}},kG),dr("state",{parser:fx,db:da,renderer:nX,styles:Af,init:t=>{t.state||(t.state={}),t.state.arrowMarkerAbsolute=t.arrowMarkerAbsolute,da.clear()}},gq),dr("stateDiagram",{parser:fx,db:da,renderer:xX,styles:Af,init:t=>{t.state||(t.state={}),t.state.arrowMarkerAbsolute=t.arrowMarkerAbsolute,da.clear()}},mq),dr("journey",{parser:kX,db:Yx,renderer:Gx,styles:gv,init:t=>{Gx.setConf(t.journey),Yx.clear()}},CX),dr("flowchart",{parser:n6,db:la,renderer:Am,styles:Cf,init:t=>{t.flowchart||(t.flowchart={}),t.flowchart.arrowMarkerAbsolute=t.arrowMarkerAbsolute,kj.setConf(t.flowchart),la.clear(),la.setGen("gen-1")}},oH),dr("flowchart-v2",{parser:n6,db:la,renderer:Am,styles:Cf,init:t=>{t.flowchart||(t.flowchart={}),t.flowchart.arrowMarkerAbsolute=t.arrowMarkerAbsolute,rv({flowchart:{arrowMarkerAbsolute:t.arrowMarkerAbsolute}}),Am.setConf(t.flowchart),la.clear(),la.setGen("gen-2")}},aH),dr("gitGraph",{parser:HM,db:hR,renderer:_R,styles:vR},jM))};class f2{constructor(e,s){m(this,"type","graph"),m(this,"parser"),m(this,"renderer"),m(this,"db"),m(this,"detectTypeFailed",!1);var r,o;this.txt=e;const a=ht();this.txt=e;try{this.type=Ky(e,a)}catch(d){this.handleError(d,s),this.type="error",this.detectTypeFailed=!0}const u=vv(this.type);w.debug("Type "+this.type),this.db=u.db,(o=(r=this.db).clear)==null||o.call(r),this.renderer=u.renderer,this.parser=u.parser;const h=this.parser.parse.bind(this.parser);this.parser.parse=d=>h(XL(d,this.db)),this.parser.parser.yy=this.db,u.init&&(u.init(a),w.debug("Initialized diagram "+this.type,a)),this.txt+=`
`,this.parse(this.txt,s)}parse(e,s){var r,o;if(this.detectTypeFailed)return!1;try{return e=e+`
`,(o=(r=this.db).clear)==null||o.call(r),this.parser.parse(e),!0}catch(a){this.handleError(a,s)}return!1}handleError(e,s){if(s===void 0)throw e;if(ng(e)){s(e.str,e.hash);return}s(e)}getParser(){return this.parser}getType(){return this.type}}const y2=(t,e)=>{const s=Ky(t,ht());try{vv(s)}catch{const o=QL(s);if(!o)throw new Error(`Diagram ${s} not found.`);return o().then(({diagram:a})=>(dr(s,a,void 0),new f2(t,e)))}return new f2(t,e)},g2=f2;function UX(t,e){xu(e)||t.attr("aria-roledescription",e)}function zX(t,e,s,r){if(t.insert!==void 0)if(e||s){if(s){const o="chart-desc-"+r;t.attr("aria-describedby",o),t.insert("desc",":first-child").attr("id",o).text(s)}if(e){const o="chart-title-"+r;t.attr("aria-labelledby",o),t.insert("title",":first-child").attr("id",o).text(e)}}else return}const m2=["graph","flowchart","flowchart-v2","stateDiagram","stateDiagram-v2"],Kx="graph TB;a[Maximum text size in diagram exceeded];style a fill:#faa",Zx="sandbox",Qx="loose",WX="http://www.w3.org/2000/svg",Jx="http://www.w3.org/1999/xlink",t7="http://www.w3.org/1999/xhtml",HX="100%",jX="100%",GX="border:0;margin:0;",qX="margin:0",XX="allow-top-navigation-by-user-activation allow-popups",KX='The "iframe" tag is not supported by your browser.',e7=["foreignobject"],n7=["dominant-baseline"];function ZX(t,e){return Cp(),new g2(t,e).parse(t,e)}async function QX(t,e){return Cp(),(await y2(t,e)).parse(t,e)}const s7=function(t){let e=t;return e=e.replace(/style.*:\S*#.*;/g,function(s){return s.substring(0,s.length-1)}),e=e.replace(/classDef.*:\S*#.*;/g,function(s){return s.substring(0,s.length-1)}),e=e.replace(/#\w+;/g,function(s){const r=s.substring(1,s.length-1);return/^\+?\d+$/.test(r)?""+r+"":""+r+""}),e},_2=function(t){let e=t;return e=e.replace(//g,"&#"),e=e.replace(//g,"&"),e=e.replace(//g,";"),e},r7=(t,e,s=[])=>`
.${t} ${e} { ${s.join(" !important; ")} !important; }`,JX=(t,e,s={})=>{var r;let o="";if(t.themeCSS!==void 0&&(o+=`
${t.themeCSS}`),t.fontFamily!==void 0&&(o+=`
:root { --mermaid-font-family: ${t.fontFamily}}`),t.altFontFamily!==void 0&&(o+=`
:root { --mermaid-alt-font-family: ${t.altFontFamily}}`),!xu(s)&&m2.includes(e)){const d=t.htmlLabels||((r=t.flowchart)==null?void 0:r.htmlLabels)?["> *","span"]:["rect","polygon","ellipse","circle","path"];for(const y in s){const _=s[y];xu(_.styles)||d.forEach(v=>{o+=r7(_.id,v,_.styles)}),xu(_.textStyles)||(o+=r7(_.id,"tspan",_.textStyles))}}return o},i7=(t,e,s,r)=>{const o=JX(t,e,s),a=YM(e,o,t.themeVariables);return cg(DM(`${r}{${a}}`),LM)},o7=(t="",e,s)=>{let r=t;return!s&&!e&&(r=r.replace(/marker-end="url\(.*?#/g,'marker-end="url(#')),r=_2(r),r=r.replace(/<br>/g,"<br/>"),r},a7=(t="",e)=>{const s=e?e.viewBox.baseVal.height+"px":jX,r=btoa('<body style="'+qX+'">'+t+"</body>");return`<iframe style="width:${HX};height:${s};${GX}" src="data:text/html;base64,${r}" sandbox="${XX}">
  ${KX}
</iframe>`},R1=(t,e,s,r,o)=>{const a=t.append("div");a.attr("id",s),r&&a.attr("style",r);const u=a.append("svg").attr("id",e).attr("width","100%").attr("xmlns",WX);return o&&u.attr("xmlns:xlink",o),u.append("g"),t};function O1(t,e){return t.append("iframe").attr("id",e).attr("style","width: 100%; height: 100%;").attr("sandbox","")}const l7=(t,e,s,r)=>{var o,a,u;(o=t.getElementById(e))==null||o.remove(),(a=t.getElementById(s))==null||a.remove(),(u=t.getElementById(r))==null||u.remove()},tK=function(t,e,s,r){var o,a,u,h,d;Cp(),Dh();const y=wn.detectInit(e);y&&($l(y),ug(y));const _=ht();w.debug(_),e.length>((o=_==null?void 0:_.maxTextSize)!=null?o:5e4)&&(e=Kx),e=e.replace(/\r\n?/g,`
`);const v="#"+t,x="i"+t,k="#"+x,D="d"+t,M="#"+D;let R=ee("body");const Y=_.securityLevel===Zx,V=_.securityLevel===Qx,X=_.fontFamily;if(r!==void 0){if(r&&(r.innerHTML=""),Y){const Gt=O1(ee(r),x);R=ee(Gt.nodes()[0].contentDocument.body),R.node().style.margin=0}else R=ee(r);R1(R,t,D,`font-family: ${X}`,Jx)}else{if(l7(document,t,D,x),Y){const Gt=O1(ee("body"),x);R=ee(Gt.nodes()[0].contentDocument.body),R.node().style.margin=0}else R=ee("body");R1(R,t,D)}e=s7(e);let J,rt;try{if(J=y2(e),"then"in J)throw new Error("Diagram is a promise. Use renderAsync.")}catch(Gt){J=new g2("error"),rt=Gt}const lt=R.select(M).node(),tt=J.type,it=lt.firstChild,j=it.firstChild,W=m2.includes(tt)?J.renderer.getClasses(e,J):{},$=i7(_,tt,W,v),I=document.createElement("style");I.innerHTML=$,it.insertBefore(I,j);try{J.renderer.draw(e,t,bf.version,J)}catch(Gt){throw d2.draw(e,t,bf.version),Gt}const H=R.select(`${M} svg`),S=(u=(a=J.db).getAccTitle)==null?void 0:u.call(a),yt=(d=(h=J.db).getAccDescription)==null?void 0:d.call(h);c7(tt,H,S,yt),R.select(`[id="${t}"]`).selectAll("foreignobject > *").attr("xmlns",t7);let T=R.select(M).node().innerHTML;if(w.debug("config.arrowMarkerAbsolute",_.arrowMarkerAbsolute),T=o7(T,Y,hr(_.arrowMarkerAbsolute)),Y){const Gt=R.select(M+" svg").node();T=a7(T,Gt)}else V||(T=xh.sanitize(T,{ADD_TAGS:e7,ADD_ATTR:n7}));if(s!==void 0)switch(tt){case"flowchart":case"flowchart-v2":s(T,la.bindFunctions);break;case"gantt":s(T,Om.bindFunctions);break;case"class":case"classDiagram":s(T,hu.bindFunctions);break;default:s(T)}else w.debug("CB = undefined!");sx();const ce=ee(Y?k:M).node();if(ce&&"remove"in ce&&ce.remove(),rt)throw rt;return T},eK=async function(t,e,s,r){var o,a,u,h,d;Cp(),Dh();const y=wn.detectInit(e);y&&($l(y),ug(y));const _=ht();w.debug(_),e.length>((o=_==null?void 0:_.maxTextSize)!=null?o:5e4)&&(e=Kx),e=e.replace(/\r\n?/g,`
`);const v="#"+t,x="i"+t,k="#"+x,D="d"+t,M="#"+D;let R=ee("body");const Y=_.securityLevel===Zx,V=_.securityLevel===Qx,X=_.fontFamily;if(r!==void 0){if(r&&(r.innerHTML=""),Y){const Gt=O1(ee(r),x);R=ee(Gt.nodes()[0].contentDocument.body),R.node().style.margin=0}else R=ee(r);R1(R,t,D,`font-family: ${X}`,Jx)}else{if(l7(document,t,D,x),Y){const Gt=O1(ee("body"),x);R=ee(Gt.nodes()[0].contentDocument.body),R.node().style.margin=0}else R=ee("body");R1(R,t,D)}e=s7(e);let J,rt;try{J=await y2(e)}catch(Gt){J=new g2("error"),rt=Gt}const lt=R.select(M).node(),tt=J.type,it=lt.firstChild,j=it.firstChild,W=m2.includes(tt)?J.renderer.getClasses(e,J):{},$=i7(_,tt,W,v),I=document.createElement("style");I.innerHTML=$,it.insertBefore(I,j);try{await J.renderer.draw(e,t,bf.version,J)}catch(Gt){throw d2.draw(e,t,bf.version),Gt}const H=R.select(`${M} svg`),S=(u=(a=J.db).getAccTitle)==null?void 0:u.call(a),yt=(d=(h=J.db).getAccDescription)==null?void 0:d.call(h);c7(tt,H,S,yt),R.select(`[id="${t}"]`).selectAll("foreignobject > *").attr("xmlns",t7);let T=R.select(M).node().innerHTML;if(w.debug("config.arrowMarkerAbsolute",_.arrowMarkerAbsolute),T=o7(T,Y,hr(_.arrowMarkerAbsolute)),Y){const Gt=R.select(M+" svg").node();T=a7(T,Gt)}else V||(T=xh.sanitize(T,{ADD_TAGS:e7,ADD_ATTR:n7}));if(s!==void 0)switch(tt){case"flowchart":case"flowchart-v2":s(T,la.bindFunctions);break;case"gantt":s(T,Om.bindFunctions);break;case"class":case"classDiagram":s(T,hu.bindFunctions);break;default:s(T)}else w.debug("CB = undefined!");sx();const ce=ee(Y?k:M).node();if(ce&&"remove"in ce&&ce.remove(),rt)throw rt;return T};let ec={};const nK=function(t,e,s,r){try{if(e!==void 0)switch(e=e.trim(),s){case"open_directive":ec={};break;case"type_directive":if(!ec)throw new Error("currentDirective is undefined");ec.type=e.toLowerCase();break;case"arg_directive":if(!ec)throw new Error("currentDirective is undefined");ec.args=JSON.parse(e);break;case"close_directive":sK(t,ec,r),ec=void 0;break}}catch(o){w.error(`Error while rendering sequenceDiagram directive: ${e} jison context: ${s}`),w.error(o.message)}},sK=function(t,e,s){switch(w.debug(`Directive type=${e.type} with args:`,e.args),e.type){case"init":case"initialize":{["config"].forEach(r=>{e.args[r]!==void 0&&(s==="flowchart-v2"&&(s="flowchart"),e.args[s]=e.args[r],delete e.args[r])}),w.debug("sanitize in handleDirective",e.args),$l(e.args),w.debug("sanitize in handleDirective (done)",e.args),ug(e.args);break}case"wrap":case"nowrap":t&&t.setWrap&&t.setWrap(e.type==="wrap");break;case"themeCss":w.warn("themeCss encountered");break;default:w.warn(`Unhandled directive: source: '%%{${e.type}: ${JSON.stringify(e.args?e.args:{})}}%%`,e);break}};function rK(t={}){var e;t!=null&&t.fontFamily&&!((e=t.themeVariables)!=null&&e.fontFamily)&&(t.themeVariables={fontFamily:t.fontFamily}),MM(t),t!=null&&t.theme&&t.theme in qo?t.themeVariables=qo[t.theme].getThemeVariables(t.themeVariables):t&&(t.themeVariables=qo.default.getThemeVariables(t.themeVariables));const s=typeof t=="object"?IM(t):sv();z(s.logLevel),Cp()}function c7(t,e,s,r){UX(e,t),zX(e,s,r,e.attr("id"))}const Bs=Object.freeze({render:tK,renderAsync:eK,parse:ZX,parseAsync:QX,parseDirective:nK,initialize:rK,getConfig:ht,setConfig:rv,getSiteConfig:sv,updateSiteConfig:RM,reset:()=>{Dh()},globalReset:()=>{Dh(cu)},defaultConfig:cu});z(ht().logLevel),Dh(ht());let u7=!1;const iK=async function(t,e,s){try{u7?await d7(t,e,s):p7(t,e,s)}catch(r){w.warn("Syntax Error rendering"),ng(r)&&w.warn(r.str),Bi.parseError&&Bi.parseError(r)}},h7=(t,e,s)=>{w.warn(t),ng(t)?(s&&s(t.str,t.hash),e.push({...t,message:t.str,error:t})):(s&&s(t),t instanceof Error&&e.push({str:t.message,message:t.message,hash:t.name,error:t}))},p7=function(t,e,s){const r=Bs.getConfig();t&&(Bi.sequenceConfig=t),w.debug(`${s?"":"No "}Callback function found`);let o;if(e===void 0)o=document.querySelectorAll(".mermaid");else if(typeof e=="string")o=document.querySelectorAll(e);else if(e instanceof HTMLElement)o=[e];else if(e instanceof NodeList)o=e;else throw new Error("Invalid argument nodes for mermaid.init");w.debug(`Found ${o.length} diagrams`),(t==null?void 0:t.startOnLoad)!==void 0&&(w.debug("Start On Load: "+(t==null?void 0:t.startOnLoad)),Bs.updateSiteConfig({startOnLoad:t==null?void 0:t.startOnLoad}));const a=new wn.initIdGenerator(r.deterministicIds,r.deterministicIDSeed);let u;const h=[];for(const d of Array.from(o)){w.info("Rendering diagram: "+d.id);/*! Check if previously processed */if(d.getAttribute("data-processed"))continue;d.setAttribute("data-processed","true");const y=`mermaid-${a.next()}`;u=d.innerHTML,u=wn.entityDecode(u).trim().replace(/<br\s*\/?>/gi,"<br/>");const _=wn.detectInit(u);_&&w.debug("Detected early reinit: ",_);try{Bs.render(y,u,(v,x)=>{d.innerHTML=v,s!==void 0&&s(y),x&&x(d)},d)}catch(v){h7(v,h,Bi.parseError)}}if(h.length>0)throw h[0]},oK=t=>{for(const{id:e,detector:s,loader:r}of t)P_(e,s,r)},aK=async t=>{w.debug(`Loading ${t.length} external diagrams`);const s=(await Promise.allSettled(t.map(async({id:r,detector:o,loader:a})=>{const{diagram:u}=await a();dr(r,u,o)}))).filter(r=>r.status==="rejected");if(s.length>0){w.error(`Failed to load ${s.length} external diagrams`);for(const r of s)w.error(r);throw new Error(`Failed to load ${s.length} external diagrams`)}},d7=async function(t,e,s){const r=Bs.getConfig();t&&(Bi.sequenceConfig=t),w.debug(`${s?"":"No "}Callback function found`);let o;if(e===void 0)o=document.querySelectorAll(".mermaid");else if(typeof e=="string")o=document.querySelectorAll(e);else if(e instanceof HTMLElement)o=[e];else if(e instanceof NodeList)o=e;else throw new Error("Invalid argument nodes for mermaid.init");w.debug(`Found ${o.length} diagrams`),(t==null?void 0:t.startOnLoad)!==void 0&&(w.debug("Start On Load: "+(t==null?void 0:t.startOnLoad)),Bs.updateSiteConfig({startOnLoad:t==null?void 0:t.startOnLoad}));const a=new wn.initIdGenerator(r.deterministicIds,r.deterministicIDSeed);let u;const h=[];for(const d of Array.from(o)){w.info("Rendering diagram: "+d.id);/*! Check if previously processed */if(d.getAttribute("data-processed"))continue;d.setAttribute("data-processed","true");const y=`mermaid-${a.next()}`;u=d.innerHTML,u=wn.entityDecode(u).trim().replace(/<br\s*\/?>/gi,"<br/>");const _=wn.detectInit(u);_&&w.debug("Detected early reinit: ",_);try{await Bs.renderAsync(y,u,(v,x)=>{d.innerHTML=v,s!==void 0&&s(y),x&&x(d)},d)}catch(v){h7(v,h,Bi.parseError)}}if(h.length>0)throw h[0]},lK=function(t){Bs.initialize(t)},cK=async(t,{lazyLoad:e=!0}={})=>{e?oK(t):await aK(t),u7=!0},f7=function(){if(Bi.startOnLoad){const{startOnLoad:t}=Bs.getConfig();t&&Bi.init()}};if(typeof document<"u"){/*!
 * Wait for document loaded before starting the execution
 */window.addEventListener("load",f7,!1)}const uK=function(t){Bi.parseError=t},hK=t=>Bs.parse(t,Bi.parseError),N1=[];let v2=!1;const y7=async()=>{if(!v2){for(v2=!0;N1.length>0;){const t=N1.shift();if(t)try{await t()}catch(e){w.error("Error executing queue",e)}}v2=!1}},pK=t=>new Promise((e,s)=>{const r=()=>new Promise((o,a)=>{Bs.parseAsync(t,Bi.parseError).then(u=>{o(u),e(u)},u=>{w.error("Error parsing",u),a(u),s(u)})});N1.push(r),y7()}),dK=(t,e,s,r)=>new Promise((o,a)=>{const u=()=>new Promise((h,d)=>{Bs.renderAsync(t,e,s,r).then(y=>{h(y),o(y)},y=>{w.error("Error parsing",y),d(y),a(y)})});N1.push(u),y7()}),Bi={startOnLoad:!0,diagrams:{},mermaidAPI:Bs,parse:hK,parseAsync:pK,render:Bs.render,renderAsync:dK,init:iK,initThrowsErrors:p7,initThrowsErrorsAsync:d7,registerExternalDiagrams:cK,initialize:lK,parseError:void 0,contentLoaded:f7,setParseErrorHandler:uK};return Bi})})(kut,E0);const B0=kK(E0);let Cut=i=>crypto.getRandomValues(new Uint8Array(i)),Aut=(i,l,p)=>{let f=(2<<Math.log(i.length-1)/Math.LN2)-1,m=-~(1.6*f*l/i.length);return(b=l)=>{let A="";for(;;){let B=p(m),F=m;for(;F--;)if(A+=i[B[F]&f]||"",A.length===b)return A}}},wut=(i,l=21)=>Aut(i,l,Cut);const Eut=typeof atob=="function",i5=typeof Buffer=="function",dC=typeof TextDecoder=="function"?new TextDecoder:void 0;typeof TextEncoder=="function"&&new TextEncoder;const But="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",Sut=Array.prototype.slice.call(But),n0=(i=>{let l={};return i.forEach((p,f)=>l[p]=f),l})(Sut),Tut=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,_c=String.fromCharCode.bind(String),fC=typeof Uint8Array.from=="function"?Uint8Array.from.bind(Uint8Array):(i,l=p=>p)=>new Uint8Array(Array.prototype.slice.call(i,0).map(l)),Dw=i=>i.replace(/[^A-Za-z0-9\+\/]/g,""),Dut=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,Fut=i=>{switch(i.length){case 4:var l=(7&i.charCodeAt(0))<<18|(63&i.charCodeAt(1))<<12|(63&i.charCodeAt(2))<<6|63&i.charCodeAt(3),p=l-65536;return _c((p>>>10)+55296)+_c((p&1023)+56320);case 3:return _c((15&i.charCodeAt(0))<<12|(63&i.charCodeAt(1))<<6|63&i.charCodeAt(2));default:return _c((31&i.charCodeAt(0))<<6|63&i.charCodeAt(1))}},Lut=i=>i.replace(Dut,Fut),Iut=i=>{if(i=i.replace(/\s+/g,""),!Tut.test(i))throw new TypeError("malformed base64.");i+="==".slice(2-(i.length&3));let l,p="",f,m;for(let b=0;b<i.length;)l=n0[i.charAt(b++)]<<18|n0[i.charAt(b++)]<<12|(f=n0[i.charAt(b++)])<<6|(m=n0[i.charAt(b++)]),p+=f===64?_c(l>>16&255):m===64?_c(l>>16&255,l>>8&255):_c(l>>16&255,l>>8&255,l&255);return p},Fw=Eut?i=>atob(Dw(i)):i5?i=>Buffer.from(i,"base64").toString("binary"):Iut,Mut=i5?i=>fC(Buffer.from(i,"base64")):i=>fC(Fw(i),l=>l.charCodeAt(0)),Rut=i5?i=>Buffer.from(i,"base64").toString("utf8"):dC?i=>dC.decode(Mut(i)):i=>Lut(Fw(i)),Out=i=>Dw(i.replace(/[-_]/g,l=>l=="-"?"+":"/")),Nut=i=>Rut(Out(i));const Put=()=>({theme:"default"});B0.startOnLoad=!1;B0.initialize({startOnLoad:!1});const Vut=wut("abcedfghicklmn",10),yC=new Map;function $ut(i,l){const p=i+JSON.stringify(l),f=yC.get(p);if(f)return f;B0.initialize({startOnLoad:!1,...dk(Put()||{}),...dk(l)});const m=Nut(i),b=Vut(),A=B0.render(b,m);return yC.set(p,A),A}const Yut=ps({__name:"ShadowRoot",props:{innerHtml:{type:String,required:!0}},emits:["shadow"],setup(i,{emit:l}){const p=i;Pe(Ze);const f=Ke(),m=re(()=>f.value?f.value.shadowRoot||f.value.attachShadow({mode:"open"}):null);return Da(()=>{m.value&&(l("shadow",m.value),m.value.innerHTML=p.innerHtml)}),(b,A)=>(Yt(),Ne("div",{ref_key:"el",ref:f},null,512))}}),Uut=Qe(Yut,[["__file","/Users/jedrzejsadowski/projects/bright/react-state-presentation/node_modules/@slidev/client/internals/ShadowRoot.vue"]]),zut=ps({__name:"Mermaid",props:{code:{type:String,required:!0},scale:{type:Number,required:!1},theme:{type:String,required:!1}},setup(i){const l=i;Pe(Ze);const p=xl(),f=Ke(),m=re(()=>$ut(l.code||"",{theme:l.theme||(X0.value?"dark":void 0),...p.attrs})),b=re(()=>m.value),A=Ke();return Ds(b,()=>{A.value=void 0}),Da(()=>{var F,O,w;const B=(O=(F=f.value)==null?void 0:F.children)==null?void 0:O[0];if(B&&B.hasAttribute("viewBox")&&A.value==null){const z=parseFloat(((w=B.getAttribute("viewBox"))==null?void 0:w.split(" ")[3])||"");A.value=isNaN(z)?void 0:z}},{flush:"post"}),Da(()=>{var F,O;const B=(O=(F=f.value)==null?void 0:F.children)==null?void 0:O[0];B!=null&&l.scale!=null&&A.value!=null&&(B.setAttribute("height",`${A.value*l.scale}`),B.removeAttribute("width"),B.removeAttribute("style"))},{flush:"post"}),(B,F)=>(Yt(),Xe(Uut,{ref_key:"el",ref:f,class:"mermaid","inner-html":Ft(b),onShadow:F[0]||(F[0]=O=>f.value=O)},null,8,["inner-html"]))}}),o5=Qe(zut,[["__file","/Users/jedrzejsadowski/projects/bright/react-state-presentation/node_modules/@slidev/client/builtin/Mermaid.vue"]]),Wut=n("h1",null,"React state update, visualized",-1),Hut=n("p",null,"Regular update flow",-1),jut={__name:"24",setup(i){const l={};return Pe(Ze),(p,f)=>{const m=o5,b=Yo;return Yt(),Xe(Qs,ss(es(l)),{default:ge(()=>[Wut,le(b,null,{default:ge(()=>[Hut,le(m,_s({code:"Z2l0R3JhcGgKICAgY29tbWl0IGlkOiJJbml0aWFsIHJlbmRlciIgdGFnOiJyZW5kZXIiCiAgIGNvbW1pdCBpZDoiQ29tbWl0IGNoYW5nZXMiIHRhZzoiY29tbWl0IgogICBjb21taXQgaWQ6ImNsaWNrIgogICBicmFuY2ggYmF0Y2gKICAgY2hlY2tvdXQgYmF0Y2gKICAgY29tbWl0IGlkOiJzZXRTdGF0ZSAxIgogICBjb21taXQgaWQ6InNldFN0YXRlIDIiCiAgIGNoZWNrb3V0IG1haW4KICAgbWVyZ2UgYmF0Y2ggdGFnOiJyZW5kZXIiCiAgIGNvbW1pdCBpZDoiQ29tbWl0IGNoYW5nZXMgMiIgdGFnOiJjb21taXQi"},{scale:1.4}),null,16)]),_:1})]),_:1},16)}}},Gut=Qe(jut,[["__file","/@slidev/slides/24.md"]]),qut=n("h1",null,"React state update, visualized",-1),Xut=n("p",null,"Concurrent update flow",-1),Kut={__name:"25",setup(i){const l={};return Pe(Ze),(p,f)=>{const m=o5;return Yt(),Xe(Qs,ss(es(l)),{default:ge(()=>[qut,Xut,le(m,_s({code:"Z2l0R3JhcGgKICAgY29tbWl0IGlkOiJJbml0aWFsIHJlbmRlciIgdGFnOiJyZW5kZXIiCiAgIGNvbW1pdCBpZDoiQ29tbWl0IGNoYW5nZXMiIHRhZzoiY29tbWl0IgogICBjb21taXQgaWQ6ImNsaWNrKHN0YXJ0IHRyYW5zaXRpb24pIgogICBicmFuY2ggdHJhbnNpdGlvbgogICBjaGVja291dCB0cmFuc2l0aW9uCiAgIGJyYW5jaCBiYXRjaAogICBjaGVja291dCBiYXRjaAogICBjb21taXQgaWQ6InNldFN0YXRlIDEiCiAgIGNvbW1pdCBpZDoic2V0U3RhdGUgMiIKICAgY2hlY2tvdXQgdHJhbnNpdGlvbgogICBtZXJnZSBiYXRjaCB0YWc6InN0YXJ0IgogICBjb21taXQgaWQ6IiAiIHRhZzoicmVuZGVyIgogICBjb21taXQgaWQ6IiAgIiB0YWc6ImZpbmlzaCIKICAgY2hlY2tvdXQgbWFpbgogICBtZXJnZSB0cmFuc2l0aW9uIHRhZzoiY29tbWl0Ig"},{scale:1.4}),null,16)]),_:1},16)}}},Zut=Qe(Kut,[["__file","/@slidev/slides/25.md"]]),Qut=n("h1",null,"State updates in concurrent mode",-1),Jut=n("p",null,[E("The above graph holds, as long as React "),n("em",null,"knows"),E(" about the state updates.")],-1),tht={__name:"26",setup(i){const l={};return Pe(Ze),(p,f)=>{const m=o5,b=Yo;return Yt(),Xe(Qs,ss(es(l)),{default:ge(()=>[Qut,le(m,_s({code:"Z2l0R3JhcGgKICAgY29tbWl0IGlkOiJjbGljayhzdGFydCB0cmFuc2l0aW9uKSIKICAgYnJhbmNoIHRyYW5zaXRpb24gb3JkZXI6MgogICBjaGVja291dCB0cmFuc2l0aW9uCiAgIGJyYW5jaCBiYXRjaCBvcmRlcjozCiAgIGNoZWNrb3V0IGJhdGNoCiAgIGNvbW1pdCBpZDoic2V0U3RhdGUgMSIKICAgY29tbWl0IGlkOiJzZXRTdGF0ZSAyIgogICBjaGVja291dCB0cmFuc2l0aW9uCiAgIG1lcmdlIGJhdGNoIHRhZzoic3RhcnQiCiAgIGNoZWNrb3V0IG1haW4KICAgY29tbWl0IGlkOiJjbGljaygpIgogICBicmFuY2ggYmF0Y2gyIG9yZGVyOjEKICAgY2hlY2tvdXQgYmF0Y2gyCiAgIGNvbW1pdCBpZDoic2V0U3RhdGUgMyIKICAgY29tbWl0IGlkOiJzZXRTdGF0ZSA0IgogICBjaGVja291dCBtYWluCiAgIG1lcmdlIGJhdGNoMiB0YWc6InJlbmRlciIKICAgY29tbWl0IGlkOiIgICAiIHRhZzoiY29tbWl0IgogICBjaGVja291dCB0cmFuc2l0aW9uCiAgIG1lcmdlIGJhdGNoMiB0YWc6ICJzdGFydCBvdmVyIgogICBjb21taXQgaWQ6IiAiIHRhZzoicmVuZGVyIgogICBjb21taXQgaWQ6IiAgIiB0YWc6ImZpbmlzaCIKICAgY2hlY2tvdXQgbWFpbgogICBtZXJnZSB0cmFuc2l0aW9uIHRhZzoiY29tbWl0Ig"},{scale:1}),null,16),le(b,null,{default:ge(()=>[Jut]),_:1})]),_:1},16)}}},eht=Qe(tht,[["__file","/@slidev/slides/26.md"]]),nht=n("h1",null,[E("Synchronising "),n("em",null,"external"),E(" state")],-1),sht=n("p",null,"Sometimes our state grows and we want to use better tooling to manage it. Or we need to use it also outside of React. How to keep our tree in sync?",-1),rht=n("p",null,"This is how we used to do it. But it causes a very subtle bug in concurrent mode.",-1),iht=n("pre",{class:"shiki-container"},[n("pre",{class:"slidev-code shiki shiki-dark Vitesse Dark",style:{"background-color":"#121212"}},[n("code",null,[n("span",{class:"line"},[n("span",{style:{color:"#4D9375"}},"import"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#B8A965"}},"store"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#4D9375"}},"from"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#C98A7D"}},"'./store'")]),E(`
`),n("span",{class:"line"}),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#4D9375"}},"export"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#CB7676"}},"const"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#A1B567"}},"useStore"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#CB7676"}},"="),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#858585"}},"()"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#CB7676"}},"=>"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#858585"}},"{")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#DBD7CA"}},"  "),n("span",{style:{color:"#CB7676"}},"const"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#858585"}},"["),n("span",{style:{color:"#D4976C"}},"state"),n("span",{style:{color:"#858585"}},","),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#D4976C"}},"setState"),n("span",{style:{color:"#858585"}},"]"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#CB7676"}},"="),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#A1B567"}},"useState"),n("span",{style:{color:"#858585"}},"("),n("span",{style:{color:"#B8A965"}},"store"),n("span",{style:{color:"#858585"}},"."),n("span",{style:{color:"#A1B567"}},"getState"),n("span",{style:{color:"#858585"}},"());")]),E(`
`),n("span",{class:"line"}),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#DBD7CA"}},"  "),n("span",{style:{color:"#A1B567"}},"useEffect"),n("span",{style:{color:"#858585"}},"(()"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#CB7676"}},"=>"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#858585"}},"{")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#DBD7CA"}},"    "),n("span",{style:{color:"#CB7676"}},"const"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#A1B567"}},"handleStoreUpdate"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#CB7676"}},"="),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#858585"}},"()"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#CB7676"}},"=>"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#A1B567"}},"setState"),n("span",{style:{color:"#858585"}},"("),n("span",{style:{color:"#B8A965"}},"store"),n("span",{style:{color:"#858585"}},"."),n("span",{style:{color:"#A1B567"}},"getState"),n("span",{style:{color:"#858585"}},"());")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#DBD7CA"}},"    "),n("span",{style:{color:"#CB7676"}},"const"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#D4976C"}},"unsubscribe"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#CB7676"}},"="),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#B8A965"}},"store"),n("span",{style:{color:"#858585"}},"."),n("span",{style:{color:"#A1B567"}},"subscribe"),n("span",{style:{color:"#858585"}},"("),n("span",{style:{color:"#B8A965"}},"handleStoreUpdate"),n("span",{style:{color:"#858585"}},");")]),E(`
`),n("span",{class:"line"}),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#DBD7CA"}},"    "),n("span",{style:{color:"#4D9375"}},"return"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#B8A965"}},"unsubscribe")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#DBD7CA"}},"  "),n("span",{style:{color:"#858585"}},"},"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#858585"}},"[]);")]),E(`
`),n("span",{class:"line"}),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#DBD7CA"}},"  "),n("span",{style:{color:"#4D9375"}},"return"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#B8A965"}},"state"),n("span",{style:{color:"#858585"}},";")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#858585"}},"}")])])]),n("pre",{class:"slidev-code shiki shiki-light Vitesse Light",style:{"background-color":"#ffffff"}},[n("code",null,[n("span",{class:"line"},[n("span",{style:{color:"#1C6B48"}},"import"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#8C862B"}},"store"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#1C6B48"}},"from"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#B56959"}},"'./store'")]),E(`
`),n("span",{class:"line"}),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#1C6B48"}},"export"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#AB5959"}},"const"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#6C7834"}},"useStore"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#AB5959"}},"="),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#8E8F8B"}},"()"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#AB5959"}},"=>"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#8E8F8B"}},"{")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#393A34"}},"  "),n("span",{style:{color:"#AB5959"}},"const"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#8E8F8B"}},"["),n("span",{style:{color:"#A65E2B"}},"state"),n("span",{style:{color:"#8E8F8B"}},","),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#A65E2B"}},"setState"),n("span",{style:{color:"#8E8F8B"}},"]"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#AB5959"}},"="),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#6C7834"}},"useState"),n("span",{style:{color:"#8E8F8B"}},"("),n("span",{style:{color:"#8C862B"}},"store"),n("span",{style:{color:"#8E8F8B"}},"."),n("span",{style:{color:"#6C7834"}},"getState"),n("span",{style:{color:"#8E8F8B"}},"());")]),E(`
`),n("span",{class:"line"}),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#393A34"}},"  "),n("span",{style:{color:"#6C7834"}},"useEffect"),n("span",{style:{color:"#8E8F8B"}},"(()"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#AB5959"}},"=>"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#8E8F8B"}},"{")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#393A34"}},"    "),n("span",{style:{color:"#AB5959"}},"const"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#6C7834"}},"handleStoreUpdate"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#AB5959"}},"="),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#8E8F8B"}},"()"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#AB5959"}},"=>"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#6C7834"}},"setState"),n("span",{style:{color:"#8E8F8B"}},"("),n("span",{style:{color:"#8C862B"}},"store"),n("span",{style:{color:"#8E8F8B"}},"."),n("span",{style:{color:"#6C7834"}},"getState"),n("span",{style:{color:"#8E8F8B"}},"());")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#393A34"}},"    "),n("span",{style:{color:"#AB5959"}},"const"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#A65E2B"}},"unsubscribe"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#AB5959"}},"="),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#8C862B"}},"store"),n("span",{style:{color:"#8E8F8B"}},"."),n("span",{style:{color:"#6C7834"}},"subscribe"),n("span",{style:{color:"#8E8F8B"}},"("),n("span",{style:{color:"#8C862B"}},"handleStoreUpdate"),n("span",{style:{color:"#8E8F8B"}},");")]),E(`
`),n("span",{class:"line"}),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#393A34"}},"    "),n("span",{style:{color:"#1C6B48"}},"return"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#8C862B"}},"unsubscribe")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#393A34"}},"  "),n("span",{style:{color:"#8E8F8B"}},"},"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#8E8F8B"}},"[]);")]),E(`
`),n("span",{class:"line"}),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#393A34"}},"  "),n("span",{style:{color:"#1C6B48"}},"return"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#8C862B"}},"state"),n("span",{style:{color:"#8E8F8B"}},";")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#8E8F8B"}},"}")])])])],-1),oht={__name:"27",setup(i){const l={};return Pe(Ze),(p,f)=>{const m=W8("v-show"),b=Cr,A=Yo;return Yt(),Xe(Qs,ss(es(l)),{default:ge(()=>[nht,le(m,null,{default:ge(()=>[sht]),_:1}),le(A,null,{default:ge(()=>[rht,le(b,_s({},{ranges:[""]}),{default:ge(()=>[iht]),_:1},16)]),_:1})]),_:1},16)}}},aht=Qe(oht,[["__file","/@slidev/slides/27.md"]]),lht=n("h1",null,"Tearing",-1),cht=n("pre",{class:"shiki-container"},[n("pre",{class:"slidev-code shiki shiki-dark Vitesse Dark",style:{"background-color":"#121212"}},[n("code",null,[n("span",{class:"line"},[n("span",{style:{color:"#CB7676"}},"const"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#858585"}},"["),n("span",{style:{color:"#D4976C"}},"show"),n("span",{style:{color:"#858585"}},","),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#D4976C"}},"setShow"),n("span",{style:{color:"#858585"}},"]"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#CB7676"}},"="),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#A1B567"}},"useState"),n("span",{style:{color:"#858585"}},"("),n("span",{style:{color:"#4D9375"}},"false"),n("span",{style:{color:"#858585"}},");")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#CB7676"}},"const"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#A1B567"}},"updateStore"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#CB7676"}},"="),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#858585"}},"()"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#CB7676"}},"=>"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#858585"}},"{")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#DBD7CA"}},"  "),n("span",{style:{color:"#A1B567"}},"update"),n("span",{style:{color:"#858585"}},"("),n("span",{style:{color:"#B8A965"}},"Date"),n("span",{style:{color:"#858585"}},"."),n("span",{style:{color:"#A1B567"}},"now"),n("span",{style:{color:"#858585"}},"());")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#858585"}},"};")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#CB7676"}},"const"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#A1B567"}},"handleClick"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#CB7676"}},"="),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#858585"}},"()"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#CB7676"}},"=>"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#858585"}},"{")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#DBD7CA"}},"  "),n("span",{style:{color:"#A1B567"}},"startTransition"),n("span",{style:{color:"#858585"}},"(()"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#CB7676"}},"=>"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#858585"}},"{")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#DBD7CA"}},"    "),n("span",{style:{color:"#A1B567"}},"setShow"),n("span",{style:{color:"#858585"}},"(("),n("span",{style:{color:"#B8A965"}},"current"),n("span",{style:{color:"#858585"}},")"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#CB7676"}},"=>"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#CB7676"}},"!"),n("span",{style:{color:"#B8A965"}},"current"),n("span",{style:{color:"#858585"}},");")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#DBD7CA"}},"  "),n("span",{style:{color:"#858585"}},"});")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#858585"}},"};")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#4D9375"}},"return"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#858585"}},"(")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#DBD7CA"}},"  "),n("span",{style:{color:"#858585"}},"<"),n("span",{style:{color:"#429988"}},"div"),n("span",{style:{color:"#858585"}},">")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#DBD7CA"}},"    "),n("span",{style:{color:"#858585"}},"<"),n("span",{style:{color:"#429988"}},"button"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#E0A569"}},"onClick"),n("span",{style:{color:"#CB7676"}},"="),n("span",{style:{color:"#858585"}},"{"),n("span",{style:{color:"#B8A965"}},"handleClick"),n("span",{style:{color:"#858585"}},"}>"),n("span",{style:{color:"#DBD7CA"}},"Toggle!"),n("span",{style:{color:"#858585"}},"</"),n("span",{style:{color:"#429988"}},"button"),n("span",{style:{color:"#858585"}},">")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#DBD7CA"}},"    "),n("span",{style:{color:"#858585"}},"<"),n("span",{style:{color:"#429988"}},"button"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#E0A569"}},"onClick"),n("span",{style:{color:"#CB7676"}},"="),n("span",{style:{color:"#858585"}},"{"),n("span",{style:{color:"#B8A965"}},"updateStore"),n("span",{style:{color:"#858585"}},"}>")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#DBD7CA"}},"      Update state")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#DBD7CA"}},"    "),n("span",{style:{color:"#858585"}},"</"),n("span",{style:{color:"#429988"}},"button"),n("span",{style:{color:"#858585"}},">")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#DBD7CA"}},"    "),n("span",{style:{color:"#858585"}},"{"),n("span",{style:{color:"#B8A965"}},"show"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#CB7676"}},"&&"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#858585"}},"(")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#DBD7CA"}},"      "),n("span",{style:{color:"#858585"}},"<"),n("span",{style:{color:"#429988"}},"div"),n("span",{style:{color:"#858585"}},">")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#DBD7CA"}},"        "),n("span",{style:{color:"#858585"}},"<"),n("span",{style:{color:"#E0A569"}},"SlowComponent"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#858585"}},"/>")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#DBD7CA"}},"        "),n("span",{style:{color:"#858585"}},"<"),n("span",{style:{color:"#E0A569"}},"SlowComponent"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#858585"}},"/>")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#DBD7CA"}},"        "),n("span",{style:{color:"#858585"}},"<"),n("span",{style:{color:"#E0A569"}},"SlowComponent"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#858585"}},"/>")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#DBD7CA"}},"        "),n("span",{style:{color:"#858585"}},"<"),n("span",{style:{color:"#E0A569"}},"SlowComponent"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#858585"}},"/>")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#DBD7CA"}},"        "),n("span",{style:{color:"#858585"}},"<"),n("span",{style:{color:"#E0A569"}},"SlowComponent"),n("span",{style:{color:"#DBD7CA"}}," "),n("span",{style:{color:"#858585"}},"/>")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#DBD7CA"}},"      "),n("span",{style:{color:"#858585"}},"</"),n("span",{style:{color:"#429988"}},"div"),n("span",{style:{color:"#858585"}},">")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#DBD7CA"}},"    "),n("span",{style:{color:"#858585"}},")}")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#DBD7CA"}},"  "),n("span",{style:{color:"#858585"}},"</"),n("span",{style:{color:"#429988"}},"div"),n("span",{style:{color:"#858585"}},">")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#858585"}},");")])])]),n("pre",{class:"slidev-code shiki shiki-light Vitesse Light",style:{"background-color":"#ffffff"}},[n("code",null,[n("span",{class:"line"},[n("span",{style:{color:"#AB5959"}},"const"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#8E8F8B"}},"["),n("span",{style:{color:"#A65E2B"}},"show"),n("span",{style:{color:"#8E8F8B"}},","),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#A65E2B"}},"setShow"),n("span",{style:{color:"#8E8F8B"}},"]"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#AB5959"}},"="),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#6C7834"}},"useState"),n("span",{style:{color:"#8E8F8B"}},"("),n("span",{style:{color:"#1C6B48"}},"false"),n("span",{style:{color:"#8E8F8B"}},");")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#AB5959"}},"const"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#6C7834"}},"updateStore"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#AB5959"}},"="),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#8E8F8B"}},"()"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#AB5959"}},"=>"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#8E8F8B"}},"{")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#393A34"}},"  "),n("span",{style:{color:"#6C7834"}},"update"),n("span",{style:{color:"#8E8F8B"}},"("),n("span",{style:{color:"#8C862B"}},"Date"),n("span",{style:{color:"#8E8F8B"}},"."),n("span",{style:{color:"#6C7834"}},"now"),n("span",{style:{color:"#8E8F8B"}},"());")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#8E8F8B"}},"};")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#AB5959"}},"const"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#6C7834"}},"handleClick"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#AB5959"}},"="),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#8E8F8B"}},"()"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#AB5959"}},"=>"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#8E8F8B"}},"{")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#393A34"}},"  "),n("span",{style:{color:"#6C7834"}},"startTransition"),n("span",{style:{color:"#8E8F8B"}},"(()"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#AB5959"}},"=>"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#8E8F8B"}},"{")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#393A34"}},"    "),n("span",{style:{color:"#6C7834"}},"setShow"),n("span",{style:{color:"#8E8F8B"}},"(("),n("span",{style:{color:"#8C862B"}},"current"),n("span",{style:{color:"#8E8F8B"}},")"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#AB5959"}},"=>"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#AB5959"}},"!"),n("span",{style:{color:"#8C862B"}},"current"),n("span",{style:{color:"#8E8F8B"}},");")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#393A34"}},"  "),n("span",{style:{color:"#8E8F8B"}},"});")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#8E8F8B"}},"};")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#1C6B48"}},"return"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#8E8F8B"}},"(")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#393A34"}},"  "),n("span",{style:{color:"#8E8F8B"}},"<"),n("span",{style:{color:"#2F8A89"}},"div"),n("span",{style:{color:"#8E8F8B"}},">")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#393A34"}},"    "),n("span",{style:{color:"#8E8F8B"}},"<"),n("span",{style:{color:"#2F8A89"}},"button"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#B58451"}},"onClick"),n("span",{style:{color:"#AB5959"}},"="),n("span",{style:{color:"#8E8F8B"}},"{"),n("span",{style:{color:"#8C862B"}},"handleClick"),n("span",{style:{color:"#8E8F8B"}},"}>"),n("span",{style:{color:"#393A34"}},"Toggle!"),n("span",{style:{color:"#8E8F8B"}},"</"),n("span",{style:{color:"#2F8A89"}},"button"),n("span",{style:{color:"#8E8F8B"}},">")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#393A34"}},"    "),n("span",{style:{color:"#8E8F8B"}},"<"),n("span",{style:{color:"#2F8A89"}},"button"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#B58451"}},"onClick"),n("span",{style:{color:"#AB5959"}},"="),n("span",{style:{color:"#8E8F8B"}},"{"),n("span",{style:{color:"#8C862B"}},"updateStore"),n("span",{style:{color:"#8E8F8B"}},"}>")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#393A34"}},"      Update state")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#393A34"}},"    "),n("span",{style:{color:"#8E8F8B"}},"</"),n("span",{style:{color:"#2F8A89"}},"button"),n("span",{style:{color:"#8E8F8B"}},">")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#393A34"}},"    "),n("span",{style:{color:"#8E8F8B"}},"{"),n("span",{style:{color:"#8C862B"}},"show"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#AB5959"}},"&&"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#8E8F8B"}},"(")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#393A34"}},"      "),n("span",{style:{color:"#8E8F8B"}},"<"),n("span",{style:{color:"#2F8A89"}},"div"),n("span",{style:{color:"#8E8F8B"}},">")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#393A34"}},"        "),n("span",{style:{color:"#8E8F8B"}},"<"),n("span",{style:{color:"#B58451"}},"SlowComponent"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#8E8F8B"}},"/>")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#393A34"}},"        "),n("span",{style:{color:"#8E8F8B"}},"<"),n("span",{style:{color:"#B58451"}},"SlowComponent"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#8E8F8B"}},"/>")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#393A34"}},"        "),n("span",{style:{color:"#8E8F8B"}},"<"),n("span",{style:{color:"#B58451"}},"SlowComponent"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#8E8F8B"}},"/>")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#393A34"}},"        "),n("span",{style:{color:"#8E8F8B"}},"<"),n("span",{style:{color:"#B58451"}},"SlowComponent"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#8E8F8B"}},"/>")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#393A34"}},"        "),n("span",{style:{color:"#8E8F8B"}},"<"),n("span",{style:{color:"#B58451"}},"SlowComponent"),n("span",{style:{color:"#393A34"}}," "),n("span",{style:{color:"#8E8F8B"}},"/>")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#393A34"}},"      "),n("span",{style:{color:"#8E8F8B"}},"</"),n("span",{style:{color:"#2F8A89"}},"div"),n("span",{style:{color:"#8E8F8B"}},">")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#393A34"}},"    "),n("span",{style:{color:"#8E8F8B"}},")}")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#393A34"}},"  "),n("span",{style:{color:"#8E8F8B"}},"</"),n("span",{style:{color:"#2F8A89"}},"div"),n("span",{style:{color:"#8E8F8B"}},">")]),E(`
`),n("span",{class:"line"},[n("span",{style:{color:"#8E8F8B"}},");")])])])],-1),uht={__name:"28",setup(i){const l={layout:"iframe-right",url:"https://stackblitz.com/edit/react-ts-1aq1hn?embed=1&file=SlowComponent.tsx&view=preview"};return Pe(Ze),(p,f)=>{const m=Cr;return Yt(),Xe(Ma,ss(es(l)),{default:ge(()=>[lht,le(m,_s({},{ranges:["all","1,5-9,12,16-24","2-4,13-15","all"]}),{default:ge(()=>[cht]),_:1},16)]),_:1},16)}}},hht=Qe(uht,[["__file","/@slidev/slides/28.md"]]),pht=n("h1",null,"Tearing, fixed",-1),dht=n("p",null,[n("code",null,"useSyncExternalStore"),E(" is a hook which should be used to synchronise external state with React.")],-1),fht=n("ul",null,[n("li",null,[E("It accepts three arguments: "),n("ul",null,[n("li",null,[n("code",null,"subscribe"),E(" - it takes a single "),n("code",null,"callback"),E(" which subscribes to the store and returns an "),n("code",null,"unsubscribe"),E(" method")]),n("li",null,[n("code",null,"getSnapshot"),E(" - it returns the stores current state")]),n("li",null,[E("(optional) "),n("code",null,"getServerSnapshot"),E(" - used for SSR & initial hydration")])])]),n("li",null,[E("It returns the "),n("em",null,"current"),E(" state of the store")]),n("li",null,[E("It ensures that it is "),n("em",null,"always"),E(" in sync with the store")])],-1),yht={__name:"29",setup(i){const l={layout:"iframe-right",url:"https://stackblitz.com/edit/react-ts-6uaips?embed=1&file=useStore.tsx&view=preview"};return Pe(Ze),(p,f)=>{const m=W8("v-show"),b=fo;return Yt(),Xe(Ma,ss(es(l)),{default:ge(()=>[pht,le(m,null,{default:ge(()=>[dht]),_:1}),le(b,null,{default:ge(()=>[fht]),_:1})]),_:1},16)}}},ght=Qe(yht,[["__file","/@slidev/slides/29.md"]]),mht=n("h1",null,"Sources",-1),_ht=n("ol",null,[n("li",null,[E("React docs ("),n("a",{href:"https://beta.reactjs.org/",target:"_blank",rel:"noopener"},"https://beta.reactjs.org/"),E(")")]),n("li",null,[E("In the loop ("),n("a",{href:"https://youtu.be/cCOL7MC4Pl0/",target:"_blank",rel:"noopener"},"https://youtu.be/cCOL7MC4Pl0/"),E(")")]),n("li",null,[E("React concurrency discussion ("),n("a",{href:"https://github.com/reactwg/react-18/discussions/70",target:"_blank",rel:"noopener"},"https://github.com/reactwg/react-18/discussions/70"),E(")")])],-1),vht={__name:"30",setup(i){const l={};return Pe(Ze),(p,f)=>(Yt(),Xe(Qs,ss(es(l)),{default:ge(()=>[mht,_ht]),_:1},16))}},bht=Qe(vht,[["__file","/@slidev/slides/30.md"]]),xht=[{path:"1",name:"page-1",component:Zat,meta:{theme:"default",favicon:"./logo.svg",highlighter:"shiki",lineNumbers:!1,info:`## Slidev Starter Template
Presentation slides for developers.

Learn more at [Sli.dev](https://sli.dev)
`,drawings:{persist:!1},css:"unocss",title:"React State",colorSchema:"dark",fonts:{sans:"Lato"},slide:{raw:`---
theme: default
favicon: "./logo.svg"
highlighter: shiki
lineNumbers: false
info: |
  ## Slidev Starter Template
  Presentation slides for developers.

  Learn more at [Sli.dev](https://sli.dev)
drawings:
  persist: false
css: unocss
title: React State
colorSchema: dark
fonts:
  sans: "Lato"
---

# React State
### let's _understand_ it better
`,title:"React State",level:1,content:`# React State
### let's _understand_ it better`,frontmatter:{theme:"default",favicon:"./logo.svg",highlighter:"shiki",lineNumbers:!1,info:`## Slidev Starter Template
Presentation slides for developers.

Learn more at [Sli.dev](https://sli.dev)
`,drawings:{persist:!1},css:"unocss",title:"React State",colorSchema:"dark",fonts:{sans:"Lato"}},index:0,start:0,end:22,notesHTML:"",filepath:"/Users/jedrzejsadowski/projects/bright/react-state-presentation/slides.md",id:0,no:1},__clicksElements:[],__preloaded:!1}},{path:"2",name:"page-2",component:slt,meta:{slide:{raw:`
# Agenda:

* Why keep state in React
* State hooks
  * useState
  * useReducer
* What *asynchronous* can mean
* When does React *actually* update
* Concurrent mode
  * External state & tearing
`,title:"Agenda:",level:1,content:`# Agenda:

* Why keep state in React
* State hooks
  * useState
  * useReducer
* What *asynchronous* can mean
* When does React *actually* update
* Concurrent mode
  * External state & tearing`,frontmatter:{},index:1,start:23,end:35,notesHTML:"",filepath:"/Users/jedrzejsadowski/projects/bright/react-state-presentation/slides.md",id:1,no:2},__clicksElements:[],__preloaded:!1}},{path:"3",name:"page-3",component:alt,meta:{slide:{raw:`
# Why keep state in React?

<v-clicks>

* It's the only way of telling React to re-render
  * Class components used to have a \`forceUpdate\` method
  * It can be simulated in stateless components... by using state
* It allows for *concurrent mode* patterns
* It helps performance
  * React only re-renders the subtree affected
  * React automatically batches updates
  * State updates are *asynchronous*
</v-clicks>
`,title:"Why keep state in React?",level:1,content:`# Why keep state in React?

<v-clicks>

* It's the only way of telling React to re-render
  * Class components used to have a \`forceUpdate\` method
  * It can be simulated in stateless components... by using state
* It allows for *concurrent mode* patterns
* It helps performance
  * React only re-renders the subtree affected
  * React automatically batches updates
  * State updates are *asynchronous*
</v-clicks>`,frontmatter:{},index:2,start:36,end:51,notesHTML:"",filepath:"/Users/jedrzejsadowski/projects/bright/react-state-presentation/slides.md",id:2,no:3},__clicksElements:[],__preloaded:!1}},{path:"4",name:"page-4",component:Slt,meta:{slide:{raw:`
# useState

\`\`\`tsx
import { useState } from 'react';

const Component = () => {
  const [state, setState] = useState(initial);
  return <div>{state}</div>
}
\`\`\`


<v-click>

## Initialization

</v-click>
<v-click>

- \`initial\` can be a value or an initialization function
\`\`\`tsx {1|2|all}
  useState(0)
  useState(() => 0)
\`\`\`
</v-click>
<v-click>

- important to remember when storing a function
\`\`\`tsx {1|2|all}
  useState(func) // this will store whatever func returns
  useState(() => func) // this will store func
\`\`\`

</v-click>

`,title:"useState",level:1,content:`# useState

\`\`\`tsx
import { useState } from 'react';

const Component = () => {
  const [state, setState] = useState(initial);
  return <div>{state}</div>
}
\`\`\`


<v-click>

## Initialization

</v-click>
<v-click>

- \`initial\` can be a value or an initialization function
\`\`\`tsx {1|2|all}
  useState(0)
  useState(() => 0)
\`\`\`
</v-click>
<v-click>

- important to remember when storing a function
\`\`\`tsx {1|2|all}
  useState(func) // this will store whatever func returns
  useState(() => func) // this will store func
\`\`\`

</v-click>`,frontmatter:{},index:3,start:52,end:89,notesHTML:"",filepath:"/Users/jedrzejsadowski/projects/bright/react-state-presentation/slides.md",id:3,no:4},__clicksElements:[],__preloaded:!1}},{path:"5",name:"page-5",component:Olt,meta:{slide:{raw:`
# useState

\`\`\`tsx
import { useState } from 'react';

const Component = () => {
  const [state, setState] = useState(initial);
  return <div>{state}</div>
}
\`\`\`

## Updating

<v-click>

- update can be either a value or a function
\`\`\`tsx {1|2|all}
  setState(0)
  setState((current) => 0)
\`\`\`
</v-click>

<v-clicks>

- if the next state is derived from the previous one, prefer the latter form

- if you want to store a function you *must* use the latter form

- state is only updated if the new one is *different* (Using \`Object.is\` to compare)
</v-clicks>
`,title:"useState",level:1,content:`# useState

\`\`\`tsx
import { useState } from 'react';

const Component = () => {
  const [state, setState] = useState(initial);
  return <div>{state}</div>
}
\`\`\`

## Updating

<v-click>

- update can be either a value or a function
\`\`\`tsx {1|2|all}
  setState(0)
  setState((current) => 0)
\`\`\`
</v-click>

<v-clicks>

- if the next state is derived from the previous one, prefer the latter form

- if you want to store a function you *must* use the latter form

- state is only updated if the new one is *different* (Using \`Object.is\` to compare)
</v-clicks>`,frontmatter:{},index:4,start:90,end:122,notesHTML:"",filepath:"/Users/jedrzejsadowski/projects/bright/react-state-presentation/slides.md",id:4,no:5},__clicksElements:[],__preloaded:!1}},{path:"6",name:"page-6",component:Ylt,meta:{slide:{raw:`
## useState is only *syntactic sugar* for useReducer

<img class="p-4 mx-auto my-auto h-inherit" src="/images/scooby.png" >
`,title:"useState is only *syntactic sugar* for useReducer",level:2,content:`## useState is only *syntactic sugar* for useReducer

<img class="p-4 mx-auto my-auto h-inherit" src="/images/scooby.png" >`,frontmatter:{},index:5,start:123,end:128,notesHTML:"",filepath:"/Users/jedrzejsadowski/projects/bright/react-state-presentation/slides.md",id:5,no:6},__clicksElements:[],__preloaded:!1}},{path:"7",name:"page-7",component:Glt,meta:{slide:{raw:`
# useReducer
\`\`\`tsx
import { useReducer } from 'react';
import reducer from './reducer';

const Component = () => {
  const [state, dispatch] = useReducer(reducer, initialValue, initializer);
  return <div>{state}</div>
}
\`\`\`
<v-click>

## Initialization

</v-click>

<v-clicks>

- \`initialValue\` is used *as-is*, even if it's a function, unlike \`useState\`
- if you need initialization logic, use the \`initializer\`, which is a 3rd, *optional* argument
  - it is called with the \`initialValue\`
  - the returned value will be used as the initial state *instead*

- \`reducer\` is a function with the following signature
  \`\`\`tsx
  type Reducer<State, Action> = (prevState: State, action: Action) => State
  \`\`\`
</v-clicks>
`,title:"useReducer",level:1,content:`# useReducer
\`\`\`tsx
import { useReducer } from 'react';
import reducer from './reducer';

const Component = () => {
  const [state, dispatch] = useReducer(reducer, initialValue, initializer);
  return <div>{state}</div>
}
\`\`\`
<v-click>

## Initialization

</v-click>

<v-clicks>

- \`initialValue\` is used *as-is*, even if it's a function, unlike \`useState\`
- if you need initialization logic, use the \`initializer\`, which is a 3rd, *optional* argument
  - it is called with the \`initialValue\`
  - the returned value will be used as the initial state *instead*

- \`reducer\` is a function with the following signature
  \`\`\`tsx
  type Reducer<State, Action> = (prevState: State, action: Action) => State
  \`\`\`
</v-clicks>`,frontmatter:{},index:6,start:129,end:159,notesHTML:"",filepath:"/Users/jedrzejsadowski/projects/bright/react-state-presentation/slides.md",id:6,no:7},__clicksElements:[],__preloaded:!1}},{path:"8",name:"page-8",component:Jlt,meta:{slide:{raw:`
# useReducer
\`\`\`tsx
import { useReducer } from 'react';
import reducer from './reducer';

const Component = () => {
  const [state, dispatch] = useReducer(reducer, initialValue, initializer);
  return <div>{state}</div>
}
\`\`\`

## Updating

<v-clicks>

\`\`\`ts
const [state, dispatch] = useReducer(reducer, initialValue, initializer)
//...
dispatch(action)
\`\`\`
</v-clicks>
`,title:"useReducer",level:1,content:`# useReducer
\`\`\`tsx
import { useReducer } from 'react';
import reducer from './reducer';

const Component = () => {
  const [state, dispatch] = useReducer(reducer, initialValue, initializer);
  return <div>{state}</div>
}
\`\`\`

## Updating

<v-clicks>

\`\`\`ts
const [state, dispatch] = useReducer(reducer, initialValue, initializer)
//...
dispatch(action)
\`\`\`
</v-clicks>`,frontmatter:{},index:7,start:160,end:183,notesHTML:"",filepath:"/Users/jedrzejsadowski/projects/bright/react-state-presentation/slides.md",id:7,no:8},__clicksElements:[],__preloaded:!1}},{path:"9",name:"page-9",component:sct,meta:{slide:{raw:`
# Reducer

\`\`\`ts {all|3|5-11|13-18|all}
import { useReducer } from 'react';

type SetStateAction<State> = State | ((prev: State) => State);

const reducer = <State>(prevState: State, action: SetStateAction<State>): State => {
  if(typeof action === 'function') {
    return action(prevState);
  } else {
    return action;
  }
}

export const useState = <State>(initialState?: State | (() => State)) => 
  useReducer(
    reducer,
    undefined,
    () => typeof initialState === 'function' ? initialState() : initialState
  )


\`\`\`
`,title:"Reducer",level:1,content:`# Reducer

\`\`\`ts {all|3|5-11|13-18|all}
import { useReducer } from 'react';

type SetStateAction<State> = State | ((prev: State) => State);

const reducer = <State>(prevState: State, action: SetStateAction<State>): State => {
  if(typeof action === 'function') {
    return action(prevState);
  } else {
    return action;
  }
}

export const useState = <State>(initialState?: State | (() => State)) => 
  useReducer(
    reducer,
    undefined,
    () => typeof initialState === 'function' ? initialState() : initialState
  )


\`\`\``,frontmatter:{},index:8,start:184,end:210,notesHTML:"",filepath:"/Users/jedrzejsadowski/projects/bright/react-state-presentation/slides.md",id:8,no:9},__clicksElements:[],__preloaded:!1}},{path:"10",name:"page-10",component:uct,meta:{layout:"iframe-right",url:"https://stackblitz.com/edit/react-ts-cgjyuw?devToolsHeight=80&embed=1&file=App.tsx&hideExplorer=1&view=preview",slide:{raw:`---
layout: iframe-right
url: https://stackblitz.com/edit/react-ts-cgjyuw?devToolsHeight=80&embed=1&file=App.tsx&hideExplorer=1&view=preview
---

# State updates are *asynchronous*

\`\`\`tsx{all|2,3,5,7,8,10,14-17|4,6,9,11|all}
const Counter = () => {
  const [state, setState] = useState(0);
  const increment = () => {
    console.log('before increment');
    setState((current) => {
      console.log('increment');
      return current + 1;
    });
    console.log('after increment');
  };
  console.log('render');
  return (
    <div>
      <p>{state}</p>
      <button onClick={increment}>
        Increment
      </button>
    </div>
  );
}
\`\`\`
`,title:"State updates are *asynchronous*",level:1,content:`# State updates are *asynchronous*

\`\`\`tsx{all|2,3,5,7,8,10,14-17|4,6,9,11|all}
const Counter = () => {
  const [state, setState] = useState(0);
  const increment = () => {
    console.log('before increment');
    setState((current) => {
      console.log('increment');
      return current + 1;
    });
    console.log('after increment');
  };
  console.log('render');
  return (
    <div>
      <p>{state}</p>
      <button onClick={increment}>
        Increment
      </button>
    </div>
  );
}
\`\`\``,frontmatter:{layout:"iframe-right",url:"https://stackblitz.com/edit/react-ts-cgjyuw?devToolsHeight=80&embed=1&file=App.tsx&hideExplorer=1&view=preview"},index:9,start:210,end:240,notesHTML:"",filepath:"/Users/jedrzejsadowski/projects/bright/react-state-presentation/slides.md",id:9,no:10},__clicksElements:[],__preloaded:!1}},{path:"11",name:"page-11",component:yct,meta:{slide:{raw:`
# What *asynchronous* can mean

The browser environment gives us multiple choices when to run our asynchronous code:

<v-clicks>

* microtasks
  * Run *immediately* after the call stack is empty
  * Can be created using \`queueMicrotask\` or \`Promise.resolve().then\`
* tasks
  * Run sometime in the future, when the event loop gets to it
  * Can be created using \`setTimeout\`, \`MessageChannel\` ports, event callbacks
* \`requestAnimationFrame\`
  * Runs *before* the next paint
</v-clicks>
`,title:"What *asynchronous* can mean",level:1,content:`# What *asynchronous* can mean

The browser environment gives us multiple choices when to run our asynchronous code:

<v-clicks>

* microtasks
  * Run *immediately* after the call stack is empty
  * Can be created using \`queueMicrotask\` or \`Promise.resolve().then\`
* tasks
  * Run sometime in the future, when the event loop gets to it
  * Can be created using \`setTimeout\`, \`MessageChannel\` ports, event callbacks
* \`requestAnimationFrame\`
  * Runs *before* the next paint
</v-clicks>`,frontmatter:{},index:10,start:241,end:258,notesHTML:"",filepath:"/Users/jedrzejsadowski/projects/bright/react-state-presentation/slides.md",id:10,no:11},__clicksElements:[],__preloaded:!1}},{path:"12",name:"page-12",component:bct,meta:{slide:{raw:`
# Which mechanism does React use?
Let's find out!
<v-click>

\`\`\`ts{1-8|10-11|12-13|14-15}
const asyncLog = (
  message: string,
  queueMechanism: (cb: () => void) => void
) => {
  queueMechanism(() => {
    console.log(message);
  });
};

const logMicrotask = (message: string) => 
  asyncLog(message, queueMicrotask);
const logTimeout = (message: string) =>
  asyncLog(message, (cb) => setTimeout(cb, 0));
const logAnimationFrame = (message: string) =>
  asyncLog(message, requestAnimationFrame);
\`\`\`
</v-click>
`,title:"Which mechanism does React use?",level:1,content:`# Which mechanism does React use?
Let's find out!
<v-click>

\`\`\`ts{1-8|10-11|12-13|14-15}
const asyncLog = (
  message: string,
  queueMechanism: (cb: () => void) => void
) => {
  queueMechanism(() => {
    console.log(message);
  });
};

const logMicrotask = (message: string) => 
  asyncLog(message, queueMicrotask);
const logTimeout = (message: string) =>
  asyncLog(message, (cb) => setTimeout(cb, 0));
const logAnimationFrame = (message: string) =>
  asyncLog(message, requestAnimationFrame);
\`\`\`
</v-click>`,frontmatter:{},index:11,start:259,end:283,notesHTML:"",filepath:"/Users/jedrzejsadowski/projects/bright/react-state-presentation/slides.md",id:11,no:12},__clicksElements:[],__preloaded:!1}},{path:"13",name:"page-13",component:Act,meta:{layout:"iframe-right",url:"https://stackblitz.com/edit/react-ts-bhgwtf?devToolsHeight=80&embed=1&file=App.tsx&hideExplorer=1&view=preview",slide:{raw:`---
layout: iframe-right
url: https://stackblitz.com/edit/react-ts-bhgwtf?devToolsHeight=80&embed=1&file=App.tsx&hideExplorer=1&view=preview
---

For *most* event callbacks, React uses *microtasks*

\`\`\`tsx{all|3-4|6-10,16-18|all}
const Counter = () => {
  const [state, setState] = useState(0);
  const increment = () => 
    setState((current) => current + 1);

  const handler = () => {
    logMicrotask('before increment')
    increment()
    logMicrotask('after increment')
  };

  console.log('render');
  return (
    <div>
      <p>{state}</p>
      <button onClick={handler}>
        Increment
      </button>
    </div>
  );
}
\`\`\`
`,content:`For *most* event callbacks, React uses *microtasks*

\`\`\`tsx{all|3-4|6-10,16-18|all}
const Counter = () => {
  const [state, setState] = useState(0);
  const increment = () => 
    setState((current) => current + 1);

  const handler = () => {
    logMicrotask('before increment')
    increment()
    logMicrotask('after increment')
  };

  console.log('render');
  return (
    <div>
      <p>{state}</p>
      <button onClick={handler}>
        Increment
      </button>
    </div>
  );
}
\`\`\``,frontmatter:{layout:"iframe-right",url:"https://stackblitz.com/edit/react-ts-bhgwtf?devToolsHeight=80&embed=1&file=App.tsx&hideExplorer=1&view=preview"},index:12,start:283,end:314,notesHTML:"",filepath:"/Users/jedrzejsadowski/projects/bright/react-state-presentation/slides.md",id:12,no:13},__clicksElements:[],__preloaded:!1}},{path:"14",name:"page-14",component:Sct,meta:{layout:"iframe-right",url:"https://stackblitz.com/edit/react-ts-b9nz6d?devToolsHeight=80&embed=1&file=App.tsx&hideExplorer=1&view=preview",slide:{raw:`---
layout: iframe-right
url: https://stackblitz.com/edit/react-ts-b9nz6d?devToolsHeight=80&embed=1&file=App.tsx&hideExplorer=1&view=preview
---

It doesn't matter how the callback was registered

\`\`\`tsx{all|10-17,22|all}
const Counter = () => {
  const [state, setState] = useState(0);
  const increment = () => 
    setState((current) => current + 1);
  const handler = () => {
    logMicrotask('before increment');
    increment();
    logMicrotask('after increment');
  };
  const buttonRef = useRef(null);
  useEffect(() => {
    const btn = buttonRef.current;
    btn.addEventListener('click', handler);
    return () => 
      btn.removeEventListener('click', handler);
  });

  console.log('render');
  return (
    <div>
      <p>{state}</p>
      <button ref={buttonRef}>Increment</button>
    </div>
  );
}
\`\`\`
`,content:`It doesn't matter how the callback was registered

\`\`\`tsx{all|10-17,22|all}
const Counter = () => {
  const [state, setState] = useState(0);
  const increment = () => 
    setState((current) => current + 1);
  const handler = () => {
    logMicrotask('before increment');
    increment();
    logMicrotask('after increment');
  };
  const buttonRef = useRef(null);
  useEffect(() => {
    const btn = buttonRef.current;
    btn.addEventListener('click', handler);
    return () => 
      btn.removeEventListener('click', handler);
  });

  console.log('render');
  return (
    <div>
      <p>{state}</p>
      <button ref={buttonRef}>Increment</button>
    </div>
  );
}
\`\`\``,frontmatter:{layout:"iframe-right",url:"https://stackblitz.com/edit/react-ts-b9nz6d?devToolsHeight=80&embed=1&file=App.tsx&hideExplorer=1&view=preview"},index:13,start:314,end:349,notesHTML:"",filepath:"/Users/jedrzejsadowski/projects/bright/react-state-presentation/slides.md",id:13,no:14},__clicksElements:[],__preloaded:!1}},{path:"15",name:"page-15",component:Lct,meta:{layout:"iframe-right",url:"https://stackblitz.com/edit/react-ts-a3sacf?devToolsHeight=80&embed=1&file=App.tsx&hideExplorer=1&view=preview",slide:{raw:`---
layout: iframe-right
url: https://stackblitz.com/edit/react-ts-a3sacf?devToolsHeight=80&embed=1&file=App.tsx&hideExplorer=1&view=preview
---

But it does matter when it was triggered

\`\`\`tsx{all|16-21|all}
const Counter = () => {
  const [state, setState] = useState(0);
  const increment = () => 
    setState((current) => current + 1);

  const handler = () => {
    logMicrotask('before increment');
    increment();
    logMicrotask('after increment');
  };

  console.log('render');
  return (
    <div>
      <p>{state}</p>
      <button 
        onClick={() => setTimeout(handler,0)}
      >
        Increment
      </button>
    </div>
  );
}
\`\`\`

`,content:`But it does matter when it was triggered

\`\`\`tsx{all|16-21|all}
const Counter = () => {
  const [state, setState] = useState(0);
  const increment = () => 
    setState((current) => current + 1);

  const handler = () => {
    logMicrotask('before increment');
    increment();
    logMicrotask('after increment');
  };

  console.log('render');
  return (
    <div>
      <p>{state}</p>
      <button 
        onClick={() => setTimeout(handler,0)}
      >
        Increment
      </button>
    </div>
  );
}
\`\`\``,frontmatter:{layout:"iframe-right",url:"https://stackblitz.com/edit/react-ts-a3sacf?devToolsHeight=80&embed=1&file=App.tsx&hideExplorer=1&view=preview"},index:14,start:349,end:383,notesHTML:"",filepath:"/Users/jedrzejsadowski/projects/bright/react-state-presentation/slides.md",id:14,no:15},__clicksElements:[],__preloaded:!1}},{path:"16",name:"page-16",component:Oct,meta:{layout:"iframe-right",url:"https://stackblitz.com/edit/react-ts-hs14sc?devToolsHeight=80&embed=1&file=App.tsx&hideExplorer=1&view=preview",slide:{raw:`---
layout: iframe-right
url: https://stackblitz.com/edit/react-ts-hs14sc?devToolsHeight=80&embed=1&file=App.tsx&hideExplorer=1&view=preview
---

In which case React will use a timeout

\`\`\`tsx{all|7,9|all}
const Counter = () => {
  const [state, setState] = useState(0);
  const increment = () => 
    setState((current) => current + 1);

  const handler = () => {
    logTimeout('before increment');
    increment();
    logTimeout('after increment');
  };

  console.log('render');
  return (
    <div>
      <p>{state}</p>
      <button 
        onClick={() => setTimeout(handler,0)}
      >
        Increment
      </button>
    </div>
  );
}
\`\`\`
`,content:`In which case React will use a timeout

\`\`\`tsx{all|7,9|all}
const Counter = () => {
  const [state, setState] = useState(0);
  const increment = () => 
    setState((current) => current + 1);

  const handler = () => {
    logTimeout('before increment');
    increment();
    logTimeout('after increment');
  };

  console.log('render');
  return (
    <div>
      <p>{state}</p>
      <button 
        onClick={() => setTimeout(handler,0)}
      >
        Increment
      </button>
    </div>
  );
}
\`\`\``,frontmatter:{layout:"iframe-right",url:"https://stackblitz.com/edit/react-ts-hs14sc?devToolsHeight=80&embed=1&file=App.tsx&hideExplorer=1&view=preview"},index:15,start:383,end:416,notesHTML:"",filepath:"/Users/jedrzejsadowski/projects/bright/react-state-presentation/slides.md",id:15,no:16},__clicksElements:[],__preloaded:!1}},{path:"17",name:"page-17",component:$ct,meta:{layout:"iframe-right",url:"https://stackblitz.com/edit/react-ts-a8wuur?devToolsHeight=80&embed=1&file=App.tsx&hideExplorer=1&view=preview",slide:{raw:`---
layout: iframe-right
url: https://stackblitz.com/edit/react-ts-a8wuur?devToolsHeight=80&embed=1&file=App.tsx&hideExplorer=1&view=preview
---

It will also use the timeout for *some* events

\`\`\`tsx{all|17|all}
const Counter = () => {
  const [state, setState] = useState(0);
  const increment = () => 
    setState((current) => current + 1);

  const handler = () => {
    logTimeout('before increment');
    increment();
    logTimeout('after increment');
  };

  console.log('render');
  return (
    <div>
      <p>{state}</p>
      <button 
        onMouseEnter={handler}
      >
        Increment
      </button>
    </div>
  );
}
\`\`\`
`,content:`It will also use the timeout for *some* events

\`\`\`tsx{all|17|all}
const Counter = () => {
  const [state, setState] = useState(0);
  const increment = () => 
    setState((current) => current + 1);

  const handler = () => {
    logTimeout('before increment');
    increment();
    logTimeout('after increment');
  };

  console.log('render');
  return (
    <div>
      <p>{state}</p>
      <button 
        onMouseEnter={handler}
      >
        Increment
      </button>
    </div>
  );
}
\`\`\``,frontmatter:{layout:"iframe-right",url:"https://stackblitz.com/edit/react-ts-a8wuur?devToolsHeight=80&embed=1&file=App.tsx&hideExplorer=1&view=preview"},index:16,start:416,end:449,notesHTML:"",filepath:"/Users/jedrzejsadowski/projects/bright/react-state-presentation/slides.md",id:16,no:17},__clicksElements:[],__preloaded:!1}},{path:"18",name:"page-18",component:Gct,meta:{slide:{raw:`
# React state update timing
<v-clicks>

* For *most event handlers*, React will use *microtasks*
  * This ensures that all listeners for this event get triggered before the next render
* For other callbacks and *some event handlers*, React will schedule a *task*
  * This ensures that all pending tasks are handled before the next render
</v-clicks>

<v-click>

This also means, that this function will trigger 1 or 2 re-renders, depending on how it was called
\`\`\`ts
const handleIncrement = async () => {
  await increment()
  await increment()
}
\`\`\` 
</v-click>
<v-click>

There is also an escape hatch. You can use \`flushSync\` from \`react-dom\` to *synchronously* update state
</v-click>
`,title:"React state update timing",level:1,content:`# React state update timing
<v-clicks>

* For *most event handlers*, React will use *microtasks*
  * This ensures that all listeners for this event get triggered before the next render
* For other callbacks and *some event handlers*, React will schedule a *task*
  * This ensures that all pending tasks are handled before the next render
</v-clicks>

<v-click>

This also means, that this function will trigger 1 or 2 re-renders, depending on how it was called
\`\`\`ts
const handleIncrement = async () => {
  await increment()
  await increment()
}
\`\`\` 
</v-click>
<v-click>

There is also an escape hatch. You can use \`flushSync\` from \`react-dom\` to *synchronously* update state
</v-click>`,frontmatter:{},index:17,start:450,end:475,notesHTML:"",filepath:"/Users/jedrzejsadowski/projects/bright/react-state-presentation/slides.md",id:17,no:18},__clicksElements:[],__preloaded:!1}},{path:"19",name:"page-19",component:Zct,meta:{slide:{raw:`
# When to \`flushSync\`?

<v-clicks>

* If you need to call an imperative API after updating the state
  \`\`\`ts
  const [items, setItems] = useState([])
  ...
  const handleAdd = (newItem) => {
    flushSync(() => {
      setItems(current => [...current, newItem])
    })
    // these lines run after render
    const element = getElementForItem(newItem)
    element.scrollIntoView()
  }
  \`\`\`
* If you need to integrate with a 3rd party library that exposes an imperative API
* Overall, should be used with care and not overused, as it opts-out of batching.
* \`flushSync\` may flush updates outside the callback when necessary to flush the updates inside the callback

</v-clicks>
`,title:"When to `flushSync`?",level:1,content:`# When to \`flushSync\`?

<v-clicks>

* If you need to call an imperative API after updating the state
  \`\`\`ts
  const [items, setItems] = useState([])
  ...
  const handleAdd = (newItem) => {
    flushSync(() => {
      setItems(current => [...current, newItem])
    })
    // these lines run after render
    const element = getElementForItem(newItem)
    element.scrollIntoView()
  }
  \`\`\`
* If you need to integrate with a 3rd party library that exposes an imperative API
* Overall, should be used with care and not overused, as it opts-out of batching.
* \`flushSync\` may flush updates outside the callback when necessary to flush the updates inside the callback

</v-clicks>`,frontmatter:{},index:18,start:476,end:500,notesHTML:"",filepath:"/Users/jedrzejsadowski/projects/bright/react-state-presentation/slides.md",id:18,no:19},__clicksElements:[],__preloaded:!1}},{path:"20",name:"page-20",component:nut,meta:{slide:{raw:`
# There is another

<img class="p-4 mx-auto my-auto h-inherit" src="/images/yoda.jpeg" >
`,title:"There is another",level:1,content:`# There is another

<img class="p-4 mx-auto my-auto h-inherit" src="/images/yoda.jpeg" >`,frontmatter:{},index:19,start:501,end:506,notesHTML:"",filepath:"/Users/jedrzejsadowski/projects/bright/react-state-presentation/slides.md",id:19,no:20},__clicksElements:[],__preloaded:!1}},{path:"21",name:"page-21",component:hut,meta:{slide:{raw:`
# Calling \`setState\` during a *render*

<v-clicks>

* Should be avoided,
* For derived state, you should use \`useMemo\` instead, 
* Is only possible for the current component\\'s state,
* In the rare cases where you actually need this, it is better than setting state in \`useEffect\`

</v-clicks>

<v-click>
<div style="display: flex; gap: 24px; width: 100%">

<div style="flex-grow: 1">

\`\`\`ts
const [state, setState] = useState(initial);
if(shouldUpdateState(deps)) {
  setState(newState)
}
\`\`\`
</div>

<div style="flex-grow: 1">

\`\`\`ts
const [state, setState] = useState(initial);
useEffect(() => {
  if(shouldUpdateState(deps)) {
    setState(newState)
  }
}, [deps])
\`\`\`
</div>
</div>

</v-click>
`,title:"Calling `setState` during a *render*",level:1,content:`# Calling \`setState\` during a *render*

<v-clicks>

* Should be avoided,
* For derived state, you should use \`useMemo\` instead, 
* Is only possible for the current component\\'s state,
* In the rare cases where you actually need this, it is better than setting state in \`useEffect\`

</v-clicks>

<v-click>
<div style="display: flex; gap: 24px; width: 100%">

<div style="flex-grow: 1">

\`\`\`ts
const [state, setState] = useState(initial);
if(shouldUpdateState(deps)) {
  setState(newState)
}
\`\`\`
</div>

<div style="flex-grow: 1">

\`\`\`ts
const [state, setState] = useState(initial);
useEffect(() => {
  if(shouldUpdateState(deps)) {
    setState(newState)
  }
}, [deps])
\`\`\`
</div>
</div>

</v-click>`,frontmatter:{},index:20,start:507,end:547,notesHTML:"",filepath:"/Users/jedrzejsadowski/projects/bright/react-state-presentation/slides.md",id:20,no:21},__clicksElements:[],__preloaded:!1}},{path:"22",name:"page-22",component:yut,meta:{layout:"iframe-right",url:"https://stackblitz.com/edit/react-ts-mjtmxl?devToolsHeight=80&embed=1&file=App.tsx&hideExplorer=1&view=preview",slide:{raw:`---
layout: iframe-right
url: https://stackblitz.com/edit/react-ts-mjtmxl?devToolsHeight=80&embed=1&file=App.tsx&hideExplorer=1&view=preview

---

Preventing unnecessary re-renders

\`\`\`tsx{all|1-5|10-13|all}
const Counter = ({ count }) => {
  console.log('counter render', count);

  return <p>{count}</p>;
};

const App() {
  const [count, setCount] = useState(0);
  const increment = () => setCount((c) => c + 1);

  if(count % 2 === 1) {
    increment()
  }

  console.log('app render', count);
  return (
    <div>
      <Counter count={count} />
      <button onClick={increment}>
        Increment
      </button>
    </div>
  );
}
\`\`\`
`,content:`Preventing unnecessary re-renders

\`\`\`tsx{all|1-5|10-13|all}
const Counter = ({ count }) => {
  console.log('counter render', count);

  return <p>{count}</p>;
};

const App() {
  const [count, setCount] = useState(0);
  const increment = () => setCount((c) => c + 1);

  if(count % 2 === 1) {
    increment()
  }

  console.log('app render', count);
  return (
    <div>
      <Counter count={count} />
      <button onClick={increment}>
        Increment
      </button>
    </div>
  );
}
\`\`\``,frontmatter:{layout:"iframe-right",url:"https://stackblitz.com/edit/react-ts-mjtmxl?devToolsHeight=80&embed=1&file=App.tsx&hideExplorer=1&view=preview"},index:21,start:547,end:582,notesHTML:"",filepath:"/Users/jedrzejsadowski/projects/bright/react-state-presentation/slides.md",id:21,no:22},__clicksElements:[],__preloaded:!1}},{path:"23",name:"page-23",component:xut,meta:{slide:{raw:`
# Concurrent mode

Concurrent mode allows the developer to mark some state updates as non-critical. These changes will be applied in a "forked" state tree, which will be "merged" back, when the background render is finished. React calls the fork a \`transition\` and provides the following tools:
<v-clicks>

* \`startTransition\` - useful to trigger a transition from any place, not necessarily a component.
  * Accepts a single argument, a callback which should call \`setState\`s to be processed in the background 
* \`useTransition\` - useful to additinally know if we are transitioning
  * accepts no arguments, returns a \`[isPending, startTransition]\` tuple
* \`useDeferredValue\` - accepts a single argument and returns a value of the same type
  * the returned value is equal to the argument in the "fork"
  * it may be different in the "main" tree
  * it is a declarative version of \`useTransition\`
</v-clicks>
<v-click>

Updates wrapped in a transition never trigger a suspense. The transition will be suspended instead, hence this is a way of avoiding fallback content.
</v-click>

`,title:"Concurrent mode",level:1,content:`# Concurrent mode

Concurrent mode allows the developer to mark some state updates as non-critical. These changes will be applied in a "forked" state tree, which will be "merged" back, when the background render is finished. React calls the fork a \`transition\` and provides the following tools:
<v-clicks>

* \`startTransition\` - useful to trigger a transition from any place, not necessarily a component.
  * Accepts a single argument, a callback which should call \`setState\`s to be processed in the background 
* \`useTransition\` - useful to additinally know if we are transitioning
  * accepts no arguments, returns a \`[isPending, startTransition]\` tuple
* \`useDeferredValue\` - accepts a single argument and returns a value of the same type
  * the returned value is equal to the argument in the "fork"
  * it may be different in the "main" tree
  * it is a declarative version of \`useTransition\`
</v-clicks>
<v-click>

Updates wrapped in a transition never trigger a suspense. The transition will be suspended instead, hence this is a way of avoiding fallback content.
</v-click>`,frontmatter:{},index:22,start:583,end:604,notesHTML:"",filepath:"/Users/jedrzejsadowski/projects/bright/react-state-presentation/slides.md",id:22,no:23},__clicksElements:[],__preloaded:!1}},{path:"24",name:"page-24",component:Gut,meta:{slide:{raw:`
# React state update, visualized 

<v-click>

Regular update flow
\`\`\`mermaid {scale: 1.4}
gitGraph
   commit id:"Initial render" tag:"render"
   commit id:"Commit changes" tag:"commit"
   commit id:"click"
   branch batch
   checkout batch
   commit id:"setState 1"
   commit id:"setState 2"
   checkout main
   merge batch tag:"render"
   commit id:"Commit changes 2" tag:"commit"
  
\`\`\`
</v-click>
`,title:"React state update, visualized",level:1,content:`# React state update, visualized 

<v-click>

Regular update flow
\`\`\`mermaid {scale: 1.4}
gitGraph
   commit id:"Initial render" tag:"render"
   commit id:"Commit changes" tag:"commit"
   commit id:"click"
   branch batch
   checkout batch
   commit id:"setState 1"
   commit id:"setState 2"
   checkout main
   merge batch tag:"render"
   commit id:"Commit changes 2" tag:"commit"
  
\`\`\`
</v-click>`,frontmatter:{},index:23,start:605,end:627,notesHTML:"",filepath:"/Users/jedrzejsadowski/projects/bright/react-state-presentation/slides.md",id:23,no:24},__clicksElements:[],__preloaded:!1}},{path:"25",name:"page-25",component:Zut,meta:{slide:{raw:`
# React state update, visualized 


Concurrent update flow
\`\`\`mermaid {scale: 1.4}
gitGraph
   commit id:"Initial render" tag:"render"
   commit id:"Commit changes" tag:"commit"
   commit id:"click(start transition)"
   branch transition
   checkout transition
   branch batch
   checkout batch
   commit id:"setState 1"
   commit id:"setState 2"
   checkout transition
   merge batch tag:"start"
   commit id:" " tag:"render"
   commit id:"  " tag:"finish"
   checkout main
   merge transition tag:"commit"
  
\`\`\`
`,title:"React state update, visualized",level:1,content:`# React state update, visualized 


Concurrent update flow
\`\`\`mermaid {scale: 1.4}
gitGraph
   commit id:"Initial render" tag:"render"
   commit id:"Commit changes" tag:"commit"
   commit id:"click(start transition)"
   branch transition
   checkout transition
   branch batch
   checkout batch
   commit id:"setState 1"
   commit id:"setState 2"
   checkout transition
   merge batch tag:"start"
   commit id:" " tag:"render"
   commit id:"  " tag:"finish"
   checkout main
   merge transition tag:"commit"
  
\`\`\``,frontmatter:{},index:24,start:628,end:653,notesHTML:"",filepath:"/Users/jedrzejsadowski/projects/bright/react-state-presentation/slides.md",id:24,no:25},__clicksElements:[],__preloaded:!1}},{path:"26",name:"page-26",component:eht,meta:{slide:{raw:`
# State updates in concurrent mode

\`\`\`mermaid {scale: 1}
gitGraph
   commit id:"click(start transition)"
   branch transition order:2
   checkout transition
   branch batch order:3
   checkout batch
   commit id:"setState 1"
   commit id:"setState 2"
   checkout transition
   merge batch tag:"start"
   checkout main
   commit id:"click()"
   branch batch2 order:1
   checkout batch2
   commit id:"setState 3"
   commit id:"setState 4"
   checkout main
   merge batch2 tag:"render"
   commit id:"   " tag:"commit"
   checkout transition
   merge batch2 tag: "start over"
   commit id:" " tag:"render"
   commit id:"  " tag:"finish"
   checkout main
   merge transition tag:"commit"
  
\`\`\`

<v-click>

The above graph holds, as long as React *knows* about the state updates.
</v-click>
`,title:"State updates in concurrent mode",level:1,content:`# State updates in concurrent mode

\`\`\`mermaid {scale: 1}
gitGraph
   commit id:"click(start transition)"
   branch transition order:2
   checkout transition
   branch batch order:3
   checkout batch
   commit id:"setState 1"
   commit id:"setState 2"
   checkout transition
   merge batch tag:"start"
   checkout main
   commit id:"click()"
   branch batch2 order:1
   checkout batch2
   commit id:"setState 3"
   commit id:"setState 4"
   checkout main
   merge batch2 tag:"render"
   commit id:"   " tag:"commit"
   checkout transition
   merge batch2 tag: "start over"
   commit id:" " tag:"render"
   commit id:"  " tag:"finish"
   checkout main
   merge transition tag:"commit"
  
\`\`\`

<v-click>

The above graph holds, as long as React *knows* about the state updates.
</v-click>`,frontmatter:{},index:25,start:654,end:691,notesHTML:"",filepath:"/Users/jedrzejsadowski/projects/bright/react-state-presentation/slides.md",id:25,no:26},__clicksElements:[],__preloaded:!1}},{path:"27",name:"page-27",component:aht,meta:{slide:{raw:`
# Synchronising *external* state

<v-show>

Sometimes our state grows and we want to use better tooling to manage it. Or we need to use it also outside of React. How to keep our tree in sync?
</v-show>

<v-click>

This is how we used to do it. But it causes a very subtle bug in concurrent mode.
\`\`\`ts
import store from './store'

export const useStore = () => {
  const [state, setState] = useState(store.getState());

  useEffect(() => {
    const handleStoreUpdate = () => setState(store.getState());
    const unsubscribe = store.subscribe(handleStoreUpdate);

    return unsubscribe
  }, []);

  return state;
}
\`\`\`
</v-click>
`,title:"Synchronising *external* state",level:1,content:`# Synchronising *external* state

<v-show>

Sometimes our state grows and we want to use better tooling to manage it. Or we need to use it also outside of React. How to keep our tree in sync?
</v-show>

<v-click>

This is how we used to do it. But it causes a very subtle bug in concurrent mode.
\`\`\`ts
import store from './store'

export const useStore = () => {
  const [state, setState] = useState(store.getState());

  useEffect(() => {
    const handleStoreUpdate = () => setState(store.getState());
    const unsubscribe = store.subscribe(handleStoreUpdate);

    return unsubscribe
  }, []);

  return state;
}
\`\`\`
</v-click>`,frontmatter:{},index:26,start:692,end:721,notesHTML:"",filepath:"/Users/jedrzejsadowski/projects/bright/react-state-presentation/slides.md",id:26,no:27},__clicksElements:[],__preloaded:!1}},{path:"28",name:"page-28",component:hht,meta:{layout:"iframe-right",url:"https://stackblitz.com/edit/react-ts-1aq1hn?embed=1&file=SlowComponent.tsx&view=preview",slide:{raw:`---
layout: iframe-right
url: https://stackblitz.com/edit/react-ts-1aq1hn?embed=1&file=SlowComponent.tsx&view=preview
---

# Tearing

\`\`\`tsx{all|1,5-9,12,16-24|2-4,13-15|all}
const [show, setShow] = useState(false);
const updateStore = () => {
  update(Date.now());
};
const handleClick = () => {
  startTransition(() => {
    setShow((current) => !current);
  });
};
return (
  <div>
    <button onClick={handleClick}>Toggle!</button>
    <button onClick={updateStore}>
      Update state
    </button>
    {show && (
      <div>
        <SlowComponent />
        <SlowComponent />
        <SlowComponent />
        <SlowComponent />
        <SlowComponent />
      </div>
    )}
  </div>
);
\`\`\`
`,title:"Tearing",level:1,content:`# Tearing

\`\`\`tsx{all|1,5-9,12,16-24|2-4,13-15|all}
const [show, setShow] = useState(false);
const updateStore = () => {
  update(Date.now());
};
const handleClick = () => {
  startTransition(() => {
    setShow((current) => !current);
  });
};
return (
  <div>
    <button onClick={handleClick}>Toggle!</button>
    <button onClick={updateStore}>
      Update state
    </button>
    {show && (
      <div>
        <SlowComponent />
        <SlowComponent />
        <SlowComponent />
        <SlowComponent />
        <SlowComponent />
      </div>
    )}
  </div>
);
\`\`\``,frontmatter:{layout:"iframe-right",url:"https://stackblitz.com/edit/react-ts-1aq1hn?embed=1&file=SlowComponent.tsx&view=preview"},index:27,start:721,end:757,notesHTML:"",filepath:"/Users/jedrzejsadowski/projects/bright/react-state-presentation/slides.md",id:27,no:28},__clicksElements:[],__preloaded:!1}},{path:"29",name:"page-29",component:ght,meta:{layout:"iframe-right",url:"https://stackblitz.com/edit/react-ts-6uaips?embed=1&file=useStore.tsx&view=preview",slide:{raw:`---
layout: iframe-right
url: https://stackblitz.com/edit/react-ts-6uaips?embed=1&file=useStore.tsx&view=preview
---
# Tearing, fixed

<v-show>

\`useSyncExternalStore\` is a hook which should be used to synchronise external state with React.
</v-show>
<v-clicks>

* It accepts three arguments:
  * \`subscribe\` - it takes a single \`callback\` which subscribes to the store and returns an \`unsubscribe\` method
  * \`getSnapshot\` - it returns the store's current state
  * (optional) \`getServerSnapshot\` - used for SSR & initial hydration
* It returns the *current* state of the store
* It ensures that it is *always* in sync with the store
</v-clicks>
`,title:"Tearing, fixed",level:1,content:`# Tearing, fixed

<v-show>

\`useSyncExternalStore\` is a hook which should be used to synchronise external state with React.
</v-show>
<v-clicks>

* It accepts three arguments:
  * \`subscribe\` - it takes a single \`callback\` which subscribes to the store and returns an \`unsubscribe\` method
  * \`getSnapshot\` - it returns the store's current state
  * (optional) \`getServerSnapshot\` - used for SSR & initial hydration
* It returns the *current* state of the store
* It ensures that it is *always* in sync with the store
</v-clicks>`,frontmatter:{layout:"iframe-right",url:"https://stackblitz.com/edit/react-ts-6uaips?embed=1&file=useStore.tsx&view=preview"},index:28,start:757,end:777,notesHTML:"",filepath:"/Users/jedrzejsadowski/projects/bright/react-state-presentation/slides.md",id:28,no:29},__clicksElements:[],__preloaded:!1}},{path:"30",name:"page-30",component:bht,meta:{slide:{raw:`
# Sources

1. React docs (https://beta.reactjs.org/)
2. In the loop (https://youtu.be/cCOL7MC4Pl0/)
3. React concurrency discussion (https://github.com/reactwg/react-18/discussions/70)
`,title:"Sources",level:1,content:`# Sources

1. React docs (https://beta.reactjs.org/)
2. In the loop (https://youtu.be/cCOL7MC4Pl0/)
3. React concurrency discussion (https://github.com/reactwg/react-18/discussions/70)`,frontmatter:{},index:29,start:778,end:785,notesHTML:"",filepath:"/Users/jedrzejsadowski/projects/bright/react-state-presentation/slides.md",id:29,no:30},__clicksElements:[],__preloaded:!1}},{path:"31",component:zat,meta:{layout:"end"}}],or=xht,h0=[{name:"play",path:"/",component:hot,children:[...or]},{name:"print",path:"/print",component:$at},{path:"",redirect:{path:"/1"}},{path:"/:pathMatch(.*)",redirect:{path:"/1"}}];h0.push({path:"/presenter/print",component:()=>Lc(()=>import("./PresenterPrint-c19d4f44.js"),["assets/PresenterPrint-c19d4f44.js","assets/NoteViewer-fe0d1671.js","assets/index-f62bf7aa.js","assets/_commonjsHelpers-725317a4.js"])}),h0.push({name:"presenter",path:"/presenter/:no",component:()=>Lc(()=>import("./Presenter-8321e0eb.js"),["assets/Presenter-8321e0eb.js","assets/NoteViewer-fe0d1671.js","assets/DrawingControls-98b9d7b2.js","assets/_commonjsHelpers-725317a4.js","assets/index-f62bf7aa.js","assets/Presenter-9e4d7baf.css"]),beforeEnter:i=>{if(!Pp.remote||Pp.remote===i.query.password)return!0;if(Pp.remote&&i.query.password===void 0){const l=prompt("Enter password");if(Pp.remote===l)return!0}return i.params.no?{path:`/${i.params.no}`}:{path:""}}}),h0.push({path:"/presenter",redirect:{path:"/presenter/1"}});const yl=Nnt({history:Oet("/react-webinar"),routes:h0});function kht(i,l,{mode:p="replace"}={}){return re({get(){const f=yl.currentRoute.value.query[i];return f==null?l??null:Array.isArray(f)?f.filter(Boolean):f},set(f){uo(()=>{yl[Ft(p)]({query:{...yl.currentRoute.value.query,[i]:f}})})}})}const Lw=Ke(0);uo(()=>{yl.afterEach(async()=>{await uo(),Lw.value+=1})});const $o=re(()=>yl.currentRoute.value),a5=re(()=>$o.value.query.print!==void 0),Cht=re(()=>$o.value.query.print==="clicks"),Ca=re(()=>$o.value.query.embedded!==void 0),ao=re(()=>$o.value.path.startsWith("/presenter")),Iw=re(()=>a5.value&&!Cht.value),A8=re(()=>$o.value.query.password),Aht=re(()=>!ao.value&&(!hs.remote||A8.value===hs.remote)),gC=kht("clicks","0"),Mw=re(()=>or.length-1),wht=re(()=>$o.value.path),yr=re(()=>parseInt(wht.value.split(/\//g).slice(-1)[0])||1);re(()=>l5(yr.value));const fi=re(()=>or.find(i=>i.path===`${yr.value}`));re(()=>{var i,l,p;return(p=(l=(i=fi.value)==null?void 0:i.meta)==null?void 0:l.slide)==null?void 0:p.id});re(()=>{var i,l;return((l=(i=fi.value)==null?void 0:i.meta)==null?void 0:l.layout)||(yr.value===1?"cover":"default")});const z2=re(()=>or.find(i=>i.path===`${Math.min(or.length,yr.value+1)}`)),Eht=re(()=>{var i,l;return Lw.value,((l=(i=fi.value)==null?void 0:i.meta)==null?void 0:l.__clicksElements)||[]}),Ic=re({get(){if(Iw.value)return 99999;let i=+(gC.value||0);return isNaN(i)&&(i=0),i},set(i){gC.value=i.toString()}}),S0=re(()=>{var i,l;return+(((l=(i=fi.value)==null?void 0:i.meta)==null?void 0:l.clicks)??Eht.value.length)}),Bht=re(()=>yr.value<or.length-1||Ic.value<S0.value),Sht=re(()=>yr.value>1||Ic.value>0),Tht=re(()=>or.filter(i=>{var l,p;return(p=(l=i.meta)==null?void 0:l.slide)==null?void 0:p.title}).reduce((i,l)=>(c5(i,l),i),[])),Dht=re(()=>u5(Tht.value,fi.value));re(()=>h5(Dht.value));function Ec(){S0.value<=Ic.value?T0():Ic.value+=1}async function Bc(){Ic.value<=0?await D0():Ic.value-=1}function l5(i){return ao.value?`/presenter/${i}`:`/${i}`}function T0(){const i=Math.min(or.length,yr.value+1);return nh(i)}async function D0(i=!0){const l=Math.max(1,yr.value-1);await nh(l),i&&S0.value&&yl.replace({query:{...$o.value.query,clicks:S0.value}})}function nh(i,l){return yl.push({path:l5(i),query:{...$o.value.query,clicks:l}})}function Fht(i){const l=Ke(0),{direction:p,distanceX:f,distanceY:m}=Qtt(i,{onSwipeStart(b){b.pointerType==="touch"&&(ed.value||(l.value=c8()))},onSwipeEnd(b){if(b.pointerType!=="touch"||!l.value||ed.value)return;const A=Math.abs(f.value),B=Math.abs(m.value);A/window.innerWidth>.3||A>100?p.value===Ea.LEFT?Ec():Bc():(B/window.innerHeight>.4||B>200)&&(p.value===Ea.DOWN?D0():T0())}})}async function mC(){const{saveAs:i}=await Lc(()=>import("./FileSaver.min-010fe3cb.js").then(l=>l.F),["assets/FileSaver.min-010fe3cb.js","assets/_commonjsHelpers-725317a4.js"]);i(OA(hs.download)?hs.download:hs.exportFilename?`${hs.exportFilename}.pdf`:"/react-webinarslidev-exported.pdf",`${hs.title}.pdf`)}async function Tft(i){var l,p;if(i==null){const f=(p=(l=fi.value)==null?void 0:l.meta)==null?void 0:p.slide;if(!(f!=null&&f.filepath))return!1;i=`${f.filepath}:${f.start}`}return await fetch(`/__open-in-editor?file=${encodeURIComponent(i)}`),!0}function c5(i,l,p=1){var m,b,A,B,F;const f=(b=(m=l.meta)==null?void 0:m.slide)==null?void 0:b.level;f&&f>p&&i.length>0?c5(i[i.length-1].children,l,p+1):i.push({children:[],level:p,path:l.path,hideInToc:Boolean((A=l.meta)==null?void 0:A.hideInToc),title:(F=(B=l.meta)==null?void 0:B.slide)==null?void 0:F.title})}function u5(i,l,p=!1,f){return i.map(m=>{const b={...m,active:m.path===(l==null?void 0:l.path),hasActiveParent:p};return b.children.length>0&&(b.children=u5(b.children,l,b.active||b.hasActiveParent,b)),f&&(b.active||b.activeParent)&&(f.activeParent=!0),b})}function h5(i,l=1){return i.filter(p=>!p.hideInToc).map(p=>({...p,children:h5(p.children,l+1)}))}export{Dat as $,Ke as A,hft as B,kr as C,Fc as D,re as E,os as F,aA as G,TK as H,lA as I,_s as J,_l as K,I8 as L,aft as M,Iw as N,SJ as O,DJ as P,LA as Q,FA as R,DA as S,uft as T,wJ as U,yft as V,gft as W,mft as X,dft as Y,fft as Z,Qe as _,xft as a,Nrt as a$,Fat as a0,mC as a1,Ec as a2,T0 as a3,Tft as a4,Bc as a5,D0 as a6,$o as a7,pft as a8,Da as a9,z2 as aA,O2 as aB,ed as aC,Y2 as aD,cot as aE,e5 as aF,n5 as aG,lft as aH,cft as aI,tot as aJ,nrt as aK,po as aL,kft as aM,Vo as aN,Mp as aO,mc as aP,Oo as aQ,x8 as aR,mst as aS,_st as aT,vst as aU,xst as aV,z0 as aW,TA as aX,Bft as aY,Hr as aZ,e0 as a_,ts as aa,Aft as ab,zC as ac,n as ad,Sc as ae,od as af,lr as ag,or as ah,Mw as ai,E as aj,Wn as ak,K8 as al,Rs as am,wft as an,fi as ao,Xe as ap,Fst as aq,Fht as ar,Cft as as,Eft as at,ge as au,bw as av,zr as aw,Wst as ax,S0 as ay,Bht as az,yr as b,IA as b0,kst as b1,hs as c,Ic as d,ao as e,ps as f,l5 as g,Pe as h,_ft as i,Ze as j,W8 as k,Ne as l,le as m,Yt as n,vft as o,bft as p,VK as q,yl as r,$K as s,xl as t,Ft as u,nk as v,Ds as w,z8 as x,U0 as y,uo as z};
